var dwvdecoder=dwvdecoder||{};dwvdecoder.RleDecoder=function(){},dwvdecoder.RleDecoder.prototype.decode=function(e,r,n,t,a,f){var d=r/8,o=new DataView(e.buffer,e.byteOffset),w=new Int8Array(e.buffer,e.byteOffset),v=new ArrayBuffer(t*a*d),y=new Int8Array(v),c=o.getInt32(0,!0),i=1,l=1;1!==a&&0===f&&(l*=a),1!==d&&(l*=d),i*=l;for(var u=0,A=0,I=0,b=0,g=0,s=0;s<c;++s){1!==l&&(I=s%l,0===I&&(g=b),u=g+I,2===d&&(u+=I%d?-1:1));var D=o.getInt32(4*(s+1),!0),h=o.getInt32(4*(s+2),!0);s!==c-1&&0!==h||(h=e.length),A=D;var p=0;while(A<h)if(p=w[A],++A,p>=0&&p<=127)for(var O=0;O<p+1;++O)y[u]=w[A],++A,u+=i;else if(p<=-1&&p>=-127){var R=w[A];++A;for(var U=0;U<1-p;++U)y[u]=R,u+=i}u>b&&(b=u)}var B=null;return 8===r?B=n?new Int8Array(v):new Uint8Array(v):16===r&&(B=n?new Int16Array(v):new Uint16Array(v)),B};