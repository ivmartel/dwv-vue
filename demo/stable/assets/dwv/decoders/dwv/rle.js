var dwv=dwv||{};dwv.decoder=dwv.decoder||{},dwv.decoder.RleDecoder=function(){},dwv.decoder.RleDecoder.prototype.decode=function(e,r,n,t,a,d){var f=r/8,w=new DataView(e.buffer,e.byteOffset),v=new Int8Array(e.buffer,e.byteOffset),o=new ArrayBuffer(t*a*f),y=new Int8Array(o),c=w.getInt32(0,!0),i=1,l=1;1!==a&&0===d&&(l*=a),1!==f&&(l*=f),i*=l;for(var u=0,A=0,I=0,b=0,g=0,s=0;s<c;++s){1!==l&&(I=s%l,0===I&&(g=b),u=g+I,2===f&&(u+=I%f?-1:1));var D=w.getInt32(4*(s+1),!0),h=w.getInt32(4*(s+2),!0);s!==c-1&&0!==h||(h=e.length),A=D;var p=0;while(A<h)if(p=v[A],++A,p>=0&&p<=127)for(var O=0;O<p+1;++O)y[u]=v[A],++A,u+=i;else if(p<=-1&&p>=-127){var R=v[A];++A;for(var U=0;U<1-p;++U)y[u]=R,u+=i}u>b&&(b=u)}var B=null;return 8===r?B=n?new Int8Array(o):new Uint8Array(o):16===r&&(B=n?new Int16Array(o):new Uint16Array(o)),B};