var V_=Object.defineProperty;var I3=e=>{throw TypeError(e)};var B_=(e,n,i)=>n in e?V_(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i;var Te=(e,n,i)=>B_(e,typeof n!="symbol"?n+"":n,i),ny=(e,n,i)=>n.has(e)||I3("Cannot "+i);var l=(e,n,i)=>(ny(e,n,"read from private field"),i?i.call(e):n.get(e)),W=(e,n,i)=>n.has(e)?I3("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,i),X=(e,n,i,r)=>(ny(e,n,"write to private field"),r?r.call(e,i):n.set(e,i),i),ie=(e,n,i)=>(ny(e,n,"access private method"),i);var lr=(e,n,i,r)=>({set _(o){X(e,n,o,i)},get _(){return l(e,n,r)}});(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function tC(e){const n=Object.create(null);for(const i of e.split(","))n[i]=1;return i=>i in n}const un={},hh=[],jo=()=>{},N_=()=>!1,AS=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),nC=e=>e.startsWith("onUpdate:"),fi=Object.assign,iC=(e,n)=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)},U_=Object.prototype.hasOwnProperty,en=(e,n)=>U_.call(e,n),gt=Array.isArray,fh=e=>_S(e)==="[object Map]",T6=e=>_S(e)==="[object Set]",yt=e=>typeof e=="function",Ln=e=>typeof e=="string",Tu=e=>typeof e=="symbol",Sn=e=>e!==null&&typeof e=="object",P6=e=>(Sn(e)||yt(e))&&yt(e.then)&&yt(e.catch),I6=Object.prototype.toString,_S=e=>I6.call(e),q_=e=>_S(e).slice(8,-1),A6=e=>_S(e)==="[object Object]",aC=e=>Ln(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,vg=tC(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),LS=e=>{const n=Object.create(null);return i=>n[i]||(n[i]=e(i))},G_=/-(\w)/g,Sa=LS(e=>e.replace(G_,(n,i)=>i?i.toUpperCase():"")),Q_=/\B([A-Z])/g,ad=LS(e=>e.replace(Q_,"-$1").toLowerCase()),Jo=LS(e=>e.charAt(0).toUpperCase()+e.slice(1)),iy=LS(e=>e?`on${Jo(e)}`:""),bu=(e,n)=>!Object.is(e,n),Ov=(e,...n)=>{for(let i=0;i<e.length;i++)e[i](...n)},_6=(e,n,i,r=!1)=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,writable:r,value:i})},Ny=e=>{const n=parseFloat(e);return isNaN(n)?e:n},z_=e=>{const n=Ln(e)?Number(e):NaN;return isNaN(n)?e:n};let A3;const OS=()=>A3||(A3=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $e(e){if(gt(e)){const n={};for(let i=0;i<e.length;i++){const r=e[i],o=Ln(r)?$_(r):$e(r);if(o)for(const u in o)n[u]=o[u]}return n}else if(Ln(e)||Sn(e))return e}const H_=/;(?![^(]*\))/g,W_=/:([^]+)/,Y_=/\/\*[^]*?\*\//g;function $_(e){const n={};return e.replace(Y_,"").split(H_).forEach(i=>{if(i){const r=i.split(W_);r.length>1&&(n[r[0].trim()]=r[1].trim())}}),n}function Ge(e){let n="";if(Ln(e))n=e;else if(gt(e))for(let i=0;i<e.length;i++){const r=Ge(e[i]);r&&(n+=r+" ")}else if(Sn(e))for(const i in e)e[i]&&(n+=i+" ");return n.trim()}function j_(e){if(!e)return null;let{class:n,style:i}=e;return n&&!Ln(n)&&(e.class=Ge(n)),i&&(e.style=$e(i)),e}const X_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",K_=tC(X_);function L6(e){return!!e||e===""}const O6=e=>!!(e&&e.__v_isRef===!0),mo=e=>Ln(e)?e:e==null?"":gt(e)||Sn(e)&&(e.toString===I6||!yt(e.toString))?O6(e)?mo(e.value):JSON.stringify(e,k6,2):String(e),k6=(e,n)=>O6(n)?k6(e,n.value):fh(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((i,[r,o],u)=>(i[ay(r,u)+" =>"]=o,i),{})}:T6(n)?{[`Set(${n.size})`]:[...n.values()].map(i=>ay(i))}:Tu(n)?ay(n):Sn(n)&&!gt(n)&&!A6(n)?String(n):n,ay=(e,n="")=>{var i;return Tu(e)?`Symbol(${(i=e.description)!=null?i:n})`:e};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ki;class R6{constructor(n=!1){this.detached=n,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ki,!n&&Ki&&(this.index=(Ki.scopes||(Ki.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let n,i;if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].pause();for(n=0,i=this.effects.length;n<i;n++)this.effects[n].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let n,i;if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].resume();for(n=0,i=this.effects.length;n<i;n++)this.effects[n].resume()}}run(n){if(this._active){const i=Ki;try{return Ki=this,n()}finally{Ki=i}}}on(){++this._on===1&&(this.prevScope=Ki,Ki=this)}off(){this._on>0&&--this._on===0&&(Ki=this.prevScope,this.prevScope=void 0)}stop(n){if(this._active){this._active=!1;let i,r;for(i=0,r=this.effects.length;i<r;i++)this.effects[i].stop();for(this.effects.length=0,i=0,r=this.cleanups.length;i<r;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,r=this.scopes.length;i<r;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!n){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function xg(e){return new R6(e)}function Z_(){return Ki}function Ii(e,n=!1){Ki&&Ki.cleanups.push(e)}let vn;const ry=new WeakSet;class E6{constructor(n){this.fn=n,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ki&&Ki.active&&Ki.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ry.has(this)&&(ry.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||M6(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_3(this),V6(this);const n=vn,i=go;vn=this,go=!0;try{return this.fn()}finally{B6(this),vn=n,go=i,this.flags&=-3}}stop(){if(this.flags&1){for(let n=this.deps;n;n=n.nextDep)sC(n);this.deps=this.depsTail=void 0,_3(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ry.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Uy(this)&&this.run()}get dirty(){return Uy(this)}}let F6=0,Sg,pg;function M6(e,n=!1){if(e.flags|=8,n){e.next=pg,pg=e;return}e.next=Sg,Sg=e}function rC(){F6++}function oC(){if(--F6>0)return;if(pg){let n=pg;for(pg=void 0;n;){const i=n.next;n.next=void 0,n.flags&=-9,n=i}}let e;for(;Sg;){let n=Sg;for(Sg=void 0;n;){const i=n.next;if(n.next=void 0,n.flags&=-9,n.flags&1)try{n.trigger()}catch(r){e||(e=r)}n=i}}if(e)throw e}function V6(e){for(let n=e.deps;n;n=n.nextDep)n.version=-1,n.prevActiveLink=n.dep.activeLink,n.dep.activeLink=n}function B6(e){let n,i=e.depsTail,r=i;for(;r;){const o=r.prevDep;r.version===-1?(r===i&&(i=o),sC(r),J_(r)):n=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}e.deps=n,e.depsTail=i}function Uy(e){for(let n=e.deps;n;n=n.nextDep)if(n.dep.version!==n.version||n.dep.computed&&(N6(n.dep.computed)||n.dep.version!==n.version))return!0;return!!e._dirty}function N6(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Tg)||(e.globalVersion=Tg,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Uy(e))))return;e.flags|=2;const n=e.dep,i=vn,r=go;vn=e,go=!0;try{V6(e);const o=e.fn(e._value);(n.version===0||bu(o,e._value))&&(e.flags|=128,e._value=o,n.version++)}catch(o){throw n.version++,o}finally{vn=i,go=r,B6(e),e.flags&=-3}}function sC(e,n=!1){const{dep:i,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),i.subs===e&&(i.subs=r,!r&&i.computed)){i.computed.flags&=-5;for(let u=i.computed.deps;u;u=u.nextDep)sC(u,!0)}!n&&!--i.sc&&i.map&&i.map.delete(i.key)}function J_(e){const{prevDep:n,nextDep:i}=e;n&&(n.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=n,e.nextDep=void 0)}let go=!0;const U6=[];function Xs(){U6.push(go),go=!1}function Ks(){const e=U6.pop();go=e===void 0?!0:e}function _3(e){const{cleanup:n}=e;if(e.cleanup=void 0,n){const i=vn;vn=void 0;try{n()}finally{vn=i}}}let Tg=0;class eL{constructor(n,i){this.sub=n,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class lC{constructor(n){this.computed=n,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(n){if(!vn||!go||vn===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==vn)i=this.activeLink=new eL(vn,this),vn.deps?(i.prevDep=vn.depsTail,vn.depsTail.nextDep=i,vn.depsTail=i):vn.deps=vn.depsTail=i,q6(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const r=i.nextDep;r.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=r),i.prevDep=vn.depsTail,i.nextDep=void 0,vn.depsTail.nextDep=i,vn.depsTail=i,vn.deps===i&&(vn.deps=r)}return i}trigger(n){this.version++,Tg++,this.notify(n)}notify(n){rC();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{oC()}}}function q6(e){if(e.dep.sc++,e.sub.flags&4){const n=e.dep.computed;if(n&&!e.dep.subs){n.flags|=20;for(let r=n.deps;r;r=r.nextDep)q6(r)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subs=e}}const lS=new WeakMap,Yc=Symbol(""),qy=Symbol(""),Pg=Symbol("");function Zi(e,n,i){if(go&&vn){let r=lS.get(e);r||lS.set(e,r=new Map);let o=r.get(i);o||(r.set(i,o=new lC),o.map=r,o.key=i),o.track()}}function Ys(e,n,i,r,o,u){const c=lS.get(e);if(!c){Tg++;return}const d=h=>{h&&h.trigger()};if(rC(),n==="clear")c.forEach(d);else{const h=gt(e),m=h&&aC(i);if(h&&i==="length"){const v=Number(r);c.forEach((p,b)=>{(b==="length"||b===Pg||!Tu(b)&&b>=v)&&d(p)})}else switch((i!==void 0||c.has(void 0))&&d(c.get(i)),m&&d(c.get(Pg)),n){case"add":h?m&&d(c.get("length")):(d(c.get(Yc)),fh(e)&&d(c.get(qy)));break;case"delete":h||(d(c.get(Yc)),fh(e)&&d(c.get(qy)));break;case"set":fh(e)&&d(c.get(Yc));break}}oC()}function tL(e,n){const i=lS.get(e);return i&&i.get(n)}function K0(e){const n=dt(e);return n===e?n:(Zi(n,"iterate",Pg),Hr(e)?n:n.map(Ri))}function kS(e){return Zi(e=dt(e),"iterate",Pg),e}const nL={__proto__:null,[Symbol.iterator](){return oy(this,Symbol.iterator,Ri)},concat(...e){return K0(this).concat(...e.map(n=>gt(n)?K0(n):n))},entries(){return oy(this,"entries",e=>(e[1]=Ri(e[1]),e))},every(e,n){return qs(this,"every",e,n,void 0,arguments)},filter(e,n){return qs(this,"filter",e,n,i=>i.map(Ri),arguments)},find(e,n){return qs(this,"find",e,n,Ri,arguments)},findIndex(e,n){return qs(this,"findIndex",e,n,void 0,arguments)},findLast(e,n){return qs(this,"findLast",e,n,Ri,arguments)},findLastIndex(e,n){return qs(this,"findLastIndex",e,n,void 0,arguments)},forEach(e,n){return qs(this,"forEach",e,n,void 0,arguments)},includes(...e){return sy(this,"includes",e)},indexOf(...e){return sy(this,"indexOf",e)},join(e){return K0(this).join(e)},lastIndexOf(...e){return sy(this,"lastIndexOf",e)},map(e,n){return qs(this,"map",e,n,void 0,arguments)},pop(){return y1(this,"pop")},push(...e){return y1(this,"push",e)},reduce(e,...n){return L3(this,"reduce",e,n)},reduceRight(e,...n){return L3(this,"reduceRight",e,n)},shift(){return y1(this,"shift")},some(e,n){return qs(this,"some",e,n,void 0,arguments)},splice(...e){return y1(this,"splice",e)},toReversed(){return K0(this).toReversed()},toSorted(e){return K0(this).toSorted(e)},toSpliced(...e){return K0(this).toSpliced(...e)},unshift(...e){return y1(this,"unshift",e)},values(){return oy(this,"values",Ri)}};function oy(e,n,i){const r=kS(e),o=r[n]();return r!==e&&!Hr(e)&&(o._next=o.next,o.next=()=>{const u=o._next();return u.value&&(u.value=i(u.value)),u}),o}const iL=Array.prototype;function qs(e,n,i,r,o,u){const c=kS(e),d=c!==e&&!Hr(e),h=c[n];if(h!==iL[n]){const p=h.apply(e,u);return d?Ri(p):p}let m=i;c!==e&&(d?m=function(p,b){return i.call(this,Ri(p),b,e)}:i.length>2&&(m=function(p,b){return i.call(this,p,b,e)}));const v=h.call(c,m,r);return d&&o?o(v):v}function L3(e,n,i,r){const o=kS(e);let u=i;return o!==e&&(Hr(e)?i.length>3&&(u=function(c,d,h){return i.call(this,c,d,h,e)}):u=function(c,d,h){return i.call(this,c,Ri(d),h,e)}),o[n](u,...r)}function sy(e,n,i){const r=dt(e);Zi(r,"iterate",Pg);const o=r[n](...i);return(o===-1||o===!1)&&RS(i[0])?(i[0]=dt(i[0]),r[n](...i)):o}function y1(e,n,i=[]){Xs(),rC();const r=dt(e)[n].apply(e,i);return oC(),Ks(),r}const aL=tC("__proto__,__v_isRef,__isVue"),G6=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Tu));function rL(e){Tu(e)||(e=String(e));const n=dt(this);return Zi(n,"has",e),n.hasOwnProperty(e)}class Q6{constructor(n=!1,i=!1){this._isReadonly=n,this._isShallow=i}get(n,i,r){if(i==="__v_skip")return n.__v_skip;const o=this._isReadonly,u=this._isShallow;if(i==="__v_isReactive")return!o;if(i==="__v_isReadonly")return o;if(i==="__v_isShallow")return u;if(i==="__v_raw")return r===(o?u?mL:Y6:u?W6:H6).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(r)?n:void 0;const c=gt(n);if(!o){let h;if(c&&(h=nL[i]))return h;if(i==="hasOwnProperty")return rL}const d=Reflect.get(n,i,ei(n)?n:r);return(Tu(i)?G6.has(i):aL(i))||(o||Zi(n,"get",i),u)?d:ei(d)?c&&aC(i)?d:d.value:Sn(d)?o?xh(d):Ei(d):d}}class z6 extends Q6{constructor(n=!1){super(!1,n)}set(n,i,r,o){let u=n[i];if(!this._isShallow){const h=Cu(u);if(!Hr(r)&&!Cu(r)&&(u=dt(u),r=dt(r)),!gt(n)&&ei(u)&&!ei(r))return h?!1:(u.value=r,!0)}const c=gt(n)&&aC(i)?Number(i)<n.length:en(n,i),d=Reflect.set(n,i,r,ei(n)?n:o);return n===dt(o)&&(c?bu(r,u)&&Ys(n,"set",i,r):Ys(n,"add",i,r)),d}deleteProperty(n,i){const r=en(n,i);n[i];const o=Reflect.deleteProperty(n,i);return o&&r&&Ys(n,"delete",i,void 0),o}has(n,i){const r=Reflect.has(n,i);return(!Tu(i)||!G6.has(i))&&Zi(n,"has",i),r}ownKeys(n){return Zi(n,"iterate",gt(n)?"length":Yc),Reflect.ownKeys(n)}}class oL extends Q6{constructor(n=!1){super(!0,n)}set(n,i){return!0}deleteProperty(n,i){return!0}}const sL=new z6,lL=new oL,uL=new z6(!0);const Gy=e=>e,pv=e=>Reflect.getPrototypeOf(e);function cL(e,n,i){return function(...r){const o=this.__v_raw,u=dt(o),c=fh(u),d=e==="entries"||e===Symbol.iterator&&c,h=e==="keys"&&c,m=o[e](...r),v=i?Gy:n?uS:Ri;return!n&&Zi(u,"iterate",h?qy:Yc),{next(){const{value:p,done:b}=m.next();return b?{value:p,done:b}:{value:d?[v(p[0]),v(p[1])]:v(p),done:b}},[Symbol.iterator](){return this}}}}function yv(e){return function(...n){return e==="delete"?!1:e==="clear"?void 0:this}}function dL(e,n){const i={get(o){const u=this.__v_raw,c=dt(u),d=dt(o);e||(bu(o,d)&&Zi(c,"get",o),Zi(c,"get",d));const{has:h}=pv(c),m=n?Gy:e?uS:Ri;if(h.call(c,o))return m(u.get(o));if(h.call(c,d))return m(u.get(d));u!==c&&u.get(o)},get size(){const o=this.__v_raw;return!e&&Zi(dt(o),"iterate",Yc),Reflect.get(o,"size",o)},has(o){const u=this.__v_raw,c=dt(u),d=dt(o);return e||(bu(o,d)&&Zi(c,"has",o),Zi(c,"has",d)),o===d?u.has(o):u.has(o)||u.has(d)},forEach(o,u){const c=this,d=c.__v_raw,h=dt(d),m=n?Gy:e?uS:Ri;return!e&&Zi(h,"iterate",Yc),d.forEach((v,p)=>o.call(u,m(v),m(p),c))}};return fi(i,e?{add:yv("add"),set:yv("set"),delete:yv("delete"),clear:yv("clear")}:{add(o){!n&&!Hr(o)&&!Cu(o)&&(o=dt(o));const u=dt(this);return pv(u).has.call(u,o)||(u.add(o),Ys(u,"add",o,o)),this},set(o,u){!n&&!Hr(u)&&!Cu(u)&&(u=dt(u));const c=dt(this),{has:d,get:h}=pv(c);let m=d.call(c,o);m||(o=dt(o),m=d.call(c,o));const v=h.call(c,o);return c.set(o,u),m?bu(u,v)&&Ys(c,"set",o,u):Ys(c,"add",o,u),this},delete(o){const u=dt(this),{has:c,get:d}=pv(u);let h=c.call(u,o);h||(o=dt(o),h=c.call(u,o)),d&&d.call(u,o);const m=u.delete(o);return h&&Ys(u,"delete",o,void 0),m},clear(){const o=dt(this),u=o.size!==0,c=o.clear();return u&&Ys(o,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(o=>{i[o]=cL(o,e,n)}),i}function uC(e,n){const i=dL(e,n);return(r,o,u)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(en(i,o)&&o in r?i:r,o,u)}const hL={get:uC(!1,!1)},fL={get:uC(!1,!0)},gL={get:uC(!0,!1)};const H6=new WeakMap,W6=new WeakMap,Y6=new WeakMap,mL=new WeakMap;function vL(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function SL(e){return e.__v_skip||!Object.isExtensible(e)?0:vL(q_(e))}function Ei(e){return Cu(e)?e:cC(e,!1,sL,hL,H6)}function pL(e){return cC(e,!1,uL,fL,W6)}function xh(e){return cC(e,!0,lL,gL,Y6)}function cC(e,n,i,r,o){if(!Sn(e)||e.__v_raw&&!(n&&e.__v_isReactive))return e;const u=SL(e);if(u===0)return e;const c=o.get(e);if(c)return c;const d=new Proxy(e,u===2?r:i);return o.set(e,d),d}function gh(e){return Cu(e)?gh(e.__v_raw):!!(e&&e.__v_isReactive)}function Cu(e){return!!(e&&e.__v_isReadonly)}function Hr(e){return!!(e&&e.__v_isShallow)}function RS(e){return e?!!e.__v_raw:!1}function dt(e){const n=e&&e.__v_raw;return n?dt(n):e}function $6(e){return!en(e,"__v_skip")&&Object.isExtensible(e)&&_6(e,"__v_skip",!0),e}const Ri=e=>Sn(e)?Ei(e):e,uS=e=>Sn(e)?xh(e):e;function ei(e){return e?e.__v_isRef===!0:!1}function Qe(e){return j6(e,!1)}function ze(e){return j6(e,!0)}function j6(e,n){return ei(e)?e:new yL(e,n)}class yL{constructor(n,i){this.dep=new lC,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?n:dt(n),this._value=i?n:Ri(n),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(n){const i=this._rawValue,r=this.__v_isShallow||Hr(n)||Cu(n);n=r?n:dt(n),bu(n,i)&&(this._rawValue=n,this._value=r?n:Ri(n),this.dep.trigger())}}function Ma(e){return ei(e)?e.value:e}function Zs(e){return yt(e)?e():Ma(e)}const bL={get:(e,n,i)=>n==="__v_raw"?e:Ma(Reflect.get(e,n,i)),set:(e,n,i,r)=>{const o=e[n];return ei(o)&&!ei(i)?(o.value=i,!0):Reflect.set(e,n,i,r)}};function X6(e){return gh(e)?e:new Proxy(e,bL)}function Th(e){const n=gt(e)?new Array(e.length):{};for(const i in e)n[i]=K6(e,i);return n}class CL{constructor(n,i,r){this._object=n,this._key=i,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const n=this._object[this._key];return this._value=n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return tL(dt(this._object),this._key)}}class wL{constructor(n){this._getter=n,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function be(e,n,i){return ei(e)?e:yt(e)?new wL(e):Sn(e)&&arguments.length>1?K6(e,n,i):Qe(e)}function K6(e,n,i){const r=e[n];return ei(r)?r:new CL(e,n,i)}class DL{constructor(n,i,r){this.fn=n,this.setter=i,this._value=void 0,this.dep=new lC(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Tg-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&vn!==this)return M6(this,!0),!0}get value(){const n=this.dep.track();return N6(this),n&&(n.version=this.dep.version),this._value}set value(n){this.setter&&this.setter(n)}}function xL(e,n,i=!1){let r,o;return yt(e)?r=e:(r=e.get,o=e.set),new DL(r,o,i)}const bv={},cS=new WeakMap;let Qc;function TL(e,n=!1,i=Qc){if(i){let r=cS.get(i);r||cS.set(i,r=[]),r.push(e)}}function PL(e,n,i=un){const{immediate:r,deep:o,once:u,scheduler:c,augmentJob:d,call:h}=i,m=A=>o?A:Hr(A)||o===!1||o===0?$s(A,1):$s(A);let v,p,b,S,y=!1,w=!1;if(ei(e)?(p=()=>e.value,y=Hr(e)):gh(e)?(p=()=>m(e),y=!0):gt(e)?(w=!0,y=e.some(A=>gh(A)||Hr(A)),p=()=>e.map(A=>{if(ei(A))return A.value;if(gh(A))return m(A);if(yt(A))return h?h(A,2):A()})):yt(e)?n?p=h?()=>h(e,2):e:p=()=>{if(b){Xs();try{b()}finally{Ks()}}const A=Qc;Qc=v;try{return h?h(e,3,[S]):e(S)}finally{Qc=A}}:p=jo,n&&o){const A=p,O=o===!0?1/0:o;p=()=>$s(A(),O)}const x=Z_(),T=()=>{v.stop(),x&&x.active&&iC(x.effects,v)};if(u&&n){const A=n;n=(...O)=>{A(...O),T()}}let D=w?new Array(e.length).fill(bv):bv;const P=A=>{if(!(!(v.flags&1)||!v.dirty&&!A))if(n){const O=v.run();if(o||y||(w?O.some((F,q)=>bu(F,D[q])):bu(O,D))){b&&b();const F=Qc;Qc=v;try{const q=[O,D===bv?void 0:w&&D[0]===bv?[]:D,S];D=O,h?h(n,3,q):n(...q)}finally{Qc=F}}}else v.run()};return d&&d(P),v=new E6(p),v.scheduler=c?()=>c(P,!1):P,S=A=>TL(A,!1,v),b=v.onStop=()=>{const A=cS.get(v);if(A){if(h)h(A,4);else for(const O of A)O();cS.delete(v)}},n?r?P(!0):D=v.run():c?c(P.bind(null,!0),!0):v.run(),T.pause=v.pause.bind(v),T.resume=v.resume.bind(v),T.stop=T,T}function $s(e,n=1/0,i){if(n<=0||!Sn(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),n--,ei(e))$s(e.value,n,i);else if(gt(e))for(let r=0;r<e.length;r++)$s(e[r],n,i);else if(T6(e)||fh(e))e.forEach(r=>{$s(r,n,i)});else if(A6(e)){for(const r in e)$s(e[r],n,i);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&$s(e[r],n,i)}return e}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wg(e,n,i,r){try{return r?e(...r):e()}catch(o){ES(o,n,i)}}function vo(e,n,i,r){if(yt(e)){const o=Wg(e,n,i,r);return o&&P6(o)&&o.catch(u=>{ES(u,n,i)}),o}if(gt(e)){const o=[];for(let u=0;u<e.length;u++)o.push(vo(e[u],n,i,r));return o}}function ES(e,n,i,r=!0){const o=n?n.vnode:null,{errorHandler:u,throwUnhandledErrorInProduction:c}=n&&n.appContext.config||un;if(n){let d=n.parent;const h=n.proxy,m=`https://vuejs.org/error-reference/#runtime-${i}`;for(;d;){const v=d.ec;if(v){for(let p=0;p<v.length;p++)if(v[p](e,h,m)===!1)return}d=d.parent}if(u){Xs(),Wg(u,null,10,[e,h,m]),Ks();return}}IL(e,i,o,r,c)}function IL(e,n,i,r=!0,o=!1){if(o)throw e;console.error(e)}const ma=[];let Wo=-1;const mh=[];let vu=null,ih=0;const Z6=Promise.resolve();let dS=null;function Et(e){const n=dS||Z6;return e?n.then(this?e.bind(this):e):n}function AL(e){let n=Wo+1,i=ma.length;for(;n<i;){const r=n+i>>>1,o=ma[r],u=Ig(o);u<e||u===e&&o.flags&2?n=r+1:i=r}return n}function dC(e){if(!(e.flags&1)){const n=Ig(e),i=ma[ma.length-1];!i||!(e.flags&2)&&n>=Ig(i)?ma.push(e):ma.splice(AL(n),0,e),e.flags|=1,J6()}}function J6(){dS||(dS=Z6.then(tx))}function _L(e){gt(e)?mh.push(...e):vu&&e.id===-1?vu.splice(ih+1,0,e):e.flags&1||(mh.push(e),e.flags|=1),J6()}function O3(e,n,i=Wo+1){for(;i<ma.length;i++){const r=ma[i];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;ma.splice(i,1),i--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function ex(e){if(mh.length){const n=[...new Set(mh)].sort((i,r)=>Ig(i)-Ig(r));if(mh.length=0,vu){vu.push(...n);return}for(vu=n,ih=0;ih<vu.length;ih++){const i=vu[ih];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}vu=null,ih=0}}const Ig=e=>e.id==null?e.flags&2?-1:1/0:e.id;function tx(e){try{for(Wo=0;Wo<ma.length;Wo++){const n=ma[Wo];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),Wg(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;Wo<ma.length;Wo++){const n=ma[Wo];n&&(n.flags&=-2)}Wo=-1,ma.length=0,ex(),dS=null,(ma.length||mh.length)&&tx()}}let Ba=null,nx=null;function hS(e){const n=Ba;return Ba=e,nx=e&&e.type.__scopeId||null,n}function fo(e,n=Ba,i){if(!n||e._n)return e;const r=(...o)=>{r._d&&H3(-1);const u=hS(n);let c;try{c=e(...o)}finally{hS(u),r._d&&H3(1)}return c};return r._n=!0,r._c=!0,r._d=!0,r}function xn(e,n){if(Ba===null)return e;const i=NS(Ba),r=e.dirs||(e.dirs=[]);for(let o=0;o<n.length;o++){let[u,c,d,h=un]=n[o];u&&(yt(u)&&(u={mounted:u,updated:u}),u.deep&&$s(c),r.push({dir:u,instance:i,value:c,oldValue:void 0,arg:d,modifiers:h}))}return e}function Vc(e,n,i,r){const o=e.dirs,u=n&&n.dirs;for(let c=0;c<o.length;c++){const d=o[c];u&&(d.oldValue=u[c].value);let h=d.dir[r];h&&(Xs(),vo(h,i,8,[e.el,d,e,n]),Ks())}}const ix=Symbol("_vte"),ax=e=>e.__isTeleport,yg=e=>e&&(e.disabled||e.disabled===""),k3=e=>e&&(e.defer||e.defer===""),R3=e=>typeof SVGElement<"u"&&e instanceof SVGElement,E3=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Qy=(e,n)=>{const i=e&&e.to;return Ln(i)?n?n(i):null:i},rx={name:"Teleport",__isTeleport:!0,process(e,n,i,r,o,u,c,d,h,m){const{mc:v,pc:p,pbc:b,o:{insert:S,querySelector:y,createText:w,createComment:x}}=m,T=yg(n.props);let{shapeFlag:D,children:P,dynamicChildren:A}=n;if(e==null){const O=n.el=w(""),F=n.anchor=w("");S(O,i,r),S(F,i,r);const q=(E,N)=>{D&16&&(o&&o.isCE&&(o.ce._teleportTarget=E),v(P,E,N,o,u,c,d,h))},R=()=>{const E=n.target=Qy(n.props,y),N=ox(E,n,w,S);E&&(c!=="svg"&&R3(E)?c="svg":c!=="mathml"&&E3(E)&&(c="mathml"),T||(q(E,N),kv(n,!1)))};T&&(q(i,F),kv(n,!0)),k3(n.props)?(n.el.__isMounted=!1,ga(()=>{R(),delete n.el.__isMounted},u)):R()}else{if(k3(n.props)&&e.el.__isMounted===!1){ga(()=>{rx.process(e,n,i,r,o,u,c,d,h,m)},u);return}n.el=e.el,n.targetStart=e.targetStart;const O=n.anchor=e.anchor,F=n.target=e.target,q=n.targetAnchor=e.targetAnchor,R=yg(e.props),E=R?i:F,N=R?O:q;if(c==="svg"||R3(F)?c="svg":(c==="mathml"||E3(F))&&(c="mathml"),A?(b(e.dynamicChildren,A,E,o,u,c,d),pC(e,n,!0)):h||p(e,n,E,N,o,u,c,d,!1),T)R?n.props&&e.props&&n.props.to!==e.props.to&&(n.props.to=e.props.to):Cv(n,i,O,m,1);else if((n.props&&n.props.to)!==(e.props&&e.props.to)){const G=n.target=Qy(n.props,y);G&&Cv(n,G,null,m,0)}else R&&Cv(n,F,q,m,1);kv(n,T)}},remove(e,n,i,{um:r,o:{remove:o}},u){const{shapeFlag:c,children:d,anchor:h,targetStart:m,targetAnchor:v,target:p,props:b}=e;if(p&&(o(m),o(v)),u&&o(h),c&16){const S=u||!yg(b);for(let y=0;y<d.length;y++){const w=d[y];r(w,n,i,S,!!w.dynamicChildren)}}},move:Cv,hydrate:LL};function Cv(e,n,i,{o:{insert:r},m:o},u=2){u===0&&r(e.targetAnchor,n,i);const{el:c,anchor:d,shapeFlag:h,children:m,props:v}=e,p=u===2;if(p&&r(c,n,i),(!p||yg(v))&&h&16)for(let b=0;b<m.length;b++)o(m[b],n,i,2);p&&r(d,n,i)}function LL(e,n,i,r,o,u,{o:{nextSibling:c,parentNode:d,querySelector:h,insert:m,createText:v}},p){const b=n.target=Qy(n.props,h);if(b){const S=yg(n.props),y=b._lpa||b.firstChild;if(n.shapeFlag&16)if(S)n.anchor=p(c(e),n,d(e),i,r,o,u),n.targetStart=y,n.targetAnchor=y&&c(y);else{n.anchor=c(e);let w=y;for(;w;){if(w&&w.nodeType===8){if(w.data==="teleport start anchor")n.targetStart=w;else if(w.data==="teleport anchor"){n.targetAnchor=w,b._lpa=n.targetAnchor&&c(n.targetAnchor);break}}w=c(w)}n.targetAnchor||ox(b,n,v,m),p(y&&c(y),n,b,i,r,o,u)}kv(n,S)}return n.anchor&&c(n.anchor)}const OL=rx;function kv(e,n){const i=e.ctx;if(i&&i.ut){let r,o;for(n?(r=e.el,o=e.anchor):(r=e.targetStart,o=e.targetAnchor);r&&r!==o;)r.nodeType===1&&r.setAttribute("data-v-owner",i.uid),r=r.nextSibling;i.ut()}}function ox(e,n,i,r){const o=n.targetStart=i(""),u=n.targetAnchor=i("");return o[ix]=u,e&&(r(o,e),r(u,e)),u}const Su=Symbol("_leaveCb"),wv=Symbol("_enterCb");function sx(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ai(()=>{e.isMounted=!0}),gi(()=>{e.isUnmounting=!0}),e}const zr=[Function,Array],lx={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:zr,onEnter:zr,onAfterEnter:zr,onEnterCancelled:zr,onBeforeLeave:zr,onLeave:zr,onAfterLeave:zr,onLeaveCancelled:zr,onBeforeAppear:zr,onAppear:zr,onAfterAppear:zr,onAppearCancelled:zr},ux=e=>{const n=e.subTree;return n.component?ux(n.component):n},kL={name:"BaseTransition",props:lx,setup(e,{slots:n}){const i=BS(),r=sx();return()=>{const o=n.default&&hC(n.default(),!0);if(!o||!o.length)return;const u=cx(o),c=dt(e),{mode:d}=c;if(r.isLeaving)return ly(u);const h=F3(u);if(!h)return ly(u);let m=Ag(h,c,r,i,p=>m=p);h.type!==Va&&Kc(h,m);let v=i.subTree&&F3(i.subTree);if(v&&v.type!==Va&&!zc(h,v)&&ux(i).type!==Va){let p=Ag(v,c,r,i);if(Kc(v,p),d==="out-in"&&h.type!==Va)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,i.job.flags&8||i.update(),delete p.afterLeave,v=void 0},ly(u);d==="in-out"&&h.type!==Va?p.delayLeave=(b,S,y)=>{const w=dx(r,v);w[String(v.key)]=v,b[Su]=()=>{S(),b[Su]=void 0,delete m.delayedLeave,v=void 0},m.delayedLeave=()=>{y(),delete m.delayedLeave,v=void 0}}:v=void 0}else v&&(v=void 0);return u}}};function cx(e){let n=e[0];if(e.length>1){for(const i of e)if(i.type!==Va){n=i;break}}return n}const RL=kL;function dx(e,n){const{leavingVNodes:i}=e;let r=i.get(n.type);return r||(r=Object.create(null),i.set(n.type,r)),r}function Ag(e,n,i,r,o){const{appear:u,mode:c,persisted:d=!1,onBeforeEnter:h,onEnter:m,onAfterEnter:v,onEnterCancelled:p,onBeforeLeave:b,onLeave:S,onAfterLeave:y,onLeaveCancelled:w,onBeforeAppear:x,onAppear:T,onAfterAppear:D,onAppearCancelled:P}=n,A=String(e.key),O=dx(i,e),F=(E,N)=>{E&&vo(E,r,9,N)},q=(E,N)=>{const G=N[1];F(E,N),gt(E)?E.every(M=>M.length<=1)&&G():E.length<=1&&G()},R={mode:c,persisted:d,beforeEnter(E){let N=h;if(!i.isMounted)if(u)N=x||h;else return;E[Su]&&E[Su](!0);const G=O[A];G&&zc(e,G)&&G.el[Su]&&G.el[Su](),F(N,[E])},enter(E){let N=m,G=v,M=p;if(!i.isMounted)if(u)N=T||m,G=D||v,M=P||p;else return;let _=!1;const I=E[wv]=B=>{_||(_=!0,B?F(M,[E]):F(G,[E]),R.delayedLeave&&R.delayedLeave(),E[wv]=void 0)};N?q(N,[E,I]):I()},leave(E,N){const G=String(e.key);if(E[wv]&&E[wv](!0),i.isUnmounting)return N();F(b,[E]);let M=!1;const _=E[Su]=I=>{M||(M=!0,N(),I?F(w,[E]):F(y,[E]),E[Su]=void 0,O[G]===e&&delete O[G])};O[G]=e,S?q(S,[E,_]):_()},clone(E){const N=Ag(E,n,i,r,o);return o&&o(N),N}};return R}function ly(e){if(FS(e))return e=Js(e),e.children=null,e}function F3(e){if(!FS(e))return ax(e.type)&&e.children?cx(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:n,children:i}=e;if(i){if(n&16)return i[0];if(n&32&&yt(i.default))return i.default()}}function Kc(e,n){e.shapeFlag&6&&e.component?(e.transition=n,Kc(e.component.subTree,n)):e.shapeFlag&128?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function hC(e,n=!1,i){let r=[],o=0;for(let u=0;u<e.length;u++){let c=e[u];const d=i==null?c.key:String(i)+String(c.key!=null?c.key:u);c.type===nt?(c.patchFlag&128&&o++,r=r.concat(hC(c.children,n,d))):(n||c.type!==Va)&&r.push(d!=null?Js(c,{key:d}):c)}if(o>1)for(let u=0;u<r.length;u++)r[u].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function EL(e,n){return yt(e)?fi({name:e.name},n,{setup:e}):e}function pa(){const e=BS();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function hx(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function fS(e,n,i,r,o=!1){if(gt(e)){e.forEach((y,w)=>fS(y,n&&(gt(n)?n[w]:n),i,r,o));return}if(bg(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&fS(e,n,i,r.component.subTree);return}const u=r.shapeFlag&4?NS(r.component):r.el,c=o?null:u,{i:d,r:h}=e,m=n&&n.r,v=d.refs===un?d.refs={}:d.refs,p=d.setupState,b=dt(p),S=p===un?()=>!1:y=>en(b,y);if(m!=null&&m!==h&&(Ln(m)?(v[m]=null,S(m)&&(p[m]=null)):ei(m)&&(m.value=null)),yt(h))Wg(h,d,12,[c,v]);else{const y=Ln(h),w=ei(h);if(y||w){const x=()=>{if(e.f){const T=y?S(h)?p[h]:v[h]:h.value;o?gt(T)&&iC(T,u):gt(T)?T.includes(u)||T.push(u):y?(v[h]=[u],S(h)&&(p[h]=v[h])):(h.value=[u],e.k&&(v[e.k]=h.value))}else y?(v[h]=c,S(h)&&(p[h]=c)):w&&(h.value=c,e.k&&(v[e.k]=c))};c?(x.id=-1,ga(x,i)):x()}}}OS().requestIdleCallback;OS().cancelIdleCallback;const bg=e=>!!e.type.__asyncLoader,FS=e=>e.type.__isKeepAlive;function fx(e,n){gx(e,"a",n)}function fC(e,n){gx(e,"da",n)}function gx(e,n,i=Fi){const r=e.__wdc||(e.__wdc=()=>{let o=i;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(MS(n,r,i),i){let o=i.parent;for(;o&&o.parent;)FS(o.parent.vnode)&&FL(r,n,i,o),o=o.parent}}function FL(e,n,i,r){const o=MS(n,e,r,!0);mC(()=>{iC(r[n],o)},i)}function MS(e,n,i=Fi,r=!1){if(i){const o=i[e]||(i[e]=[]),u=n.__weh||(n.__weh=(...c)=>{Xs();const d=$g(i),h=vo(n,i,e,c);return d(),Ks(),h});return r?o.unshift(u):o.push(u),u}}const rl=e=>(n,i=Fi)=>{(!Og||e==="sp")&&MS(e,(...r)=>n(...r),i)},Ph=rl("bm"),Ai=rl("m"),mx=rl("bu"),gC=rl("u"),gi=rl("bum"),mC=rl("um"),ML=rl("sp"),VL=rl("rtg"),BL=rl("rtc");function NL(e,n=Fi){MS("ec",e,n)}const vx="components";function Fa(e,n){return Sx(vx,e,!0,n)||e}const UL=Symbol.for("v-ndc");function qL(e){return Ln(e)&&Sx(vx,e,!1)||e}function Sx(e,n,i=!0,r=!1){const o=Ba||Fi;if(o){const u=o.type;{const d=P7(u,!1);if(d&&(d===n||d===Sa(n)||d===Jo(Sa(n))))return u}const c=M3(o[e]||u[e],n)||M3(o.appContext[e],n);return!c&&r?u:c}}function M3(e,n){return e&&(e[n]||e[Sa(n)]||e[Jo(Sa(n))])}function GL(e,n,i,r){let o;const u=i,c=gt(e);if(c||Ln(e)){const d=c&&gh(e);let h=!1,m=!1;d&&(h=!Hr(e),m=Cu(e),e=kS(e)),o=new Array(e.length);for(let v=0,p=e.length;v<p;v++)o[v]=n(h?m?uS(Ri(e[v])):Ri(e[v]):e[v],v,void 0,u)}else if(typeof e=="number"){o=new Array(e);for(let d=0;d<e;d++)o[d]=n(d+1,d,void 0,u)}else if(Sn(e))if(e[Symbol.iterator])o=Array.from(e,(d,h)=>n(d,h,void 0,u));else{const d=Object.keys(e);o=new Array(d.length);for(let h=0,m=d.length;h<m;h++){const v=d[h];o[h]=n(e[v],v,h,u)}}else o=[];return o}const zy=e=>e?Mx(e)?NS(e):zy(e.parent):null,Cg=fi(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>zy(e.parent),$root:e=>zy(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>yx(e),$forceUpdate:e=>e.f||(e.f=()=>{dC(e.update)}),$nextTick:e=>e.n||(e.n=Et.bind(e.proxy)),$watch:e=>u7.bind(e)}),uy=(e,n)=>e!==un&&!e.__isScriptSetup&&en(e,n),QL={get({_:e},n){if(n==="__v_skip")return!0;const{ctx:i,setupState:r,data:o,props:u,accessCache:c,type:d,appContext:h}=e;let m;if(n[0]!=="$"){const S=c[n];if(S!==void 0)switch(S){case 1:return r[n];case 2:return o[n];case 4:return i[n];case 3:return u[n]}else{if(uy(r,n))return c[n]=1,r[n];if(o!==un&&en(o,n))return c[n]=2,o[n];if((m=e.propsOptions[0])&&en(m,n))return c[n]=3,u[n];if(i!==un&&en(i,n))return c[n]=4,i[n];Hy&&(c[n]=0)}}const v=Cg[n];let p,b;if(v)return n==="$attrs"&&Zi(e.attrs,"get",""),v(e);if((p=d.__cssModules)&&(p=p[n]))return p;if(i!==un&&en(i,n))return c[n]=4,i[n];if(b=h.config.globalProperties,en(b,n))return b[n]},set({_:e},n,i){const{data:r,setupState:o,ctx:u}=e;return uy(o,n)?(o[n]=i,!0):r!==un&&en(r,n)?(r[n]=i,!0):en(e.props,n)||n[0]==="$"&&n.slice(1)in e?!1:(u[n]=i,!0)},has({_:{data:e,setupState:n,accessCache:i,ctx:r,appContext:o,propsOptions:u}},c){let d;return!!i[c]||e!==un&&en(e,c)||uy(n,c)||(d=u[0])&&en(d,c)||en(r,c)||en(Cg,c)||en(o.config.globalProperties,c)},defineProperty(e,n,i){return i.get!=null?e._.accessCache[n]=0:en(i,"value")&&this.set(e,n,i.value,null),Reflect.defineProperty(e,n,i)}};function V3(e){return gt(e)?e.reduce((n,i)=>(n[i]=null,n),{}):e}let Hy=!0;function zL(e){const n=yx(e),i=e.proxy,r=e.ctx;Hy=!1,n.beforeCreate&&B3(n.beforeCreate,e,"bc");const{data:o,computed:u,methods:c,watch:d,provide:h,inject:m,created:v,beforeMount:p,mounted:b,beforeUpdate:S,updated:y,activated:w,deactivated:x,beforeDestroy:T,beforeUnmount:D,destroyed:P,unmounted:A,render:O,renderTracked:F,renderTriggered:q,errorCaptured:R,serverPrefetch:E,expose:N,inheritAttrs:G,components:M,directives:_,filters:I}=n;if(m&&HL(m,r,null),c)for(const Y in c){const K=c[Y];yt(K)&&(r[Y]=K.bind(i))}if(o){const Y=o.call(i,i);Sn(Y)&&(e.data=Ei(Y))}if(Hy=!0,u)for(const Y in u){const K=u[Y],ce=yt(K)?K.bind(i,i):yt(K.get)?K.get.bind(i,i):jo,re=!yt(K)&&yt(K.set)?K.set.bind(i):jo,$=se({get:ce,set:re});Object.defineProperty(r,Y,{enumerable:!0,configurable:!0,get:()=>$.value,set:j=>$.value=j})}if(d)for(const Y in d)px(d[Y],r,i,Y);if(h){const Y=yt(h)?h.call(i):h;Reflect.ownKeys(Y).forEach(K=>{cn(K,Y[K])})}v&&B3(v,e,"c");function H(Y,K){gt(K)?K.forEach(ce=>Y(ce.bind(i))):K&&Y(K.bind(i))}if(H(Ph,p),H(Ai,b),H(mx,S),H(gC,y),H(fx,w),H(fC,x),H(NL,R),H(BL,F),H(VL,q),H(gi,D),H(mC,A),H(ML,E),gt(N))if(N.length){const Y=e.exposed||(e.exposed={});N.forEach(K=>{Object.defineProperty(Y,K,{get:()=>i[K],set:ce=>i[K]=ce})})}else e.exposed||(e.exposed={});O&&e.render===jo&&(e.render=O),G!=null&&(e.inheritAttrs=G),M&&(e.components=M),_&&(e.directives=_),E&&hx(e)}function HL(e,n,i=jo){gt(e)&&(e=Wy(e));for(const r in e){const o=e[r];let u;Sn(o)?"default"in o?u=Tt(o.from||r,o.default,!0):u=Tt(o.from||r):u=Tt(o),ei(u)?Object.defineProperty(n,r,{enumerable:!0,configurable:!0,get:()=>u.value,set:c=>u.value=c}):n[r]=u}}function B3(e,n,i){vo(gt(e)?e.map(r=>r.bind(n.proxy)):e.bind(n.proxy),n,i)}function px(e,n,i,r){let o=r.includes(".")?Lx(i,r):()=>i[r];if(Ln(e)){const u=n[e];yt(u)&&je(o,u)}else if(yt(e))je(o,e.bind(i));else if(Sn(e))if(gt(e))e.forEach(u=>px(u,n,i,r));else{const u=yt(e.handler)?e.handler.bind(i):n[e.handler];yt(u)&&je(o,u,e)}}function yx(e){const n=e.type,{mixins:i,extends:r}=n,{mixins:o,optionsCache:u,config:{optionMergeStrategies:c}}=e.appContext,d=u.get(n);let h;return d?h=d:!o.length&&!i&&!r?h=n:(h={},o.length&&o.forEach(m=>gS(h,m,c,!0)),gS(h,n,c)),Sn(n)&&u.set(n,h),h}function gS(e,n,i,r=!1){const{mixins:o,extends:u}=n;u&&gS(e,u,i,!0),o&&o.forEach(c=>gS(e,c,i,!0));for(const c in n)if(!(r&&c==="expose")){const d=WL[c]||i&&i[c];e[c]=d?d(e[c],n[c]):n[c]}return e}const WL={data:N3,props:U3,emits:U3,methods:cg,computed:cg,beforeCreate:fa,created:fa,beforeMount:fa,mounted:fa,beforeUpdate:fa,updated:fa,beforeDestroy:fa,beforeUnmount:fa,destroyed:fa,unmounted:fa,activated:fa,deactivated:fa,errorCaptured:fa,serverPrefetch:fa,components:cg,directives:cg,watch:$L,provide:N3,inject:YL};function N3(e,n){return n?e?function(){return fi(yt(e)?e.call(this,this):e,yt(n)?n.call(this,this):n)}:n:e}function YL(e,n){return cg(Wy(e),Wy(n))}function Wy(e){if(gt(e)){const n={};for(let i=0;i<e.length;i++)n[e[i]]=e[i];return n}return e}function fa(e,n){return e?[...new Set([].concat(e,n))]:n}function cg(e,n){return e?fi(Object.create(null),e,n):n}function U3(e,n){return e?gt(e)&&gt(n)?[...new Set([...e,...n])]:fi(Object.create(null),V3(e),V3(n??{})):n}function $L(e,n){if(!e)return n;if(!n)return e;const i=fi(Object.create(null),e);for(const r in n)i[r]=fa(e[r],n[r]);return i}function bx(){return{app:null,config:{isNativeTag:N_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jL=0;function XL(e,n){return function(r,o=null){yt(r)||(r=fi({},r)),o!=null&&!Sn(o)&&(o=null);const u=bx(),c=new WeakSet,d=[];let h=!1;const m=u.app={_uid:jL++,_component:r,_props:o,_container:null,_context:u,_instance:null,version:Bx,get config(){return u.config},set config(v){},use(v,...p){return c.has(v)||(v&&yt(v.install)?(c.add(v),v.install(m,...p)):yt(v)&&(c.add(v),v(m,...p))),m},mixin(v){return u.mixins.includes(v)||u.mixins.push(v),m},component(v,p){return p?(u.components[v]=p,m):u.components[v]},directive(v,p){return p?(u.directives[v]=p,m):u.directives[v]},mount(v,p,b){if(!h){const S=m._ceVNode||Z(r,o);return S.appContext=u,b===!0?b="svg":b===!1&&(b=void 0),e(S,v,b),h=!0,m._container=v,v.__vue_app__=m,NS(S.component)}},onUnmount(v){d.push(v)},unmount(){h&&(vo(d,m._instance,16),e(null,m._container),delete m._container.__vue_app__)},provide(v,p){return u.provides[v]=p,m},runWithContext(v){const p=vh;vh=m;try{return v()}finally{vh=p}}};return m}}let vh=null;function cn(e,n){if(Fi){let i=Fi.provides;const r=Fi.parent&&Fi.parent.provides;r===i&&(i=Fi.provides=Object.create(r)),i[e]=n}}function Tt(e,n,i=!1){const r=Fi||Ba;if(r||vh){let o=vh?vh._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return i&&yt(n)?n.call(r&&r.proxy):n}}const Cx={},wx=()=>Object.create(Cx),Dx=e=>Object.getPrototypeOf(e)===Cx;function KL(e,n,i,r=!1){const o={},u=wx();e.propsDefaults=Object.create(null),xx(e,n,o,u);for(const c in e.propsOptions[0])c in o||(o[c]=void 0);i?e.props=r?o:pL(o):e.type.props?e.props=o:e.props=u,e.attrs=u}function ZL(e,n,i,r){const{props:o,attrs:u,vnode:{patchFlag:c}}=e,d=dt(o),[h]=e.propsOptions;let m=!1;if((r||c>0)&&!(c&16)){if(c&8){const v=e.vnode.dynamicProps;for(let p=0;p<v.length;p++){let b=v[p];if(VS(e.emitsOptions,b))continue;const S=n[b];if(h)if(en(u,b))S!==u[b]&&(u[b]=S,m=!0);else{const y=Sa(b);o[y]=Yy(h,d,y,S,e,!1)}else S!==u[b]&&(u[b]=S,m=!0)}}}else{xx(e,n,o,u)&&(m=!0);let v;for(const p in d)(!n||!en(n,p)&&((v=ad(p))===p||!en(n,v)))&&(h?i&&(i[p]!==void 0||i[v]!==void 0)&&(o[p]=Yy(h,d,p,void 0,e,!0)):delete o[p]);if(u!==d)for(const p in u)(!n||!en(n,p))&&(delete u[p],m=!0)}m&&Ys(e.attrs,"set","")}function xx(e,n,i,r){const[o,u]=e.propsOptions;let c=!1,d;if(n)for(let h in n){if(vg(h))continue;const m=n[h];let v;o&&en(o,v=Sa(h))?!u||!u.includes(v)?i[v]=m:(d||(d={}))[v]=m:VS(e.emitsOptions,h)||(!(h in r)||m!==r[h])&&(r[h]=m,c=!0)}if(u){const h=dt(i),m=d||un;for(let v=0;v<u.length;v++){const p=u[v];i[p]=Yy(o,h,p,m[p],e,!en(m,p))}}return c}function Yy(e,n,i,r,o,u){const c=e[i];if(c!=null){const d=en(c,"default");if(d&&r===void 0){const h=c.default;if(c.type!==Function&&!c.skipFactory&&yt(h)){const{propsDefaults:m}=o;if(i in m)r=m[i];else{const v=$g(o);r=m[i]=h.call(null,n),v()}}else r=h;o.ce&&o.ce._setProp(i,r)}c[0]&&(u&&!d?r=!1:c[1]&&(r===""||r===ad(i))&&(r=!0))}return r}const JL=new WeakMap;function Tx(e,n,i=!1){const r=i?JL:n.propsCache,o=r.get(e);if(o)return o;const u=e.props,c={},d=[];let h=!1;if(!yt(e)){const v=p=>{h=!0;const[b,S]=Tx(p,n,!0);fi(c,b),S&&d.push(...S)};!i&&n.mixins.length&&n.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}if(!u&&!h)return Sn(e)&&r.set(e,hh),hh;if(gt(u))for(let v=0;v<u.length;v++){const p=Sa(u[v]);q3(p)&&(c[p]=un)}else if(u)for(const v in u){const p=Sa(v);if(q3(p)){const b=u[v],S=c[p]=gt(b)||yt(b)?{type:b}:fi({},b),y=S.type;let w=!1,x=!0;if(gt(y))for(let T=0;T<y.length;++T){const D=y[T],P=yt(D)&&D.name;if(P==="Boolean"){w=!0;break}else P==="String"&&(x=!1)}else w=yt(y)&&y.name==="Boolean";S[0]=w,S[1]=x,(w||en(S,"default"))&&d.push(p)}}const m=[c,d];return Sn(e)&&r.set(e,m),m}function q3(e){return e[0]!=="$"&&!vg(e)}const vC=e=>e[0]==="_"||e==="$stable",SC=e=>gt(e)?e.map(Yo):[Yo(e)],e7=(e,n,i)=>{if(n._n)return n;const r=fo((...o)=>SC(n(...o)),i);return r._c=!1,r},Px=(e,n,i)=>{const r=e._ctx;for(const o in e){if(vC(o))continue;const u=e[o];if(yt(u))n[o]=e7(o,u,r);else if(u!=null){const c=SC(u);n[o]=()=>c}}},Ix=(e,n)=>{const i=SC(n);e.slots.default=()=>i},Ax=(e,n,i)=>{for(const r in n)(i||!vC(r))&&(e[r]=n[r])},t7=(e,n,i)=>{const r=e.slots=wx();if(e.vnode.shapeFlag&32){const o=n._;o?(Ax(r,n,i),i&&_6(r,"_",o,!0)):Px(n,r)}else n&&Ix(e,n)},n7=(e,n,i)=>{const{vnode:r,slots:o}=e;let u=!0,c=un;if(r.shapeFlag&32){const d=n._;d?i&&d===1?u=!1:Ax(o,n,i):(u=!n.$stable,Px(n,o)),c=n}else n&&(Ix(e,n),c={default:1});if(u)for(const d in o)!vC(d)&&c[d]==null&&delete o[d]},ga=v7;function i7(e){return a7(e)}function a7(e,n){const i=OS();i.__VUE__=!0;const{insert:r,remove:o,patchProp:u,createElement:c,createText:d,createComment:h,setText:m,setElementText:v,parentNode:p,nextSibling:b,setScopeId:S=jo,insertStaticContent:y}=e,w=(J,ue,U,fe=null,ge=null,ne=null,ae=void 0,he=null,xe=!!ue.dynamicChildren)=>{if(J===ue)return;J&&!zc(J,ue)&&(fe=le(J),j(J,ge,ne,!0),J=null),ue.patchFlag===-2&&(xe=!1,ue.dynamicChildren=null);const{type:we,ref:Se,shapeFlag:_e}=ue;switch(we){case Yg:x(J,ue,U,fe);break;case Va:T(J,ue,U,fe);break;case dy:J==null&&D(ue,U,fe,ae);break;case nt:M(J,ue,U,fe,ge,ne,ae,he,xe);break;default:_e&1?O(J,ue,U,fe,ge,ne,ae,he,xe):_e&6?_(J,ue,U,fe,ge,ne,ae,he,xe):(_e&64||_e&128)&&we.process(J,ue,U,fe,ge,ne,ae,he,xe,Ce)}Se!=null&&ge&&fS(Se,J&&J.ref,ne,ue||J,!ue)},x=(J,ue,U,fe)=>{if(J==null)r(ue.el=d(ue.children),U,fe);else{const ge=ue.el=J.el;ue.children!==J.children&&m(ge,ue.children)}},T=(J,ue,U,fe)=>{J==null?r(ue.el=h(ue.children||""),U,fe):ue.el=J.el},D=(J,ue,U,fe)=>{[J.el,J.anchor]=y(J.children,ue,U,fe,J.el,J.anchor)},P=({el:J,anchor:ue},U,fe)=>{let ge;for(;J&&J!==ue;)ge=b(J),r(J,U,fe),J=ge;r(ue,U,fe)},A=({el:J,anchor:ue})=>{let U;for(;J&&J!==ue;)U=b(J),o(J),J=U;o(ue)},O=(J,ue,U,fe,ge,ne,ae,he,xe)=>{ue.type==="svg"?ae="svg":ue.type==="math"&&(ae="mathml"),J==null?F(ue,U,fe,ge,ne,ae,he,xe):E(J,ue,ge,ne,ae,he,xe)},F=(J,ue,U,fe,ge,ne,ae,he)=>{let xe,we;const{props:Se,shapeFlag:_e,transition:Ve,dirs:Me}=J;if(xe=J.el=c(J.type,ne,Se&&Se.is,Se),_e&8?v(xe,J.children):_e&16&&R(J.children,xe,null,fe,ge,cy(J,ne),ae,he),Me&&Vc(J,null,fe,"created"),q(xe,J,J.scopeId,ae,fe),Se){for(const lt in Se)lt!=="value"&&!vg(lt)&&u(xe,lt,null,Se[lt],ne,fe);"value"in Se&&u(xe,"value",null,Se.value,ne),(we=Se.onVnodeBeforeMount)&&Qo(we,fe,J)}Me&&Vc(J,null,fe,"beforeMount");const He=r7(ge,Ve);He&&Ve.beforeEnter(xe),r(xe,ue,U),((we=Se&&Se.onVnodeMounted)||He||Me)&&ga(()=>{we&&Qo(we,fe,J),He&&Ve.enter(xe),Me&&Vc(J,null,fe,"mounted")},ge)},q=(J,ue,U,fe,ge)=>{if(U&&S(J,U),fe)for(let ne=0;ne<fe.length;ne++)S(J,fe[ne]);if(ge){let ne=ge.subTree;if(ue===ne||kx(ne.type)&&(ne.ssContent===ue||ne.ssFallback===ue)){const ae=ge.vnode;q(J,ae,ae.scopeId,ae.slotScopeIds,ge.parent)}}},R=(J,ue,U,fe,ge,ne,ae,he,xe=0)=>{for(let we=xe;we<J.length;we++){const Se=J[we]=he?pu(J[we]):Yo(J[we]);w(null,Se,ue,U,fe,ge,ne,ae,he)}},E=(J,ue,U,fe,ge,ne,ae)=>{const he=ue.el=J.el;let{patchFlag:xe,dynamicChildren:we,dirs:Se}=ue;xe|=J.patchFlag&16;const _e=J.props||un,Ve=ue.props||un;let Me;if(U&&Bc(U,!1),(Me=Ve.onVnodeBeforeUpdate)&&Qo(Me,U,ue,J),Se&&Vc(ue,J,U,"beforeUpdate"),U&&Bc(U,!0),(_e.innerHTML&&Ve.innerHTML==null||_e.textContent&&Ve.textContent==null)&&v(he,""),we?N(J.dynamicChildren,we,he,U,fe,cy(ue,ge),ne):ae||K(J,ue,he,null,U,fe,cy(ue,ge),ne,!1),xe>0){if(xe&16)G(he,_e,Ve,U,ge);else if(xe&2&&_e.class!==Ve.class&&u(he,"class",null,Ve.class,ge),xe&4&&u(he,"style",_e.style,Ve.style,ge),xe&8){const He=ue.dynamicProps;for(let lt=0;lt<He.length;lt++){const it=He[lt],Mt=_e[it],jt=Ve[it];(jt!==Mt||it==="value")&&u(he,it,Mt,jt,ge,U)}}xe&1&&J.children!==ue.children&&v(he,ue.children)}else!ae&&we==null&&G(he,_e,Ve,U,ge);((Me=Ve.onVnodeUpdated)||Se)&&ga(()=>{Me&&Qo(Me,U,ue,J),Se&&Vc(ue,J,U,"updated")},fe)},N=(J,ue,U,fe,ge,ne,ae)=>{for(let he=0;he<ue.length;he++){const xe=J[he],we=ue[he],Se=xe.el&&(xe.type===nt||!zc(xe,we)||xe.shapeFlag&198)?p(xe.el):U;w(xe,we,Se,null,fe,ge,ne,ae,!0)}},G=(J,ue,U,fe,ge)=>{if(ue!==U){if(ue!==un)for(const ne in ue)!vg(ne)&&!(ne in U)&&u(J,ne,ue[ne],null,ge,fe);for(const ne in U){if(vg(ne))continue;const ae=U[ne],he=ue[ne];ae!==he&&ne!=="value"&&u(J,ne,he,ae,ge,fe)}"value"in U&&u(J,"value",ue.value,U.value,ge)}},M=(J,ue,U,fe,ge,ne,ae,he,xe)=>{const we=ue.el=J?J.el:d(""),Se=ue.anchor=J?J.anchor:d("");let{patchFlag:_e,dynamicChildren:Ve,slotScopeIds:Me}=ue;Me&&(he=he?he.concat(Me):Me),J==null?(r(we,U,fe),r(Se,U,fe),R(ue.children||[],U,Se,ge,ne,ae,he,xe)):_e>0&&_e&64&&Ve&&J.dynamicChildren?(N(J.dynamicChildren,Ve,U,ge,ne,ae,he),(ue.key!=null||ge&&ue===ge.subTree)&&pC(J,ue,!0)):K(J,ue,U,Se,ge,ne,ae,he,xe)},_=(J,ue,U,fe,ge,ne,ae,he,xe)=>{ue.slotScopeIds=he,J==null?ue.shapeFlag&512?ge.ctx.activate(ue,U,fe,ae,xe):I(ue,U,fe,ge,ne,ae,xe):B(J,ue,xe)},I=(J,ue,U,fe,ge,ne,ae)=>{const he=J.component=C7(J,fe,ge);if(FS(J)&&(he.ctx.renderer=Ce),w7(he,!1,ae),he.asyncDep){if(ge&&ge.registerDep(he,H,ae),!J.el){const xe=he.subTree=Z(Va);T(null,xe,ue,U)}}else H(he,J,ue,U,ge,ne,ae)},B=(J,ue,U)=>{const fe=ue.component=J.component;if(g7(J,ue,U))if(fe.asyncDep&&!fe.asyncResolved){Y(fe,ue,U);return}else fe.next=ue,fe.update();else ue.el=J.el,fe.vnode=ue},H=(J,ue,U,fe,ge,ne,ae)=>{const he=()=>{if(J.isMounted){let{next:_e,bu:Ve,u:Me,parent:He,vnode:lt}=J;{const xt=_x(J);if(xt){_e&&(_e.el=lt.el,Y(J,_e,ae)),xt.asyncDep.then(()=>{J.isUnmounted||he()});return}}let it=_e,Mt;Bc(J,!1),_e?(_e.el=lt.el,Y(J,_e,ae)):_e=lt,Ve&&Ov(Ve),(Mt=_e.props&&_e.props.onVnodeBeforeUpdate)&&Qo(Mt,He,_e,lt),Bc(J,!0);const jt=Q3(J),Xt=J.subTree;J.subTree=jt,w(Xt,jt,p(Xt.el),le(Xt),J,ge,ne),_e.el=jt.el,it===null&&m7(J,jt.el),Me&&ga(Me,ge),(Mt=_e.props&&_e.props.onVnodeUpdated)&&ga(()=>Qo(Mt,He,_e,lt),ge)}else{let _e;const{el:Ve,props:Me}=ue,{bm:He,m:lt,parent:it,root:Mt,type:jt}=J,Xt=bg(ue);Bc(J,!1),He&&Ov(He),!Xt&&(_e=Me&&Me.onVnodeBeforeMount)&&Qo(_e,it,ue),Bc(J,!0);{Mt.ce&&Mt.ce._injectChildStyle(jt);const xt=J.subTree=Q3(J);w(null,xt,U,fe,J,ge,ne),ue.el=xt.el}if(lt&&ga(lt,ge),!Xt&&(_e=Me&&Me.onVnodeMounted)){const xt=ue;ga(()=>Qo(_e,it,xt),ge)}(ue.shapeFlag&256||it&&bg(it.vnode)&&it.vnode.shapeFlag&256)&&J.a&&ga(J.a,ge),J.isMounted=!0,ue=U=fe=null}};J.scope.on();const xe=J.effect=new E6(he);J.scope.off();const we=J.update=xe.run.bind(xe),Se=J.job=xe.runIfDirty.bind(xe);Se.i=J,Se.id=J.uid,xe.scheduler=()=>dC(Se),Bc(J,!0),we()},Y=(J,ue,U)=>{ue.component=J;const fe=J.vnode.props;J.vnode=ue,J.next=null,ZL(J,ue.props,fe,U),n7(J,ue.children,U),Xs(),O3(J),Ks()},K=(J,ue,U,fe,ge,ne,ae,he,xe=!1)=>{const we=J&&J.children,Se=J?J.shapeFlag:0,_e=ue.children,{patchFlag:Ve,shapeFlag:Me}=ue;if(Ve>0){if(Ve&128){re(we,_e,U,fe,ge,ne,ae,he,xe);return}else if(Ve&256){ce(we,_e,U,fe,ge,ne,ae,he,xe);return}}Me&8?(Se&16&&Pe(we,ge,ne),_e!==we&&v(U,_e)):Se&16?Me&16?re(we,_e,U,fe,ge,ne,ae,he,xe):Pe(we,ge,ne,!0):(Se&8&&v(U,""),Me&16&&R(_e,U,fe,ge,ne,ae,he,xe))},ce=(J,ue,U,fe,ge,ne,ae,he,xe)=>{J=J||hh,ue=ue||hh;const we=J.length,Se=ue.length,_e=Math.min(we,Se);let Ve;for(Ve=0;Ve<_e;Ve++){const Me=ue[Ve]=xe?pu(ue[Ve]):Yo(ue[Ve]);w(J[Ve],Me,U,null,ge,ne,ae,he,xe)}we>Se?Pe(J,ge,ne,!0,!1,_e):R(ue,U,fe,ge,ne,ae,he,xe,_e)},re=(J,ue,U,fe,ge,ne,ae,he,xe)=>{let we=0;const Se=ue.length;let _e=J.length-1,Ve=Se-1;for(;we<=_e&&we<=Ve;){const Me=J[we],He=ue[we]=xe?pu(ue[we]):Yo(ue[we]);if(zc(Me,He))w(Me,He,U,null,ge,ne,ae,he,xe);else break;we++}for(;we<=_e&&we<=Ve;){const Me=J[_e],He=ue[Ve]=xe?pu(ue[Ve]):Yo(ue[Ve]);if(zc(Me,He))w(Me,He,U,null,ge,ne,ae,he,xe);else break;_e--,Ve--}if(we>_e){if(we<=Ve){const Me=Ve+1,He=Me<Se?ue[Me].el:fe;for(;we<=Ve;)w(null,ue[we]=xe?pu(ue[we]):Yo(ue[we]),U,He,ge,ne,ae,he,xe),we++}}else if(we>Ve)for(;we<=_e;)j(J[we],ge,ne,!0),we++;else{const Me=we,He=we,lt=new Map;for(we=He;we<=Ve;we++){const dn=ue[we]=xe?pu(ue[we]):Yo(ue[we]);dn.key!=null&&lt.set(dn.key,we)}let it,Mt=0;const jt=Ve-He+1;let Xt=!1,xt=0;const Pt=new Array(jt);for(we=0;we<jt;we++)Pt[we]=0;for(we=Me;we<=_e;we++){const dn=J[we];if(Mt>=jt){j(dn,ge,ne,!0);continue}let on;if(dn.key!=null)on=lt.get(dn.key);else for(it=He;it<=Ve;it++)if(Pt[it-He]===0&&zc(dn,ue[it])){on=it;break}on===void 0?j(dn,ge,ne,!0):(Pt[on-He]=we+1,on>=xt?xt=on:Xt=!0,w(dn,ue[on],U,null,ge,ne,ae,he,xe),Mt++)}const yn=Xt?o7(Pt):hh;for(it=yn.length-1,we=jt-1;we>=0;we--){const dn=He+we,on=ue[dn],ll=dn+1<Se?ue[dn+1].el:fe;Pt[we]===0?w(null,on,U,ll,ge,ne,ae,he,xe):Xt&&(it<0||we!==yn[it]?$(on,U,ll,2):it--)}}},$=(J,ue,U,fe,ge=null)=>{const{el:ne,type:ae,transition:he,children:xe,shapeFlag:we}=J;if(we&6){$(J.component.subTree,ue,U,fe);return}if(we&128){J.suspense.move(ue,U,fe);return}if(we&64){ae.move(J,ue,U,Ce);return}if(ae===nt){r(ne,ue,U);for(let _e=0;_e<xe.length;_e++)$(xe[_e],ue,U,fe);r(J.anchor,ue,U);return}if(ae===dy){P(J,ue,U);return}if(fe!==2&&we&1&&he)if(fe===0)he.beforeEnter(ne),r(ne,ue,U),ga(()=>he.enter(ne),ge);else{const{leave:_e,delayLeave:Ve,afterLeave:Me}=he,He=()=>{J.ctx.isUnmounted?o(ne):r(ne,ue,U)},lt=()=>{_e(ne,()=>{He(),Me&&Me()})};Ve?Ve(ne,He,lt):lt()}else r(ne,ue,U)},j=(J,ue,U,fe=!1,ge=!1)=>{const{type:ne,props:ae,ref:he,children:xe,dynamicChildren:we,shapeFlag:Se,patchFlag:_e,dirs:Ve,cacheIndex:Me}=J;if(_e===-2&&(ge=!1),he!=null&&(Xs(),fS(he,null,U,J,!0),Ks()),Me!=null&&(ue.renderCache[Me]=void 0),Se&256){ue.ctx.deactivate(J);return}const He=Se&1&&Ve,lt=!bg(J);let it;if(lt&&(it=ae&&ae.onVnodeBeforeUnmount)&&Qo(it,ue,J),Se&6)ye(J.component,U,fe);else{if(Se&128){J.suspense.unmount(U,fe);return}He&&Vc(J,null,ue,"beforeUnmount"),Se&64?J.type.remove(J,ue,U,Ce,fe):we&&!we.hasOnce&&(ne!==nt||_e>0&&_e&64)?Pe(we,ue,U,!1,!0):(ne===nt&&_e&384||!ge&&Se&16)&&Pe(xe,ue,U),fe&&de(J)}(lt&&(it=ae&&ae.onVnodeUnmounted)||He)&&ga(()=>{it&&Qo(it,ue,J),He&&Vc(J,null,ue,"unmounted")},U)},de=J=>{const{type:ue,el:U,anchor:fe,transition:ge}=J;if(ue===nt){ve(U,fe);return}if(ue===dy){A(J);return}const ne=()=>{o(U),ge&&!ge.persisted&&ge.afterLeave&&ge.afterLeave()};if(J.shapeFlag&1&&ge&&!ge.persisted){const{leave:ae,delayLeave:he}=ge,xe=()=>ae(U,ne);he?he(J.el,ne,xe):xe()}else ne()},ve=(J,ue)=>{let U;for(;J!==ue;)U=b(J),o(J),J=U;o(ue)},ye=(J,ue,U)=>{const{bum:fe,scope:ge,job:ne,subTree:ae,um:he,m:xe,a:we,parent:Se,slots:{__:_e}}=J;G3(xe),G3(we),fe&&Ov(fe),Se&&gt(_e)&&_e.forEach(Ve=>{Se.renderCache[Ve]=void 0}),ge.stop(),ne&&(ne.flags|=8,j(ae,J,ue,U)),he&&ga(he,ue),ga(()=>{J.isUnmounted=!0},ue),ue&&ue.pendingBranch&&!ue.isUnmounted&&J.asyncDep&&!J.asyncResolved&&J.suspenseId===ue.pendingId&&(ue.deps--,ue.deps===0&&ue.resolve())},Pe=(J,ue,U,fe=!1,ge=!1,ne=0)=>{for(let ae=ne;ae<J.length;ae++)j(J[ae],ue,U,fe,ge)},le=J=>{if(J.shapeFlag&6)return le(J.component.subTree);if(J.shapeFlag&128)return J.suspense.next();const ue=b(J.anchor||J.el),U=ue&&ue[ix];return U?b(U):ue};let pe=!1;const Ae=(J,ue,U)=>{J==null?ue._vnode&&j(ue._vnode,null,null,!0):w(ue._vnode||null,J,ue,null,null,null,U),ue._vnode=J,pe||(pe=!0,O3(),ex(),pe=!1)},Ce={p:w,um:j,m:$,r:de,mt:I,mc:R,pc:K,pbc:N,n:le,o:e};return{render:Ae,hydrate:void 0,createApp:XL(Ae)}}function cy({type:e,props:n},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:i}function Bc({effect:e,job:n},i){i?(e.flags|=32,n.flags|=4):(e.flags&=-33,n.flags&=-5)}function r7(e,n){return(!e||e&&!e.pendingBranch)&&n&&!n.persisted}function pC(e,n,i=!1){const r=e.children,o=n.children;if(gt(r)&&gt(o))for(let u=0;u<r.length;u++){const c=r[u];let d=o[u];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=o[u]=pu(o[u]),d.el=c.el),!i&&d.patchFlag!==-2&&pC(c,d)),d.type===Yg&&(d.el=c.el),d.type===Va&&!d.el&&(d.el=c.el)}}function o7(e){const n=e.slice(),i=[0];let r,o,u,c,d;const h=e.length;for(r=0;r<h;r++){const m=e[r];if(m!==0){if(o=i[i.length-1],e[o]<m){n[r]=o,i.push(r);continue}for(u=0,c=i.length-1;u<c;)d=u+c>>1,e[i[d]]<m?u=d+1:c=d;m<e[i[u]]&&(u>0&&(n[r]=i[u-1]),i[u]=r)}}for(u=i.length,c=i[u-1];u-- >0;)i[u]=c,c=n[c];return i}function _x(e){const n=e.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:_x(n)}function G3(e){if(e)for(let n=0;n<e.length;n++)e[n].flags|=8}const s7=Symbol.for("v-scx"),l7=()=>Tt(s7);function On(e,n){return yC(e,null,n)}function je(e,n,i){return yC(e,n,i)}function yC(e,n,i=un){const{immediate:r,deep:o,flush:u,once:c}=i,d=fi({},i),h=n&&r||!n&&u!=="post";let m;if(Og){if(u==="sync"){const S=l7();m=S.__watcherHandles||(S.__watcherHandles=[])}else if(!h){const S=()=>{};return S.stop=jo,S.resume=jo,S.pause=jo,S}}const v=Fi;d.call=(S,y,w)=>vo(S,v,y,w);let p=!1;u==="post"?d.scheduler=S=>{ga(S,v&&v.suspense)}:u!=="sync"&&(p=!0,d.scheduler=(S,y)=>{y?S():dC(S)}),d.augmentJob=S=>{n&&(S.flags|=4),p&&(S.flags|=2,v&&(S.id=v.uid,S.i=v))};const b=PL(e,n,d);return Og&&(m?m.push(b):h&&b()),b}function u7(e,n,i){const r=this.proxy,o=Ln(e)?e.includes(".")?Lx(r,e):()=>r[e]:e.bind(r,r);let u;yt(n)?u=n:(u=n.handler,i=n);const c=$g(this),d=yC(o,u.bind(r),i);return c(),d}function Lx(e,n){const i=n.split(".");return()=>{let r=e;for(let o=0;o<i.length&&r;o++)r=r[i[o]];return r}}const c7=(e,n)=>n==="modelValue"||n==="model-value"?e.modelModifiers:e[`${n}Modifiers`]||e[`${Sa(n)}Modifiers`]||e[`${ad(n)}Modifiers`];function d7(e,n,...i){if(e.isUnmounted)return;const r=e.vnode.props||un;let o=i;const u=n.startsWith("update:"),c=u&&c7(r,n.slice(7));c&&(c.trim&&(o=i.map(v=>Ln(v)?v.trim():v)),c.number&&(o=i.map(Ny)));let d,h=r[d=iy(n)]||r[d=iy(Sa(n))];!h&&u&&(h=r[d=iy(ad(n))]),h&&vo(h,e,6,o);const m=r[d+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,vo(m,e,6,o)}}function Ox(e,n,i=!1){const r=n.emitsCache,o=r.get(e);if(o!==void 0)return o;const u=e.emits;let c={},d=!1;if(!yt(e)){const h=m=>{const v=Ox(m,n,!0);v&&(d=!0,fi(c,v))};!i&&n.mixins.length&&n.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}return!u&&!d?(Sn(e)&&r.set(e,null),null):(gt(u)?u.forEach(h=>c[h]=null):fi(c,u),Sn(e)&&r.set(e,c),c)}function VS(e,n){return!e||!AS(n)?!1:(n=n.slice(2).replace(/Once$/,""),en(e,n[0].toLowerCase()+n.slice(1))||en(e,ad(n))||en(e,n))}function Q3(e){const{type:n,vnode:i,proxy:r,withProxy:o,propsOptions:[u],slots:c,attrs:d,emit:h,render:m,renderCache:v,props:p,data:b,setupState:S,ctx:y,inheritAttrs:w}=e,x=hS(e);let T,D;try{if(i.shapeFlag&4){const A=o||r,O=A;T=Yo(m.call(O,A,v,p,S,b,y)),D=d}else{const A=n;T=Yo(A.length>1?A(p,{attrs:d,slots:c,emit:h}):A(p,null)),D=n.props?d:h7(d)}}catch(A){wg.length=0,ES(A,e,1),T=Z(Va)}let P=T;if(D&&w!==!1){const A=Object.keys(D),{shapeFlag:O}=P;A.length&&O&7&&(u&&A.some(nC)&&(D=f7(D,u)),P=Js(P,D,!1,!0))}return i.dirs&&(P=Js(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(i.dirs):i.dirs),i.transition&&Kc(P,i.transition),T=P,hS(x),T}const h7=e=>{let n;for(const i in e)(i==="class"||i==="style"||AS(i))&&((n||(n={}))[i]=e[i]);return n},f7=(e,n)=>{const i={};for(const r in e)(!nC(r)||!(r.slice(9)in n))&&(i[r]=e[r]);return i};function g7(e,n,i){const{props:r,children:o,component:u}=e,{props:c,children:d,patchFlag:h}=n,m=u.emitsOptions;if(n.dirs||n.transition)return!0;if(i&&h>=0){if(h&1024)return!0;if(h&16)return r?z3(r,c,m):!!c;if(h&8){const v=n.dynamicProps;for(let p=0;p<v.length;p++){const b=v[p];if(c[b]!==r[b]&&!VS(m,b))return!0}}}else return(o||d)&&(!d||!d.$stable)?!0:r===c?!1:r?c?z3(r,c,m):!0:!!c;return!1}function z3(e,n,i){const r=Object.keys(n);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const u=r[o];if(n[u]!==e[u]&&!VS(i,u))return!0}return!1}function m7({vnode:e,parent:n},i){for(;n;){const r=n.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=n.vnode).el=i,n=n.parent;else break}}const kx=e=>e.__isSuspense;function v7(e,n){n&&n.pendingBranch?gt(e)?n.effects.push(...e):n.effects.push(e):_L(e)}const nt=Symbol.for("v-fgt"),Yg=Symbol.for("v-txt"),Va=Symbol.for("v-cmt"),dy=Symbol.for("v-stc"),wg=[];let dr=null;function Dg(e=!1){wg.push(dr=e?null:[])}function S7(){wg.pop(),dr=wg[wg.length-1]||null}let _g=1;function H3(e,n=!1){_g+=e,e<0&&dr&&n&&(dr.hasOnce=!0)}function Rx(e){return e.dynamicChildren=_g>0?dr||hh:null,S7(),_g>0&&dr&&dr.push(e),e}function W3(e,n,i,r,o,u){return Rx(te(e,n,i,r,o,u,!0))}function bC(e,n,i,r,o){return Rx(Z(e,n,i,r,o,!0))}function Lg(e){return e?e.__v_isVNode===!0:!1}function zc(e,n){return e.type===n.type&&e.key===n.key}const Ex=({key:e})=>e??null,Rv=({ref:e,ref_key:n,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?Ln(e)||ei(e)||yt(e)?{i:Ba,r:e,k:n,f:!!i}:e:null);function te(e,n=null,i=null,r=0,o=null,u=e===nt?0:1,c=!1,d=!1){const h={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&Ex(n),ref:n&&Rv(n),scopeId:nx,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Ba};return d?(CC(h,i),u&128&&e.normalize(h)):i&&(h.shapeFlag|=Ln(i)?8:16),_g>0&&!c&&dr&&(h.patchFlag>0||u&6)&&h.patchFlag!==32&&dr.push(h),h}const Z=p7;function p7(e,n=null,i=null,r=0,o=null,u=!1){if((!e||e===UL)&&(e=Va),Lg(e)){const d=Js(e,n,!0);return i&&CC(d,i),_g>0&&!u&&dr&&(d.shapeFlag&6?dr[dr.indexOf(e)]=d:dr.push(d)),d.patchFlag=-2,d}if(I7(e)&&(e=e.__vccOpts),n){n=Fx(n);let{class:d,style:h}=n;d&&!Ln(d)&&(n.class=Ge(d)),Sn(h)&&(RS(h)&&!gt(h)&&(h=fi({},h)),n.style=$e(h))}const c=Ln(e)?1:kx(e)?128:ax(e)?64:Sn(e)?4:yt(e)?2:0;return te(e,n,i,r,o,c,u,!0)}function Fx(e){return e?RS(e)||Dx(e)?fi({},e):e:null}function Js(e,n,i=!1,r=!1){const{props:o,ref:u,patchFlag:c,children:d,transition:h}=e,m=n?Be(o||{},n):o,v={__v_isVNode:!0,__v_skip:!0,type:e.type,props:m,key:m&&Ex(m),ref:n&&n.ref?i&&u?gt(u)?u.concat(Rv(n)):[u,Rv(n)]:Rv(n):u,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==nt?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:h,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Js(e.ssContent),ssFallback:e.ssFallback&&Js(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return h&&r&&Kc(v,h.clone(v)),v}function Wr(e=" ",n=0){return Z(Yg,null,e,n)}function Yo(e){return e==null||typeof e=="boolean"?Z(Va):gt(e)?Z(nt,null,e.slice()):Lg(e)?pu(e):Z(Yg,null,String(e))}function pu(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Js(e)}function CC(e,n){let i=0;const{shapeFlag:r}=e;if(n==null)n=null;else if(gt(n))i=16;else if(typeof n=="object")if(r&65){const o=n.default;o&&(o._c&&(o._d=!1),CC(e,o()),o._c&&(o._d=!0));return}else{i=32;const o=n._;!o&&!Dx(n)?n._ctx=Ba:o===3&&Ba&&(Ba.slots._===1?n._=1:(n._=2,e.patchFlag|=1024))}else yt(n)?(n={default:n,_ctx:Ba},i=32):(n=String(n),r&64?(i=16,n=[Wr(n)]):i=8);e.children=n,e.shapeFlag|=i}function Be(...e){const n={};for(let i=0;i<e.length;i++){const r=e[i];for(const o in r)if(o==="class")n.class!==r.class&&(n.class=Ge([n.class,r.class]));else if(o==="style")n.style=$e([n.style,r.style]);else if(AS(o)){const u=n[o],c=r[o];c&&u!==c&&!(gt(u)&&u.includes(c))&&(n[o]=u?[].concat(u,c):c)}else o!==""&&(n[o]=r[o])}return n}function Qo(e,n,i,r=null){vo(e,n,7,[i,r])}const y7=bx();let b7=0;function C7(e,n,i){const r=e.type,o=(n?n.appContext:e.appContext)||y7,u={uid:b7++,vnode:e,type:r,parent:n,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new R6(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(o.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Tx(r,o),emitsOptions:Ox(r,o),emit:null,emitted:null,propsDefaults:un,inheritAttrs:r.inheritAttrs,ctx:un,data:un,props:un,attrs:un,slots:un,refs:un,setupState:un,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=n?n.root:u,u.emit=d7.bind(null,u),e.ce&&e.ce(u),u}let Fi=null;const BS=()=>Fi||Ba;let mS,$y;{const e=OS(),n=(i,r)=>{let o;return(o=e[i])||(o=e[i]=[]),o.push(r),u=>{o.length>1?o.forEach(c=>c(u)):o[0](u)}};mS=n("__VUE_INSTANCE_SETTERS__",i=>Fi=i),$y=n("__VUE_SSR_SETTERS__",i=>Og=i)}const $g=e=>{const n=Fi;return mS(e),e.scope.on(),()=>{e.scope.off(),mS(n)}},Y3=()=>{Fi&&Fi.scope.off(),mS(null)};function Mx(e){return e.vnode.shapeFlag&4}let Og=!1;function w7(e,n=!1,i=!1){n&&$y(n);const{props:r,children:o}=e.vnode,u=Mx(e);KL(e,r,u,n),t7(e,o,i||n);const c=u?D7(e,n):void 0;return n&&$y(!1),c}function D7(e,n){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,QL);const{setup:r}=i;if(r){Xs();const o=e.setupContext=r.length>1?T7(e):null,u=$g(e),c=Wg(r,e,0,[e.props,o]),d=P6(c);if(Ks(),u(),(d||e.sp)&&!bg(e)&&hx(e),d){if(c.then(Y3,Y3),n)return c.then(h=>{$3(e,h)}).catch(h=>{ES(h,e,0)});e.asyncDep=c}else $3(e,c)}else Vx(e)}function $3(e,n,i){yt(n)?e.type.__ssrInlineRender?e.ssrRender=n:e.render=n:Sn(n)&&(e.setupState=X6(n)),Vx(e)}function Vx(e,n,i){const r=e.type;e.render||(e.render=r.render||jo);{const o=$g(e);Xs();try{zL(e)}finally{Ks(),o()}}}const x7={get(e,n){return Zi(e,"get",""),e[n]}};function T7(e){const n=i=>{e.exposed=i||{}};return{attrs:new Proxy(e.attrs,x7),slots:e.slots,emit:e.emit,expose:n}}function NS(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(X6($6(e.exposed)),{get(n,i){if(i in n)return n[i];if(i in Cg)return Cg[i](e)},has(n,i){return i in n||i in Cg}})):e.proxy}function P7(e,n=!0){return yt(e)?e.displayName||e.name:e.name||n&&e.__name}function I7(e){return yt(e)&&"__vccOpts"in e}const se=(e,n)=>xL(e,n,Og);function es(e,n,i){const r=arguments.length;return r===2?Sn(n)&&!gt(n)?Lg(n)?Z(e,null,[n]):Z(e,n):Z(e,null,n):(r>3?i=Array.prototype.slice.call(arguments,2):r===3&&Lg(i)&&(i=[i]),Z(e,n,i))}const Bx="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let jy;const j3=typeof window<"u"&&window.trustedTypes;if(j3)try{jy=j3.createPolicy("vue",{createHTML:e=>e})}catch{}const Nx=jy?e=>jy.createHTML(e):e=>e,A7="http://www.w3.org/2000/svg",_7="http://www.w3.org/1998/Math/MathML",Ws=typeof document<"u"?document:null,X3=Ws&&Ws.createElement("template"),L7={insert:(e,n,i)=>{n.insertBefore(e,i||null)},remove:e=>{const n=e.parentNode;n&&n.removeChild(e)},createElement:(e,n,i,r)=>{const o=n==="svg"?Ws.createElementNS(A7,e):n==="mathml"?Ws.createElementNS(_7,e):i?Ws.createElement(e,{is:i}):Ws.createElement(e);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>Ws.createTextNode(e),createComment:e=>Ws.createComment(e),setText:(e,n)=>{e.nodeValue=n},setElementText:(e,n)=>{e.textContent=n},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ws.querySelector(e),setScopeId(e,n){e.setAttribute(n,"")},insertStaticContent(e,n,i,r,o,u){const c=i?i.previousSibling:n.lastChild;if(o&&(o===u||o.nextSibling))for(;n.insertBefore(o.cloneNode(!0),i),!(o===u||!(o=o.nextSibling)););else{X3.innerHTML=Nx(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const d=X3.content;if(r==="svg"||r==="mathml"){const h=d.firstChild;for(;h.firstChild;)d.appendChild(h.firstChild);d.removeChild(h)}n.insertBefore(d,i)}return[c?c.nextSibling:n.firstChild,i?i.previousSibling:n.lastChild]}},cu="transition",b1="animation",Sh=Symbol("_vtc"),Ux={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},qx=fi({},lx,Ux),O7=e=>(e.displayName="Transition",e.props=qx,e),wu=O7((e,{slots:n})=>es(RL,Gx(e),n)),Nc=(e,n=[])=>{gt(e)?e.forEach(i=>i(...n)):e&&e(...n)},K3=e=>e?gt(e)?e.some(n=>n.length>1):e.length>1:!1;function Gx(e){const n={};for(const M in e)M in Ux||(n[M]=e[M]);if(e.css===!1)return n;const{name:i="v",type:r,duration:o,enterFromClass:u=`${i}-enter-from`,enterActiveClass:c=`${i}-enter-active`,enterToClass:d=`${i}-enter-to`,appearFromClass:h=u,appearActiveClass:m=c,appearToClass:v=d,leaveFromClass:p=`${i}-leave-from`,leaveActiveClass:b=`${i}-leave-active`,leaveToClass:S=`${i}-leave-to`}=e,y=k7(o),w=y&&y[0],x=y&&y[1],{onBeforeEnter:T,onEnter:D,onEnterCancelled:P,onLeave:A,onLeaveCancelled:O,onBeforeAppear:F=T,onAppear:q=D,onAppearCancelled:R=P}=n,E=(M,_,I,B)=>{M._enterCancelled=B,hu(M,_?v:d),hu(M,_?m:c),I&&I()},N=(M,_)=>{M._isLeaving=!1,hu(M,p),hu(M,S),hu(M,b),_&&_()},G=M=>(_,I)=>{const B=M?q:D,H=()=>E(_,M,I);Nc(B,[_,H]),Z3(()=>{hu(_,M?h:u),zo(_,M?v:d),K3(B)||J3(_,r,w,H)})};return fi(n,{onBeforeEnter(M){Nc(T,[M]),zo(M,u),zo(M,c)},onBeforeAppear(M){Nc(F,[M]),zo(M,h),zo(M,m)},onEnter:G(!1),onAppear:G(!0),onLeave(M,_){M._isLeaving=!0;const I=()=>N(M,_);zo(M,p),M._enterCancelled?(zo(M,b),Xy()):(Xy(),zo(M,b)),Z3(()=>{M._isLeaving&&(hu(M,p),zo(M,S),K3(A)||J3(M,r,x,I))}),Nc(A,[M,I])},onEnterCancelled(M){E(M,!1,void 0,!0),Nc(P,[M])},onAppearCancelled(M){E(M,!0,void 0,!0),Nc(R,[M])},onLeaveCancelled(M){N(M),Nc(O,[M])}})}function k7(e){if(e==null)return null;if(Sn(e))return[hy(e.enter),hy(e.leave)];{const n=hy(e);return[n,n]}}function hy(e){return z_(e)}function zo(e,n){n.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e[Sh]||(e[Sh]=new Set)).add(n)}function hu(e,n){n.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const i=e[Sh];i&&(i.delete(n),i.size||(e[Sh]=void 0))}function Z3(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let R7=0;function J3(e,n,i,r){const o=e._endId=++R7,u=()=>{o===e._endId&&r()};if(i!=null)return setTimeout(u,i);const{type:c,timeout:d,propCount:h}=Qx(e,n);if(!c)return r();const m=c+"end";let v=0;const p=()=>{e.removeEventListener(m,b),u()},b=S=>{S.target===e&&++v>=h&&p()};setTimeout(()=>{v<h&&p()},d+1),e.addEventListener(m,b)}function Qx(e,n){const i=window.getComputedStyle(e),r=y=>(i[y]||"").split(", "),o=r(`${cu}Delay`),u=r(`${cu}Duration`),c=ew(o,u),d=r(`${b1}Delay`),h=r(`${b1}Duration`),m=ew(d,h);let v=null,p=0,b=0;n===cu?c>0&&(v=cu,p=c,b=u.length):n===b1?m>0&&(v=b1,p=m,b=h.length):(p=Math.max(c,m),v=p>0?c>m?cu:b1:null,b=v?v===cu?u.length:h.length:0);const S=v===cu&&/\b(transform|all)(,|$)/.test(r(`${cu}Property`).toString());return{type:v,timeout:p,propCount:b,hasTransform:S}}function ew(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max(...n.map((i,r)=>tw(i)+tw(e[r])))}function tw(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Xy(){return document.body.offsetHeight}function E7(e,n,i){const r=e[Sh];r&&(n=(n?[n,...r]:[...r]).join(" ")),n==null?e.removeAttribute("class"):i?e.setAttribute("class",n):e.className=n}const vS=Symbol("_vod"),zx=Symbol("_vsh"),po={beforeMount(e,{value:n},{transition:i}){e[vS]=e.style.display==="none"?"":e.style.display,i&&n?i.beforeEnter(e):C1(e,n)},mounted(e,{value:n},{transition:i}){i&&n&&i.enter(e)},updated(e,{value:n,oldValue:i},{transition:r}){!n!=!i&&(r?n?(r.beforeEnter(e),C1(e,!0),r.enter(e)):r.leave(e,()=>{C1(e,!1)}):C1(e,n))},beforeUnmount(e,{value:n}){C1(e,n)}};function C1(e,n){e.style.display=n?e[vS]:"none",e[zx]=!n}const F7=Symbol(""),M7=/(^|;)\s*display\s*:/;function V7(e,n,i){const r=e.style,o=Ln(i);let u=!1;if(i&&!o){if(n)if(Ln(n))for(const c of n.split(";")){const d=c.slice(0,c.indexOf(":")).trim();i[d]==null&&Ev(r,d,"")}else for(const c in n)i[c]==null&&Ev(r,c,"");for(const c in i)c==="display"&&(u=!0),Ev(r,c,i[c])}else if(o){if(n!==i){const c=r[F7];c&&(i+=";"+c),r.cssText=i,u=M7.test(i)}}else n&&e.removeAttribute("style");vS in e&&(e[vS]=u?r.display:"",e[zx]&&(r.display="none"))}const nw=/\s*!important$/;function Ev(e,n,i){if(gt(i))i.forEach(r=>Ev(e,n,r));else if(i==null&&(i=""),n.startsWith("--"))e.setProperty(n,i);else{const r=B7(e,n);nw.test(i)?e.setProperty(ad(r),i.replace(nw,""),"important"):e[r]=i}}const iw=["Webkit","Moz","ms"],fy={};function B7(e,n){const i=fy[n];if(i)return i;let r=Sa(n);if(r!=="filter"&&r in e)return fy[n]=r;r=Jo(r);for(let o=0;o<iw.length;o++){const u=iw[o]+r;if(u in e)return fy[n]=u}return n}const aw="http://www.w3.org/1999/xlink";function rw(e,n,i,r,o,u=K_(n)){r&&n.startsWith("xlink:")?i==null?e.removeAttributeNS(aw,n.slice(6,n.length)):e.setAttributeNS(aw,n,i):i==null||u&&!L6(i)?e.removeAttribute(n):e.setAttribute(n,u?"":Tu(i)?String(i):i)}function ow(e,n,i,r,o){if(n==="innerHTML"||n==="textContent"){i!=null&&(e[n]=n==="innerHTML"?Nx(i):i);return}const u=e.tagName;if(n==="value"&&u!=="PROGRESS"&&!u.includes("-")){const d=u==="OPTION"?e.getAttribute("value")||"":e.value,h=i==null?e.type==="checkbox"?"on":"":String(i);(d!==h||!("_value"in e))&&(e.value=h),i==null&&e.removeAttribute(n),e._value=i;return}let c=!1;if(i===""||i==null){const d=typeof e[n];d==="boolean"?i=L6(i):i==null&&d==="string"?(i="",c=!0):d==="number"&&(i=0,c=!0)}try{e[n]=i}catch{}c&&e.removeAttribute(o||n)}function ah(e,n,i,r){e.addEventListener(n,i,r)}function N7(e,n,i,r){e.removeEventListener(n,i,r)}const sw=Symbol("_vei");function U7(e,n,i,r,o=null){const u=e[sw]||(e[sw]={}),c=u[n];if(r&&c)c.value=r;else{const[d,h]=q7(n);if(r){const m=u[n]=z7(r,o);ah(e,d,m,h)}else c&&(N7(e,d,c,h),u[n]=void 0)}}const lw=/(?:Once|Passive|Capture)$/;function q7(e){let n;if(lw.test(e)){n={};let r;for(;r=e.match(lw);)e=e.slice(0,e.length-r[0].length),n[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ad(e.slice(2)),n]}let gy=0;const G7=Promise.resolve(),Q7=()=>gy||(G7.then(()=>gy=0),gy=Date.now());function z7(e,n){const i=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=i.attached)return;vo(H7(r,i.value),n,5,[r])};return i.value=e,i.attached=Q7(),i}function H7(e,n){if(gt(n)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},n.map(r=>o=>!o._stopped&&r&&r(o))}else return n}const uw=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,W7=(e,n,i,r,o,u)=>{const c=o==="svg";n==="class"?E7(e,r,c):n==="style"?V7(e,i,r):AS(n)?nC(n)||U7(e,n,i,r,u):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):Y7(e,n,r,c))?(ow(e,n,r),!e.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&rw(e,n,r,c,u,n!=="value")):e._isVueCE&&(/[A-Z]/.test(n)||!Ln(r))?ow(e,Sa(n),r,u,n):(n==="true-value"?e._trueValue=r:n==="false-value"&&(e._falseValue=r),rw(e,n,r,c))};function Y7(e,n,i,r){if(r)return!!(n==="innerHTML"||n==="textContent"||n in e&&uw(n)&&yt(i));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="autocorrect"||n==="form"||n==="list"&&e.tagName==="INPUT"||n==="type"&&e.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return uw(n)&&Ln(i)?!1:n in e}const Hx=new WeakMap,Wx=new WeakMap,SS=Symbol("_moveCb"),cw=Symbol("_enterCb"),$7=e=>(delete e.props.mode,e),j7=$7({name:"TransitionGroup",props:fi({},qx,{tag:String,moveClass:String}),setup(e,{slots:n}){const i=BS(),r=sx();let o,u;return gC(()=>{if(!o.length)return;const c=e.moveClass||`${e.name||"v"}-move`;if(!J7(o[0].el,i.vnode.el,c)){o=[];return}o.forEach(X7),o.forEach(K7);const d=o.filter(Z7);Xy(),d.forEach(h=>{const m=h.el,v=m.style;zo(m,c),v.transform=v.webkitTransform=v.transitionDuration="";const p=m[SS]=b=>{b&&b.target!==m||(!b||/transform$/.test(b.propertyName))&&(m.removeEventListener("transitionend",p),m[SS]=null,hu(m,c))};m.addEventListener("transitionend",p)}),o=[]}),()=>{const c=dt(e),d=Gx(c);let h=c.tag||nt;if(o=[],u)for(let m=0;m<u.length;m++){const v=u[m];v.el&&v.el instanceof Element&&(o.push(v),Kc(v,Ag(v,d,r,i)),Hx.set(v,v.el.getBoundingClientRect()))}u=n.default?hC(n.default()):[];for(let m=0;m<u.length;m++){const v=u[m];v.key!=null&&Kc(v,Ag(v,d,r,i))}return Z(h,null,u)}}}),wC=j7;function X7(e){const n=e.el;n[SS]&&n[SS](),n[cw]&&n[cw]()}function K7(e){Wx.set(e,e.el.getBoundingClientRect())}function Z7(e){const n=Hx.get(e),i=Wx.get(e),r=n.left-i.left,o=n.top-i.top;if(r||o){const u=e.el.style;return u.transform=u.webkitTransform=`translate(${r}px,${o}px)`,u.transitionDuration="0s",e}}function J7(e,n,i){const r=e.cloneNode(),o=e[Sh];o&&o.forEach(d=>{d.split(/\s+/).forEach(h=>h&&r.classList.remove(h))}),i.split(/\s+/).forEach(d=>d&&r.classList.add(d)),r.style.display="none";const u=n.nodeType===1?n:n.parentNode;u.appendChild(r);const{hasTransform:c}=Qx(r);return u.removeChild(r),c}const dw=e=>{const n=e.props["onUpdate:modelValue"]||!1;return gt(n)?i=>Ov(n,i):n};function eO(e){e.target.composing=!0}function hw(e){const n=e.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const my=Symbol("_assign"),tO={created(e,{modifiers:{lazy:n,trim:i,number:r}},o){e[my]=dw(o);const u=r||o.props&&o.props.type==="number";ah(e,n?"change":"input",c=>{if(c.target.composing)return;let d=e.value;i&&(d=d.trim()),u&&(d=Ny(d)),e[my](d)}),i&&ah(e,"change",()=>{e.value=e.value.trim()}),n||(ah(e,"compositionstart",eO),ah(e,"compositionend",hw),ah(e,"change",hw))},mounted(e,{value:n}){e.value=n??""},beforeUpdate(e,{value:n,oldValue:i,modifiers:{lazy:r,trim:o,number:u}},c){if(e[my]=dw(c),e.composing)return;const d=(u||e.type==="number")&&!/^0\d/.test(e.value)?Ny(e.value):e.value,h=n??"";d!==h&&(document.activeElement===e&&e.type!=="range"&&(r&&n===i||o&&e.value.trim()===h)||(e.value=h))}},nO=["ctrl","shift","alt","meta"],iO={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,n)=>nO.some(i=>e[`${i}Key`]&&!n.includes(i))},Dv=(e,n)=>{const i=e._withMods||(e._withMods={}),r=n.join(".");return i[r]||(i[r]=(o,...u)=>{for(let c=0;c<n.length;c++){const d=iO[n[c]];if(d&&d(o,n))return}return e(o,...u)})},aO=fi({patchProp:W7},L7);let fw;function Yx(){return fw||(fw=i7(aO))}const $x=(...e)=>{Yx().render(...e)},rO=(...e)=>{const n=Yx().createApp(...e),{mount:i}=n;return n.mount=r=>{const o=sO(r);if(!o)return;const u=n._component;!yt(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const c=i(o,!1,oO(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),c},n};function oO(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function sO(e){return Ln(e)?document.querySelector(e):e}function va(e,n){let i;function r(){i=xg(),i.run(()=>n.length?n(()=>{i==null||i.stop(),r()}):n())}je(e,o=>{o&&!i?r():o||(i==null||i.stop(),i=void 0)},{immediate:!0}),Ii(()=>{i==null||i.stop()})}const Ht=typeof window<"u",DC=Ht&&"IntersectionObserver"in window,lO=Ht&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),gw=Ht&&"EyeDropper"in window;function mw(e,n,i){uO(e,n),n.set(e,i)}function uO(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vw(e,n,i){return e.set(jx(e,n),i),i}function Gs(e,n){return e.get(jx(e,n))}function jx(e,n,i){if(typeof e=="function"?e===n:e.has(n))return arguments.length<3?n:i;throw new TypeError("Private element is not present on this object")}function Xx(e,n,i){const r=n.length-1;if(r<0)return e===void 0?i:e;for(let o=0;o<r;o++){if(e==null)return i;e=e[n[o]]}return e==null||e[n[r]]===void 0?i:e[n[r]]}function Mi(e,n){if(e===n)return!0;if(e instanceof Date&&n instanceof Date&&e.getTime()!==n.getTime()||e!==Object(e)||n!==Object(n))return!1;const i=Object.keys(e);return i.length!==Object.keys(n).length?!1:i.every(r=>Mi(e[r],n[r]))}function Zc(e,n,i){return e==null||!n||typeof n!="string"?i:e[n]!==void 0?e[n]:(n=n.replace(/\[(\w+)\]/g,".$1"),n=n.replace(/^\./,""),Xx(e,n.split("."),i))}function Jn(e,n,i){if(n===!0)return e===void 0?i:e;if(n==null||typeof n=="boolean")return i;if(e!==Object(e)){if(typeof n!="function")return i;const o=n(e,i);return typeof o>"u"?i:o}if(typeof n=="string")return Zc(e,n,i);if(Array.isArray(n))return Xx(e,n,i);if(typeof n!="function")return i;const r=n(e,i);return typeof r>"u"?i:r}function $o(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(i,r)=>n+r)}function Ke(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(e==null||e==="")return;const i=Number(e);return isNaN(i)?String(e):isFinite(i)?`${i}${n}`:void 0}function kg(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function Sw(e){let n;return e!==null&&typeof e=="object"&&((n=Object.getPrototypeOf(e))===Object.prototype||n===null)}function xC(e){if(e&&"$el"in e){const n=e.$el;return(n==null?void 0:n.nodeType)===Node.TEXT_NODE?n.nextElementSibling:n}return e}const pw=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),Ky=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function Kx(e){return Object.keys(e)}function Hc(e,n){return n.every(i=>e.hasOwnProperty(i))}function Pu(e,n){const i={};for(const r of n)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}function Zy(e,n,i){const r=Object.create(null),o=Object.create(null);for(const u in e)n.some(c=>c instanceof RegExp?c.test(u):c===u)?r[u]=e[u]:o[u]=e[u];return[r,o]}function kn(e,n){const i={...e};return n.forEach(r=>delete i[r]),i}const Zx=/^on[^a-z]/,TC=e=>Zx.test(e),cO=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],dO=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function hO(e){return e.isComposing&&dO.includes(e.key)}function Iu(e){const[n,i]=Zy(e,[Zx]),r=kn(n,cO),[o,u]=Zy(i,["class","style","id",/^data-/]);return Object.assign(o,n),Object.assign(u,r),[o,u]}function Dn(e){return e==null?[]:Array.isArray(e)?e:[e]}function fO(e,n){let i=0;const r=function(){for(var o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];clearTimeout(i),i=setTimeout(()=>e(...u),Ma(n))};return r.clear=()=>{clearTimeout(i)},r.immediate=e,r}function nn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(n,Math.min(i,e))}function yw(e){const n=e.toString().trim();return n.includes(".")?n.length-n.indexOf(".")-1:0}function bw(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+i.repeat(Math.max(0,n-e.length))}function Cw(e,n){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,n-e.length))+e}function gO(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const i=[];let r=0;for(;r<e.length;)i.push(e.substr(r,n)),r+=n;return i}function ww(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<n)return`${e} B`;const i=n===1024?["Ki","Mi","Gi"]:["k","M","G"];let r=-1;for(;Math.abs(e)>=n&&r<i.length-1;)e/=n,++r;return`${e.toFixed(1)} ${i[r]}B`}function Ji(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;const r={};for(const o in e)r[o]=e[o];for(const o in n){const u=e[o],c=n[o];if(Sw(u)&&Sw(c)){r[o]=Ji(u,c,i);continue}if(i&&Array.isArray(u)&&Array.isArray(c)){r[o]=i(u,c);continue}r[o]=c}return r}function Jx(e){return e.map(n=>n.type===nt?Jx(n.children):n).flat()}function $c(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if($c.cache.has(e))return $c.cache.get(e);const n=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return $c.cache.set(e,n),n}$c.cache=new Map;function uh(e,n){if(!n||typeof n!="object")return[];if(Array.isArray(n))return n.map(i=>uh(e,i)).flat(1);if(n.suspense)return uh(e,n.ssContent);if(Array.isArray(n.children))return n.children.map(i=>uh(e,i)).flat(1);if(n.component){if(Object.getOwnPropertySymbols(n.component.provides).includes(e))return[n.component];if(n.component.subTree)return uh(e,n.component.subTree).flat(1)}return[]}var Z0=new WeakMap,Uc=new WeakMap;class e8{constructor(n){mw(this,Z0,[]),mw(this,Uc,0),this.size=n}get isFull(){return Gs(Z0,this).length===this.size}push(n){Gs(Z0,this)[Gs(Uc,this)]=n,vw(Uc,this,(Gs(Uc,this)+1)%this.size)}values(){return Gs(Z0,this).slice(Gs(Uc,this)).concat(Gs(Z0,this).slice(0,Gs(Uc,this)))}clear(){Gs(Z0,this).length=0,vw(Uc,this,0)}}function mO(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function PC(e){const n=Ei({});On(()=>{const r=e();for(const o in r)n[o]=r[o]},{flush:"sync"});const i={};for(const r in n)i[r]=be(()=>n[r]);return i}function pS(e,n){return e.includes(n)}function t8(e){return e[2].toLowerCase()+e.slice(3)}const Pi=()=>[Function,Array];function Dw(e,n){return n="on"+Jo(n),!!(e[n]||e[`${n}Once`]||e[`${n}Capture`]||e[`${n}OnceCapture`]||e[`${n}CaptureOnce`])}function US(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if(Array.isArray(e))for(const o of e)o(...i);else typeof e=="function"&&e(...i)}function Rg(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(r=>`${r}${n?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(i)]}function n8(e,n,i){let r,o=e.indexOf(document.activeElement);const u=n==="next"?1:-1;do o+=u,r=e[o];while((!r||r.offsetParent==null||!((i==null?void 0:i(r))??!0))&&o<e.length&&o>=0);return r}function jc(e,n){var r,o,u,c;const i=Rg(e);if(n==null)(e===document.activeElement||!e.contains(document.activeElement))&&((r=i[0])==null||r.focus());else if(n==="first")(o=i[0])==null||o.focus();else if(n==="last")(u=i.at(-1))==null||u.focus();else if(typeof n=="number")(c=i[n])==null||c.focus();else{const d=n8(i,n);d?d.focus():jc(e,n==="next"?"first":"last")}}function xv(e){return e==null||typeof e=="string"&&e.trim()===""}function i8(){}function ph(e,n){if(!(Ht&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${n})`)))return null;try{return!!e&&e.matches(n)}catch{return null}}function qS(e){return e.some(n=>Lg(n)?n.type===Va?!1:n.type!==nt||qS(n.children):!0)?e:null}function vO(e,n){if(!Ht||e===0)return n(),()=>{};const i=window.setTimeout(n,e);return()=>window.clearTimeout(i)}function SO(e,n){const i=e.clientX,r=e.clientY,o=n.getBoundingClientRect(),u=o.left,c=o.top,d=o.right,h=o.bottom;return i>=u&&i<=d&&r>=c&&r<=h}function yS(){const e=ze(),n=i=>{e.value=i};return Object.defineProperty(n,"value",{enumerable:!0,get:()=>e.value,set:i=>e.value=i}),Object.defineProperty(n,"el",{enumerable:!0,get:()=>xC(e.value)}),n}function yh(e){const n=e.key.length===1,i=!e.ctrlKey&&!e.metaKey&&!e.altKey;return n&&i}function a8(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="bigint"}function pO(e,n){const i=e.split("").filter(r=>/[\d\-.]/.test(r)).filter((r,o,u)=>o===0&&/[-]/.test(r)||r==="."&&o===u.indexOf(".")||/\d/.test(r)).join("");if(n===0)return i.split(".")[0];if(n!==null&&/\.\d/.test(i)){const r=i.split(".");return[r[0],r[1].substring(0,n)].join(".")}return i}function yO(e){if(!e)return;const n={};for(const i in e)n[Sa(i)]=e[i];return n}const r8=["top","bottom"],bO=["start","end","left","right"];function Jy(e,n){let[i,r]=e.split(" ");return r||(r=pS(r8,i)?"start":pS(bO,i)?"top":"center"),{side:e2(i,n),align:e2(r,n)}}function e2(e,n){return e==="start"?n?"right":"left":e==="end"?n?"left":"right":e}function vy(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function Sy(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function xw(e){return{side:e.align,align:e.side}}function Tw(e){return pS(r8,e.side)?"y":"x"}class Xo{constructor(n){let{x:i,y:r,width:o,height:u}=n;this.x=i,this.y=r,this.width=o,this.height=u}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Pw(e,n){return{x:{before:Math.max(0,n.left-e.left),after:Math.max(0,e.right-n.right)},y:{before:Math.max(0,n.top-e.top),after:Math.max(0,e.bottom-n.bottom)}}}function o8(e){return Array.isArray(e)?new Xo({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function CO(e){if(e===document.documentElement)return visualViewport?new Xo({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale,height:visualViewport.height*visualViewport.scale}):new Xo({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});{const n=e.getBoundingClientRect();return new Xo({x:n.x,y:n.y,width:e.clientWidth,height:e.clientHeight})}}function IC(e){const n=e.getBoundingClientRect(),i=getComputedStyle(e),r=i.transform;if(r){let o,u,c,d,h;if(r.startsWith("matrix3d("))o=r.slice(9,-1).split(/, /),u=Number(o[0]),c=Number(o[5]),d=Number(o[12]),h=Number(o[13]);else if(r.startsWith("matrix("))o=r.slice(7,-1).split(/, /),u=Number(o[0]),c=Number(o[3]),d=Number(o[4]),h=Number(o[5]);else return new Xo(n);const m=i.transformOrigin,v=n.x-d-(1-u)*parseFloat(m),p=n.y-h-(1-c)*parseFloat(m.slice(m.indexOf(" ")+1)),b=u?n.width/u:e.offsetWidth+1,S=c?n.height/c:e.offsetHeight+1;return new Xo({x:v,y:p,width:b,height:S})}else return new Xo(n)}function Wc(e,n,i){if(typeof e.animate>"u")return{finished:Promise.resolve()};let r;try{r=e.animate(n,i)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(o=>{r.onfinish=()=>{o(r)}})),r}const Fv=new WeakMap;function wO(e,n){Object.keys(n).forEach(i=>{if(TC(i)){const r=t8(i),o=Fv.get(e);if(n[i]==null)o==null||o.forEach(u=>{const[c,d]=u;c===r&&(e.removeEventListener(r,d),o.delete(u))});else if(!o||![...o].some(u=>u[0]===r&&u[1]===n[i])){e.addEventListener(r,n[i]);const u=o||new Set;u.add([r,n[i]]),Fv.has(e)||Fv.set(e,u)}}else n[i]==null?e.removeAttribute(i):e.setAttribute(i,n[i])})}function DO(e,n){Object.keys(n).forEach(i=>{if(TC(i)){const r=t8(i),o=Fv.get(e);o==null||o.forEach(u=>{const[c,d]=u;c===r&&(e.removeEventListener(r,d),o.delete(u))})}else e.removeAttribute(i)})}const J0=2.4,Iw=.2126729,Aw=.7151522,_w=.072175,xO=.55,TO=.58,PO=.57,IO=.62,Tv=.03,Lw=1.45,AO=5e-4,_O=1.25,LO=1.25,OO=.078,Ow=12.82051282051282,Pv=.06,kO=.001;function kw(e,n){const i=(e.r/255)**J0,r=(e.g/255)**J0,o=(e.b/255)**J0,u=(n.r/255)**J0,c=(n.g/255)**J0,d=(n.b/255)**J0;let h=i*Iw+r*Aw+o*_w,m=u*Iw+c*Aw+d*_w;if(h<=Tv&&(h+=(Tv-h)**Lw),m<=Tv&&(m+=(Tv-m)**Lw),Math.abs(m-h)<AO)return 0;let v;if(m>h){const p=(m**xO-h**TO)*_O;v=p<kO?0:p<OO?p-p*Ow*Pv:p-Pv}else{const p=(m**IO-h**PO)*LO;v=p>-.001?0:p>-.078?p-p*Ow*Pv:p+Pv}return v*100}function RO(e,n){n=Array.isArray(n)?n.slice(0,-1).map(i=>`'${i}'`).join(", ")+` or '${n.at(-1)}'`:`'${n}'`}const bS=.20689655172413793,EO=e=>e>bS**3?Math.cbrt(e):e/(3*bS**2)+4/29,FO=e=>e>bS?e**3:3*bS**2*(e-4/29);function s8(e){const n=EO,i=n(e[1]);return[116*i-16,500*(n(e[0]/.95047)-i),200*(i-n(e[2]/1.08883))]}function l8(e){const n=FO,i=(e[0]+16)/116;return[n(i+e[1]/500)*.95047,n(i),n(i-e[2]/200)*1.08883]}const MO=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],VO=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,BO=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],NO=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function u8(e){const n=Array(3),i=VO,r=MO;for(let o=0;o<3;++o)n[o]=Math.round(nn(i(r[o][0]*e[0]+r[o][1]*e[1]+r[o][2]*e[2]))*255);return{r:n[0],g:n[1],b:n[2]}}function AC(e){let{r:n,g:i,b:r}=e;const o=[0,0,0],u=NO,c=BO;n=u(n/255),i=u(i/255),r=u(r/255);for(let d=0;d<3;++d)o[d]=c[d][0]*n+c[d][1]*i+c[d][2]*r;return o}function t2(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function UO(e){return t2(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const Rw=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,qO={rgb:(e,n,i,r)=>({r:e,g:n,b:i,a:r}),rgba:(e,n,i,r)=>({r:e,g:n,b:i,a:r}),hsl:(e,n,i,r)=>Ew({h:e,s:n,l:i,a:r}),hsla:(e,n,i,r)=>Ew({h:e,s:n,l:i,a:r}),hsv:(e,n,i,r)=>Ko({h:e,s:n,v:i,a:r}),hsva:(e,n,i,r)=>Ko({h:e,s:n,v:i,a:r})};function hr(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&Rw.test(e)){const{groups:n}=e.match(Rw),{fn:i,values:r}=n,o=r.split(/,\s*|\s*\/\s*|\s+/).map((u,c)=>u.endsWith("%")||c>0&&c<3&&["hsl","hsla","hsv","hsva"].includes(i)?parseFloat(u)/100:parseFloat(u));return qO[i](...o)}else if(typeof e=="string"){let n=e.startsWith("#")?e.slice(1):e;return[3,4].includes(n.length)?n=n.split("").map(i=>i+i).join(""):[6,8].includes(n.length),f8(n)}else if(typeof e=="object"){if(Hc(e,["r","g","b"]))return e;if(Hc(e,["h","s","l"]))return Ko(_C(e));if(Hc(e,["h","s","v"]))return Ko(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Ko(e){const{h:n,s:i,v:r,a:o}=e,u=d=>{const h=(d+n/60)%6;return r-r*i*Math.max(Math.min(h,4-h,1),0)},c=[u(5),u(3),u(1)].map(d=>Math.round(d*255));return{r:c[0],g:c[1],b:c[2],a:o}}function Ew(e){return Ko(_C(e))}function jg(e){if(!e)return{h:0,s:1,v:1,a:1};const n=e.r/255,i=e.g/255,r=e.b/255,o=Math.max(n,i,r),u=Math.min(n,i,r);let c=0;o!==u&&(o===n?c=60*(0+(i-r)/(o-u)):o===i?c=60*(2+(r-n)/(o-u)):o===r&&(c=60*(4+(n-i)/(o-u)))),c<0&&(c=c+360);const d=o===0?0:(o-u)/o,h=[c,d,o];return{h:h[0],s:h[1],v:h[2],a:e.a}}function n2(e){const{h:n,s:i,v:r,a:o}=e,u=r-r*i/2,c=u===1||u===0?0:(r-u)/Math.min(u,1-u);return{h:n,s:c,l:u,a:o}}function _C(e){const{h:n,s:i,l:r,a:o}=e,u=r+i*Math.min(r,1-r),c=u===0?0:2-2*r/u;return{h:n,s:c,v:u,a:o}}function c8(e){let{r:n,g:i,b:r,a:o}=e;return o===void 0?`rgb(${n}, ${i}, ${r})`:`rgba(${n}, ${i}, ${r}, ${o})`}function d8(e){return c8(Ko(e))}function Iv(e){const n=Math.round(e).toString(16);return("00".substr(0,2-n.length)+n).toUpperCase()}function h8(e){let{r:n,g:i,b:r,a:o}=e;return`#${[Iv(n),Iv(i),Iv(r),o!==void 0?Iv(Math.round(o*255)):""].join("")}`}function f8(e){e=QO(e);let[n,i,r,o]=gO(e,2).map(u=>parseInt(u,16));return o=o===void 0?o:o/255,{r:n,g:i,b:r,a:o}}function GO(e){const n=f8(e);return jg(n)}function g8(e){return h8(Ko(e))}function QO(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(n=>n+n).join("")),e.length!==6&&(e=bw(bw(e,6),8,"F")),e}function zO(e,n){const i=s8(AC(e));return i[0]=i[0]+n*10,u8(l8(i))}function HO(e,n){const i=s8(AC(e));return i[0]=i[0]-n*10,u8(l8(i))}function i2(e){const n=hr(e);return AC(n)[1]}function WO(e,n){const i=i2(e),r=i2(n),o=Math.max(i,r),u=Math.min(i,r);return(o+.05)/(u+.05)}function m8(e){const n=Math.abs(kw(hr(0),hr(e)));return Math.abs(kw(hr(16777215),hr(e)))>Math.min(n,50)?"#fff":"#000"}function Ie(e,n){return i=>Object.keys(e).reduce((r,o)=>{const c=typeof e[o]=="object"&&e[o]!=null&&!Array.isArray(e[o])?e[o]:{type:e[o]};return i&&o in i?r[o]={...c,default:i[o]}:r[o]=c,n&&!r[o].source&&(r[o].source=n),r},{})}const et=Ie({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Bn(e,n){const i=BS();if(!i)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return i}function ts(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const n=Bn(e).type;return $c((n==null?void 0:n.aliasName)||(n==null?void 0:n.name))}function YO(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bn("injectSelf");const{provides:i}=n;if(i&&e in i)return i[e]}const bh=Symbol.for("vuetify:defaults");function $O(e){return Qe(e)}function LC(){const e=Tt(bh);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function Rn(e,n){const i=LC(),r=Qe(e),o=se(()=>{if(Ma(n==null?void 0:n.disabled))return i.value;const c=Ma(n==null?void 0:n.scoped),d=Ma(n==null?void 0:n.reset),h=Ma(n==null?void 0:n.root);if(r.value==null&&!(c||d||h))return i.value;let m=Ji(r.value,{prev:i.value});if(c)return m;if(d||h){const v=Number(d||1/0);for(let p=0;p<=v&&!(!m||!("prev"in m));p++)m=m.prev;return m&&typeof h=="string"&&h in m&&(m=Ji(Ji(m,{prev:m}),m[h])),m}return m.prev?Ji(m.prev,m):m});return cn(bh,o),o}function jO(e,n){return e.props&&(typeof e.props[n]<"u"||typeof e.props[$c(n)]<"u")}function XO(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:LC();const r=Bn("useDefaults");if(n=n??r.type.name??r.type.__name,!n)throw new Error("[Vuetify] Could not determine component name");const o=se(()=>{var h;return(h=i.value)==null?void 0:h[e._as??n]}),u=new Proxy(e,{get(h,m){var S,y,w,x;const v=Reflect.get(h,m);if(m==="class"||m==="style")return[(S=o.value)==null?void 0:S[m],v].filter(T=>T!=null);if(jO(r.vnode,m))return v;const p=(y=o.value)==null?void 0:y[m];if(p!==void 0)return p;const b=(x=(w=i.value)==null?void 0:w.global)==null?void 0:x[m];return b!==void 0?b:v}}),c=ze();On(()=>{if(o.value){const h=Object.entries(o.value).filter(m=>{let[v]=m;return v.startsWith(v[0].toUpperCase())});c.value=h.length?Object.fromEntries(h):void 0}else c.value=void 0});function d(){const h=YO(bh,r);cn(bh,se(()=>c.value?Ji((h==null?void 0:h.value)??{},c.value):h==null?void 0:h.value))}return{props:u,provideSubDefaults:d}}function fr(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=Ie(e.props??{},e.name)();const n=Object.keys(e.props).filter(i=>i!=="class"&&i!=="style");e.filterProps=function(r){return Pu(r,n)},e.props._as=String,e.setup=function(r,o){const u=LC();if(!u.value)return e._setup(r,o);const{props:c,provideSubDefaults:d}=XO(r,r._as??e.name,u),h=e._setup(c,o);return d(),h}}return e}function Fe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n=>(e?fr:EL)(n)}function KO(e,n){return n.props=e,n}function ns(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",i=arguments.length>2?arguments[2]:void 0;return Fe()({name:i??Jo(Sa(e.replace(/__/g,"-"))),props:{tag:{type:String,default:n},...et()},setup(r,o){let{slots:u}=o;return()=>{var c;return es(r.tag,{class:[e,r.class],style:r.style},(c=u.default)==null?void 0:c.call(u))}}})}function v8(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const n=e.getRootNode();return n!==document&&n.getRootNode({composed:!0})!==document?null:n}const Eg="cubic-bezier(0.4, 0, 0.2, 1)",ZO="cubic-bezier(0.0, 0, 0.2, 1)",JO="cubic-bezier(0.4, 0, 1, 1)";function Fw(e,n,i){return Object.keys(e).filter(r=>TC(r)&&r.endsWith(n)).reduce((r,o)=>(r[o.slice(0,-n.length)]=u=>e[o](u,i(u)),r),{})}function OC(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(n?ek(e):kC(e))return e;e=e.parentElement}return document.scrollingElement}function CS(e,n){const i=[];if(n&&e&&!n.contains(e))return i;for(;e&&(kC(e)&&i.push(e),e!==n);)e=e.parentElement;return i}function kC(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const n=window.getComputedStyle(e);return n.overflowY==="scroll"||n.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function ek(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const n=window.getComputedStyle(e);return["scroll","auto"].includes(n.overflowY)}function tk(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function qe(e){const n=Bn("useRender");n.render=e}function at(e,n,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p=>p,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:p=>p;const u=Bn("useProxiedModel"),c=Qe(e[n]!==void 0?e[n]:i),d=$c(n),m=se(d!==n?()=>{var p,b,S,y;return e[n],!!(((p=u.vnode.props)!=null&&p.hasOwnProperty(n)||(b=u.vnode.props)!=null&&b.hasOwnProperty(d))&&((S=u.vnode.props)!=null&&S.hasOwnProperty(`onUpdate:${n}`)||(y=u.vnode.props)!=null&&y.hasOwnProperty(`onUpdate:${d}`)))}:()=>{var p,b;return e[n],!!((p=u.vnode.props)!=null&&p.hasOwnProperty(n)&&((b=u.vnode.props)!=null&&b.hasOwnProperty(`onUpdate:${n}`)))});va(()=>!m.value,()=>{je(()=>e[n],p=>{c.value=p})});const v=se({get(){const p=e[n];return r(m.value?p:c.value)},set(p){const b=o(p),S=dt(m.value?e[n]:c.value);S===b||r(S)===p||(c.value=b,u==null||u.emit(`update:${n}`,b))}});return Object.defineProperty(v,"externalValue",{get:()=>m.value?e[n]:c.value}),v}const nk={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"}},Mw="$vuetify.",Vw=(e,n)=>e.replace(/\{(\d+)\}/g,(i,r)=>String(n[Number(r)])),S8=(e,n,i)=>function(r){for(var o=arguments.length,u=new Array(o>1?o-1:0),c=1;c<o;c++)u[c-1]=arguments[c];if(!r.startsWith(Mw))return Vw(r,u);const d=r.replace(Mw,""),h=e.value&&i.value[e.value],m=n.value&&i.value[n.value];let v=Zc(h,d,null);return v||(`${r}${e.value}`,v=Zc(m,d,null)),v||(v=r),typeof v!="string"&&(v=r),Vw(v,u)};function p8(e,n){return(i,r)=>new Intl.NumberFormat([e.value,n.value],r).format(i)}function py(e,n,i){const r=at(e,n,e[n]??i.value);return r.value=e[n]??i.value,je(i,o=>{e[n]==null&&(r.value=i.value)}),r}function y8(e){return n=>{const i=py(n,"locale",e.current),r=py(n,"fallback",e.fallback),o=py(n,"messages",e.messages);return{name:"vuetify",current:i,fallback:r,messages:o,t:S8(i,r,o),n:p8(i,r),provide:y8({current:i,fallback:r,messages:o})}}}function ik(e){const n=ze((e==null?void 0:e.locale)??"en"),i=ze((e==null?void 0:e.fallback)??"en"),r=Qe({en:nk,...e==null?void 0:e.messages});return{name:"vuetify",current:n,fallback:i,messages:r,t:S8(n,i,r),n:p8(n,i),provide:y8({current:n,fallback:i,messages:r})}}const Ch=Symbol.for("vuetify:locale");function ak(e){return e.name!=null}function rk(e){const n=e!=null&&e.adapter&&ak(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:ik(e),i=lk(n,e);return{...n,...i}}function En(){const e=Tt(Ch);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function ok(e){const n=Tt(Ch);if(!n)throw new Error("[Vuetify] Could not find injected locale instance");const i=n.provide(e),r=uk(i,n.rtl,e),o={...i,...r};return cn(Ch,o),o}function sk(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function lk(e,n){const i=Qe((n==null?void 0:n.rtl)??sk()),r=se(()=>i.value[e.current.value]??!1);return{isRtl:r,rtl:i,rtlClasses:be(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function uk(e,n,i){const r=se(()=>i.rtl??n.value[e.current.value]??!1);return{isRtl:r,rtl:n,rtlClasses:be(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function ti(){const e=Tt(Ch);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}function Xg(e){const n=e.slice(-2).toUpperCase();switch(!0){case e==="GB-alt-variant":return{firstDay:0,firstWeekSize:4};case e==="001":return{firstDay:1,firstWeekSize:1};case`AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE
    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US
    VE VI WS YE ZA ZW`.includes(n):return{firstDay:0,firstWeekSize:1};case`AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV
    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(n):return{firstDay:1,firstWeekSize:1};case`AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS
    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(n):return{firstDay:1,firstWeekSize:4};case"AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY".includes(n):return{firstDay:6,firstWeekSize:1};case n==="MV":return{firstDay:5,firstWeekSize:1};case n==="PT":return{firstDay:0,firstWeekSize:4};default:return null}}function ck(e,n,i){var v;const r=[];let o=[];const u=b8(e),c=C8(e),d=i??((v=Xg(n))==null?void 0:v.firstDay)??0,h=(u.getDay()-d+7)%7,m=(c.getDay()-d+7)%7;for(let p=0;p<h;p++){const b=new Date(u);b.setDate(b.getDate()-(h-p)),o.push(b)}for(let p=1;p<=c.getDate();p++){const b=new Date(e.getFullYear(),e.getMonth(),p);o.push(b),o.length===7&&(r.push(o),o=[])}for(let p=1;p<7-m;p++){const b=new Date(c);b.setDate(b.getDate()+p),o.push(b)}return o.length>0&&r.push(o),r}function a2(e,n,i){var u;const r=i??((u=Xg(n))==null?void 0:u.firstDay)??0,o=new Date(e);for(;o.getDay()!==r;)o.setDate(o.getDate()-1);return o}function dk(e,n){var o;const i=new Date(e),r=((((o=Xg(n))==null?void 0:o.firstDay)??0)+6)%7;for(;i.getDay()!==r;)i.setDate(i.getDate()+1);return i}function b8(e){return new Date(e.getFullYear(),e.getMonth(),1)}function C8(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function hk(e){const n=e.split("-").map(Number);return new Date(n[0],n[1]-1,n[2])}const fk=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function w8(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let n;if(fk.test(e))return hk(e);if(n=Date.parse(e),!isNaN(n))return new Date(n)}return null}const Bw=new Date(2e3,0,2);function gk(e,n){var r;const i=n??((r=Xg(e))==null?void 0:r.firstDay)??0;return $o(7).map(o=>{const u=new Date(Bw);return u.setDate(Bw.getDate()+i+o),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(u)})}function mk(e,n,i,r){const o=w8(e)??new Date,u=r==null?void 0:r[n];if(typeof u=="function")return u(o,n,i);let c={};switch(n){case"fullDate":c={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":c={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const d=o.getDate(),h=new Intl.DateTimeFormat(i,{month:"long"}).format(o);return`${d} ${h}`;case"normalDateWithWeekday":c={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":c={month:"short",day:"numeric"};break;case"year":c={year:"numeric"};break;case"month":c={month:"long"};break;case"monthShort":c={month:"short"};break;case"monthAndYear":c={month:"long",year:"numeric"};break;case"monthAndDate":c={month:"long",day:"numeric"};break;case"weekday":c={weekday:"long"};break;case"weekdayShort":c={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(i).format(o.getDate());case"hours12h":c={hour:"numeric",hour12:!0};break;case"hours24h":c={hour:"numeric",hour12:!1};break;case"minutes":c={minute:"numeric"};break;case"seconds":c={second:"numeric"};break;case"fullTime":c={hour:"numeric",minute:"numeric"};break;case"fullTime12h":c={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":c={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":c={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":c={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":c={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":c={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return c={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(i,c).format(o).replace(/, /g," ");case"keyboardDateTime12h":return c={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(i,c).format(o).replace(/, /g," ");case"keyboardDateTime24h":return c={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(i,c).format(o).replace(/, /g," ");default:c=u??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(i,c).format(o)}function vk(e,n){const i=e.toJsDate(n),r=i.getFullYear(),o=Cw(String(i.getMonth()+1),2,"0"),u=Cw(String(i.getDate()),2,"0");return`${r}-${o}-${u}`}function Sk(e){const[n,i,r]=e.split("-").map(Number);return new Date(n,i-1,r)}function pk(e,n){const i=new Date(e);return i.setMinutes(i.getMinutes()+n),i}function yk(e,n){const i=new Date(e);return i.setHours(i.getHours()+n),i}function Mv(e,n){const i=new Date(e);return i.setDate(i.getDate()+n),i}function bk(e,n){const i=new Date(e);return i.setDate(i.getDate()+n*7),i}function Ck(e,n){const i=new Date(e);return i.setDate(1),i.setMonth(i.getMonth()+n),i}function r2(e){return e.getFullYear()}function wk(e){return e.getMonth()}function Dk(e,n,i,r){const o=Xg(n),u=i??(o==null?void 0:o.firstDay)??0,c=r??(o==null?void 0:o.firstWeekSize)??1;function d(S){const y=new Date(S,0,1);return 7-o2(y,a2(y,n,u),"days")}let h=r2(e);const m=Mv(a2(e,n,u),6);h<r2(m)&&d(h+1)>=c&&h++;const v=new Date(h,0,1),p=d(h),b=p>=c?Mv(v,p-7):Mv(v,p);return 1+o2(e,b,"weeks")}function xk(e){return e.getDate()}function Tk(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function Pk(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function Ik(e){return e.getHours()}function Ak(e){return e.getMinutes()}function _k(e){return new Date(e.getFullYear(),0,1)}function Lk(e){return new Date(e.getFullYear(),11,31)}function Ok(e,n){return wS(e,n[0])&&Ek(e,n[1])}function kk(e){const n=new Date(e);return n instanceof Date&&!isNaN(n.getTime())}function wS(e,n){return e.getTime()>n.getTime()}function Rk(e,n){return wS(s2(e),s2(n))}function Ek(e,n){return e.getTime()<n.getTime()}function Nw(e,n){return e.getTime()===n.getTime()}function Fk(e,n){return e.getDate()===n.getDate()&&e.getMonth()===n.getMonth()&&e.getFullYear()===n.getFullYear()}function Mk(e,n){return e.getMonth()===n.getMonth()&&e.getFullYear()===n.getFullYear()}function Vk(e,n){return e.getFullYear()===n.getFullYear()}function o2(e,n,i){const r=new Date(e),o=new Date(n);switch(i){case"years":return r.getFullYear()-o.getFullYear();case"quarters":return Math.floor((r.getMonth()-o.getMonth()+(r.getFullYear()-o.getFullYear())*12)/4);case"months":return r.getMonth()-o.getMonth()+(r.getFullYear()-o.getFullYear())*12;case"weeks":return Math.floor((r.getTime()-o.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((r.getTime()-o.getTime())/(1e3*60*60*24));case"hours":return Math.floor((r.getTime()-o.getTime())/(1e3*60*60));case"minutes":return Math.floor((r.getTime()-o.getTime())/(1e3*60));case"seconds":return Math.floor((r.getTime()-o.getTime())/1e3);default:return r.getTime()-o.getTime()}}function Bk(e,n){const i=new Date(e);return i.setHours(n),i}function Nk(e,n){const i=new Date(e);return i.setMinutes(n),i}function Uk(e,n){const i=new Date(e);return i.setMonth(n),i}function qk(e,n){const i=new Date(e);return i.setDate(n),i}function Gk(e,n){const i=new Date(e);return i.setFullYear(n),i}function s2(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function Qk(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class zk{constructor(n){this.locale=n.locale,this.formats=n.formats}date(n){return w8(n)}toJsDate(n){return n}toISO(n){return vk(this,n)}parseISO(n){return Sk(n)}addMinutes(n,i){return pk(n,i)}addHours(n,i){return yk(n,i)}addDays(n,i){return Mv(n,i)}addWeeks(n,i){return bk(n,i)}addMonths(n,i){return Ck(n,i)}getWeekArray(n,i){const r=i!==void 0?Number(i):void 0;return ck(n,this.locale,r)}startOfWeek(n,i){const r=i!==void 0?Number(i):void 0;return a2(n,this.locale,r)}endOfWeek(n){return dk(n,this.locale)}startOfMonth(n){return b8(n)}endOfMonth(n){return C8(n)}format(n,i){return mk(n,i,this.locale,this.formats)}isEqual(n,i){return Nw(n,i)}isValid(n){return kk(n)}isWithinRange(n,i){return Ok(n,i)}isAfter(n,i){return wS(n,i)}isAfterDay(n,i){return Rk(n,i)}isBefore(n,i){return!wS(n,i)&&!Nw(n,i)}isSameDay(n,i){return Fk(n,i)}isSameMonth(n,i){return Mk(n,i)}isSameYear(n,i){return Vk(n,i)}setMinutes(n,i){return Nk(n,i)}setHours(n,i){return Bk(n,i)}setMonth(n,i){return Uk(n,i)}setDate(n,i){return qk(n,i)}setYear(n,i){return Gk(n,i)}getDiff(n,i,r){return o2(n,i,r)}getWeekdays(n){const i=n!==void 0?Number(n):void 0;return gk(this.locale,i)}getYear(n){return r2(n)}getMonth(n){return wk(n)}getWeek(n,i,r){const o=i!==void 0?Number(i):void 0;return Dk(n,this.locale,o,r)}getDate(n){return xk(n)}getNextMonth(n){return Tk(n)}getPreviousMonth(n){return Pk(n)}getHours(n){return Ik(n)}getMinutes(n){return Ak(n)}startOfDay(n){return s2(n)}endOfDay(n){return Qk(n)}startOfYear(n){return _k(n)}endOfYear(n){return Lk(n)}}const D8=Symbol.for("vuetify:date-options"),Uw=Symbol.for("vuetify:date-adapter");function Hk(e,n){const i=Ji({adapter:zk,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:i,instance:x8(i,n)}}function x8(e,n){const i=Ei(typeof e.adapter=="function"?new e.adapter({locale:e.locale[n.current.value]??n.current.value,formats:e.formats}):e.adapter);return je(n.current,r=>{i.locale=e.locale[r]??r??i.locale}),Object.assign(i,{createDateRange(r,o){const u=i.getDiff(o??r,r,"days"),c=[r];for(let d=1;d<u;d++){const h=i.addDays(r,d);c.push(h)}return o&&c.push(i.endOfDay(o)),c}})}function Kg(){const e=Tt(D8);if(!e)throw new Error("[Vuetify] Could not find injected date options");const n=En();return x8(e,n)}const GS=["sm","md","lg","xl","xxl"],l2=Symbol.for("vuetify:display"),qw={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},Wk=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qw;return Ji(qw,e)};function Gw(e){return Ht&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function Qw(e){return Ht&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function zw(e){const n=Ht&&!e?window.navigator.userAgent:"ssr";function i(y){return!!n.match(y)}const r=i(/android/i),o=i(/iphone|ipad|ipod/i),u=i(/cordova/i),c=i(/electron/i),d=i(/chrome/i),h=i(/edge/i),m=i(/firefox/i),v=i(/opera/i),p=i(/win/i),b=i(/mac/i),S=i(/linux/i);return{android:r,ios:o,cordova:u,electron:c,chrome:d,edge:h,firefox:m,opera:v,win:p,mac:b,linux:S,touch:lO,ssr:n==="ssr"}}function Yk(e,n){const{thresholds:i,mobileBreakpoint:r}=Wk(e),o=ze(Qw(n)),u=ze(zw(n)),c=Ei({}),d=ze(Gw(n));function h(){o.value=Qw(),d.value=Gw()}function m(){h(),u.value=zw()}return On(()=>{const v=d.value<i.sm,p=d.value<i.md&&!v,b=d.value<i.lg&&!(p||v),S=d.value<i.xl&&!(b||p||v),y=d.value<i.xxl&&!(S||b||p||v),w=d.value>=i.xxl,x=v?"xs":p?"sm":b?"md":S?"lg":y?"xl":"xxl",T=typeof r=="number"?r:i[r],D=d.value<T;c.xs=v,c.sm=p,c.md=b,c.lg=S,c.xl=y,c.xxl=w,c.smAndUp=!v,c.mdAndUp=!(v||p),c.lgAndUp=!(v||p||b),c.xlAndUp=!(v||p||b||S),c.smAndDown=!(b||S||y||w),c.mdAndDown=!(S||y||w),c.lgAndDown=!(y||w),c.xlAndDown=!w,c.name=x,c.height=o.value,c.width=d.value,c.mobile=D,c.mobileBreakpoint=r,c.platform=u.value,c.thresholds=i}),Ht&&(window.addEventListener("resize",h,{passive:!0}),Ii(()=>{window.removeEventListener("resize",h)},!0)),{...Th(c),update:m,ssr:!!n}}const rd=Ie({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function $r(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ts();const i=Tt(l2);if(!i)throw new Error("Could not find Vuetify display injection");const r=se(()=>e.mobile?!0:typeof e.mobileBreakpoint=="number"?i.width.value<e.mobileBreakpoint:e.mobileBreakpoint?i.width.value<i.thresholds.value[e.mobileBreakpoint]:e.mobile===null?i.mobile.value:!1),o=be(()=>n?{[`${n}--mobile`]:r.value}:{});return{...i,displayClasses:o,mobile:r}}const T8=Symbol.for("vuetify:goto");function P8(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function $k(e){return RC(e)??(document.scrollingElement||document.body)}function RC(e){return typeof e=="string"?document.querySelector(e):xC(e)}function yy(e,n,i){if(typeof e=="number")return n&&i?-e:e;let r=RC(e),o=0;for(;r;)o+=n?r.offsetLeft:r.offsetTop,r=r.offsetParent;return o}function jk(e,n){return{rtl:n.isRtl,options:Ji(P8(),e)}}async function Hw(e,n,i,r){const o=i?"scrollLeft":"scrollTop",u=Ji((r==null?void 0:r.options)??P8(),n),c=r==null?void 0:r.rtl.value,d=(typeof e=="number"?e:RC(e))??0,h=u.container==="parent"&&d instanceof HTMLElement?d.parentElement:$k(u.container),m=typeof u.easing=="function"?u.easing:u.patterns[u.easing];if(!m)throw new TypeError(`Easing function "${u.easing}" not found.`);let v;if(typeof d=="number")v=yy(d,i,c);else if(v=yy(d,i,c)-yy(h,i,c),u.layout){const y=window.getComputedStyle(d).getPropertyValue("--v-layout-top");y&&(v-=parseInt(y,10))}v+=u.offset,v=Kk(h,v,!!c,!!i);const p=h[o]??0;if(v===p)return Promise.resolve(v);const b=performance.now();return new Promise(S=>requestAnimationFrame(function y(w){const T=(w-b)/u.duration,D=Math.floor(p+(v-p)*m(nn(T,0,1)));if(h[o]=D,T>=1&&Math.abs(D-h[o])<10)return S(v);if(T>2)return S(h[o]);requestAnimationFrame(y)}))}function Xk(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=Tt(T8),{isRtl:i}=ti();if(!n)throw new Error("[Vuetify] Could not find injected goto instance");const r={...n,rtl:be(()=>n.rtl.value||i.value)};async function o(u,c){return Hw(u,Ji(e,c),!1,r)}return o.horizontal=async(u,c)=>Hw(u,Ji(e,c),!0,r),o}function Kk(e,n,i,r){const{scrollWidth:o,scrollHeight:u}=e,[c,d]=e===document.scrollingElement?[window.innerWidth,window.innerHeight]:[e.offsetWidth,e.offsetHeight];let h,m;return r?i?(h=-(o-c),m=0):(h=0,m=o-c):(h=0,m=u+-d),nn(n,h,m)}const Zk={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload",color:"mdi-palette"},Jk={component:e=>es(FC,{...e,class:"mdi"})},ot=[String,Function,Object,Array],u2=Symbol.for("vuetify:icons"),QS=Ie({icon:{type:ot},tag:{type:[String,Object,Function],required:!0}},"icon"),c2=Fe()({name:"VComponentIcon",props:QS(),setup(e,n){let{slots:i}=n;return()=>{const r=e.icon;return Z(e.tag,null,{default:()=>{var o;return[e.icon?Z(r,null,null):(o=i.default)==null?void 0:o.call(i)]}})}}}),EC=fr({name:"VSvgIcon",inheritAttrs:!1,props:QS(),setup(e,n){let{attrs:i}=n;return()=>Z(e.tag,Be(i,{style:null}),{default:()=>[te("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(r=>Array.isArray(r)?te("path",{d:r[0],"fill-opacity":r[1]},null):te("path",{d:r},null)):te("path",{d:e.icon},null)])]})}}),I8=fr({name:"VLigatureIcon",props:QS(),setup(e){return()=>Z(e.tag,null,{default:()=>[e.icon]})}}),FC=fr({name:"VClassIcon",props:QS(),setup(e){return()=>Z(e.tag,{class:Ge(e.icon)},null)}});function eR(){return{svg:{component:EC},class:{component:FC}}}function tR(e){const n=eR(),i=(e==null?void 0:e.defaultSet)??"mdi";return i==="mdi"&&!n.mdi&&(n.mdi=Jk),Ji({defaultSet:i,sets:n,aliases:{...Zk,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const nR=e=>{const n=Tt(u2);if(!n)throw new Error("Missing Vuetify Icons provide!");return{iconData:se(()=>{var h;const r=Zs(e);if(!r)return{component:c2};let o=r;if(typeof o=="string"&&(o=o.trim(),o.startsWith("$")&&(o=(h=n.aliases)==null?void 0:h[o.slice(1)])),Array.isArray(o))return{component:EC,icon:o};if(typeof o!="string")return{component:c2,icon:o};const u=Object.keys(n.sets).find(m=>typeof o=="string"&&o.startsWith(`${m}:`)),c=u?o.slice(u.length+1):o;return{component:n.sets[u??n.defaultSet].component,icon:c}})}},Fg=Symbol.for("vuetify:theme"),Lt=Ie({theme:String},"theme");function Ww(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#c8c8c8","on-surface-variant":"#000000",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet"}}function iR(){var r,o;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ww();const n=Ww();if(!e)return{...n,isDisabled:!0};const i={};for(const[u,c]of Object.entries(e.themes??{})){const d=c.dark||u==="dark"?(r=n.themes)==null?void 0:r.dark:(o=n.themes)==null?void 0:o.light;i[u]=Ji(d,c)}return Ji(n,{...e,themes:i})}function qc(e,n,i,r){e.push(`${sR(n,r)} {
`,...i.map(o=>`  ${o};
`),`}
`)}function Yw(e){const n=e.dark?2:1,i=e.dark?1:2,r=[];for(const[o,u]of Object.entries(e.colors)){const c=hr(u);r.push(`--v-theme-${o}: ${c.r},${c.g},${c.b}`),o.startsWith("on-")||r.push(`--v-theme-${o}-overlay-multiplier: ${i2(u)>.18?n:i}`)}for(const[o,u]of Object.entries(e.variables)){const c=typeof u=="string"&&u.startsWith("#")?hr(u):void 0,d=c?`${c.r}, ${c.g}, ${c.b}`:void 0;r.push(`--v-${o}: ${d??u}`)}return r}function aR(e,n,i){const r={};if(i)for(const o of["lighten","darken"]){const u=o==="lighten"?zO:HO;for(const c of $o(i[o],1))r[`${e}-${o}-${c}`]=h8(u(hr(n),c))}return r}function rR(e,n){if(!n)return{};let i={};for(const r of n.colors){const o=e[r];o&&(i={...i,...aR(r,o,n)})}return i}function oR(e){const n={};for(const i of Object.keys(e)){if(i.startsWith("on-")||e[`on-${i}`])continue;const r=`on-${i}`,o=hr(e[i]);n[r]=m8(o)}return n}function sR(e,n){if(!n)return e;const i=`:where(${n})`;return e===":root"?i:`${i} ${e}`}function lR(e,n){e&&(e.innerHTML=n)}function uR(e,n){if(!Ht)return null;let i=document.getElementById(e);return i||(i=document.createElement("style"),i.id=e,i.type="text/css",n&&i.setAttribute("nonce",n),document.head.appendChild(i)),i}function cR(e){const n=iR(e),i=ze(n.defaultTheme),r=Qe(n.themes),o=se(()=>{const m={};for(const[v,p]of Object.entries(r.value)){const b={...p.colors,...rR(p.colors,n.variations)};m[v]={...p,colors:{...b,...oR(b)}}}return m}),u=be(()=>o.value[i.value]),c=se(()=>{var S;const m=[];(S=u.value)!=null&&S.dark&&qc(m,":root",["color-scheme: dark"],n.scope),qc(m,":root",Yw(u.value),n.scope);for(const[y,w]of Object.entries(o.value))qc(m,`.v-theme--${y}`,[`color-scheme: ${w.dark?"dark":"normal"}`,...Yw(w)],n.scope);const v=[],p=[],b=new Set(Object.values(o.value).flatMap(y=>Object.keys(y.colors)));for(const y of b)y.startsWith("on-")?qc(p,`.${y}`,[`color: rgb(var(--v-theme-${y})) !important`],n.scope):(qc(v,`.bg-${y}`,[`--v-theme-overlay-multiplier: var(--v-theme-${y}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${y})) !important`,`color: rgb(var(--v-theme-on-${y})) !important`],n.scope),qc(p,`.text-${y}`,[`color: rgb(var(--v-theme-${y})) !important`],n.scope),qc(p,`.border-${y}`,[`--v-border-color: var(--v-theme-${y})`],n.scope));return m.push(...v,...p),m.map((y,w)=>w===0?y:`    ${y}`).join("")});function d(m){if(n.isDisabled)return;const v=m._context.provides.usehead;if(v){let S=function(){return{style:[{textContent:c.value,id:n.stylesheetId,nonce:n.cspNonce||!1}]}};var p=S;if(v.push){const y=v.push(S);Ht&&je(c,()=>{y.patch(S)})}else Ht?(v.addHeadObjs(be(S)),On(()=>v.updateDOM())):v.addHeadObjs(S())}else{let S=function(){lR(uR(n.stylesheetId,n.cspNonce),c.value)};var b=S;Ht?je(c,S,{immediate:!0}):S()}}const h=be(()=>n.isDisabled?void 0:`v-theme--${i.value}`);return{install:d,isDisabled:n.isDisabled,name:i,themes:r,current:u,computedThemes:o,themeClasses:h,styles:c,global:{name:i,current:u}}}function Yt(e){Bn("provideTheme");const n=Tt(Fg,null);if(!n)throw new Error("Could not find Vuetify theme injection");const i=be(()=>e.theme??n.name.value),r=be(()=>n.themes.value[i.value]),o=be(()=>n.isDisabled?void 0:`v-theme--${i.value}`),u={...n,name:i,current:r,themeClasses:o};return cn(Fg,u),u}function MC(){Bn("useTheme");const e=Tt(Fg,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function So(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const i=yS(),r=Qe();if(Ht){const o=new ResizeObserver(u=>{e==null||e(u,o),u.length&&(n==="content"?r.value=u[0].contentRect:r.value=u[0].target.getBoundingClientRect())});gi(()=>{o.disconnect()}),je(()=>i.el,(u,c)=>{c&&(o.unobserve(c),r.value=void 0),u&&o.observe(u)},{flush:"post"})}return{resizeRef:i,contentRect:xh(r)}}const Mg=Symbol.for("vuetify:layout"),A8=Symbol.for("vuetify:layout-item"),$w=1e3,_8=Ie({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),od=Ie({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function L8(){const e=Tt(Mg);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function sd(e){const n=Tt(Mg);if(!n)throw new Error("[Vuetify] Could not find injected layout");const i=e.id??`layout-item-${pa()}`,r=Bn("useLayoutItem");cn(A8,{id:i});const o=ze(!1);fC(()=>o.value=!0),fx(()=>o.value=!1);const{layoutItemStyles:u,layoutItemScrimStyles:c}=n.register(r,{...e,active:se(()=>o.value?!1:e.active.value),id:i});return gi(()=>n.unregister(i)),{layoutItemStyles:u,layoutRect:n.layoutRect,layoutItemScrimStyles:c}}const dR=(e,n,i,r)=>{let o={top:0,left:0,right:0,bottom:0};const u=[{id:"",layer:{...o}}];for(const c of e){const d=n.get(c),h=i.get(c),m=r.get(c);if(!d||!h||!m)continue;const v={...o,[d.value]:parseInt(o[d.value],10)+(m.value?parseInt(h.value,10):0)};u.push({id:c,layer:v}),o=v}return u};function O8(e){const n=Tt(Mg,null),i=se(()=>n?n.rootZIndex.value-100:$w),r=Qe([]),o=Ei(new Map),u=Ei(new Map),c=Ei(new Map),d=Ei(new Map),h=Ei(new Map),{resizeRef:m,contentRect:v}=So(),p=se(()=>{const F=new Map,q=e.overlaps??[];for(const R of q.filter(E=>E.includes(":"))){const[E,N]=R.split(":");if(!r.value.includes(E)||!r.value.includes(N))continue;const G=o.get(E),M=o.get(N),_=u.get(E),I=u.get(N);!G||!M||!_||!I||(F.set(N,{position:G.value,amount:parseInt(_.value,10)}),F.set(E,{position:M.value,amount:-parseInt(I.value,10)}))}return F}),b=se(()=>{const F=[...new Set([...c.values()].map(R=>R.value))].sort((R,E)=>R-E),q=[];for(const R of F){const E=r.value.filter(N=>{var G;return((G=c.get(N))==null?void 0:G.value)===R});q.push(...E)}return dR(q,o,u,d)}),S=se(()=>!Array.from(h.values()).some(F=>F.value)),y=se(()=>b.value[b.value.length-1].layer),w=be(()=>({"--v-layout-left":Ke(y.value.left),"--v-layout-right":Ke(y.value.right),"--v-layout-top":Ke(y.value.top),"--v-layout-bottom":Ke(y.value.bottom),...S.value?void 0:{transition:"none"}})),x=se(()=>b.value.slice(1).map((F,q)=>{let{id:R}=F;const{layer:E}=b.value[q],N=u.get(R),G=o.get(R);return{id:R,...E,size:Number(N.value),position:G.value}})),T=F=>x.value.find(q=>q.id===F),D=Bn("createLayout"),P=ze(!1);Ai(()=>{P.value=!0}),cn(Mg,{register:(F,q)=>{let{id:R,order:E,position:N,layoutSize:G,elementSize:M,active:_,disableTransitions:I,absolute:B}=q;c.set(R,E),o.set(R,N),u.set(R,G),d.set(R,_),I&&h.set(R,I);const Y=uh(A8,D==null?void 0:D.vnode).indexOf(F);Y>-1?r.value.splice(Y,0,R):r.value.push(R);const K=se(()=>x.value.findIndex(j=>j.id===R)),ce=se(()=>i.value+b.value.length*2-K.value*2),re=se(()=>{const j=N.value==="left"||N.value==="right",de=N.value==="right",ve=N.value==="bottom",ye=M.value??G.value,Pe=ye===0?"%":"px",le={[N.value]:0,zIndex:ce.value,transform:`translate${j?"X":"Y"}(${(_.value?0:-(ye===0?100:ye))*(de||ve?-1:1)}${Pe})`,position:B.value||i.value!==$w?"absolute":"fixed",...S.value?void 0:{transition:"none"}};if(!P.value)return le;const pe=x.value[K.value];if(!pe)throw new Error(`[Vuetify] Could not find layout item "${R}"`);const Ae=p.value.get(R);return Ae&&(pe[Ae.position]+=Ae.amount),{...le,height:j?`calc(100% - ${pe.top}px - ${pe.bottom}px)`:M.value?`${M.value}px`:void 0,left:de?void 0:`${pe.left}px`,right:de?`${pe.right}px`:void 0,top:N.value!=="bottom"?`${pe.top}px`:void 0,bottom:N.value!=="top"?`${pe.bottom}px`:void 0,width:j?M.value?`${M.value}px`:void 0:`calc(100% - ${pe.left}px - ${pe.right}px)`}}),$=se(()=>({zIndex:ce.value-1}));return{layoutItemStyles:re,layoutItemScrimStyles:$,zIndex:ce}},unregister:F=>{c.delete(F),o.delete(F),u.delete(F),d.delete(F),h.delete(F),r.value=r.value.filter(q=>q!==F)},mainRect:y,mainStyles:w,getLayoutItem:T,items:x,layoutRect:v,rootZIndex:i});const A=be(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),O=be(()=>({zIndex:n?i.value:void 0,position:n?"relative":void 0,overflow:n?"hidden":void 0}));return{layoutClasses:A,layoutStyles:O,getLayoutItem:T,items:x,layoutRect:v,layoutRef:m}}function k8(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:n,...i}=e,r=Ji(n,i),{aliases:o={},components:u={},directives:c={}}=r,d=xg();return d.run(()=>{const h=$O(r.defaults),m=Yk(r.display,r.ssr),v=cR(r.theme),p=tR(r.icons),b=rk(r.locale),S=Hk(r.date,b),y=jk(r.goTo,b);function w(T){for(const P in c)T.directive(P,c[P]);for(const P in u)T.component(P,u[P]);for(const P in o)T.component(P,fr({...o[P],name:P,aliasName:o[P].name}));const D=xg();if(D.run(()=>{v.install(T)}),T.onUnmount(()=>D.stop()),T.provide(bh,h),T.provide(l2,m),T.provide(Fg,v),T.provide(u2,p),T.provide(Ch,b),T.provide(D8,S.options),T.provide(Uw,S.instance),T.provide(T8,y),Ht&&r.ssr)if(T.$nuxt)T.$nuxt.hook("app:suspense:resolve",()=>{m.update()});else{const{mount:P}=T;T.mount=function(){const A=P(...arguments);return Et(()=>m.update()),T.mount=P,A}}T.mixin({computed:{$vuetify(){return Ei({defaults:eh.call(this,bh),display:eh.call(this,l2),theme:eh.call(this,Fg),icons:eh.call(this,u2),locale:eh.call(this,Ch),date:eh.call(this,Uw)})}}})}function x(){d.stop()}return{install:w,unmount:x,defaults:h,display:m,theme:v,icons:p,locale:b,date:S,goTo:y}})}const hR="3.8.8";k8.version=hR;function eh(e){var r,o;const n=this.$,i=((r=n.parent)==null?void 0:r.provides)??((o=n.vnode.appContext)==null?void 0:o.provides);if(i&&e in i)return i[e]}const fR=Ie({...et(),..._8({fullHeight:!0}),...Lt()},"VApp"),gR=Fe()({name:"VApp",props:fR(),setup(e,n){let{slots:i}=n;const r=Yt(e),{layoutClasses:o,getLayoutItem:u,items:c,layoutRef:d}=O8(e),{rtlClasses:h}=ti();return qe(()=>{var m;return te("div",{ref:d,class:Ge(["v-application",r.themeClasses.value,o.value,h.value,e.class]),style:$e([e.style])},[te("div",{class:"v-application__wrap"},[(m=i.default)==null?void 0:m.call(i)])])}),{getLayoutItem:u,items:c,theme:r}}}),mt=Ie({tag:{type:[String,Object,Function],default:"div"}},"tag"),R8=Ie({text:String,...et(),...mt()},"VToolbarTitle"),VC=Fe()({name:"VToolbarTitle",props:R8(),setup(e,n){let{slots:i}=n;return qe(()=>{const r=!!(i.default||i.text||e.text);return Z(e.tag,{class:Ge(["v-toolbar-title",e.class]),style:$e(e.style)},{default:()=>{var o;return[r&&te("div",{class:"v-toolbar-title__placeholder"},[i.text?i.text():e.text,(o=i.default)==null?void 0:o.call(i)])]}})}),{}}}),mR=Ie({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function gr(e,n,i){return Fe()({name:e,props:mR({mode:i,origin:n}),setup(r,o){let{slots:u}=o;const c={onBeforeEnter(d){r.origin&&(d.style.transformOrigin=r.origin)},onLeave(d){if(r.leaveAbsolute){const{offsetTop:h,offsetLeft:m,offsetWidth:v,offsetHeight:p}=d;d._transitionInitialStyles={position:d.style.position,top:d.style.top,left:d.style.left,width:d.style.width,height:d.style.height},d.style.position="absolute",d.style.top=`${h}px`,d.style.left=`${m}px`,d.style.width=`${v}px`,d.style.height=`${p}px`}r.hideOnLeave&&d.style.setProperty("display","none","important")},onAfterLeave(d){if(r.leaveAbsolute&&(d!=null&&d._transitionInitialStyles)){const{position:h,top:m,left:v,width:p,height:b}=d._transitionInitialStyles;delete d._transitionInitialStyles,d.style.position=h||"",d.style.top=m||"",d.style.left=v||"",d.style.width=p||"",d.style.height=b||""}}};return()=>{const d=r.group?wC:wu;return es(d,{name:r.disabled?"":e,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:c},u.default)}}})}function E8(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Fe()({name:e,props:{mode:{type:String,default:i},disabled:Boolean,group:Boolean},setup(r,o){let{slots:u}=o;const c=r.group?wC:wu;return()=>es(c,{name:r.disabled?"":e,css:!r.disabled,...r.disabled?{}:n},u.default)}})}function F8(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const i=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=Sa(`offset-${i}`);return{onBeforeEnter(c){c._parent=c.parentNode,c._initialStyle={transition:c.style.transition,overflow:c.style.overflow,[i]:c.style[i]}},onEnter(c){const d=c._initialStyle;if(!d)return;c.style.setProperty("transition","none","important"),c.style.overflow="hidden";const h=`${c[r]}px`;c.style[i]="0",c.offsetHeight,c.style.transition=d.transition,e&&c._parent&&c._parent.classList.add(e),requestAnimationFrame(()=>{c.style[i]=h})},onAfterEnter:u,onEnterCancelled:u,onLeave(c){c._initialStyle={transition:"",overflow:c.style.overflow,[i]:c.style[i]},c.style.overflow="hidden",c.style[i]=`${c[r]}px`,c.offsetHeight,requestAnimationFrame(()=>c.style[i]="0")},onAfterLeave:o,onLeaveCancelled:o};function o(c){e&&c._parent&&c._parent.classList.remove(e),u(c)}function u(c){if(!c._initialStyle)return;const d=c._initialStyle[i];c.style.overflow=c._initialStyle.overflow,d!=null&&(c.style[i]=d),delete c._initialStyle}}const vR=Ie({target:[Object,Array]},"v-dialog-transition"),by=new WeakMap,zS=Fe()({name:"VDialogTransition",props:vR(),setup(e,n){let{slots:i}=n;const r={onBeforeEnter(o){o.style.pointerEvents="none",o.style.visibility="hidden"},async onEnter(o,u){var S;await new Promise(y=>requestAnimationFrame(y)),await new Promise(y=>requestAnimationFrame(y)),o.style.visibility="";const c=Xw(e.target,o),{x:d,y:h,sx:m,sy:v,speed:p}=c;by.set(o,c);const b=Wc(o,[{transform:`translate(${d}px, ${h}px) scale(${m}, ${v})`,opacity:0},{}],{duration:225*p,easing:ZO});(S=jw(o))==null||S.forEach(y=>{Wc(y,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*p,easing:Eg})}),b.finished.then(()=>u())},onAfterEnter(o){o.style.removeProperty("pointer-events")},onBeforeLeave(o){o.style.pointerEvents="none"},async onLeave(o,u){var S;await new Promise(y=>requestAnimationFrame(y));let c;!by.has(o)||Array.isArray(e.target)||e.target.offsetParent||e.target.getClientRects().length?c=Xw(e.target,o):c=by.get(o);const{x:d,y:h,sx:m,sy:v,speed:p}=c;Wc(o,[{},{transform:`translate(${d}px, ${h}px) scale(${m}, ${v})`,opacity:0}],{duration:125*p,easing:JO}).finished.then(()=>u()),(S=jw(o))==null||S.forEach(y=>{Wc(y,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*p,easing:Eg})})},onAfterLeave(o){o.style.removeProperty("pointer-events")}};return()=>e.target?Z(wu,Be({name:"dialog-transition"},r,{css:!1}),i):Z(wu,{name:"dialog-transition"},i)}});function jw(e){var i;const n=(i=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:i.children;return n&&[...n]}function Xw(e,n){const i=o8(e),r=IC(n),[o,u]=getComputedStyle(n).transformOrigin.split(" ").map(T=>parseFloat(T)),[c,d]=getComputedStyle(n).getPropertyValue("--v-overlay-anchor-origin").split(" ");let h=i.left+i.width/2;c==="left"||d==="left"?h-=i.width/2:(c==="right"||d==="right")&&(h+=i.width/2);let m=i.top+i.height/2;c==="top"||d==="top"?m-=i.height/2:(c==="bottom"||d==="bottom")&&(m+=i.height/2);const v=i.width/r.width,p=i.height/r.height,b=Math.max(1,v,p),S=v/b||0,y=p/b||0,w=r.width*r.height/(window.innerWidth*window.innerHeight),x=w>.12?Math.min(1.5,(w-.12)*10+1):1;return{x:h-(o+r.left),y:m-(u+r.top),sx:S,sy:y,speed:x}}const SR=gr("fab-transition","center center","out-in"),pR=gr("dialog-bottom-transition"),yR=gr("dialog-top-transition"),Vg=gr("fade-transition"),BC=gr("scale-transition"),bR=gr("scroll-x-transition"),CR=gr("scroll-x-reverse-transition"),wR=gr("scroll-y-transition"),DR=gr("scroll-y-reverse-transition"),xR=gr("slide-x-transition"),TR=gr("slide-x-reverse-transition"),NC=gr("slide-y-transition"),PR=gr("slide-y-reverse-transition"),HS=E8("expand-transition",F8()),UC=E8("expand-x-transition",F8("",!0)),IR=Ie({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),St=Fe(!1)({name:"VDefaultsProvider",props:IR(),setup(e,n){let{slots:i}=n;const{defaults:r,disabled:o,reset:u,root:c,scoped:d}=Th(e);return Rn(r,{reset:u,root:c,scoped:d,disabled:o}),()=>{var h;return(h=i.default)==null?void 0:h.call(i)}}}),ni=Ie({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function ii(e){return{dimensionStyles:se(()=>{const i={},r=Ke(e.height),o=Ke(e.maxHeight),u=Ke(e.maxWidth),c=Ke(e.minHeight),d=Ke(e.minWidth),h=Ke(e.width);return r!=null&&(i.height=r),o!=null&&(i.maxHeight=o),u!=null&&(i.maxWidth=u),c!=null&&(i.minHeight=c),d!=null&&(i.minWidth=d),h!=null&&(i.width=h),i})}}function AR(e){return{aspectStyles:se(()=>{const n=Number(e.aspectRatio);return n?{paddingBottom:String(1/n*100)+"%"}:void 0})}}const M8=Ie({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...et(),...ni()},"VResponsive"),d2=Fe()({name:"VResponsive",props:M8(),setup(e,n){let{slots:i}=n;const{aspectStyles:r}=AR(e),{dimensionStyles:o}=ii(e);return qe(()=>{var u;return te("div",{class:Ge(["v-responsive",{"v-responsive--inline":e.inline},e.class]),style:$e([o.value,e.style])},[te("div",{class:"v-responsive__sizer",style:$e(r.value)},null),(u=i.additional)==null?void 0:u.call(i),i.default&&te("div",{class:Ge(["v-responsive__content",e.contentClass])},[i.default()])])}),{}}});function qC(e){return PC(()=>{const n=Zs(e),i=[],r={};if(n.background)if(t2(n.background)){if(r.backgroundColor=n.background,!n.text&&UO(n.background)){const o=hr(n.background);if(o.a==null||o.a===1){const u=m8(o);r.color=u,r.caretColor=u}}}else i.push(`bg-${n.background}`);return n.text&&(t2(n.text)?(r.color=n.text,r.caretColor=n.text):i.push(`text-${n.text}`)),{colorClasses:i,colorStyles:r}})}function Vi(e){const{colorClasses:n,colorStyles:i}=qC(()=>({text:Zs(e)}));return{textColorClasses:n,textColorStyles:i}}function tn(e){const{colorClasses:n,colorStyles:i}=qC(()=>({background:Zs(e)}));return{backgroundColorClasses:n,backgroundColorStyles:i}}const pn=Ie({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Fn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ts();return{roundedClasses:se(()=>{const r=ei(e)?e.value:e.rounded,o=ei(e)?e.value:e.tile,u=[];if(r===!0||r==="")u.push(`${n}--rounded`);else if(typeof r=="string"||r===0)for(const c of String(r).split(" "))u.push(`rounded-${c}`);else(o||r===!1)&&u.push("rounded-0");return u})}}const yo=Ie({transition:{type:null,default:"fade-transition",validator:e=>e!==!0}},"transition"),ea=(e,n)=>{let{slots:i}=n;const{transition:r,disabled:o,group:u,...c}=e,{component:d=u?wC:wu,...h}=kg(r)?r:{};let m;return kg(r)?m=Be(h,JSON.parse(JSON.stringify({disabled:o,group:u})),c):m=Be({name:o||!r?"":r},c),es(d,m,i)};function _R(e,n){if(!DC)return;const i=n.modifiers||{},r=n.value,{handler:o,options:u}=typeof r=="object"?r:{handler:r,options:{}},c=new IntersectionObserver(function(){var p;let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1?arguments[1]:void 0;const m=(p=e._observe)==null?void 0:p[n.instance.$.uid];if(!m)return;const v=d.some(b=>b.isIntersecting);o&&(!i.quiet||m.init)&&(!i.once||v||m.init)&&o(v,d,h),v&&i.once?V8(e,n):m.init=!0},u);e._observe=Object(e._observe),e._observe[n.instance.$.uid]={init:!1,observer:c},c.observe(e)}function V8(e,n){var r;const i=(r=e._observe)==null?void 0:r[n.instance.$.uid];i&&(i.observer.unobserve(e),delete e._observe[n.instance.$.uid])}const el={mounted:_R,unmounted:V8},B8=Ie({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...M8(),...et(),...pn(),...yo()},"VImg"),tl=Fe()({name:"VImg",directives:{vIntersect:el},props:B8(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,n){let{emit:i,slots:r}=n;const{backgroundColorClasses:o,backgroundColorStyles:u}=tn(()=>e.color),{roundedClasses:c}=Fn(e),d=Bn("VImg"),h=ze(""),m=Qe(),v=ze(e.eager?"loading":"idle"),p=ze(),b=ze(),S=se(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),y=se(()=>S.value.aspect||p.value/b.value||0);je(()=>e.src,()=>{w(v.value!=="idle")}),je(y,(M,_)=>{!M&&_&&m.value&&A(m.value)}),Ph(()=>w());function w(M){if(!(e.eager&&M)&&!(DC&&!M&&!e.eager)){if(v.value="loading",S.value.lazySrc){const _=new Image;_.src=S.value.lazySrc,A(_,null)}S.value.src&&Et(()=>{var _;i("loadstart",((_=m.value)==null?void 0:_.currentSrc)||S.value.src),setTimeout(()=>{var I;if(!d.isUnmounted)if((I=m.value)!=null&&I.complete){if(m.value.naturalWidth||T(),v.value==="error")return;y.value||A(m.value,null),v.value==="loading"&&x()}else y.value||A(m.value),D()})})}}function x(){var M;d.isUnmounted||(D(),A(m.value),v.value="loaded",i("load",((M=m.value)==null?void 0:M.currentSrc)||S.value.src))}function T(){var M;d.isUnmounted||(v.value="error",i("error",((M=m.value)==null?void 0:M.currentSrc)||S.value.src))}function D(){const M=m.value;M&&(h.value=M.currentSrc||M.src)}let P=-1;gi(()=>{clearTimeout(P)});function A(M){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const I=()=>{if(clearTimeout(P),d.isUnmounted)return;const{naturalHeight:B,naturalWidth:H}=M;B||H?(p.value=H,b.value=B):!M.complete&&v.value==="loading"&&_!=null?P=window.setTimeout(I,_):(M.currentSrc.endsWith(".svg")||M.currentSrc.startsWith("data:image/svg+xml"))&&(p.value=1,b.value=1)};I()}const O=be(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),F=()=>{var I;if(!S.value.src||v.value==="idle")return null;const M=te("img",{class:Ge(["v-img__img",O.value]),style:{objectPosition:e.position},crossorigin:e.crossorigin,src:S.value.src,srcset:S.value.srcset,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:m,onLoad:x,onError:T},null),_=(I=r.sources)==null?void 0:I.call(r);return Z(ea,{transition:e.transition,appear:!0},{default:()=>[xn(_?te("picture",{class:"v-img__picture"},[_,M]):M,[[po,v.value==="loaded"]])]})},q=()=>Z(ea,{transition:e.transition},{default:()=>[S.value.lazySrc&&v.value!=="loaded"&&te("img",{class:Ge(["v-img__img","v-img__img--preload",O.value]),style:{objectPosition:e.position},crossorigin:e.crossorigin,src:S.value.lazySrc,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),R=()=>r.placeholder?Z(ea,{transition:e.transition,appear:!0},{default:()=>[(v.value==="loading"||v.value==="error"&&!r.error)&&te("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,E=()=>r.error?Z(ea,{transition:e.transition,appear:!0},{default:()=>[v.value==="error"&&te("div",{class:"v-img__error"},[r.error()])]}):null,N=()=>e.gradient?te("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,G=ze(!1);{const M=je(y,_=>{_&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{G.value=!0})}),M())})}return qe(()=>{const M=d2.filterProps(e);return xn(Z(d2,Be({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!G.value},o.value,c.value,e.class],style:[{width:Ke(e.width==="auto"?p.value:e.width)},u.value,e.style]},M,{aspectRatio:y.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>te(nt,null,[Z(F,null,null),Z(q,null,null),Z(N,null,null),Z(R,null,null),Z(E,null,null)]),default:r.default}),[[el,{handler:w,options:e.options},null,{once:!0}]])}),{currentSrc:h,image:m,state:v,naturalWidth:p,naturalHeight:b}}}),Na=Ie({border:[Boolean,Number,String]},"border");function mr(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ts();return{borderClasses:se(()=>{const r=e.border;return r===!0||r===""?`${n}--border`:typeof r=="string"||r===0?String(r).split(" ").map(o=>`border-${o}`):[]})}}const li=Ie({elevation:{type:[Number,String],validator(e){const n=parseInt(e);return!isNaN(n)&&n>=0&&n<=24}}},"elevation");function _i(e){return{elevationClasses:be(()=>{const i=ei(e)?e.value:e.elevation;return i==null?[]:[`elevation-${i}`]})}}const LR=[null,"prominent","default","comfortable","compact"],N8=Ie({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>LR.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Na(),...et(),...li(),...pn(),...mt({tag:"header"}),...Lt()},"VToolbar"),h2=Fe()({name:"VToolbar",props:N8(),setup(e,n){var S;let{slots:i}=n;const{backgroundColorClasses:r,backgroundColorStyles:o}=tn(()=>e.color),{borderClasses:u}=mr(e),{elevationClasses:c}=_i(e),{roundedClasses:d}=Fn(e),{themeClasses:h}=Yt(e),{rtlClasses:m}=ti(),v=ze(!!(e.extended||(S=i.extension)!=null&&S.call(i))),p=se(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),b=se(()=>v.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Rn({VBtn:{variant:"text"}}),qe(()=>{var T;const y=!!(e.title||i.title),w=!!(i.image||e.image),x=(T=i.extension)==null?void 0:T.call(i);return v.value=!!(e.extended||x),Z(e.tag,{class:Ge(["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,u.value,c.value,d.value,h.value,m.value,e.class]),style:$e([o.value,e.style])},{default:()=>[w&&te("div",{key:"image",class:"v-toolbar__image"},[i.image?Z(St,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},i.image):Z(tl,{key:"image-img",cover:!0,src:e.image},null)]),Z(St,{defaults:{VTabs:{height:Ke(p.value)}}},{default:()=>{var D,P,A;return[te("div",{class:"v-toolbar__content",style:{height:Ke(p.value)}},[i.prepend&&te("div",{class:"v-toolbar__prepend"},[(D=i.prepend)==null?void 0:D.call(i)]),y&&Z(VC,{key:"title",text:e.title},{text:i.title}),(P=i.default)==null?void 0:P.call(i),i.append&&te("div",{class:"v-toolbar__append"},[(A=i.append)==null?void 0:A.call(i)])])]}}),Z(St,{defaults:{VTabs:{height:Ke(b.value)}}},{default:()=>[Z(HS,null,{default:()=>[v.value&&te("div",{class:"v-toolbar__extension",style:{height:Ke(b.value)}},[x])]})]})]})}),{contentHeight:p,extensionHeight:b}}}),OR=Ie({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function kR(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:i}=n;let r=0,o=0;const u=Qe(null),c=ze(0),d=ze(0),h=ze(0),m=ze(!1),v=ze(!1),p=se(()=>Number(e.scrollThreshold)),b=se(()=>nn((p.value-c.value)/p.value||0)),S=()=>{const y=u.value;if(!y||i&&!i.value)return;r=c.value,c.value="window"in y?y.pageYOffset:y.scrollTop;const w=y instanceof Window?document.documentElement.scrollHeight:y.scrollHeight;if(o!==w){o=w;return}v.value=c.value<r,h.value=Math.abs(c.value-p.value)};return je(v,()=>{d.value=d.value||c.value}),je(m,()=>{d.value=0}),Ai(()=>{je(()=>e.scrollTarget,y=>{var x;const w=y?document.querySelector(y):window;w&&w!==u.value&&((x=u.value)==null||x.removeEventListener("scroll",S),u.value=w,u.value.addEventListener("scroll",S,{passive:!0}))},{immediate:!0})}),gi(()=>{var y;(y=u.value)==null||y.removeEventListener("scroll",S)}),i&&je(i,S,{immediate:!0}),{scrollThreshold:p,currentScroll:c,currentThreshold:h,isScrollActive:m,scrollRatio:b,isScrollingUp:v,savedScroll:d}}function ld(){const e=ze(!1);return Ai(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:be(()=>e.value?void 0:{transition:"none !important"}),isBooted:xh(e)}}const RR=Ie({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...N8(),...od(),...OR(),height:{type:[Number,String],default:64}},"VAppBar"),ER=Fe()({name:"VAppBar",props:RR(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const r=Qe(),o=at(e,"modelValue"),u=se(()=>{var P;const D=new Set(((P=e.scrollBehavior)==null?void 0:P.split(" "))??[]);return{hide:D.has("hide"),fullyHide:D.has("fully-hide"),inverted:D.has("inverted"),collapse:D.has("collapse"),elevate:D.has("elevate"),fadeImage:D.has("fade-image")}}),c=se(()=>{const D=u.value;return D.hide||D.fullyHide||D.inverted||D.collapse||D.elevate||D.fadeImage||!o.value}),{currentScroll:d,scrollThreshold:h,isScrollingUp:m,scrollRatio:v}=kR(e,{canScroll:c}),p=be(()=>u.value.hide||u.value.fullyHide),b=se(()=>e.collapse||u.value.collapse&&(u.value.inverted?v.value>0:v.value===0)),S=se(()=>e.flat||u.value.fullyHide&&!o.value||u.value.elevate&&(u.value.inverted?d.value>0:d.value===0)),y=se(()=>u.value.fadeImage?u.value.inverted?1-v.value:v.value:void 0),w=se(()=>{var A,O;if(u.value.hide&&u.value.inverted)return 0;const D=((A=r.value)==null?void 0:A.contentHeight)??0,P=((O=r.value)==null?void 0:O.extensionHeight)??0;return p.value?d.value<h.value||u.value.fullyHide?D+P:D:D+P});va(()=>!!e.scrollBehavior,()=>{On(()=>{p.value?u.value.inverted?o.value=d.value>h.value:o.value=m.value||d.value<h.value:o.value=!0})});const{ssrBootStyles:x}=ld(),{layoutItemStyles:T}=sd({id:e.name,order:se(()=>parseInt(e.order,10)),position:be(()=>e.location),layoutSize:w,elementSize:ze(void 0),active:o,absolute:be(()=>e.absolute)});return qe(()=>{const D=h2.filterProps(e);return Z(h2,Be({ref:r,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...T.value,"--v-toolbar-image-opacity":y.value,height:void 0,...x.value},e.style]},D,{collapse:b.value,flat:S.value}),i)}),{}}}),FR=[null,"default","comfortable","compact"],mi=Ie({density:{type:String,default:"default",validator:e=>FR.includes(e)}},"density");function na(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ts();return{densityClasses:be(()=>`${n}--density-${e.density}`)}}const MR=["elevated","flat","tonal","outlined","text","plain"];function Au(e,n){return te(nt,null,[e&&te("span",{key:"overlay",class:Ge(`${n}__overlay`)},null),te("span",{key:"underlay",class:Ge(`${n}__underlay`)},null)])}const jr=Ie({color:String,variant:{type:String,default:"elevated",validator:e=>MR.includes(e)}},"variant");function ud(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ts();const i=be(()=>{const{variant:u}=Zs(e);return`${n}--variant-${u}`}),{colorClasses:r,colorStyles:o}=qC(()=>{const{variant:u,color:c}=Zs(e);return{[["elevated","flat"].includes(u)?"background":"text"]:c}});return{colorClasses:r,colorStyles:o,variantClasses:i}}const U8=Ie({baseColor:String,divided:Boolean,...Na(),...et(),...mi(),...li(),...pn(),...mt(),...Lt(),...jr()},"VBtnGroup"),f2=Fe()({name:"VBtnGroup",props:U8(),setup(e,n){let{slots:i}=n;const{themeClasses:r}=Yt(e),{densityClasses:o}=na(e),{borderClasses:u}=mr(e),{elevationClasses:c}=_i(e),{roundedClasses:d}=Fn(e);Rn({VBtn:{height:"auto",baseColor:be(()=>e.baseColor),color:be(()=>e.color),density:be(()=>e.density),flat:!0,variant:be(()=>e.variant)}}),qe(()=>Z(e.tag,{class:Ge(["v-btn-group",{"v-btn-group--divided":e.divided},r.value,u.value,o.value,c.value,d.value,e.class]),style:$e(e.style)},i))}}),cd=Ie({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),dd=Ie({value:null,disabled:Boolean,selectedClass:String},"group-item");function hd(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=Bn("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const o=pa();cn(Symbol.for(`${n.description}:id`),o);const u=Tt(n,null);if(!u){if(!i)return u;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${n.description}`)}const c=be(()=>e.value),d=se(()=>!!(u.disabled.value||e.disabled));u.register({id:o,value:c,disabled:d},r),gi(()=>{u.unregister(o)});const h=se(()=>u.isSelected(o)),m=se(()=>u.items.value[0].id===o),v=se(()=>u.items.value[u.items.value.length-1].id===o),p=se(()=>h.value&&[u.selectedClass.value,e.selectedClass]);return je(h,b=>{r.emit("group:selected",{value:b})},{flush:"sync"}),{id:o,isSelected:h,isFirst:m,isLast:v,toggle:()=>u.select(o,!h.value),select:b=>u.select(o,b),selectedClass:p,value:c,disabled:d,group:u}}function _u(e,n){let i=!1;const r=Ei([]),o=at(e,"modelValue",[],b=>b==null?[]:q8(r,Dn(b)),b=>{const S=BR(r,b);return e.multiple?S:S[0]}),u=Bn("useGroup");function c(b,S){const y=b,w=Symbol.for(`${n.description}:id`),T=uh(w,u==null?void 0:u.vnode).indexOf(S);Ma(y.value)==null&&(y.value=T,y.useIndexAsValue=!0),T>-1?r.splice(T,0,y):r.push(y)}function d(b){if(i)return;h();const S=r.findIndex(y=>y.id===b);r.splice(S,1)}function h(){const b=r.find(S=>!S.disabled);b&&e.mandatory==="force"&&!o.value.length&&(o.value=[b.id])}Ai(()=>{h()}),gi(()=>{i=!0}),gC(()=>{for(let b=0;b<r.length;b++)r[b].useIndexAsValue&&(r[b].value=b)});function m(b,S){const y=r.find(w=>w.id===b);if(!(S&&(y!=null&&y.disabled)))if(e.multiple){const w=o.value.slice(),x=w.findIndex(D=>D===b),T=~x;if(S=S??!T,T&&e.mandatory&&w.length<=1||!T&&e.max!=null&&w.length+1>e.max)return;x<0&&S?w.push(b):x>=0&&!S&&w.splice(x,1),o.value=w}else{const w=o.value.includes(b);if(e.mandatory&&w)return;o.value=S??!w?[b]:[]}}function v(b){if(e.multiple,o.value.length){const S=o.value[0],y=r.findIndex(T=>T.id===S);let w=(y+b)%r.length,x=r[w];for(;x.disabled&&w!==y;)w=(w+b)%r.length,x=r[w];if(x.disabled)return;o.value=[r[w].id]}else{const S=r.find(y=>!y.disabled);S&&(o.value=[S.id])}}const p={register:c,unregister:d,selected:o,select:m,disabled:be(()=>e.disabled),prev:()=>v(r.length-1),next:()=>v(1),isSelected:b=>o.value.includes(b),selectedClass:be(()=>e.selectedClass),items:be(()=>r),getItemIndex:b=>VR(r,b)};return cn(n,p),p}function VR(e,n){const i=q8(e,[n]);return i.length?e.findIndex(r=>r.id===i[0]):-1}function q8(e,n){const i=[];return n.forEach(r=>{const o=e.find(c=>Mi(r,c.value)),u=e[r];(o==null?void 0:o.value)!=null?i.push(o.id):u!=null&&i.push(u.id)}),i}function BR(e,n){const i=[];return n.forEach(r=>{const o=e.findIndex(u=>u.id===r);if(~o){const u=e[o];i.push(u.value!=null?u.value:o)}}),i}const GC=Symbol.for("vuetify:v-btn-toggle"),NR=Ie({...U8(),...cd()},"VBtnToggle"),UR=Fe()({name:"VBtnToggle",props:NR(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const{isSelected:r,next:o,prev:u,select:c,selected:d}=_u(e,GC);return qe(()=>{const h=f2.filterProps(e);return Z(f2,Be({class:["v-btn-toggle",e.class]},h,{style:e.style}),{default:()=>{var m;return[(m=i.default)==null?void 0:m.call(i,{isSelected:r,next:o,prev:u,select:c,selected:d})]}})}),{next:o,prev:u,select:c}}}),qR=["x-small","small","default","large","x-large"],is=Ie({size:{type:[String,Number],default:"default"}},"size");function Ih(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ts();return PC(()=>{const i=e.size;let r,o;return pS(qR,i)?r=`${n}--size-${i}`:i&&(o={width:Ke(i),height:Ke(i)}),{sizeClasses:r,sizeStyles:o}})}const GR=Ie({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:ot,opacity:[String,Number],...et(),...is(),...mt({tag:"i"}),...Lt()},"VIcon"),zt=Fe()({name:"VIcon",props:GR(),setup(e,n){let{attrs:i,slots:r}=n;const o=ze(),{themeClasses:u}=MC(),{iconData:c}=nR(()=>o.value||e.icon),{sizeClasses:d}=Ih(e),{textColorClasses:h,textColorStyles:m}=Vi(()=>e.color);return qe(()=>{var b,S;const v=(b=r.default)==null?void 0:b.call(r);v&&(o.value=(S=Jx(v).filter(y=>y.type===Yg&&y.children&&typeof y.children=="string")[0])==null?void 0:S.children);const p=!!(i.onClick||i.onClickOnce);return Z(c.value.component,{tag:e.tag,icon:c.value.icon,class:Ge(["v-icon","notranslate",u.value,d.value,h.value,{"v-icon--clickable":p,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class]),style:$e([{"--v-icon-opacity":e.opacity},d.value?void 0:{fontSize:Ke(e.size),height:Ke(e.size),width:Ke(e.size)},m.value,e.style]),role:p?"button":void 0,"aria-hidden":!p,tabindex:p?e.disabled?-1:0:void 0},{default:()=>[v]})}),{}}});function WS(e,n){const i=Qe(),r=ze(!1);if(DC){const o=new IntersectionObserver(u=>{r.value=!!u.find(c=>c.isIntersecting)},n);gi(()=>{o.disconnect()}),je(i,(u,c)=>{c&&(o.unobserve(c),r.value=!1),u&&o.observe(u)},{flush:"post"})}return{intersectionRef:i,isIntersecting:r}}const QR=Ie({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...et(),...is(),...mt({tag:"div"}),...Lt()},"VProgressCircular"),wh=Fe()({name:"VProgressCircular",props:QR(),setup(e,n){let{slots:i}=n;const r=20,o=2*Math.PI*r,u=Qe(),{themeClasses:c}=Yt(e),{sizeClasses:d,sizeStyles:h}=Ih(e),{textColorClasses:m,textColorStyles:v}=Vi(()=>e.color),{textColorClasses:p,textColorStyles:b}=Vi(()=>e.bgColor),{intersectionRef:S,isIntersecting:y}=WS(),{resizeRef:w,contentRect:x}=So(),T=be(()=>nn(parseFloat(e.modelValue),0,100)),D=be(()=>Number(e.width)),P=be(()=>h.value?Number(e.size):x.value?x.value.width:Math.max(D.value,32)),A=be(()=>r/(1-D.value/P.value)*2),O=be(()=>D.value/P.value*A.value),F=be(()=>Ke((100-T.value)/100*o));return On(()=>{S.value=u.value,w.value=u.value}),qe(()=>Z(e.tag,{ref:u,class:Ge(["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":y.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},c.value,d.value,m.value,e.class]),style:$e([h.value,v.value,e.style]),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:T.value},{default:()=>[te("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${A.value} ${A.value}`},[te("circle",{class:Ge(["v-progress-circular__underlay",p.value]),style:$e(b.value),fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":O.value,"stroke-dasharray":o,"stroke-dashoffset":0},null),te("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":O.value,"stroke-dasharray":o,"stroke-dashoffset":F.value},null)]),i.default&&te("div",{class:"v-progress-circular__content"},[i.default({value:T.value})])]})),{}}}),Kw={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},ol=Ie({location:String},"location");function fd(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=ti();return{locationStyles:se(()=>{if(!e.location)return{};const{side:u,align:c}=Jy(e.location.split(" ").length>1?e.location:`${e.location} center`,r.value);function d(m){return i?i(m):0}const h={};return u!=="center"&&(n?h[Kw[u]]=`calc(100% - ${d(u)}px)`:h[u]=0),c!=="center"?n?h[Kw[c]]=`calc(100% - ${d(c)}px)`:h[c]=0:(u==="center"?h.top=h.left="50%":h[{top:"left",bottom:"left",left:"top",right:"top"}[u]]="50%",h.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[u]),h})}}const zR=Ie({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...et(),...ol({location:"top"}),...pn(),...mt(),...Lt()},"VProgressLinear"),YS=Fe()({name:"VProgressLinear",props:zR(),emits:{"update:modelValue":e=>!0},setup(e,n){var G;let{slots:i}=n;const r=at(e,"modelValue"),{isRtl:o,rtlClasses:u}=ti(),{themeClasses:c}=Yt(e),{locationStyles:d}=fd(e),{textColorClasses:h,textColorStyles:m}=Vi(()=>e.color),{backgroundColorClasses:v,backgroundColorStyles:p}=tn(()=>e.bgColor||e.color),{backgroundColorClasses:b,backgroundColorStyles:S}=tn(()=>e.bufferColor||e.bgColor||e.color),{backgroundColorClasses:y,backgroundColorStyles:w}=tn(()=>e.color),{roundedClasses:x}=Fn(e),{intersectionRef:T,isIntersecting:D}=WS(),P=se(()=>parseFloat(e.max)),A=se(()=>parseFloat(e.height)),O=se(()=>nn(parseFloat(e.bufferValue)/P.value*100,0,100)),F=se(()=>nn(parseFloat(r.value)/P.value*100,0,100)),q=se(()=>o.value!==e.reverse),R=se(()=>e.indeterminate?"fade-transition":"slide-x-transition"),E=Ht&&((G=window.matchMedia)==null?void 0:G.call(window,"(forced-colors: active)").matches);function N(M){if(!T.value)return;const{left:_,right:I,width:B}=T.value.getBoundingClientRect(),H=q.value?B-M.clientX+(I-B):M.clientX-_;r.value=Math.round(H/B*P.value)}return qe(()=>Z(e.tag,{ref:T,class:Ge(["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&D.value,"v-progress-linear--reverse":q.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},x.value,c.value,u.value,e.class]),style:$e([{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?Ke(A.value):0,"--v-progress-linear-height":Ke(A.value),...e.absolute?d.value:{}},e.style]),role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:Math.min(parseFloat(r.value),P.value),onClick:e.clickable&&N},{default:()=>[e.stream&&te("div",{key:"stream",class:Ge(["v-progress-linear__stream",h.value]),style:{...m.value,[q.value?"left":"right"]:Ke(-A.value),borderTop:`${Ke(A.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${Ke(A.value/4)})`,width:Ke(100-O.value,"%"),"--v-progress-linear-stream-to":Ke(A.value*(q.value?1:-1))}},null),te("div",{class:Ge(["v-progress-linear__background",E?void 0:v.value]),style:$e([p.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}])},null),te("div",{class:Ge(["v-progress-linear__buffer",E?void 0:b.value]),style:$e([S.value,{opacity:parseFloat(e.bufferOpacity),width:Ke(O.value,"%")}])},null),Z(wu,{name:R.value},{default:()=>[e.indeterminate?te("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(M=>te("div",{key:M,class:Ge(["v-progress-linear__indeterminate",M,E?void 0:y.value]),style:$e(w.value)},null))]):te("div",{class:Ge(["v-progress-linear__determinate",E?void 0:y.value]),style:$e([w.value,{width:Ke(F.value,"%")}])},null)]}),i.default&&te("div",{class:"v-progress-linear__content"},[i.default({value:F.value,buffer:O.value})])]})),{}}}),$S=Ie({loading:[Boolean,String]},"loader");function Zg(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ts();return{loaderClasses:be(()=>({[`${n}--loading`]:e.loading}))}}function Jg(e,n){var r;let{slots:i}=n;return te("div",{class:Ge(`${e.name}__loader`)},[((r=i.default)==null?void 0:r.call(i,{color:e.color,isActive:e.active}))||Z(YS,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const HR=["static","relative","fixed","absolute","sticky"],Ah=Ie({position:{type:String,validator:e=>HR.includes(e)}},"position");function _h(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ts();return{positionClasses:be(()=>e.position?`${n}--${e.position}`:void 0)}}function WR(){const e=Bn("useRoute");return se(()=>{var n;return(n=e==null?void 0:e.proxy)==null?void 0:n.$route})}function G8(){var e,n;return(n=(e=Bn("useRouter"))==null?void 0:e.proxy)==null?void 0:n.$router}function em(e,n){var v,p;const i=qL("RouterLink"),r=be(()=>!!(e.href||e.to)),o=se(()=>(r==null?void 0:r.value)||Dw(n,"click")||Dw(e,"click"));if(typeof i=="string"||!("useLink"in i)){const b=be(()=>e.href);return{isLink:r,isClickable:o,href:b,linkProps:Ei({href:b})}}const u=i.useLink({to:be(()=>e.to||""),replace:be(()=>e.replace)}),c=se(()=>e.to?u:void 0),d=WR(),h=se(()=>{var b,S,y;return c.value?e.exact?d.value?((y=c.value.isExactActive)==null?void 0:y.value)&&Mi(c.value.route.value.query,d.value.query):((S=c.value.isExactActive)==null?void 0:S.value)??!1:((b=c.value.isActive)==null?void 0:b.value)??!1:!1}),m=se(()=>{var b;return e.to?(b=c.value)==null?void 0:b.route.value.href:e.href});return{isLink:r,isClickable:o,isActive:h,route:(v=c.value)==null?void 0:v.route,navigate:(p=c.value)==null?void 0:p.navigate,href:m,linkProps:Ei({href:m,"aria-current":be(()=>h.value?"page":void 0)})}}const tm=Ie({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Cy=!1;function YR(e,n){let i=!1,r,o;Ht&&(e!=null&&e.beforeEach)&&(Et(()=>{window.addEventListener("popstate",u),r=e.beforeEach((c,d,h)=>{Cy?i?n(h):h():setTimeout(()=>i?n(h):h()),Cy=!0}),o=e==null?void 0:e.afterEach(()=>{Cy=!1})}),Ii(()=>{window.removeEventListener("popstate",u),r==null||r(),o==null||o()}));function u(c){var d;(d=c.state)!=null&&d.replaced||(i=!0,setTimeout(()=>i=!1))}}function $R(e,n){je(()=>{var i;return(i=e.isActive)==null?void 0:i.value},i=>{e.isLink.value&&i&&n&&Et(()=>{n(!0)})},{immediate:!0})}const g2=Symbol("rippleStop"),jR=80;function Zw(e,n){e.style.transform=n,e.style.webkitTransform=n}function m2(e){return e.constructor.name==="TouchEvent"}function Q8(e){return e.constructor.name==="KeyboardEvent"}const XR=function(e,n){var p;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;if(!Q8(e)){const b=n.getBoundingClientRect(),S=m2(e)?e.touches[e.touches.length-1]:e;r=S.clientX-b.left,o=S.clientY-b.top}let u=0,c=.3;(p=n._ripple)!=null&&p.circle?(c=.15,u=n.clientWidth/2,u=i.center?u:u+Math.sqrt((r-u)**2+(o-u)**2)/4):u=Math.sqrt(n.clientWidth**2+n.clientHeight**2)/2;const d=`${(n.clientWidth-u*2)/2}px`,h=`${(n.clientHeight-u*2)/2}px`,m=i.center?d:`${r-u}px`,v=i.center?h:`${o-u}px`;return{radius:u,scale:c,x:m,y:v,centerX:d,centerY:h}},DS={show(e,n){var S;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((S=n==null?void 0:n._ripple)!=null&&S.enabled))return;const r=document.createElement("span"),o=document.createElement("span");r.appendChild(o),r.className="v-ripple__container",i.class&&(r.className+=` ${i.class}`);const{radius:u,scale:c,x:d,y:h,centerX:m,centerY:v}=XR(e,n,i),p=`${u*2}px`;o.className="v-ripple__animation",o.style.width=p,o.style.height=p,n.appendChild(r);const b=window.getComputedStyle(n);b&&b.position==="static"&&(n.style.position="relative",n.dataset.previousPosition="static"),o.classList.add("v-ripple__animation--enter"),o.classList.add("v-ripple__animation--visible"),Zw(o,`translate(${d}, ${h}) scale3d(${c},${c},${c})`),o.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{o.classList.remove("v-ripple__animation--enter"),o.classList.add("v-ripple__animation--in"),Zw(o,`translate(${m}, ${v}) scale3d(1,1,1)`)})})},hide(e){var u;if(!((u=e==null?void 0:e._ripple)!=null&&u.enabled))return;const n=e.getElementsByClassName("v-ripple__animation");if(n.length===0)return;const i=n[n.length-1];if(i.dataset.isHiding)return;i.dataset.isHiding="true";const r=performance.now()-Number(i.dataset.activated),o=Math.max(250-r,0);setTimeout(()=>{i.classList.remove("v-ripple__animation--in"),i.classList.add("v-ripple__animation--out"),setTimeout(()=>{var d;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((d=i.parentNode)==null?void 0:d.parentNode)===e&&e.removeChild(i.parentNode)},300)},o)}};function z8(e){return typeof e>"u"||!!e}function Bg(e){const n={},i=e.currentTarget;if(!(!(i!=null&&i._ripple)||i._ripple.touched||e[g2])){if(e[g2]=!0,m2(e))i._ripple.touched=!0,i._ripple.isTouch=!0;else if(i._ripple.isTouch)return;if(n.center=i._ripple.centered||Q8(e),i._ripple.class&&(n.class=i._ripple.class),m2(e)){if(i._ripple.showTimerCommit)return;i._ripple.showTimerCommit=()=>{DS.show(e,i,n)},i._ripple.showTimer=window.setTimeout(()=>{var r;(r=i==null?void 0:i._ripple)!=null&&r.showTimerCommit&&(i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null)},jR)}else DS.show(e,i,n)}}function Jw(e){e[g2]=!0}function cr(e){const n=e.currentTarget;if(n!=null&&n._ripple){if(window.clearTimeout(n._ripple.showTimer),e.type==="touchend"&&n._ripple.showTimerCommit){n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null,n._ripple.showTimer=window.setTimeout(()=>{cr(e)});return}window.setTimeout(()=>{n._ripple&&(n._ripple.touched=!1)}),DS.hide(n)}}function H8(e){const n=e.currentTarget;n!=null&&n._ripple&&(n._ripple.showTimerCommit&&(n._ripple.showTimerCommit=null),window.clearTimeout(n._ripple.showTimer))}let Ng=!1;function W8(e){!Ng&&(e.keyCode===pw.enter||e.keyCode===pw.space)&&(Ng=!0,Bg(e))}function Y8(e){Ng=!1,cr(e)}function $8(e){Ng&&(Ng=!1,cr(e))}function j8(e,n,i){const{value:r,modifiers:o}=n,u=z8(r);if(u||DS.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=u,e._ripple.centered=o.center,e._ripple.circle=o.circle,kg(r)&&r.class&&(e._ripple.class=r.class),u&&!i){if(o.stop){e.addEventListener("touchstart",Jw,{passive:!0}),e.addEventListener("mousedown",Jw);return}e.addEventListener("touchstart",Bg,{passive:!0}),e.addEventListener("touchend",cr,{passive:!0}),e.addEventListener("touchmove",H8,{passive:!0}),e.addEventListener("touchcancel",cr),e.addEventListener("mousedown",Bg),e.addEventListener("mouseup",cr),e.addEventListener("mouseleave",cr),e.addEventListener("keydown",W8),e.addEventListener("keyup",Y8),e.addEventListener("blur",$8),e.addEventListener("dragstart",cr,{passive:!0})}else!u&&i&&X8(e)}function X8(e){e.removeEventListener("mousedown",Bg),e.removeEventListener("touchstart",Bg),e.removeEventListener("touchend",cr),e.removeEventListener("touchmove",H8),e.removeEventListener("touchcancel",cr),e.removeEventListener("mouseup",cr),e.removeEventListener("mouseleave",cr),e.removeEventListener("keydown",W8),e.removeEventListener("keyup",Y8),e.removeEventListener("dragstart",cr),e.removeEventListener("blur",$8)}function KR(e,n){j8(e,n,!1)}function ZR(e){delete e._ripple,X8(e)}function JR(e,n){if(n.value===n.oldValue)return;const i=z8(n.oldValue);j8(e,n,i)}const ta={mounted:KR,unmounted:ZR,updated:JR},jS=Ie({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:GC},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:ot,appendIcon:ot,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...Na(),...et(),...mi(),...ni(),...li(),...dd(),...$S(),...ol(),...Ah(),...pn(),...tm(),...is(),...mt({tag:"button"}),...Lt(),...jr({variant:"elevated"})},"VBtn"),Rt=Fe()({name:"VBtn",props:jS(),emits:{"group:selected":e=>!0},setup(e,n){let{attrs:i,slots:r}=n;const{themeClasses:o}=Yt(e),{borderClasses:u}=mr(e),{densityClasses:c}=na(e),{dimensionStyles:d}=ii(e),{elevationClasses:h}=_i(e),{loaderClasses:m}=Zg(e),{locationStyles:v}=fd(e),{positionClasses:p}=_h(e),{roundedClasses:b}=Fn(e),{sizeClasses:S,sizeStyles:y}=Ih(e),w=hd(e,e.symbol,!1),x=em(e,i),T=se(()=>{var G;return e.active!==void 0?e.active:x.isLink.value?(G=x.isActive)==null?void 0:G.value:w==null?void 0:w.isSelected.value}),D=be(()=>T.value?e.activeColor??e.color:e.color),P=se(()=>{var M,_;return{color:(w==null?void 0:w.isSelected.value)&&(!x.isLink.value||((M=x.isActive)==null?void 0:M.value))||!w||((_=x.isActive)==null?void 0:_.value)?D.value??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:A,colorStyles:O,variantClasses:F}=ud(P),q=se(()=>(w==null?void 0:w.disabled.value)||e.disabled),R=be(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),E=se(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function N(G){var M;q.value||x.isLink.value&&(G.metaKey||G.ctrlKey||G.shiftKey||G.button!==0||i.target==="_blank")||((M=x.navigate)==null||M.call(x,G),w==null||w.toggle())}return $R(x,w==null?void 0:w.select),qe(()=>{const G=x.isLink.value?"a":e.tag,M=!!(e.prependIcon||r.prepend),_=!!(e.appendIcon||r.append),I=!!(e.icon&&e.icon!==!0);return xn(Z(G,Be({type:G==="a"?void 0:"button",class:["v-btn",w==null?void 0:w.selectedClass.value,{"v-btn--active":T.value,"v-btn--block":e.block,"v-btn--disabled":q.value,"v-btn--elevated":R.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},o.value,u.value,A.value,c.value,h.value,m.value,p.value,b.value,S.value,F.value,e.class],style:[O.value,d.value,v.value,y.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:q.value||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:N,value:E.value},x.linkProps),{default:()=>{var B;return[Au(!0,"v-btn"),!e.icon&&M&&te("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?Z(St,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},r.prepend):Z(zt,{key:"prepend-icon",icon:e.prependIcon},null)]),te("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&I?Z(zt,{key:"content-icon",icon:e.icon},null):Z(St,{key:"content-defaults",disabled:!I,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var H;return[((H=r.default)==null?void 0:H.call(r))??mo(e.text)]}})]),!e.icon&&_&&te("span",{key:"append",class:"v-btn__append"},[r.append?Z(St,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},r.append):Z(zt,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&te("span",{key:"loader",class:"v-btn__loader"},[((B=r.loader)==null?void 0:B.call(r))??Z(wh,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[ta,!q.value&&e.ripple,"",{center:!!e.icon}]])}),{group:w}}}),eE=Ie({...jS({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),tE=Fe()({name:"VAppBarNavIcon",props:eE(),setup(e,n){let{slots:i}=n;return qe(()=>Z(Rt,Be(e,{class:["v-app-bar-nav-icon"]}),i)),{}}}),nE=Fe()({name:"VAppBarTitle",props:R8(),setup(e,n){let{slots:i}=n;return qe(()=>Z(VC,Be(e,{class:"v-app-bar-title"}),i)),{}}}),K8=ns("v-alert-title"),iE=["success","info","warning","error"],aE=Ie({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:ot,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>iE.includes(e)},...et(),...mi(),...ni(),...li(),...ol(),...Ah(),...pn(),...mt(),...Lt(),...jr({variant:"flat"})},"VAlert"),rE=Fe()({name:"VAlert",props:aE(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{emit:i,slots:r}=n;const o=at(e,"modelValue"),u=be(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),{themeClasses:c}=Yt(e),{colorClasses:d,colorStyles:h,variantClasses:m}=ud(()=>({color:e.color??e.type,variant:e.variant})),{densityClasses:v}=na(e),{dimensionStyles:p}=ii(e),{elevationClasses:b}=_i(e),{locationStyles:S}=fd(e),{positionClasses:y}=_h(e),{roundedClasses:w}=Fn(e),{textColorClasses:x,textColorStyles:T}=Vi(()=>e.borderColor),{t:D}=En(),P=be(()=>({"aria-label":D(e.closeLabel),onClick(A){o.value=!1,i("click:close",A)}}));return()=>{const A=!!(r.prepend||u.value),O=!!(r.title||e.title),F=!!(r.close||e.closable);return o.value&&Z(e.tag,{class:Ge(["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},c.value,d.value,v.value,b.value,y.value,w.value,m.value,e.class]),style:$e([h.value,p.value,S.value,e.style]),role:"alert"},{default:()=>{var q,R;return[Au(!1,"v-alert"),e.border&&te("div",{key:"border",class:Ge(["v-alert__border",x.value]),style:$e(T.value)},null),A&&te("div",{key:"prepend",class:"v-alert__prepend"},[r.prepend?Z(St,{key:"prepend-defaults",disabled:!u.value,defaults:{VIcon:{density:e.density,icon:u.value,size:e.prominent?44:28}}},r.prepend):Z(zt,{key:"prepend-icon",density:e.density,icon:u.value,size:e.prominent?44:28},null)]),te("div",{class:"v-alert__content"},[O&&Z(K8,{key:"title"},{default:()=>{var E;return[((E=r.title)==null?void 0:E.call(r))??e.title]}}),((q=r.text)==null?void 0:q.call(r))??e.text,(R=r.default)==null?void 0:R.call(r)]),r.append&&te("div",{key:"append",class:"v-alert__append"},[r.append()]),F&&te("div",{key:"close",class:"v-alert__close"},[r.close?Z(St,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var E;return[(E=r.close)==null?void 0:E.call(r,{props:P.value})]}}):Z(Rt,Be({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},P.value),null)])]}})}}}),oE=Ie({start:Boolean,end:Boolean,icon:ot,image:String,text:String,...Na(),...et(),...mi(),...pn(),...is(),...mt(),...Lt(),...jr({variant:"flat"})},"VAvatar"),Yr=Fe()({name:"VAvatar",props:oE(),setup(e,n){let{slots:i}=n;const{themeClasses:r}=Yt(e),{borderClasses:o}=mr(e),{colorClasses:u,colorStyles:c,variantClasses:d}=ud(e),{densityClasses:h}=na(e),{roundedClasses:m}=Fn(e),{sizeClasses:v,sizeStyles:p}=Ih(e);return qe(()=>Z(e.tag,{class:Ge(["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},r.value,o.value,u.value,h.value,m.value,v.value,d.value,e.class]),style:$e([c.value,p.value,e.style])},{default:()=>[i.default?Z(St,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[i.default()]}):e.image?Z(tl,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?Z(zt,{key:"icon",icon:e.icon},null):e.text,Au(!1,"v-avatar")]})),{}}}),sE=Ie({text:String,onClick:Pi(),...et(),...Lt()},"VLabel"),Lh=Fe()({name:"VLabel",props:sE(),setup(e,n){let{slots:i}=n;return qe(()=>{var r;return te("label",{class:Ge(["v-label",{"v-label--clickable":!!e.onClick},e.class]),style:$e(e.style),onClick:e.onClick},[e.text,(r=i.default)==null?void 0:r.call(i)])}),{}}}),Z8=Symbol.for("vuetify:selection-control-group"),QC=Ie({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:ot,trueIcon:ot,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Mi},...et(),...mi(),...Lt()},"SelectionControlGroup"),lE=Ie({...QC({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),J8=Fe()({name:"VSelectionControlGroup",props:lE(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const r=at(e,"modelValue"),o=pa(),u=be(()=>e.id||`v-selection-control-group-${o}`),c=be(()=>e.name||u.value),d=new Set;return cn(Z8,{modelValue:r,forceUpdate:()=>{d.forEach(h=>h())},onForceUpdate:h=>{d.add(h),Ii(()=>{d.delete(h)})}}),Rn({[e.defaultsTarget]:{color:be(()=>e.color),disabled:be(()=>e.disabled),density:be(()=>e.density),error:be(()=>e.error),inline:be(()=>e.inline),modelValue:r,multiple:be(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),name:c,falseIcon:be(()=>e.falseIcon),trueIcon:be(()=>e.trueIcon),readonly:be(()=>e.readonly),ripple:be(()=>e.ripple),type:be(()=>e.type),valueComparator:be(()=>e.valueComparator)}}),qe(()=>{var h;return te("div",{class:Ge(["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class]),style:$e(e.style),role:e.type==="radio"?"radiogroup":void 0},[(h=i.default)==null?void 0:h.call(i)])}),{}}}),XS=Ie({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...et(),...QC()},"VSelectionControl");function uE(e){const n=Tt(Z8,void 0),{densityClasses:i}=na(e),r=at(e,"modelValue"),o=se(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),u=se(()=>e.falseValue!==void 0?e.falseValue:!1),c=se(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),d=se({get(){const S=n?n.modelValue.value:r.value;return c.value?Dn(S).some(y=>e.valueComparator(y,o.value)):e.valueComparator(S,o.value)},set(S){if(e.readonly)return;const y=S?o.value:u.value;let w=y;c.value&&(w=S?[...Dn(r.value),y]:Dn(r.value).filter(x=>!e.valueComparator(x,o.value))),n?n.modelValue.value=w:r.value=w}}),{textColorClasses:h,textColorStyles:m}=Vi(()=>{if(!(e.error||e.disabled))return d.value?e.color:e.baseColor}),{backgroundColorClasses:v,backgroundColorStyles:p}=tn(()=>d.value&&!e.error&&!e.disabled?e.color:e.baseColor),b=se(()=>d.value?e.trueIcon:e.falseIcon);return{group:n,densityClasses:i,trueValue:o,falseValue:u,model:d,textColorClasses:h,textColorStyles:m,backgroundColorClasses:v,backgroundColorStyles:p,icon:b}}const Du=Fe()({name:"VSelectionControl",directives:{vRipple:ta},inheritAttrs:!1,props:XS(),emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:i,slots:r}=n;const{group:o,densityClasses:u,icon:c,model:d,textColorClasses:h,textColorStyles:m,backgroundColorClasses:v,backgroundColorStyles:p,trueValue:b}=uE(e),S=pa(),y=ze(!1),w=ze(!1),x=Qe(),T=be(()=>e.id||`input-${S}`),D=be(()=>!e.disabled&&!e.readonly);o==null||o.onForceUpdate(()=>{x.value&&(x.value.checked=d.value)});function P(q){D.value&&(y.value=!0,ph(q.target,":focus-visible")!==!1&&(w.value=!0))}function A(){y.value=!1,w.value=!1}function O(q){q.stopPropagation()}function F(q){if(!D.value){x.value&&(x.value.checked=d.value);return}e.readonly&&o&&Et(()=>o.forceUpdate()),d.value=q.target.checked}return qe(()=>{var G,M;const q=r.label?r.label({label:e.label,props:{for:T.value}}):e.label,[R,E]=Iu(i),N=te("input",Be({ref:x,checked:d.value,disabled:!!e.disabled,id:T.value,onBlur:A,onFocus:P,onInput:F,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:b.value,name:e.name,"aria-checked":e.type==="checkbox"?d.value:void 0},E),null);return te("div",Be({class:["v-selection-control",{"v-selection-control--dirty":d.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":y.value,"v-selection-control--focus-visible":w.value,"v-selection-control--inline":e.inline},u.value,e.class]},R,{style:e.style}),[te("div",{class:Ge(["v-selection-control__wrapper",h.value]),style:$e(m.value)},[(G=r.default)==null?void 0:G.call(r,{backgroundColorClasses:v,backgroundColorStyles:p}),xn(te("div",{class:Ge(["v-selection-control__input"])},[((M=r.input)==null?void 0:M.call(r,{model:d,textColorClasses:h,textColorStyles:m,backgroundColorClasses:v,backgroundColorStyles:p,inputNode:N,icon:c.value,props:{onFocus:P,onBlur:A,id:T.value}}))??te(nt,null,[c.value&&Z(zt,{key:"icon",icon:c.value},null),N])]),[[ta,e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),q&&Z(Lh,{for:T.value,onClick:O},{default:()=>[q]})])}),{isFocused:y,input:x}}}),eT=Ie({indeterminate:Boolean,indeterminateIcon:{type:ot,default:"$checkboxIndeterminate"},...XS({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),nl=Fe()({name:"VCheckboxBtn",props:eT(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,n){let{slots:i}=n;const r=at(e,"indeterminate"),o=at(e,"modelValue");function u(h){r.value&&(r.value=!1)}const c=be(()=>r.value?e.indeterminateIcon:e.falseIcon),d=be(()=>r.value?e.indeterminateIcon:e.trueIcon);return qe(()=>{const h=kn(Du.filterProps(e),["modelValue"]);return Z(Du,Be(h,{modelValue:o.value,"onUpdate:modelValue":[m=>o.value=m,u],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:c.value,trueIcon:d.value,"aria-checked":r.value?"mixed":void 0}),i)}),{}}});function tT(e){const{t:n}=En();function i(r){let{name:o,color:u,...c}=r;const d={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[o],h=e[`onClick:${o}`];function m(p){p.key!=="Enter"&&p.key!==" "||(p.preventDefault(),p.stopPropagation(),US(h,new PointerEvent("click",p)))}const v=h&&d?n(`$vuetify.input.${d}`,e.label??""):void 0;return Z(zt,Be({icon:e[`${o}Icon`],"aria-label":v,onClick:h,onKeydown:m,color:u},c),null)}return{InputIcon:i}}const cE=Ie({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...et(),...yo({transition:{component:NC,leaveAbsolute:!0,group:!0}})},"VMessages"),nT=Fe()({name:"VMessages",props:cE(),setup(e,n){let{slots:i}=n;const r=se(()=>Dn(e.messages)),{textColorClasses:o,textColorStyles:u}=Vi(()=>e.color);return qe(()=>Z(ea,{transition:e.transition,tag:"div",class:Ge(["v-messages",o.value,e.class]),style:$e([u.value,e.style])},{default:()=>[e.active&&r.value.map((c,d)=>te("div",{class:"v-messages__message",key:`${d}-${r.value}`},[i.message?i.message({message:c}):c]))]})),{}}}),nm=Ie({focused:Boolean,"onUpdate:focused":Pi()},"focus");function as(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ts();const i=at(e,"focused"),r=be(()=>({[`${n}--focused`]:i.value}));function o(){i.value=!0}function u(){i.value=!1}return{focusClasses:r,isFocused:i,focus:o,blur:u}}const iT=Symbol.for("vuetify:form"),dE=Ie({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function hE(e){const n=at(e,"modelValue"),i=be(()=>e.disabled),r=be(()=>e.readonly),o=ze(!1),u=Qe([]),c=Qe([]);async function d(){const v=[];let p=!0;c.value=[],o.value=!0;for(const b of u.value){const S=await b.validate();if(S.length>0&&(p=!1,v.push({id:b.id,errorMessages:S})),!p&&e.fastFail)break}return c.value=v,o.value=!1,{valid:p,errors:c.value}}function h(){u.value.forEach(v=>v.reset())}function m(){u.value.forEach(v=>v.resetValidation())}return je(u,()=>{let v=0,p=0;const b=[];for(const S of u.value)S.isValid===!1?(p++,b.push({id:S.id,errorMessages:S.errorMessages})):S.isValid===!0&&v++;c.value=b,n.value=p>0?!1:v===u.value.length?!0:null},{deep:!0,flush:"post"}),cn(iT,{register:v=>{let{id:p,vm:b,validate:S,reset:y,resetValidation:w}=v;u.value.some(x=>x.id===p),u.value.push({id:p,validate:S,reset:y,resetValidation:w,vm:$6(b),isValid:null,errorMessages:[]})},unregister:v=>{u.value=u.value.filter(p=>p.id!==v)},update:(v,p,b)=>{const S=u.value.find(y=>y.id===v);S&&(S.isValid=p,S.errorMessages=b)},isDisabled:i,isReadonly:r,isValidating:o,isValid:n,items:u,validateOn:be(()=>e.validateOn)}),{errors:c,isDisabled:i,isReadonly:r,isValidating:o,isValid:n,items:u,validate:d,reset:h,resetValidation:m}}function im(e){const n=Tt(iT,null);return{...n,isReadonly:se(()=>!!((e==null?void 0:e.readonly)??(n==null?void 0:n.isReadonly.value))),isDisabled:se(()=>!!((e==null?void 0:e.disabled)??(n==null?void 0:n.isDisabled.value)))}}const fE=Symbol.for("vuetify:rules");function gE(e){const n=Tt(fE,null);return n?n(e):be(e)}const aT=Ie({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...nm()},"validation");function rT(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ts(),i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pa();const r=at(e,"modelValue"),o=se(()=>e.validationValue===void 0?r.value:e.validationValue),u=im(e),c=gE(()=>e.rules),d=Qe([]),h=ze(!0),m=se(()=>!!(Dn(r.value===""?null:r.value).length||Dn(o.value===""?null:o.value).length)),v=se(()=>{var A;return(A=e.errorMessages)!=null&&A.length?Dn(e.errorMessages).concat(d.value).slice(0,Math.max(0,Number(e.maxErrors))):d.value}),p=se(()=>{var F;let A=(e.validateOn??((F=u.validateOn)==null?void 0:F.value))||"input";A==="lazy"&&(A="input lazy"),A==="eager"&&(A="input eager");const O=new Set((A==null?void 0:A.split(" "))??[]);return{input:O.has("input"),blur:O.has("blur")||O.has("input")||O.has("invalid-input"),invalidInput:O.has("invalid-input"),lazy:O.has("lazy"),eager:O.has("eager")}}),b=se(()=>{var A;return e.error||(A=e.errorMessages)!=null&&A.length?!1:e.rules.length?h.value?d.value.length||p.value.lazy?null:!0:!d.value.length:!0}),S=ze(!1),y=se(()=>({[`${n}--error`]:b.value===!1,[`${n}--dirty`]:m.value,[`${n}--disabled`]:u.isDisabled.value,[`${n}--readonly`]:u.isReadonly.value})),w=Bn("validation"),x=se(()=>e.name??Ma(i));Ph(()=>{var A;(A=u.register)==null||A.call(u,{id:x.value,vm:w,validate:P,reset:T,resetValidation:D})}),gi(()=>{var A;(A=u.unregister)==null||A.call(u,x.value)}),Ai(async()=>{var A;p.value.lazy||await P(!p.value.eager),(A=u.update)==null||A.call(u,x.value,b.value,v.value)}),va(()=>p.value.input||p.value.invalidInput&&b.value===!1,()=>{je(o,()=>{if(o.value!=null)P();else if(e.focused){const A=je(()=>e.focused,O=>{O||P(),A()})}})}),va(()=>p.value.blur,()=>{je(()=>e.focused,A=>{A||P()})}),je([b,v],()=>{var A;(A=u.update)==null||A.call(u,x.value,b.value,v.value)});async function T(){r.value=null,await Et(),await D()}async function D(){h.value=!0,p.value.lazy?d.value=[]:await P(!p.value.eager)}async function P(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const O=[];S.value=!0;for(const F of c.value){if(O.length>=Number(e.maxErrors??1))break;const R=await(typeof F=="function"?F:()=>F)(o.value);if(R!==!0){if(R!==!1&&typeof R!="string"){console.warn(`${R} is not a valid value. Rule functions must return boolean true or a string.`);continue}O.push(R||"")}}return d.value=O,S.value=!1,h.value=A,d.value}return{errorMessages:v,isDirty:m,isDisabled:u.isDisabled,isReadonly:u.isReadonly,isPristine:h,isValid:b,isValidating:S,reset:T,resetValidation:D,validate:P,validationClasses:y}}const sl=Ie({id:String,appendIcon:ot,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:ot,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Pi(),"onClick:append":Pi(),...et(),...mi(),...Pu(ni(),["maxWidth","minWidth","width"]),...Lt(),...aT()},"VInput"),Bi=Fe()({name:"VInput",props:{...sl()},emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:i,slots:r,emit:o}=n;const{densityClasses:u}=na(e),{dimensionStyles:c}=ii(e),{themeClasses:d}=Yt(e),{rtlClasses:h}=ti(),{InputIcon:m}=tT(e),v=pa(),p=se(()=>e.id||`input-${v}`),b=se(()=>`${p.value}-messages`),{errorMessages:S,isDirty:y,isDisabled:w,isReadonly:x,isPristine:T,isValid:D,isValidating:P,reset:A,resetValidation:O,validate:F,validationClasses:q}=rT(e,"v-input",p),R=se(()=>({id:p,messagesId:b,isDirty:y,isDisabled:w,isReadonly:x,isPristine:T,isValid:D,isValidating:P,reset:A,resetValidation:O,validate:F})),E=be(()=>e.error||e.disabled?void 0:e.focused?e.color:e.baseColor),N=be(()=>{if(e.iconColor)return e.iconColor===!0?E.value:e.iconColor}),G=se(()=>{var M;return(M=e.errorMessages)!=null&&M.length||!T.value&&S.value.length?S.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return qe(()=>{var H,Y,K,ce;const M=!!(r.prepend||e.prependIcon),_=!!(r.append||e.appendIcon),I=G.value.length>0,B=!e.hideDetails||e.hideDetails==="auto"&&(I||!!r.details);return te("div",{class:Ge(["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--focused":e.focused,"v-input--glow":e.glow,"v-input--hide-spin-buttons":e.hideSpinButtons},u.value,d.value,h.value,q.value,e.class]),style:$e([c.value,e.style])},[M&&te("div",{key:"prepend",class:"v-input__prepend"},[(H=r.prepend)==null?void 0:H.call(r,R.value),e.prependIcon&&Z(m,{key:"prepend-icon",name:"prepend",color:N.value},null)]),r.default&&te("div",{class:"v-input__control"},[(Y=r.default)==null?void 0:Y.call(r,R.value)]),_&&te("div",{key:"append",class:"v-input__append"},[e.appendIcon&&Z(m,{key:"append-icon",name:"append",color:N.value},null),(K=r.append)==null?void 0:K.call(r,R.value)]),B&&te("div",{id:b.value,class:"v-input__details",role:"alert","aria-live":"polite"},[Z(nT,{active:I,messages:G.value},{message:r.message}),(ce=r.details)==null?void 0:ce.call(r,R.value)])])}),{reset:A,resetValidation:O,validate:F,isValid:D,errorMessages:S}}}),mE=Ie({...sl(),...kn(eT(),["inline"])},"VCheckbox"),vE=Fe()({name:"VCheckbox",inheritAttrs:!1,props:mE(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,n){let{attrs:i,slots:r}=n;const o=at(e,"modelValue"),{isFocused:u,focus:c,blur:d}=as(e),h=pa();return qe(()=>{const[m,v]=Iu(i),p=Bi.filterProps(e),b=nl.filterProps(e);return Z(Bi,Be({class:["v-checkbox",e.class]},m,p,{modelValue:o.value,"onUpdate:modelValue":S=>o.value=S,id:e.id||`checkbox-${h}`,focused:u.value,style:e.style}),{...r,default:S=>{let{id:y,messagesId:w,isDisabled:x,isReadonly:T,isValid:D}=S;return Z(nl,Be(b,{id:y.value,"aria-describedby":w.value,disabled:x.value,readonly:T.value},v,{error:D.value===!1,modelValue:o.value,"onUpdate:modelValue":P=>o.value=P,onFocus:c,onBlur:d}),r)}})}),{}}});function SE(e){let{selectedElement:n,containerElement:i,isRtl:r,isHorizontal:o}=e;const u=Ug(o,i),c=oT(o,r,i),d=Ug(o,n),h=sT(o,n),m=d*.4;return c>h?h-m:c+u<h+d?h-u+d+m:c}function pE(e){let{selectedElement:n,containerElement:i,isHorizontal:r}=e;const o=Ug(r,i),u=sT(r,n),c=Ug(r,n);return u-o/2+c/2}function eD(e,n){const i=e?"scrollWidth":"scrollHeight";return(n==null?void 0:n[i])||0}function yE(e,n){const i=e?"clientWidth":"clientHeight";return(n==null?void 0:n[i])||0}function oT(e,n,i){if(!i)return 0;const{scrollLeft:r,offsetWidth:o,scrollWidth:u}=i;return e?n?u-o+r:r:i.scrollTop}function Ug(e,n){const i=e?"offsetWidth":"offsetHeight";return(n==null?void 0:n[i])||0}function sT(e,n){const i=e?"offsetLeft":"offsetTop";return(n==null?void 0:n[i])||0}const lT=Symbol.for("vuetify:v-slide-group"),zC=Ie({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:lT},nextIcon:{type:ot,default:"$next"},prevIcon:{type:ot,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...et(),...rd({mobile:null}),...mt(),...cd({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),qg=Fe()({name:"VSlideGroup",props:zC(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const{isRtl:r}=ti(),{displayClasses:o,mobile:u}=$r(e),c=_u(e,e.symbol),d=ze(!1),h=ze(0),m=ze(0),v=ze(0),p=se(()=>e.direction==="horizontal"),{resizeRef:b,contentRect:S}=So(),{resizeRef:y,contentRect:w}=So(),x=Xk(),T=se(()=>({container:b.el,duration:200,easing:"easeOutQuart"})),D=se(()=>c.selected.value.length?c.items.value.findIndex($=>$.id===c.selected.value[0]):-1),P=se(()=>c.selected.value.length?c.items.value.findIndex($=>$.id===c.selected.value[c.selected.value.length-1]):-1);if(Ht){let $=-1;je(()=>[c.selected.value,S.value,w.value,p.value],()=>{cancelAnimationFrame($),$=requestAnimationFrame(()=>{if(S.value&&w.value){const j=p.value?"width":"height";m.value=S.value[j],v.value=w.value[j],d.value=m.value+1<v.value}if(D.value>=0&&y.el){const j=y.el.children[P.value];O(j,e.centerActive)}})})}const A=ze(!1);function O($,j){let de=0;j?de=pE({containerElement:b.el,isHorizontal:p.value,selectedElement:$}):de=SE({containerElement:b.el,isHorizontal:p.value,isRtl:r.value,selectedElement:$}),F(de)}function F($){if(!Ht||!b.el)return;const j=Ug(p.value,b.el),de=oT(p.value,r.value,b.el);if(!(eD(p.value,b.el)<=j||Math.abs($-de)<16)){if(p.value&&r.value&&b.el){const{scrollWidth:ye,offsetWidth:Pe}=b.el;$=ye-Pe-$}p.value?x.horizontal($,T.value):x($,T.value)}}function q($){const{scrollTop:j,scrollLeft:de}=$.target;h.value=p.value?de:j}function R($){if(A.value=!0,!(!d.value||!y.el)){for(const j of $.composedPath())for(const de of y.el.children)if(de===j){O(de);return}}}function E($){A.value=!1}let N=!1;function G($){var j;!N&&!A.value&&!($.relatedTarget&&((j=y.el)!=null&&j.contains($.relatedTarget)))&&B(),N=!1}function M(){N=!0}function _($){if(!y.el)return;function j(de){$.preventDefault(),B(de)}p.value?$.key==="ArrowRight"?j(r.value?"prev":"next"):$.key==="ArrowLeft"&&j(r.value?"next":"prev"):$.key==="ArrowDown"?j("next"):$.key==="ArrowUp"&&j("prev"),$.key==="Home"?j("first"):$.key==="End"&&j("last")}function I($,j){if(!$)return;let de=$;do de=de==null?void 0:de[j==="next"?"nextElementSibling":"previousElementSibling"];while(de!=null&&de.hasAttribute("disabled"));return de}function B($){if(!y.el)return;let j;if(!$)j=Rg(y.el)[0];else if($==="next"){if(j=I(y.el.querySelector(":focus"),$),!j)return B("first")}else if($==="prev"){if(j=I(y.el.querySelector(":focus"),$),!j)return B("last")}else $==="first"?(j=y.el.firstElementChild,j!=null&&j.hasAttribute("disabled")&&(j=I(j,"next"))):$==="last"&&(j=y.el.lastElementChild,j!=null&&j.hasAttribute("disabled")&&(j=I(j,"prev")));j&&j.focus({preventScroll:!0})}function H($){const j=p.value&&r.value?-1:1,de=($==="prev"?-j:j)*m.value;let ve=h.value+de;if(p.value&&r.value&&b.el){const{scrollWidth:ye,offsetWidth:Pe}=b.el;ve+=ye-Pe}F(ve)}const Y=se(()=>({next:c.next,prev:c.prev,select:c.select,isSelected:c.isSelected})),K=se(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!u.value;case!0:return d.value||Math.abs(h.value)>0;case"mobile":return u.value||d.value||Math.abs(h.value)>0;default:return!u.value&&(d.value||Math.abs(h.value)>0)}}),ce=se(()=>Math.abs(h.value)>1),re=se(()=>{if(!b.value)return!1;const $=eD(p.value,b.el),j=yE(p.value,b.el);return $-j-Math.abs(h.value)>1});return qe(()=>Z(e.tag,{class:Ge(["v-slide-group",{"v-slide-group--vertical":!p.value,"v-slide-group--has-affixes":K.value,"v-slide-group--is-overflowing":d.value},o.value,e.class]),style:$e(e.style),tabindex:A.value||c.selected.value.length?-1:0,onFocus:G},{default:()=>{var $,j,de;return[K.value&&te("div",{key:"prev",class:Ge(["v-slide-group__prev",{"v-slide-group__prev--disabled":!ce.value}]),onMousedown:M,onClick:()=>ce.value&&H("prev")},[(($=i.prev)==null?void 0:$.call(i,Y.value))??Z(Vg,null,{default:()=>[Z(zt,{icon:r.value?e.nextIcon:e.prevIcon},null)]})]),te("div",{key:"container",ref:b,class:"v-slide-group__container",onScroll:q},[te("div",{ref:y,class:"v-slide-group__content",onFocusin:R,onFocusout:E,onKeydown:_},[(j=i.default)==null?void 0:j.call(i,Y.value)])]),K.value&&te("div",{key:"next",class:Ge(["v-slide-group__next",{"v-slide-group__next--disabled":!re.value}]),onMousedown:M,onClick:()=>re.value&&H("next")},[((de=i.next)==null?void 0:de.call(i,Y.value))??Z(Vg,null,{default:()=>[Z(zt,{icon:r.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:c.selected,scrollTo:H,scrollOffset:h,focus:B,hasPrev:ce,hasNext:re}}}),uT=Symbol.for("vuetify:v-chip-group"),bE=Ie({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Mi},...zC(),...et(),...cd({selectedClass:"v-chip--selected"}),...mt(),...Lt(),...jr({variant:"tonal"})},"VChipGroup"),CE=Fe()({name:"VChipGroup",props:bE(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const{themeClasses:r}=Yt(e),{isSelected:o,select:u,next:c,prev:d,selected:h}=_u(e,uT);return Rn({VChip:{baseColor:be(()=>e.baseColor),color:be(()=>e.color),disabled:be(()=>e.disabled),filter:be(()=>e.filter),variant:be(()=>e.variant)}}),qe(()=>{const m=qg.filterProps(e);return Z(qg,Be(m,{class:["v-chip-group",{"v-chip-group--column":e.column},r.value,e.class],style:e.style}),{default:()=>{var v;return[(v=i.default)==null?void 0:v.call(i,{isSelected:o,select:u,next:c,prev:d,selected:h.value})]}})}),{}}}),wE=Ie({activeClass:String,appendAvatar:String,appendIcon:ot,baseColor:String,closable:Boolean,closeIcon:{type:ot,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:ot,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:ot,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:Pi(),onClickOnce:Pi(),...Na(),...et(),...mi(),...li(),...dd(),...pn(),...tm(),...is(),...mt({tag:"span"}),...Lt(),...jr({variant:"tonal"})},"VChip"),Oh=Fe()({name:"VChip",directives:{vRipple:ta},props:wE(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,n){let{attrs:i,emit:r,slots:o}=n;const{t:u}=En(),{borderClasses:c}=mr(e),{densityClasses:d}=na(e),{elevationClasses:h}=_i(e),{roundedClasses:m}=Fn(e),{sizeClasses:v}=Ih(e),{themeClasses:p}=Yt(e),b=at(e,"modelValue"),S=hd(e,uT,!1),y=em(e,i),w=be(()=>e.link!==!1&&y.isLink.value),x=se(()=>!e.disabled&&e.link!==!1&&(!!S||e.link||y.isClickable.value)),T=be(()=>({"aria-label":u(e.closeLabel),disabled:e.disabled,onClick(q){q.preventDefault(),q.stopPropagation(),b.value=!1,r("click:close",q)}})),{colorClasses:D,colorStyles:P,variantClasses:A}=ud(()=>({color:!S||S.isSelected.value?e.color??e.baseColor:e.baseColor,variant:e.variant}));function O(q){var R;r("click",q),x.value&&((R=y.navigate)==null||R.call(y,q),S==null||S.toggle())}function F(q){(q.key==="Enter"||q.key===" ")&&(q.preventDefault(),O(q))}return()=>{var I;const q=y.isLink.value?"a":e.tag,R=!!(e.appendIcon||e.appendAvatar),E=!!(R||o.append),N=!!(o.close||e.closable),G=!!(o.filter||e.filter)&&S,M=!!(e.prependIcon||e.prependAvatar),_=!!(M||o.prepend);return b.value&&xn(Z(q,Be({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":x.value,"v-chip--filter":G,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&((I=y.isActive)==null?void 0:I.value)},p.value,c.value,D.value,d.value,h.value,m.value,v.value,A.value,S==null?void 0:S.selectedClass.value,e.class],style:[P.value,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:x.value?0:void 0,onClick:O,onKeydown:x.value&&!w.value&&F},y.linkProps),{default:()=>{var B;return[Au(x.value,"v-chip"),G&&Z(UC,{key:"filter"},{default:()=>[xn(te("div",{class:"v-chip__filter"},[o.filter?Z(St,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},o.filter):Z(zt,{key:"filter-icon",icon:e.filterIcon},null)]),[[po,S.isSelected.value]])]}),_&&te("div",{key:"prepend",class:"v-chip__prepend"},[o.prepend?Z(St,{key:"prepend-defaults",disabled:!M,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},o.prepend):te(nt,null,[e.prependIcon&&Z(zt,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&Z(Yr,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),te("div",{class:"v-chip__content","data-no-activator":""},[((B=o.default)==null?void 0:B.call(o,{isSelected:S==null?void 0:S.isSelected.value,selectedClass:S==null?void 0:S.selectedClass.value,select:S==null?void 0:S.select,toggle:S==null?void 0:S.toggle,value:S==null?void 0:S.value.value,disabled:e.disabled}))??mo(e.text)]),E&&te("div",{key:"append",class:"v-chip__append"},[o.append?Z(St,{key:"append-defaults",disabled:!R,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},o.append):te(nt,null,[e.appendIcon&&Z(zt,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&Z(Yr,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),N&&te("button",Be({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},T.value),[o.close?Z(St,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},o.close):Z(zt,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[ta,x.value&&e.ripple,null]])}}}),v2=Symbol.for("vuetify:list");function cT(){const e=Tt(v2,{hasPrepend:ze(!1),updateHasPrepend:()=>null}),n={hasPrepend:ze(!1),updateHasPrepend:i=>{i&&(n.hasPrepend.value=i)}};return cn(v2,n),e}function dT(){return Tt(v2,null)}const HC=e=>{const n={activate:i=>{let{id:r,value:o,activated:u}=i;return r=dt(r),e&&!o&&u.size===1&&u.has(r)||(o?u.add(r):u.delete(r)),u},in:(i,r,o)=>{let u=new Set;if(i!=null)for(const c of Dn(i))u=n.activate({id:c,value:!0,activated:new Set(u),children:r,parents:o});return u},out:i=>Array.from(i)};return n},hT=e=>{const n=HC(e);return{activate:r=>{let{activated:o,id:u,...c}=r;u=dt(u);const d=o.has(u)?new Set([u]):new Set;return n.activate({...c,id:u,activated:d})},in:(r,o,u)=>{let c=new Set;if(r!=null){const d=Dn(r);d.length&&(c=n.in(d.slice(0,1),o,u))}return c},out:(r,o,u)=>n.out(r,o,u)}},DE=e=>{const n=HC(e);return{activate:r=>{let{id:o,activated:u,children:c,...d}=r;return o=dt(o),c.has(o)?u:n.activate({id:o,activated:u,children:c,...d})},in:n.in,out:n.out}},xE=e=>{const n=hT(e);return{activate:r=>{let{id:o,activated:u,children:c,...d}=r;return o=dt(o),c.has(o)?u:n.activate({id:o,activated:u,children:c,...d})},in:n.in,out:n.out}},TE={open:e=>{let{id:n,value:i,opened:r,parents:o}=e;if(i){const u=new Set;u.add(n);let c=o.get(n);for(;c!=null;)u.add(c),c=o.get(c);return u}else return r.delete(n),r},select:()=>null},fT={open:e=>{let{id:n,value:i,opened:r,parents:o}=e;if(i){let u=o.get(n);for(r.add(n);u!=null&&u!==n;)r.add(u),u=o.get(u);return r}else r.delete(n);return r},select:()=>null},PE={open:fT.open,select:e=>{let{id:n,value:i,opened:r,parents:o}=e;if(!i)return r;const u=[];let c=o.get(n);for(;c!=null;)u.push(c),c=o.get(c);return new Set(u)}},WC=e=>{const n={select:i=>{let{id:r,value:o,selected:u}=i;if(r=dt(r),e&&!o){const c=Array.from(u.entries()).reduce((d,h)=>{let[m,v]=h;return v==="on"&&d.push(m),d},[]);if(c.length===1&&c[0]===r)return u}return u.set(r,o?"on":"off"),u},in:(i,r,o)=>{const u=new Map;for(const c of i||[])n.select({id:c,value:!0,selected:u,children:r,parents:o});return u},out:i=>{const r=[];for(const[o,u]of i.entries())u==="on"&&r.push(o);return r}};return n},gT=e=>{const n=WC(e);return{select:r=>{let{selected:o,id:u,...c}=r;u=dt(u);const d=o.has(u)?new Map([[u,o.get(u)]]):new Map;return n.select({...c,id:u,selected:d})},in:(r,o,u)=>r!=null&&r.length?n.in(r.slice(0,1),o,u):new Map,out:(r,o,u)=>n.out(r,o,u)}},IE=e=>{const n=WC(e);return{select:r=>{let{id:o,selected:u,children:c,...d}=r;return o=dt(o),c.has(o)?u:n.select({id:o,selected:u,children:c,...d})},in:n.in,out:n.out}},AE=e=>{const n=gT(e);return{select:r=>{let{id:o,selected:u,children:c,...d}=r;return o=dt(o),c.has(o)?u:n.select({id:o,selected:u,children:c,...d})},in:n.in,out:n.out}},mT=e=>{const n={select:i=>{let{id:r,value:o,selected:u,children:c,parents:d}=i;r=dt(r);const h=new Map(u),m=[r];for(;m.length;){const p=m.shift();u.set(dt(p),o?"on":"off"),c.has(p)&&m.push(...c.get(p))}let v=dt(d.get(r));for(;v;){const p=c.get(v),b=p.every(y=>u.get(dt(y))==="on"),S=p.every(y=>!u.has(dt(y))||u.get(dt(y))==="off");u.set(v,b?"on":S?"off":"indeterminate"),v=dt(d.get(v))}return e&&!o&&Array.from(u.entries()).reduce((b,S)=>{let[y,w]=S;return w==="on"&&b.push(y),b},[]).length===0?h:u},in:(i,r,o)=>{let u=new Map;for(const c of i||[])u=n.select({id:c,value:!0,selected:u,children:r,parents:o});return u},out:(i,r)=>{const o=[];for(const[u,c]of i.entries())c==="on"&&!r.has(u)&&o.push(u);return o}};return n},_E=e=>{const n=mT(e);return{select:n.select,in:n.in,out:(r,o,u)=>{const c=[];for(const[d,h]of r.entries())if(h==="on"){if(u.has(d)){const m=u.get(d);if(r.get(m)==="on")continue}c.push(d)}return c}}},Gg=Symbol.for("vuetify:nested"),vT={id:ze(),root:{register:()=>null,unregister:()=>null,parents:Qe(new Map),children:Qe(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Qe(!1),selectable:Qe(!1),opened:Qe(new Set),activated:Qe(new Set),selected:Qe(new Map),selectedValues:Qe([]),getPath:()=>[]}},LE=Ie({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),OE=e=>{let n=!1;const i=Qe(new Map),r=Qe(new Map),o=at(e,"opened",e.opened,y=>new Set(y),y=>[...y.values()]),u=se(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return DE(e.mandatory);case"single-leaf":return xE(e.mandatory);case"independent":return HC(e.mandatory);case"single-independent":default:return hT(e.mandatory)}}),c=se(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return AE(e.mandatory);case"leaf":return IE(e.mandatory);case"independent":return WC(e.mandatory);case"single-independent":return gT(e.mandatory);case"trunk":return _E(e.mandatory);case"classic":default:return mT(e.mandatory)}}),d=se(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return PE;case"single":return TE;case"multiple":default:return fT}}),h=at(e,"activated",e.activated,y=>u.value.in(y,i.value,r.value),y=>u.value.out(y,i.value,r.value)),m=at(e,"selected",e.selected,y=>c.value.in(y,i.value,r.value),y=>c.value.out(y,i.value,r.value));gi(()=>{n=!0});function v(y){const w=[];let x=y;for(;x!=null;)w.unshift(x),x=r.value.get(x);return w}const p=Bn("nested"),b=new Set,S={id:ze(),root:{opened:o,activatable:be(()=>e.activatable),selectable:be(()=>e.selectable),activated:h,selected:m,selectedValues:se(()=>{const y=[];for(const[w,x]of m.value.entries())x==="on"&&y.push(w);return y}),register:(y,w,x)=>{if(b.has(y)){v(y).map(String).join(" -> "),v(w).concat(y).map(String).join(" -> ");return}else b.add(y);w&&y!==w&&r.value.set(y,w),x&&i.value.set(y,[]),w!=null&&i.value.set(w,[...i.value.get(w)||[],y])},unregister:y=>{if(n)return;b.delete(y),i.value.delete(y);const w=r.value.get(y);if(w){const x=i.value.get(w)??[];i.value.set(w,x.filter(T=>T!==y))}r.value.delete(y)},open:(y,w,x)=>{p.emit("click:open",{id:y,value:w,path:v(y),event:x});const T=d.value.open({id:y,value:w,opened:new Set(o.value),children:i.value,parents:r.value,event:x});T&&(o.value=T)},openOnSelect:(y,w,x)=>{const T=d.value.select({id:y,value:w,selected:new Map(m.value),opened:new Set(o.value),children:i.value,parents:r.value,event:x});T&&(o.value=T)},select:(y,w,x)=>{p.emit("click:select",{id:y,value:w,path:v(y),event:x});const T=c.value.select({id:y,value:w,selected:new Map(m.value),children:i.value,parents:r.value,event:x});T&&(m.value=T),S.root.openOnSelect(y,w,x)},activate:(y,w,x)=>{if(!e.activatable)return S.root.select(y,!0,x);p.emit("click:activate",{id:y,value:w,path:v(y),event:x});const T=u.value.activate({id:y,value:w,activated:new Set(h.value),children:i.value,parents:r.value,event:x});if(T.size!==h.value.size)h.value=T;else{for(const D of T)if(!h.value.has(D)){h.value=T;return}for(const D of h.value)if(!T.has(D)){h.value=T;return}}},children:i,parents:r,getPath:v}};return cn(Gg,S),S.root},ST=(e,n)=>{const i=Tt(Gg,vT),r=Symbol("nested item"),o=se(()=>Zs(e)??r),u={...i,id:o,open:(c,d)=>i.root.open(o.value,c,d),openOnSelect:(c,d)=>i.root.openOnSelect(o.value,c,d),isOpen:se(()=>i.root.opened.value.has(o.value)),parent:se(()=>i.root.parents.value.get(o.value)),activate:(c,d)=>i.root.activate(o.value,c,d),isActivated:se(()=>i.root.activated.value.has(dt(o.value))),select:(c,d)=>i.root.select(o.value,c,d),isSelected:se(()=>i.root.selected.value.get(dt(o.value))==="on"),isIndeterminate:se(()=>i.root.selected.value.get(dt(o.value))==="indeterminate"),isLeaf:se(()=>!i.root.children.value.get(o.value)),isGroupActivator:i.isGroupActivator};return Ph(()=>{!i.isGroupActivator&&i.root.register(o.value,i.id.value,n)}),gi(()=>{!i.isGroupActivator&&i.root.unregister(o.value)}),n&&cn(Gg,u),u},kE=()=>{const e=Tt(Gg,vT);cn(Gg,{...e,isGroupActivator:!0})},RE=fr({name:"VListGroupActivator",setup(e,n){let{slots:i}=n;return kE(),()=>{var r;return(r=i.default)==null?void 0:r.call(i)}}}),EE=Ie({activeColor:String,baseColor:String,color:String,collapseIcon:{type:ot,default:"$collapse"},expandIcon:{type:ot,default:"$expand"},prependIcon:ot,appendIcon:ot,fluid:Boolean,subgroup:Boolean,title:String,value:null,...et(),...mt()},"VListGroup"),S2=Fe()({name:"VListGroup",props:EE(),setup(e,n){let{slots:i}=n;const{isOpen:r,open:o,id:u}=ST(()=>e.value,!0),c=se(()=>`v-list-group--id-${String(u.value)}`),d=dT(),{isBooted:h}=ld();function m(S){var y;S.stopPropagation(),!["INPUT","TEXTAREA"].includes((y=S.target)==null?void 0:y.tagName)&&o(!r.value,S)}const v=se(()=>({onClick:m,class:"v-list-group__header",id:c.value})),p=se(()=>r.value?e.collapseIcon:e.expandIcon),b=se(()=>({VListItem:{active:r.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&p.value,appendIcon:e.appendIcon||!e.subgroup&&p.value,title:e.title,value:e.value}}));return qe(()=>Z(e.tag,{class:Ge(["v-list-group",{"v-list-group--prepend":d==null?void 0:d.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":r.value},e.class]),style:$e(e.style)},{default:()=>[i.activator&&Z(St,{defaults:b.value},{default:()=>[Z(RE,null,{default:()=>[i.activator({props:v.value,isOpen:r.value})]})]}),Z(ea,{transition:{component:HS},disabled:!h.value},{default:()=>{var S;return[xn(te("div",{class:"v-list-group__items",role:"group","aria-labelledby":c.value},[(S=i.default)==null?void 0:S.call(i)]),[[po,r.value]])]}})]})),{isOpen:r}}}),FE=Ie({opacity:[Number,String],...et(),...mt()},"VListItemSubtitle"),pT=Fe()({name:"VListItemSubtitle",props:FE(),setup(e,n){let{slots:i}=n;return qe(()=>Z(e.tag,{class:Ge(["v-list-item-subtitle",e.class]),style:$e([{"--v-list-item-subtitle-opacity":e.opacity},e.style])},i)),{}}}),yT=ns("v-list-item-title"),ME=Ie({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:ot,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:ot,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:Pi(),onClickOnce:Pi(),...Na(),...et(),...mi(),...ni(),...li(),...pn(),...tm(),...mt(),...Lt(),...jr({variant:"text"})},"VListItem"),il=Fe()({name:"VListItem",directives:{vRipple:ta},props:ME(),emits:{click:e=>!0},setup(e,n){let{attrs:i,slots:r,emit:o}=n;const u=em(e,i),c=se(()=>e.value===void 0?u.href.value:e.value),{activate:d,isActivated:h,select:m,isOpen:v,isSelected:p,isIndeterminate:b,isGroupActivator:S,root:y,parent:w,openOnSelect:x,id:T}=ST(c,!1),D=dT(),P=se(()=>{var ve;return e.active!==!1&&(e.active||((ve=u.isActive)==null?void 0:ve.value)||(y.activatable.value?h.value:p.value))}),A=be(()=>e.link!==!1&&u.isLink.value),O=se(()=>!!D&&(y.selectable.value||y.activatable.value||e.value!=null)),F=se(()=>!e.disabled&&e.link!==!1&&(e.link||u.isClickable.value||O.value)),q=be(()=>e.rounded||e.nav),R=be(()=>e.color??e.activeColor),E=be(()=>({color:P.value?R.value??e.baseColor:e.baseColor,variant:e.variant}));je(()=>{var ve;return(ve=u.isActive)==null?void 0:ve.value},ve=>{ve&&N()}),Ph(()=>{var ve;(ve=u.isActive)!=null&&ve.value&&N()});function N(){w.value!=null&&y.open(w.value,!0),x(!0)}const{themeClasses:G}=Yt(e),{borderClasses:M}=mr(e),{colorClasses:_,colorStyles:I,variantClasses:B}=ud(E),{densityClasses:H}=na(e),{dimensionStyles:Y}=ii(e),{elevationClasses:K}=_i(e),{roundedClasses:ce}=Fn(q),re=be(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),$=se(()=>({isActive:P.value,select:m,isOpen:v.value,isSelected:p.value,isIndeterminate:b.value}));function j(ve){var ye,Pe;o("click",ve),!["INPUT","TEXTAREA"].includes((ye=ve.target)==null?void 0:ye.tagName)&&F.value&&((Pe=u.navigate)==null||Pe.call(u,ve),!S&&(y.activatable.value?d(!h.value,ve):(y.selectable.value||e.value!=null)&&m(!p.value,ve)))}function de(ve){const ye=ve.target;["INPUT","TEXTAREA"].includes(ye.tagName)||(ve.key==="Enter"||ve.key===" ")&&(ve.preventDefault(),ve.target.dispatchEvent(new MouseEvent("click",ve)))}return qe(()=>{const ve=A.value?"a":e.tag,ye=r.title||e.title!=null,Pe=r.subtitle||e.subtitle!=null,le=!!(e.appendAvatar||e.appendIcon),pe=!!(le||r.append),Ae=!!(e.prependAvatar||e.prependIcon),Ce=!!(Ae||r.prepend);return D==null||D.updateHasPrepend(Ce),e.activeColor&&RO("active-color",["color","base-color"]),xn(Z(ve,Be({class:["v-list-item",{"v-list-item--active":P.value,"v-list-item--disabled":e.disabled,"v-list-item--link":F.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!Ce&&(D==null?void 0:D.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&P.value},G.value,M.value,_.value,H.value,K.value,re.value,ce.value,B.value,e.class],style:[I.value,Y.value,e.style],tabindex:F.value?D?-2:0:void 0,"aria-selected":O.value?y.activatable.value?h.value:y.selectable.value?p.value:P.value:void 0,onClick:j,onKeydown:F.value&&!A.value&&de},u.linkProps),{default:()=>{var Le;return[Au(F.value||P.value,"v-list-item"),Ce&&te("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?Z(St,{key:"prepend-defaults",disabled:!Ae,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var J;return[(J=r.prepend)==null?void 0:J.call(r,$.value)]}}):te(nt,null,[e.prependAvatar&&Z(Yr,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&Z(zt,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),te("div",{class:"v-list-item__spacer"},null)]),te("div",{class:"v-list-item__content","data-no-activator":""},[ye&&Z(yT,{key:"title"},{default:()=>{var J;return[((J=r.title)==null?void 0:J.call(r,{title:e.title}))??mo(e.title)]}}),Pe&&Z(pT,{key:"subtitle"},{default:()=>{var J;return[((J=r.subtitle)==null?void 0:J.call(r,{subtitle:e.subtitle}))??mo(e.subtitle)]}}),(Le=r.default)==null?void 0:Le.call(r,$.value)]),pe&&te("div",{key:"append",class:"v-list-item__append"},[r.append?Z(St,{key:"append-defaults",disabled:!le,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var J;return[(J=r.append)==null?void 0:J.call(r,$.value)]}}):te(nt,null,[e.appendIcon&&Z(zt,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&Z(Yr,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),te("div",{class:"v-list-item__spacer"},null)])]}}),[[ta,F.value&&e.ripple]])}),{activate:d,isActivated:h,isGroupActivator:S,isSelected:p,list:D,select:m,root:y,id:T,link:u}}}),VE=Ie({color:String,inset:Boolean,sticky:Boolean,title:String,...et(),...mt()},"VListSubheader"),bT=Fe()({name:"VListSubheader",props:VE(),setup(e,n){let{slots:i}=n;const{textColorClasses:r,textColorStyles:o}=Vi(()=>e.color);return qe(()=>{const u=!!(i.default||e.title);return Z(e.tag,{class:Ge(["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},r.value,e.class]),style:$e([{textColorStyles:o},e.style])},{default:()=>{var c;return[u&&te("div",{class:"v-list-subheader__text"},[((c=i.default)==null?void 0:c.call(i))??e.title])]}})}),{}}}),BE=Ie({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...et(),...Lt()},"VDivider"),js=Fe()({name:"VDivider",props:BE(),setup(e,n){let{attrs:i,slots:r}=n;const{themeClasses:o}=Yt(e),{textColorClasses:u,textColorStyles:c}=Vi(()=>e.color),d=se(()=>{const h={};return e.length&&(h[e.vertical?"height":"width"]=Ke(e.length)),e.thickness&&(h[e.vertical?"borderRightWidth":"borderTopWidth"]=Ke(e.thickness)),h});return qe(()=>{const h=te("hr",{class:Ge([{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},o.value,u.value,e.class]),style:$e([d.value,c.value,{"--v-border-opacity":e.opacity},e.style]),"aria-orientation":!i.role||i.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${i.role||"separator"}`},null);return r.default?te("div",{class:Ge(["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}])},[h,te("div",{class:"v-divider__content"},[r.default()]),h]):h}),{}}}),NE=Ie({items:Array,returnObject:Boolean},"VListChildren"),CT=Fe()({name:"VListChildren",props:NE(),setup(e,n){let{slots:i}=n;return cT(),()=>{var r,o;return((r=i.default)==null?void 0:r.call(i))??((o=e.items)==null?void 0:o.map(u=>{var b,S;let{children:c,props:d,type:h,raw:m}=u;if(h==="divider")return((b=i.divider)==null?void 0:b.call(i,{props:d}))??Z(js,d,null);if(h==="subheader")return((S=i.subheader)==null?void 0:S.call(i,{props:d}))??Z(bT,d,null);const v={subtitle:i.subtitle?y=>{var w;return(w=i.subtitle)==null?void 0:w.call(i,{...y,item:m})}:void 0,prepend:i.prepend?y=>{var w;return(w=i.prepend)==null?void 0:w.call(i,{...y,item:m})}:void 0,append:i.append?y=>{var w;return(w=i.append)==null?void 0:w.call(i,{...y,item:m})}:void 0,title:i.title?y=>{var w;return(w=i.title)==null?void 0:w.call(i,{...y,item:m})}:void 0},p=S2.filterProps(d);return c?Z(S2,Be({value:d==null?void 0:d.value},p),{activator:y=>{let{props:w}=y;const x={...d,...w,value:e.returnObject?m:d.value};return i.header?i.header({props:x}):Z(il,x,v)},default:()=>Z(CT,{items:c,returnObject:e.returnObject},i)}):i.item?i.item({props:d}):Z(il,Be(d,{value:e.returnObject?m:d.value}),v)}))}}}),wT=Ie({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:Function},"list-items");function yu(e,n){const i=Jn(n,e.itemTitle,n),r=Jn(n,e.itemValue,i),o=Jn(n,e.itemChildren),u=e.itemProps===!0?typeof n=="object"&&n!=null&&!Array.isArray(n)?"children"in n?kn(n,["children"]):n:void 0:Jn(n,e.itemProps),c={title:i,value:r,...yO(u)};return{title:String(c.title??""),value:c.value,props:c,children:Array.isArray(o)?DT(e,o):void 0,raw:n}}function DT(e,n){const i=Pu(e,["itemTitle","itemValue","itemChildren","itemProps","returnObject","valueComparator"]),r=[];for(const o of n)r.push(yu(i,o));return r}function YC(e){const n=se(()=>DT(e,e.items)),i=se(()=>n.value.some(d=>d.value===null)),r=ze(new Map),o=ze([]);On(()=>{const d=n.value,h=new Map,m=[];for(let v=0;v<d.length;v++){const p=d[v];if(a8(p.value)||p.value===null){let b=h.get(p.value);b||(b=[],h.set(p.value,b)),b.push(p)}else m.push(p)}r.value=h,o.value=m});function u(d){const h=r.value,m=n.value,v=o.value,p=i.value,b=e.returnObject,S=!!e.valueComparator,y=e.valueComparator||Mi,w=Pu(e,["itemTitle","itemValue","itemChildren","itemProps","returnObject","valueComparator"]),x=[];e:for(const T of d){if(!p&&T===null)continue;if(b&&typeof T=="string"){x.push(yu(w,T));continue}const D=h.get(T);if(S||!D){for(const P of S?m:v)if(y(T,P.value)){x.push(P);continue e}x.push(yu(w,T));continue}x.push(...D)}return x}function c(d){return e.returnObject?d.map(h=>{let{raw:m}=h;return m}):d.map(h=>{let{value:m}=h;return m})}return{items:n,transformIn:u,transformOut:c}}function UE(e,n){const i=Jn(n,e.itemType,"item"),r=a8(n)?n:Jn(n,e.itemTitle),o=Jn(n,e.itemValue,void 0),u=Jn(n,e.itemChildren),c=e.itemProps===!0?kn(n,["children"]):Jn(n,e.itemProps),d={title:r,value:o,...c};return{type:i,title:d.title,value:d.value,props:d,children:i==="item"&&u?xT(e,u):void 0,raw:n}}function xT(e,n){const i=[];for(const r of n)i.push(UE(e,r));return i}function qE(e){return{items:se(()=>xT(e,e.items))}}const GE=Ie({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:ot,collapseIcon:ot,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Pi(),"onClick:select":Pi(),"onUpdate:opened":Pi(),...LE({selectStrategy:"single-leaf",openStrategy:"list"}),...Na(),...et(),...mi(),...ni(),...li(),itemType:{type:String,default:"type"},...wT(),...pn(),...mt(),...Lt(),...jr({variant:"text"})},"VList"),KS=Fe()({name:"VList",props:GE(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,n){let{slots:i}=n;const{items:r}=qE(e),{themeClasses:o}=Yt(e),{backgroundColorClasses:u,backgroundColorStyles:c}=tn(()=>e.bgColor),{borderClasses:d}=mr(e),{densityClasses:h}=na(e),{dimensionStyles:m}=ii(e),{elevationClasses:v}=_i(e),{roundedClasses:p}=Fn(e),{children:b,open:S,parents:y,select:w,getPath:x}=OE(e),T=be(()=>e.lines?`v-list--${e.lines}-line`:void 0),D=be(()=>e.activeColor),P=be(()=>e.baseColor),A=be(()=>e.color);cT(),Rn({VListGroup:{activeColor:D,baseColor:P,color:A,expandIcon:be(()=>e.expandIcon),collapseIcon:be(()=>e.collapseIcon)},VListItem:{activeClass:be(()=>e.activeClass),activeColor:D,baseColor:P,color:A,density:be(()=>e.density),disabled:be(()=>e.disabled),lines:be(()=>e.lines),nav:be(()=>e.nav),slim:be(()=>e.slim),variant:be(()=>e.variant)}});const O=ze(!1),F=Qe();function q(_){O.value=!0}function R(_){O.value=!1}function E(_){var I;!O.value&&!(_.relatedTarget&&((I=F.value)!=null&&I.contains(_.relatedTarget)))&&M()}function N(_){const I=_.target;if(!(!F.value||["INPUT","TEXTAREA"].includes(I.tagName))){if(_.key==="ArrowDown")M("next");else if(_.key==="ArrowUp")M("prev");else if(_.key==="Home")M("first");else if(_.key==="End")M("last");else return;_.preventDefault()}}function G(_){O.value=!0}function M(_){if(F.value)return jc(F.value,_)}return qe(()=>Z(e.tag,{ref:F,class:Ge(["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},o.value,u.value,d.value,h.value,v.value,T.value,p.value,e.class]),style:$e([c.value,m.value,e.style]),tabindex:e.disabled?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:q,onFocusout:R,onFocus:E,onKeydown:N,onMousedown:G},{default:()=>[Z(CT,{items:r.value,returnObject:e.returnObject},i)]})),{open:S,select:w,focus:M,children:b,parents:y,getPath:x}}}),QE=ns("v-list-img"),zE=Ie({start:Boolean,end:Boolean,...et(),...mt()},"VListItemAction"),HE=Fe()({name:"VListItemAction",props:zE(),setup(e,n){let{slots:i}=n;return qe(()=>Z(e.tag,{class:Ge(["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class]),style:$e(e.style)},i)),{}}}),WE=Ie({start:Boolean,end:Boolean,...et(),...mt()},"VListItemMedia"),YE=Fe()({name:"VListItemMedia",props:WE(),setup(e,n){let{slots:i}=n;return qe(()=>Z(e.tag,{class:Ge(["v-list-item-media",{"v-list-item-media--start":e.start,"v-list-item-media--end":e.end},e.class]),style:$e(e.style)},i)),{}}});function wy(e,n){return{x:e.x+n.x,y:e.y+n.y}}function $E(e,n){return{x:e.x-n.x,y:e.y-n.y}}function tD(e,n){if(e.side==="top"||e.side==="bottom"){const{side:i,align:r}=e,o=r==="left"?0:r==="center"?n.width/2:r==="right"?n.width:r,u=i==="top"?0:i==="bottom"?n.height:i;return wy({x:o,y:u},n)}else if(e.side==="left"||e.side==="right"){const{side:i,align:r}=e,o=i==="left"?0:i==="right"?n.width:i,u=r==="top"?0:r==="center"?n.height/2:r==="bottom"?n.height:r;return wy({x:o,y:u},n)}return wy({x:n.width/2,y:n.height/2},n)}const TT={static:KE,connected:JE},jE=Ie({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in TT},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function XE(e,n){const i=Qe({}),r=Qe();Ht&&va(()=>!!(n.isActive.value&&e.locationStrategy),d=>{var h,m;je(()=>e.locationStrategy,d),Ii(()=>{window.removeEventListener("resize",o),visualViewport==null||visualViewport.removeEventListener("resize",u),visualViewport==null||visualViewport.removeEventListener("scroll",c),r.value=void 0}),window.addEventListener("resize",o,{passive:!0}),visualViewport==null||visualViewport.addEventListener("resize",u,{passive:!0}),visualViewport==null||visualViewport.addEventListener("scroll",c,{passive:!0}),typeof e.locationStrategy=="function"?r.value=(h=e.locationStrategy(n,e,i))==null?void 0:h.updateLocation:r.value=(m=TT[e.locationStrategy](n,e,i))==null?void 0:m.updateLocation});function o(d){var h;(h=r.value)==null||h.call(r,d)}function u(d){var h;(h=r.value)==null||h.call(r,d)}function c(d){var h;(h=r.value)==null||h.call(r,d)}return{contentStyles:i,updateLocation:r}}function KE(){}function ZE(e,n){const i=IC(e);return n?i.x+=parseFloat(e.style.right||0):i.x-=parseFloat(e.style.left||0),i.y-=parseFloat(e.style.top||0),i}function JE(e,n,i){(Array.isArray(e.target.value)||tk(e.target.value))&&Object.assign(i.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:o,preferredOrigin:u}=PC(()=>{const T=Jy(n.location,e.isRtl.value),D=n.origin==="overlap"?T:n.origin==="auto"?vy(T):Jy(n.origin,e.isRtl.value);return T.side===D.side&&T.align===Sy(D).align?{preferredAnchor:xw(T),preferredOrigin:xw(D)}:{preferredAnchor:T,preferredOrigin:D}}),[c,d,h,m]=["minWidth","minHeight","maxWidth","maxHeight"].map(T=>se(()=>{const D=parseFloat(n[T]);return isNaN(D)?1/0:D})),v=se(()=>{if(Array.isArray(n.offset))return n.offset;if(typeof n.offset=="string"){const T=n.offset.split(" ").map(parseFloat);return T.length<2&&T.push(0),T}return typeof n.offset=="number"?[n.offset,0]:[0,0]});let p=!1,b=-1;const S=new e8(4),y=new ResizeObserver(()=>{if(!p)return;if(requestAnimationFrame(D=>{D!==b&&S.clear(),requestAnimationFrame(P=>{b=P})}),S.isFull){const D=S.values();if(Mi(D.at(-1),D.at(-3)))return}const T=x();T&&S.push(T.flipped)});je([e.target,e.contentEl],(T,D)=>{let[P,A]=T,[O,F]=D;O&&!Array.isArray(O)&&y.unobserve(O),P&&!Array.isArray(P)&&y.observe(P),F&&y.unobserve(F),A&&y.observe(A)},{immediate:!0}),Ii(()=>{y.disconnect()});let w=new Xo({x:0,y:0,width:0,height:0});function x(){if(p=!1,requestAnimationFrame(()=>p=!0),!e.target.value||!e.contentEl.value)return;(Array.isArray(e.target.value)||e.target.value.offsetParent||e.target.value.getClientRects().length)&&(w=o8(e.target.value));const T=ZE(e.contentEl.value,e.isRtl.value),D=CS(e.contentEl.value),P=12;D.length||(D.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(T.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),T.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const A=D.reduce((_,I)=>{const B=CO(I);return _?new Xo({x:Math.max(_.left,B.left),y:Math.max(_.top,B.top),width:Math.min(_.right,B.right)-Math.max(_.left,B.left),height:Math.min(_.bottom,B.bottom)-Math.max(_.top,B.top)}):B},void 0);A.x+=P,A.y+=P,A.width-=P*2,A.height-=P*2;let O={anchor:o.value,origin:u.value};function F(_){const I=new Xo(T),B=tD(_.anchor,w),H=tD(_.origin,I);let{x:Y,y:K}=$E(B,H);switch(_.anchor.side){case"top":K-=v.value[0];break;case"bottom":K+=v.value[0];break;case"left":Y-=v.value[0];break;case"right":Y+=v.value[0];break}switch(_.anchor.align){case"top":K-=v.value[1];break;case"bottom":K+=v.value[1];break;case"left":Y-=v.value[1];break;case"right":Y+=v.value[1];break}return I.x+=Y,I.y+=K,I.width=Math.min(I.width,h.value),I.height=Math.min(I.height,m.value),{overflows:Pw(I,A),x:Y,y:K}}let q=0,R=0;const E={x:0,y:0},N={x:!1,y:!1};let G=-1;for(;!(G++>10);){const{x:_,y:I,overflows:B}=F(O);q+=_,R+=I,T.x+=_,T.y+=I;{const H=Tw(O.anchor),Y=B.x.before||B.x.after,K=B.y.before||B.y.after;let ce=!1;if(["x","y"].forEach(re=>{if(re==="x"&&Y&&!N.x||re==="y"&&K&&!N.y){const $={anchor:{...O.anchor},origin:{...O.origin}},j=re==="x"?H==="y"?Sy:vy:H==="y"?vy:Sy;$.anchor=j($.anchor),$.origin=j($.origin);const{overflows:de}=F($);(de[re].before<=B[re].before&&de[re].after<=B[re].after||de[re].before+de[re].after<(B[re].before+B[re].after)/2)&&(O=$,ce=N[re]=!0)}}),ce)continue}B.x.before&&(q+=B.x.before,T.x+=B.x.before),B.x.after&&(q-=B.x.after,T.x-=B.x.after),B.y.before&&(R+=B.y.before,T.y+=B.y.before),B.y.after&&(R-=B.y.after,T.y-=B.y.after);{const H=Pw(T,A);E.x=A.width-H.x.before-H.x.after,E.y=A.height-H.y.before-H.y.after,q+=H.x.before,T.x+=H.x.before,R+=H.y.before,T.y+=H.y.before}break}const M=Tw(O.anchor);return Object.assign(i.value,{"--v-overlay-anchor-origin":`${O.anchor.side} ${O.anchor.align}`,transformOrigin:`${O.origin.side} ${O.origin.align}`,top:Ke(Dy(R)),left:e.isRtl.value?void 0:Ke(Dy(q)),right:e.isRtl.value?Ke(Dy(-q)):void 0,minWidth:Ke(M==="y"?Math.min(c.value,w.width):c.value),maxWidth:Ke(nD(nn(E.x,c.value===1/0?0:c.value,h.value))),maxHeight:Ke(nD(nn(E.y,d.value===1/0?0:d.value,m.value)))}),{available:E,contentBox:T,flipped:N}}return je(()=>[o.value,u.value,n.offset,n.minWidth,n.minHeight,n.maxWidth,n.maxHeight],()=>x()),Et(()=>{const T=x();if(!T)return;const{available:D,contentBox:P}=T;P.height>D.y&&requestAnimationFrame(()=>{x(),requestAnimationFrame(()=>{x()})})}),{updateLocation:x}}function Dy(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function nD(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let p2=!0;const xS=[];function eF(e){!p2||xS.length?(xS.push(e),y2()):(p2=!1,e(),y2())}let iD=-1;function y2(){cancelAnimationFrame(iD),iD=requestAnimationFrame(()=>{const e=xS.shift();e&&e(),xS.length?y2():p2=!0})}const Vv={none:null,close:iF,block:aF,reposition:rF},tF=Ie({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Vv}},"VOverlay-scroll-strategies");function nF(e,n){if(!Ht)return;let i;On(async()=>{i==null||i.stop(),n.isActive.value&&e.scrollStrategy&&(i=xg(),await new Promise(r=>setTimeout(r)),i.active&&i.run(()=>{var r;typeof e.scrollStrategy=="function"?e.scrollStrategy(n,e,i):(r=Vv[e.scrollStrategy])==null||r.call(Vv,n,e,i)}))}),Ii(()=>{i==null||i.stop()})}function iF(e){function n(i){e.isActive.value=!1}PT(e.targetEl.value??e.contentEl.value,n)}function aF(e,n){var c;const i=(c=e.root.value)==null?void 0:c.offsetParent,r=[...new Set([...CS(e.targetEl.value,n.contained?i:void 0),...CS(e.contentEl.value,n.contained?i:void 0)])].filter(d=>!d.classList.contains("v-overlay-scroll-blocked")),o=window.innerWidth-document.documentElement.offsetWidth,u=(d=>kC(d)&&d)(i||document.documentElement);u&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((d,h)=>{d.style.setProperty("--v-body-scroll-x",Ke(-d.scrollLeft)),d.style.setProperty("--v-body-scroll-y",Ke(-d.scrollTop)),d!==document.documentElement&&d.style.setProperty("--v-scrollbar-offset",Ke(o)),d.classList.add("v-overlay-scroll-blocked")}),Ii(()=>{r.forEach((d,h)=>{const m=parseFloat(d.style.getPropertyValue("--v-body-scroll-x")),v=parseFloat(d.style.getPropertyValue("--v-body-scroll-y")),p=d.style.scrollBehavior;d.style.scrollBehavior="auto",d.style.removeProperty("--v-body-scroll-x"),d.style.removeProperty("--v-body-scroll-y"),d.style.removeProperty("--v-scrollbar-offset"),d.classList.remove("v-overlay-scroll-blocked"),d.scrollLeft=-m,d.scrollTop=-v,d.style.scrollBehavior=p}),u&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function rF(e,n,i){let r=!1,o=-1,u=-1;function c(d){eF(()=>{var v,p;const h=performance.now();(p=(v=e.updateLocation).value)==null||p.call(v,d),r=(performance.now()-h)/(1e3/60)>2})}u=(typeof requestIdleCallback>"u"?d=>d():requestIdleCallback)(()=>{i.run(()=>{PT(e.targetEl.value??e.contentEl.value,d=>{r?(cancelAnimationFrame(o),o=requestAnimationFrame(()=>{o=requestAnimationFrame(()=>{c(d)})})):c(d)})})}),Ii(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(u),cancelAnimationFrame(o)})}function PT(e,n){const i=[document,...CS(e)];i.forEach(r=>{r.addEventListener("scroll",n,{passive:!0})}),Ii(()=>{i.forEach(r=>{r.removeEventListener("scroll",n)})})}const b2=Symbol.for("vuetify:v-menu"),$C=Ie({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function jC(e,n){let i=()=>{};function r(c){i==null||i();const d=Number(c?e.openDelay:e.closeDelay);return new Promise(h=>{i=vO(d,()=>{n==null||n(c),h(c)})})}function o(){return r(!0)}function u(){return r(!1)}return{clearDelay:i,runOpenDelay:o,runCloseDelay:u}}const oF=Ie({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...$C()},"VOverlay-activator");function sF(e,n){let{isActive:i,isTop:r,contentEl:o}=n;const u=Bn("useActivator"),c=Qe();let d=!1,h=!1,m=!0;const v=se(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),p=se(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!v.value),{runOpenDelay:b,runCloseDelay:S}=jC(e,R=>{R===(e.openOnHover&&d||v.value&&h)&&!(e.openOnHover&&i.value&&!r.value)&&(i.value!==R&&(m=!0),i.value=R)}),y=Qe(),w={onClick:R=>{R.stopPropagation(),c.value=R.currentTarget||R.target,i.value||(y.value=[R.clientX,R.clientY]),i.value=!i.value},onMouseenter:R=>{var E;(E=R.sourceCapabilities)!=null&&E.firesTouchEvents||(d=!0,c.value=R.currentTarget||R.target,b())},onMouseleave:R=>{d=!1,S()},onFocus:R=>{ph(R.target,":focus-visible")!==!1&&(h=!0,R.stopPropagation(),c.value=R.currentTarget||R.target,b())},onBlur:R=>{h=!1,R.stopPropagation(),S()}},x=se(()=>{const R={};return p.value&&(R.onClick=w.onClick),e.openOnHover&&(R.onMouseenter=w.onMouseenter,R.onMouseleave=w.onMouseleave),v.value&&(R.onFocus=w.onFocus,R.onBlur=w.onBlur),R}),T=se(()=>{const R={};if(e.openOnHover&&(R.onMouseenter=()=>{d=!0,b()},R.onMouseleave=()=>{d=!1,S()}),v.value&&(R.onFocusin=()=>{h=!0,b()},R.onFocusout=()=>{h=!1,S()}),e.closeOnContentClick){const E=Tt(b2,null);R.onClick=()=>{i.value=!1,E==null||E.closeParents()}}return R}),D=se(()=>{const R={};return e.openOnHover&&(R.onMouseenter=()=>{m&&(d=!0,m=!1,b())},R.onMouseleave=()=>{d=!1,S()}),R});je(r,R=>{var E;R&&(e.openOnHover&&!d&&(!v.value||!h)||v.value&&!h&&(!e.openOnHover||!d))&&!((E=o.value)!=null&&E.contains(document.activeElement))&&(i.value=!1)}),je(i,R=>{R||setTimeout(()=>{y.value=void 0})},{flush:"post"});const P=yS();On(()=>{P.value&&Et(()=>{c.value=P.el})});const A=yS(),O=se(()=>e.target==="cursor"&&y.value?y.value:A.value?A.el:IT(e.target,u)||c.value),F=se(()=>Array.isArray(O.value)?void 0:O.value);let q;return je(()=>!!e.activator,R=>{R&&Ht?(q=xg(),q.run(()=>{lF(e,u,{activatorEl:c,activatorEvents:x})})):q&&q.stop()},{flush:"post",immediate:!0}),Ii(()=>{q==null||q.stop()}),{activatorEl:c,activatorRef:P,target:O,targetEl:F,targetRef:A,activatorEvents:x,contentEvents:T,scrimEvents:D}}function lF(e,n,i){let{activatorEl:r,activatorEvents:o}=i;je(()=>e.activator,(h,m)=>{if(m&&h!==m){const v=d(m);v&&c(v)}h&&Et(()=>u())},{immediate:!0}),je(()=>e.activatorProps,()=>{u()}),Ii(()=>{c()});function u(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d(),m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;h&&wO(h,Be(o.value,m))}function c(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d(),m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;h&&DO(h,Be(o.value,m))}function d(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const m=IT(h,n);return r.value=(m==null?void 0:m.nodeType)===Node.ELEMENT_NODE?m:void 0,r.value}}function IT(e,n){var r,o;if(!e)return;let i;if(e==="parent"){let u=(o=(r=n==null?void 0:n.proxy)==null?void 0:r.$el)==null?void 0:o.parentNode;for(;u!=null&&u.hasAttribute("data-no-activator");)u=u.parentNode;i=u}else typeof e=="string"?i=document.querySelector(e):"$el"in e?i=e.$el:i=e;return i}function AT(){if(!Ht)return ze(!1);const{ssr:e}=$r();if(e){const n=ze(!1);return Ai(()=>{n.value=!0}),n}else return ze(!0)}const XC=Ie({eager:Boolean},"lazy");function KC(e,n){const i=ze(!1),r=be(()=>i.value||e.eager||n.value);je(n,()=>i.value=!0);function o(){e.eager||(i.value=!1)}return{isBooted:i,hasContent:r,onAfterLeave:o}}function gd(){const n=Bn("useScopeId").vnode.scopeId;return{scopeId:n?{[n]:""}:void 0}}const aD=Symbol.for("vuetify:stack"),w1=Ei([]);function uF(e,n,i){const r=Bn("useStack"),o=!i,u=Tt(aD,void 0),c=Ei({activeChildren:new Set});cn(aD,c);const d=ze(Number(Zs(n)));va(e,()=>{var p;const v=(p=w1.at(-1))==null?void 0:p[1];d.value=v?v+10:Number(Zs(n)),o&&w1.push([r.uid,d.value]),u==null||u.activeChildren.add(r.uid),Ii(()=>{if(o){const b=dt(w1).findIndex(S=>S[0]===r.uid);w1.splice(b,1)}u==null||u.activeChildren.delete(r.uid)})});const h=ze(!0);o&&On(()=>{var p;const v=((p=w1.at(-1))==null?void 0:p[0])===r.uid;setTimeout(()=>h.value=v)});const m=be(()=>!c.activeChildren.size);return{globalTop:xh(h),localTop:m,stackStyles:be(()=>({zIndex:d.value}))}}function cF(e){return{teleportTarget:se(()=>{const i=e();if(i===!0||!Ht)return;const r=i===!1?document.body:typeof i=="string"?document.querySelector(i):i;if(r==null)return;let o=[...r.children].find(u=>u.matches(".v-overlay-container"));return o||(o=document.createElement("div"),o.className="v-overlay-container",r.appendChild(o)),o})}}function dF(){return!0}function _T(e,n,i){if(!e||LT(e,i)===!1)return!1;const r=v8(n);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===e.target)return!1;const o=(typeof i.value=="object"&&i.value.include||(()=>[]))();return o.push(n),!o.some(u=>u==null?void 0:u.contains(e.target))}function LT(e,n){return(typeof n.value=="object"&&n.value.closeConditional||dF)(e)}function hF(e,n,i){const r=typeof i.value=="function"?i.value:i.value.handler;e.shadowTarget=e.target,n._clickOutside.lastMousedownWasOutside&&_T(e,n,i)&&setTimeout(()=>{LT(e,i)&&r&&r(e)},0)}function rD(e,n){const i=v8(e);n(document),typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&n(i)}const C2={mounted(e,n){const i=o=>hF(o,e,n),r=o=>{e._clickOutside.lastMousedownWasOutside=_T(o,e,n)};rD(e,o=>{o.addEventListener("click",i,!0),o.addEventListener("mousedown",r,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[n.instance.$.uid]={onClick:i,onMousedown:r}},beforeUnmount(e,n){e._clickOutside&&(rD(e,i=>{var u;if(!i||!((u=e._clickOutside)!=null&&u[n.instance.$.uid]))return;const{onClick:r,onMousedown:o}=e._clickOutside[n.instance.$.uid];i.removeEventListener("click",r,!0),i.removeEventListener("mousedown",o,!0)}),delete e._clickOutside[n.instance.$.uid])}};function fF(e){const{modelValue:n,color:i,...r}=e;return Z(wu,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&te("div",Be({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},r),null)]})}const am=Ie({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...oF(),...et(),...ni(),...XC(),...jE(),...tF(),...Lt(),...yo()},"VOverlay"),Zo=Fe()({name:"VOverlay",directives:{vClickOutside:C2},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...am()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,keydown:e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,n){let{slots:i,attrs:r,emit:o}=n;const u=Bn("VOverlay"),c=Qe(),d=Qe(),h=Qe(),m=at(e,"modelValue"),v=se({get:()=>m.value,set:le=>{le&&e.disabled||(m.value=le)}}),{themeClasses:p}=Yt(e),{rtlClasses:b,isRtl:S}=ti(),{hasContent:y,onAfterLeave:w}=KC(e,v),x=tn(()=>typeof e.scrim=="string"?e.scrim:null),{globalTop:T,localTop:D,stackStyles:P}=uF(v,()=>e.zIndex,e._disableGlobalStack),{activatorEl:A,activatorRef:O,target:F,targetEl:q,targetRef:R,activatorEvents:E,contentEvents:N,scrimEvents:G}=sF(e,{isActive:v,isTop:D,contentEl:h}),{teleportTarget:M}=cF(()=>{var Ae,Ce,Le;const le=e.attach||e.contained;if(le)return le;const pe=((Ae=A==null?void 0:A.value)==null?void 0:Ae.getRootNode())||((Le=(Ce=u.proxy)==null?void 0:Ce.$el)==null?void 0:Le.getRootNode());return pe instanceof ShadowRoot?pe:!1}),{dimensionStyles:_}=ii(e),I=AT(),{scopeId:B}=gd();je(()=>e.disabled,le=>{le&&(v.value=!1)});const{contentStyles:H,updateLocation:Y}=XE(e,{isRtl:S,contentEl:h,target:F,isActive:v});nF(e,{root:c,contentEl:h,targetEl:q,isActive:v,updateLocation:Y});function K(le){o("click:outside",le),e.persistent?ve():v.value=!1}function ce(le){return v.value&&T.value&&(!e.scrim||le.target===d.value||le instanceof MouseEvent&&le.shadowTarget===d.value)}Ht&&je(v,le=>{le?window.addEventListener("keydown",re):window.removeEventListener("keydown",re)},{immediate:!0}),gi(()=>{Ht&&window.removeEventListener("keydown",re)});function re(le){var pe,Ae,Ce;le.key==="Escape"&&T.value&&((pe=h.value)!=null&&pe.contains(document.activeElement)||o("keydown",le),e.persistent?ve():(v.value=!1,(Ae=h.value)!=null&&Ae.contains(document.activeElement)&&((Ce=A.value)==null||Ce.focus())))}function $(le){le.key==="Escape"&&!T.value||o("keydown",le)}const j=G8();va(()=>e.closeOnBack,()=>{YR(j,le=>{T.value&&v.value?(le(!1),e.persistent?ve():v.value=!1):le()})});const de=Qe();je(()=>v.value&&(e.absolute||e.contained)&&M.value==null,le=>{if(le){const pe=OC(c.value);pe&&pe!==document.scrollingElement&&(de.value=pe.scrollTop)}});function ve(){e.noClickAnimation||h.value&&Wc(h.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Eg})}function ye(){o("afterEnter")}function Pe(){w(),o("afterLeave")}return qe(()=>{var le;return te(nt,null,[(le=i.activator)==null?void 0:le.call(i,{isActive:v.value,targetRef:R,props:Be({ref:O},E.value,e.activatorProps)}),I.value&&y.value&&Z(OL,{disabled:!M.value,to:M.value},{default:()=>[te("div",Be({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":v.value,"v-overlay--contained":e.contained},p.value,b.value,e.class],style:[P.value,{"--v-overlay-opacity":e.opacity,top:Ke(de.value)},e.style],ref:c,onKeydown:$},B,r),[Z(fF,Be({color:x,modelValue:v.value&&!!e.scrim,ref:d},G.value),null),Z(ea,{appear:!0,persisted:!0,transition:e.transition,target:F.value,onAfterEnter:ye,onAfterLeave:Pe},{default:()=>{var pe;return[xn(te("div",Be({ref:h,class:["v-overlay__content",e.contentClass],style:[_.value,H.value]},N.value,e.contentProps),[(pe=i.default)==null?void 0:pe.call(i,{isActive:v})]),[[po,v.value],[C2,{handler:K,closeConditional:ce,include:()=>[A.value]}]])]}})])]})])}),{activatorEl:A,scrimEl:d,target:F,animateClick:ve,contentEl:h,globalTop:T,localTop:D,updateLocation:Y}}}),xy=Symbol("Forwarded refs");function Ty(e,n){let i=e;for(;i;){const r=Reflect.getOwnPropertyDescriptor(i,n);if(r)return r;i=Object.getPrototypeOf(i)}}function vr(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return e[xy]=i,new Proxy(e,{get(o,u){if(Reflect.has(o,u))return Reflect.get(o,u);if(!(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))){for(const c of i)if(c.value&&Reflect.has(c.value,u)){const d=Reflect.get(c.value,u);return typeof d=="function"?d.bind(c.value):d}}},has(o,u){if(Reflect.has(o,u))return!0;if(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))return!1;for(const c of i)if(c.value&&Reflect.has(c.value,u))return!0;return!1},set(o,u,c){if(Reflect.has(o,u))return Reflect.set(o,u,c);if(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))return!1;for(const d of i)if(d.value&&Reflect.has(d.value,u))return Reflect.set(d.value,u,c);return!1},getOwnPropertyDescriptor(o,u){var d;const c=Reflect.getOwnPropertyDescriptor(o,u);if(c)return c;if(!(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))){for(const h of i){if(!h.value)continue;const m=Ty(h.value,u)??("_"in h.value?Ty((d=h.value._)==null?void 0:d.setupState,u):void 0);if(m)return m}for(const h of i){const m=h.value&&h.value[xy];if(!m)continue;const v=m.slice();for(;v.length;){const p=v.shift(),b=Ty(p.value,u);if(b)return b;const S=p.value&&p.value[xy];S&&v.push(...S)}}}}})}const OT=Ie({id:String,submenu:Boolean,...kn(am({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:zS}}),["absolute"])},"VMenu"),Dh=Fe()({name:"VMenu",props:OT(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const r=at(e,"modelValue"),{scopeId:o}=gd(),{isRtl:u}=ti(),c=pa(),d=be(()=>e.id||`v-menu-${c}`),h=Qe(),m=Tt(b2,null),v=ze(new Set);cn(b2,{register(){v.value.add(c)},unregister(){v.value.delete(c)},closeParents(x){setTimeout(()=>{var T;!v.value.size&&!e.persistent&&(x==null||(T=h.value)!=null&&T.contentEl&&!SO(x,h.value.contentEl))&&(r.value=!1,m==null||m.closeParents())},40)}}),gi(()=>{m==null||m.unregister(),document.removeEventListener("focusin",p)}),fC(()=>r.value=!1);async function p(x){var P,A,O;const T=x.relatedTarget,D=x.target;await Et(),r.value&&T!==D&&((P=h.value)!=null&&P.contentEl)&&((A=h.value)!=null&&A.globalTop)&&![document,h.value.contentEl].includes(D)&&!h.value.contentEl.contains(D)&&((O=Rg(h.value.contentEl)[0])==null||O.focus())}je(r,x=>{x?(m==null||m.register(),Ht&&document.addEventListener("focusin",p,{once:!0})):(m==null||m.unregister(),Ht&&document.removeEventListener("focusin",p))},{immediate:!0});function b(x){m==null||m.closeParents(x)}function S(x){var T,D,P,A,O;if(!e.disabled)if(x.key==="Tab"||x.key==="Enter"&&!e.closeOnContentClick){if(x.key==="Enter"&&(x.target instanceof HTMLTextAreaElement||x.target instanceof HTMLInputElement&&x.target.closest("form")))return;x.key==="Enter"&&x.preventDefault(),n8(Rg((T=h.value)==null?void 0:T.contentEl,!1),x.shiftKey?"prev":"next",q=>q.tabIndex>=0)||(r.value=!1,(P=(D=h.value)==null?void 0:D.activatorEl)==null||P.focus())}else e.submenu&&x.key===(u.value?"ArrowRight":"ArrowLeft")&&(r.value=!1,(O=(A=h.value)==null?void 0:A.activatorEl)==null||O.focus())}function y(x){var D;if(e.disabled)return;const T=(D=h.value)==null?void 0:D.contentEl;T&&r.value?x.key==="ArrowDown"?(x.preventDefault(),x.stopImmediatePropagation(),jc(T,"next")):x.key==="ArrowUp"?(x.preventDefault(),x.stopImmediatePropagation(),jc(T,"prev")):e.submenu&&(x.key===(u.value?"ArrowRight":"ArrowLeft")?r.value=!1:x.key===(u.value?"ArrowLeft":"ArrowRight")&&(x.preventDefault(),jc(T,"first"))):(e.submenu?x.key===(u.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(x.key))&&(r.value=!0,x.preventDefault(),setTimeout(()=>setTimeout(()=>y(x))))}const w=se(()=>Be({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-controls":d.value,onKeydown:y},e.activatorProps));return qe(()=>{const x=Zo.filterProps(e);return Z(Zo,Be({ref:h,id:d.value,class:["v-menu",e.class],style:e.style},x,{modelValue:r.value,"onUpdate:modelValue":T=>r.value=T,absolute:!0,activatorProps:w.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":b,onKeydown:S},o),{activator:i.activator,default:function(){for(var T=arguments.length,D=new Array(T),P=0;P<T;P++)D[P]=arguments[P];return Z(St,{root:"VMenu"},{default:()=>{var A;return[(A=i.default)==null?void 0:A.call(i,...D)]}})}})}),vr({id:d,ΨopenChildren:v},h)}}),gF=Ie({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...et(),...yo({transition:{component:NC}})},"VCounter"),ZS=Fe()({name:"VCounter",functional:!0,props:gF(),setup(e,n){let{slots:i}=n;const r=be(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return qe(()=>Z(ea,{transition:e.transition},{default:()=>[xn(te("div",{class:Ge(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:$e(e.style)},[i.default?i.default({counter:r.value,max:e.max,value:e.value}):r.value]),[[po,e.active]])]})),{}}}),mF=Ie({floating:Boolean,...et()},"VFieldLabel"),dg=Fe()({name:"VFieldLabel",props:mF(),setup(e,n){let{slots:i}=n;return qe(()=>Z(Lh,{class:Ge(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:$e(e.style),"aria-hidden":e.floating||void 0},i)),{}}}),vF=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],rm=Ie({appendInnerIcon:ot,bgColor:String,clearable:Boolean,clearIcon:{type:ot,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:ot,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>vF.includes(e)},"onClick:clear":Pi(),"onClick:appendInner":Pi(),"onClick:prependInner":Pi(),...et(),...$S(),...pn(),...Lt()},"VField"),xu=Fe()({name:"VField",inheritAttrs:!1,props:{id:String,...nm(),...rm()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:i,emit:r,slots:o}=n;const{themeClasses:u}=Yt(e),{loaderClasses:c}=Zg(e),{focusClasses:d,isFocused:h,focus:m,blur:v}=as(e),{InputIcon:p}=tT(e),{roundedClasses:b}=Fn(e),{rtlClasses:S}=ti(),y=be(()=>e.dirty||e.active),w=be(()=>!!(e.label||o.label)),x=be(()=>!e.singleLine&&w.value),T=pa(),D=se(()=>e.id||`input-${T}`),P=be(()=>`${D.value}-messages`),A=Qe(),O=Qe(),F=Qe(),q=se(()=>["plain","underlined"].includes(e.variant)),R=se(()=>e.error||e.disabled?void 0:y.value&&h.value?e.color:e.baseColor),E=se(()=>{if(!(!e.iconColor||e.glow&&!h.value))return e.iconColor===!0?R.value:e.iconColor}),{backgroundColorClasses:N,backgroundColorStyles:G}=tn(()=>e.bgColor),{textColorClasses:M,textColorStyles:_}=Vi(R);je(y,H=>{if(x.value){const Y=A.value.$el,K=O.value.$el;requestAnimationFrame(()=>{const ce=IC(Y),re=K.getBoundingClientRect(),$=re.x-ce.x,j=re.y-ce.y-(ce.height/2-re.height/2),de=re.width/.75,ve=Math.abs(de-ce.width)>1?{maxWidth:Ke(de)}:void 0,ye=getComputedStyle(Y),Pe=getComputedStyle(K),le=parseFloat(ye.transitionDuration)*1e3||150,pe=parseFloat(Pe.getPropertyValue("--v-field-label-scale")),Ae=Pe.getPropertyValue("color");Y.style.visibility="visible",K.style.visibility="hidden",Wc(Y,{transform:`translate(${$}px, ${j}px) scale(${pe})`,color:Ae,...ve},{duration:le,easing:Eg,direction:H?"normal":"reverse"}).finished.then(()=>{Y.style.removeProperty("visibility"),K.style.removeProperty("visibility")})})}},{flush:"post"});const I=se(()=>({isActive:y,isFocused:h,controlRef:F,blur:v,focus:m}));function B(H){H.target!==document.activeElement&&H.preventDefault()}return qe(()=>{var $,j,de;const H=e.variant==="outlined",Y=!!(o["prepend-inner"]||e.prependInnerIcon),K=!!(e.clearable||o.clear)&&!e.disabled,ce=!!(o["append-inner"]||e.appendInnerIcon||K),re=()=>o.label?o.label({...I.value,label:e.label,props:{for:D.value}}):e.label;return te("div",Be({class:["v-field",{"v-field--active":y.value,"v-field--appended":ce,"v-field--center-affix":e.centerAffix??!q.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":Y,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!re(),[`v-field--variant-${e.variant}`]:!0},u.value,N.value,d.value,c.value,b.value,S.value,e.class],style:[G.value,e.style],onClick:B},i),[te("div",{class:"v-field__overlay"},null),Z(Jg,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:o.loader}),Y&&te("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&Z(p,{key:"prepend-icon",name:"prependInner",color:E.value},null),($=o["prepend-inner"])==null?void 0:$.call(o,I.value)]),te("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&x.value&&Z(dg,{key:"floating-label",ref:O,class:Ge([M.value]),floating:!0,for:D.value,style:$e(_.value)},{default:()=>[re()]}),w.value&&Z(dg,{key:"label",ref:A,for:D.value},{default:()=>[re()]}),((j=o.default)==null?void 0:j.call(o,{...I.value,props:{id:D.value,class:"v-field__input","aria-describedby":P.value},focus:m,blur:v}))??te("div",{id:D.value,class:"v-field__input","aria-describedby":P.value},null)]),K&&Z(UC,{key:"clear"},{default:()=>[xn(te("div",{class:"v-field__clearable",onMousedown:ve=>{ve.preventDefault(),ve.stopPropagation()}},[Z(St,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[o.clear?o.clear({...I.value,props:{onFocus:m,onBlur:v,onClick:e["onClick:clear"],tabindex:-1}}):Z(p,{name:"clear",onFocus:m,onBlur:v,tabindex:-1},null)]})]),[[po,e.dirty]])]}),ce&&te("div",{key:"append",class:"v-field__append-inner"},[(de=o["append-inner"])==null?void 0:de.call(o,I.value),e.appendInnerIcon&&Z(p,{key:"append-icon",name:"appendInner",color:E.value},null)]),te("div",{class:Ge(["v-field__outline",M.value]),style:$e(_.value)},[H&&te(nt,null,[te("div",{class:"v-field__outline__start"},null),x.value&&te("div",{class:"v-field__outline__notch"},[Z(dg,{ref:O,floating:!0,for:D.value},{default:()=>[re()]})]),te("div",{class:"v-field__outline__end"},null)]),q.value&&x.value&&Z(dg,{ref:O,floating:!0,for:D.value},{default:()=>[re()]})])])}),{controlRef:F,fieldIconColor:E}}}),SF=["color","file","time","date","datetime-local","week","month"],om=Ie({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...sl(),...rm()},"VTextField"),al=Fe()({name:"VTextField",directives:{vIntersect:el},inheritAttrs:!1,props:om(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:i,emit:r,slots:o}=n;const u=at(e,"modelValue"),{isFocused:c,focus:d,blur:h}=as(e),m=se(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:(u.value??"").toString().length),v=se(()=>{if(i.maxlength)return i.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),p=se(()=>["plain","underlined"].includes(e.variant));function b(F,q){var R,E;!e.autofocus||!F||(E=(R=q[0].target)==null?void 0:R.focus)==null||E.call(R)}const S=Qe(),y=Qe(),w=Qe(),x=se(()=>SF.includes(e.type)||e.persistentPlaceholder||c.value||e.active);function T(){var F;w.value!==document.activeElement&&((F=w.value)==null||F.focus()),c.value||d()}function D(F){r("mousedown:control",F),F.target!==w.value&&(T(),F.preventDefault())}function P(F){T(),r("click:control",F)}function A(F,q){F.stopPropagation(),T(),Et(()=>{u.value=null,q(),US(e["onClick:clear"],F)})}function O(F){var R;const q=F.target;if(u.value=q.value,(R=e.modelModifiers)!=null&&R.trim&&["text","search","password","tel","url"].includes(e.type)){const E=[q.selectionStart,q.selectionEnd];Et(()=>{q.selectionStart=E[0],q.selectionEnd=E[1]})}}return qe(()=>{const F=!!(o.counter||e.counter!==!1&&e.counter!=null),q=!!(F||o.details),[R,E]=Iu(i),{modelValue:N,...G}=Bi.filterProps(e),M=xu.filterProps(e);return Z(Bi,Be({ref:S,modelValue:u.value,"onUpdate:modelValue":_=>u.value=_,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":p.value},e.class],style:e.style},R,G,{centerAffix:!p.value,focused:c.value}),{...o,default:_=>{let{id:I,isDisabled:B,isDirty:H,isReadonly:Y,isValid:K,reset:ce}=_;return Z(xu,Be({ref:y,onMousedown:D,onClick:P,"onClick:clear":re=>A(re,ce),"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},M,{id:I.value,active:x.value||H.value,dirty:H.value||e.dirty,disabled:B.value,focused:c.value,error:K.value===!1}),{...o,default:re=>{let{props:{class:$,...j}}=re;const de=xn(te("input",Be({ref:w,value:u.value,onInput:O,autofocus:e.autofocus,readonly:Y.value,disabled:B.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:T,onBlur:h},j,E),null),[[el,{handler:b},null,{once:!0}]]);return te(nt,null,[e.prefix&&te("span",{class:"v-text-field__prefix"},[te("span",{class:"v-text-field__prefix__text"},[e.prefix])]),o.default?te("div",{class:Ge($),"data-no-activator":""},[o.default(),de]):Js(de,{class:$}),e.suffix&&te("span",{class:"v-text-field__suffix"},[te("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:q?_=>{var I;return te(nt,null,[(I=o.details)==null?void 0:I.call(o,_),F&&te(nt,null,[te("span",null,null),Z(ZS,{active:e.persistentCounter||c.value,value:m.value,max:v.value,disabled:e.disabled},o.counter)])])}:void 0})}),vr({},S,y,w)}}),pF=Ie({renderless:Boolean,...et()},"VVirtualScrollItem"),kT=Fe()({name:"VVirtualScrollItem",inheritAttrs:!1,props:pF(),emits:{"update:height":e=>!0},setup(e,n){let{attrs:i,emit:r,slots:o}=n;const{resizeRef:u,contentRect:c}=So(void 0,"border");je(()=>{var d;return(d=c.value)==null?void 0:d.height},d=>{d!=null&&r("update:height",d)}),qe(()=>{var d,h;return e.renderless?te(nt,null,[(d=o.default)==null?void 0:d.call(o,{itemRef:u})]):te("div",Be({ref:u,class:["v-virtual-scroll__item",e.class],style:e.style},i),[(h=o.default)==null?void 0:h.call(o)])})}}),yF=-1,bF=1,Py=100,RT=Ie({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function ET(e,n){const i=$r(),r=ze(0);On(()=>{r.value=parseFloat(e.itemHeight||0)});const o=ze(0),u=ze(Math.ceil((parseInt(e.height)||i.height.value)/(r.value||16))||1),c=ze(0),d=ze(0),h=Qe(),m=Qe();let v=0;const{resizeRef:p,contentRect:b}=So();On(()=>{p.value=h.value});const S=se(()=>{var re;return h.value===document.documentElement?i.height.value:((re=b.value)==null?void 0:re.height)||parseInt(e.height)||0}),y=se(()=>!!(h.value&&m.value&&S.value&&r.value));let w=Array.from({length:n.value.length}),x=Array.from({length:n.value.length});const T=ze(0);let D=-1;function P(re){return w[re]||r.value}const A=fO(()=>{const re=performance.now();x[0]=0;const $=n.value.length;for(let j=1;j<=$-1;j++)x[j]=(x[j-1]||0)+P(j-1);T.value=Math.max(T.value,performance.now()-re)},T),O=je(y,re=>{re&&(O(),v=m.value.offsetTop,A.immediate(),H(),~D&&Et(()=>{Ht&&window.requestAnimationFrame(()=>{K(D),D=-1})}))});Ii(()=>{A.clear()});function F(re,$){const j=w[re],de=r.value;r.value=de?Math.min(r.value,$):$,(j!==$||de!==r.value)&&(w[re]=$,A())}function q(re){return re=nn(re,0,n.value.length-1),x[re]||0}function R(re){return CF(x,re)}let E=0,N=0,G=0;je(S,(re,$)=>{$&&(H(),re<$&&requestAnimationFrame(()=>{N=0,H()}))});let M=-1;function _(){if(!h.value||!m.value)return;const re=h.value.scrollTop,$=performance.now();$-G>500?(N=Math.sign(re-E),v=m.value.offsetTop):N=re-E,E=re,G=$,window.clearTimeout(M),M=window.setTimeout(I,500),H()}function I(){!h.value||!m.value||(N=0,G=0,window.clearTimeout(M),H())}let B=-1;function H(){cancelAnimationFrame(B),B=requestAnimationFrame(Y)}function Y(){if(!h.value||!S.value)return;const re=E-v,$=Math.sign(N),j=Math.max(0,re-Py),de=nn(R(j),0,n.value.length),ve=re+S.value+Py,ye=nn(R(ve)+1,de+1,n.value.length);if(($!==yF||de<o.value)&&($!==bF||ye>u.value)){const Pe=q(o.value)-q(de),le=q(ye)-q(u.value);Math.max(Pe,le)>Py?(o.value=de,u.value=ye):(de<=0&&(o.value=de),ye>=n.value.length&&(u.value=ye))}c.value=q(o.value),d.value=q(n.value.length)-q(u.value)}function K(re){const $=q(re);!h.value||re&&!$?D=re:h.value.scrollTop=$}const ce=se(()=>n.value.slice(o.value,u.value).map((re,$)=>{const j=$+o.value;return{raw:re,index:j,key:Jn(re,e.itemKey,j)}}));return je(n,()=>{w=Array.from({length:n.value.length}),x=Array.from({length:n.value.length}),A.immediate(),H()},{deep:1}),{calculateVisibleItems:H,containerRef:h,markerRef:m,computedItems:ce,paddingTop:c,paddingBottom:d,scrollToIndex:K,handleScroll:_,handleScrollend:I,handleItemResize:F}}function CF(e,n){let i=e.length-1,r=0,o=0,u=null,c=-1;if(e[i]<n)return i;for(;r<=i;)if(o=r+i>>1,u=e[o],u>n)i=o-1;else if(u<n)c=o,r=o+1;else return u===n?o:r;return c}const wF=Ie({items:{type:Array,default:()=>[]},renderless:Boolean,...RT(),...et(),...ni()},"VVirtualScroll"),JS=Fe()({name:"VVirtualScroll",props:wF(),setup(e,n){let{slots:i}=n;const r=Bn("VVirtualScroll"),{dimensionStyles:o}=ii(e),{calculateVisibleItems:u,containerRef:c,markerRef:d,handleScroll:h,handleScrollend:m,handleItemResize:v,scrollToIndex:p,paddingTop:b,paddingBottom:S,computedItems:y}=ET(e,be(()=>e.items));return va(()=>e.renderless,()=>{function w(){var D,P;const T=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";c.value===document.documentElement?(document[T]("scroll",h,{passive:!0}),document[T]("scrollend",m)):((D=c.value)==null||D[T]("scroll",h,{passive:!0}),(P=c.value)==null||P[T]("scrollend",m))}Ai(()=>{c.value=OC(r.vnode.el,!0),w(!0)}),Ii(w)}),qe(()=>{const w=y.value.map(x=>Z(kT,{key:x.key,renderless:e.renderless,"onUpdate:height":T=>v(x.index,T)},{default:T=>{var D;return(D=i.default)==null?void 0:D.call(i,{item:x.raw,index:x.index,...T})}}));return e.renderless?te(nt,null,[te("div",{ref:d,class:"v-virtual-scroll__spacer",style:{paddingTop:Ke(b.value)}},null),w,te("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Ke(S.value)}},null)]):te("div",{ref:c,class:Ge(["v-virtual-scroll",e.class]),onScrollPassive:h,onScrollend:m,style:$e([o.value,e.style])},[te("div",{ref:d,class:"v-virtual-scroll__container",style:{paddingTop:Ke(b.value),paddingBottom:Ke(S.value)}},[w])])}),{calculateVisibleItems:u,scrollToIndex:p}}});function ZC(e,n){const i=ze(!1);let r;function o(d){cancelAnimationFrame(r),i.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{i.value=!1})})}async function u(){await new Promise(d=>requestAnimationFrame(d)),await new Promise(d=>requestAnimationFrame(d)),await new Promise(d=>requestAnimationFrame(d)),await new Promise(d=>{if(i.value){const h=je(i,()=>{h(),d()})}else d()})}async function c(d){var v,p;if(d.key==="Tab"&&((v=n.value)==null||v.focus()),!["PageDown","PageUp","Home","End"].includes(d.key))return;const h=(p=e.value)==null?void 0:p.$el;if(!h)return;(d.key==="Home"||d.key==="End")&&h.scrollTo({top:d.key==="Home"?0:h.scrollHeight,behavior:"smooth"}),await u();const m=h.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(d.key==="PageDown"||d.key==="Home"){const b=h.getBoundingClientRect().top;for(const S of m)if(S.getBoundingClientRect().top>=b){S.focus();break}}else{const b=h.getBoundingClientRect().bottom;for(const S of[...m].reverse())if(S.getBoundingClientRect().bottom<=b){S.focus();break}}}return{onScrollPassive:o,onKeydown:c}}const JC=Ie({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:ot,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...wT({itemChildren:!1})},"Select"),DF=Ie({...JC(),...kn(om({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...yo({transition:{component:zS}})},"VSelect"),e5=Fe()({name:"VSelect",props:DF(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:i}=n;const{t:r}=En(),o=Qe(),u=Qe(),c=Qe(),{items:d,transformIn:h,transformOut:m}=YC(e),v=at(e,"modelValue",[],re=>h(re===null?[null]:Dn(re)),re=>{const $=m(re);return e.multiple?$:$[0]??null}),p=se(()=>typeof e.counterValue=="function"?e.counterValue(v.value):typeof e.counterValue=="number"?e.counterValue:v.value.length),b=im(e),S=se(()=>v.value.map(re=>re.value)),y=ze(!1);let w="",x=-1,T;const D=se(()=>e.hideSelected?d.value.filter(re=>!v.value.some($=>(e.valueComparator||Mi)($,re))):d.value),P=se(()=>e.hideNoData&&!D.value.length||b.isReadonly.value||b.isDisabled.value),A=at(e,"menu"),O=se({get:()=>A.value,set:re=>{var $;A.value&&!re&&(($=u.value)!=null&&$.ΨopenChildren.size)||re&&P.value||(A.value=re)}}),F=be(()=>O.value?e.closeText:e.openText),q=se(()=>{var re;return{...e.menuProps,activatorProps:{...((re=e.menuProps)==null?void 0:re.activatorProps)||{},"aria-haspopup":"listbox"}}}),R=Qe(),E=ZC(R,o);function N(re){e.openOnClear&&(O.value=!0)}function G(){P.value||(O.value=!O.value)}function M(re){yh(re)&&_(re)}function _(re){var Ae,Ce,Le;if(!re.key||b.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(re.key)&&re.preventDefault(),["Enter","ArrowDown"," "].includes(re.key)&&(O.value=!0),["Escape","Tab"].includes(re.key)&&(O.value=!1),re.key==="Home"?(Ae=R.value)==null||Ae.focus("first"):re.key==="End"&&((Ce=R.value)==null||Ce.focus("last"));const $=1e3;if(!yh(re))return;const j=performance.now();j-T>$&&(w="",x=-1),w+=re.key.toLowerCase(),T=j;const de=D.value;function ve(){let J=ye();return J||w.at(-1)===w.at(-2)&&(w=w.slice(0,-1),J=ye(),J)||(x=-1,J=ye(),J)?J:(w=re.key.toLowerCase(),ye())}function ye(){for(let J=x+1;J<de.length;J++){const ue=de[J];if(ue.title.toLowerCase().startsWith(w))return[ue,J]}}const Pe=ve();if(!Pe)return;const[le,pe]=Pe;x=pe,(Le=R.value)==null||Le.focus(pe),e.multiple||(v.value=[le])}function I(re){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!re.props.disabled)if(e.multiple){const j=v.value.findIndex(ve=>(e.valueComparator||Mi)(ve.value,re.value)),de=$??!~j;if(~j){const ve=de?[...v.value,re]:[...v.value];ve.splice(j,1),v.value=ve}else de&&(v.value=[...v.value,re])}else{const j=$!==!1;v.value=j?[re]:[],Et(()=>{O.value=!1})}}function B(re){var $;($=R.value)!=null&&$.$el.contains(re.relatedTarget)||(O.value=!1)}function H(){var re;e.eager&&((re=c.value)==null||re.calculateVisibleItems())}function Y(){var re;y.value&&((re=o.value)==null||re.focus())}function K(re){y.value=!0}function ce(re){if(re==null)v.value=[];else if(ph(o.value,":autofill")||ph(o.value,":-webkit-autofill")){const $=d.value.find(j=>j.title===re);$&&I($)}else o.value&&(o.value.value="")}return je(O,()=>{if(!e.hideSelected&&O.value&&v.value.length){const re=D.value.findIndex($=>v.value.some(j=>(e.valueComparator||Mi)(j.value,$.value)));Ht&&window.requestAnimationFrame(()=>{var $;re>=0&&(($=c.value)==null||$.scrollToIndex(re))})}}),je(()=>e.items,(re,$)=>{O.value||y.value&&!$.length&&re.length&&(O.value=!0)}),qe(()=>{const re=!!(e.chips||i.chip),$=!!(!e.hideNoData||D.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),j=v.value.length>0,de=al.filterProps(e),ve=j||!y.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return Z(al,Be({ref:o},de,{modelValue:v.value.map(ye=>ye.props.value).join(", "),"onUpdate:modelValue":ce,focused:y.value,"onUpdate:focused":ye=>y.value=ye,validationValue:v.externalValue,counterValue:p.value,dirty:j,class:["v-select",{"v-select--active-menu":O.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":v.value.length,"v-select--selection-slot":!!i.selection},e.class],style:e.style,inputmode:"none",placeholder:ve,"onClick:clear":N,"onMousedown:control":G,onBlur:B,onKeydown:_,"aria-label":r(F.value),title:r(F.value)}),{...i,default:()=>te(nt,null,[Z(Dh,Be({ref:u,modelValue:O.value,"onUpdate:modelValue":ye=>O.value=ye,activator:"parent",contentClass:"v-select__content",disabled:P.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:H,onAfterLeave:Y},q.value),{default:()=>[$&&Z(KS,Be({ref:R,selected:S.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:ye=>ye.preventDefault(),onKeydown:M,onFocusin:K,tabindex:"-1","aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},E,e.listProps),{default:()=>{var ye,Pe,le;return[(ye=i["prepend-item"])==null?void 0:ye.call(i),!D.value.length&&!e.hideNoData&&(((Pe=i["no-data"])==null?void 0:Pe.call(i))??Z(il,{key:"no-data",title:r(e.noDataText)},null)),Z(JS,{ref:c,renderless:!0,items:D.value,itemKey:"value"},{default:pe=>{var ue;let{item:Ae,index:Ce,itemRef:Le}=pe;const J=Be(Ae.props,{ref:Le,key:Ae.value,onClick:()=>I(Ae,null)});return((ue=i.item)==null?void 0:ue.call(i,{item:Ae,index:Ce,props:J}))??Z(il,Be(J,{role:"option"}),{prepend:U=>{let{isSelected:fe}=U;return te(nt,null,[e.multiple&&!e.hideSelected?Z(nl,{key:Ae.value,modelValue:fe,ripple:!1,tabindex:"-1"},null):void 0,Ae.props.prependAvatar&&Z(Yr,{image:Ae.props.prependAvatar},null),Ae.props.prependIcon&&Z(zt,{icon:Ae.props.prependIcon},null)])}})}}),(le=i["append-item"])==null?void 0:le.call(i)]}})]}),v.value.map((ye,Pe)=>{function le(Le){Le.stopPropagation(),Le.preventDefault(),I(ye,!1)}const pe={"onClick:close":le,onKeydown(Le){Le.key!=="Enter"&&Le.key!==" "||(Le.preventDefault(),Le.stopPropagation(),le(Le))},onMousedown(Le){Le.preventDefault(),Le.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Ae=re?!!i.chip:!!i.selection,Ce=Ae?qS(re?i.chip({item:ye,index:Pe,props:pe}):i.selection({item:ye,index:Pe})):void 0;if(!(Ae&&!Ce))return te("div",{key:ye.value,class:"v-select__selection"},[re?i.chip?Z(St,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:ye.title}}},{default:()=>[Ce]}):Z(Oh,Be({key:"chip",closable:e.closableChips,size:"small",text:ye.title,disabled:ye.props.disabled},pe),null):Ce??te("span",{class:"v-select__selection-text"},[ye.title,e.multiple&&Pe<v.value.length-1&&te("span",{class:"v-select__selection-comma"},[Wr(",")])])])})]),"append-inner":function(){var pe,Ae;for(var ye=arguments.length,Pe=new Array(ye),le=0;le<ye;le++)Pe[le]=arguments[le];return te(nt,null,[(pe=i["append-inner"])==null?void 0:pe.call(i,...Pe),e.menuIcon?Z(zt,{class:"v-select__menu-icon",color:(Ae=o.value)==null?void 0:Ae.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),vr({isFocused:y,menu:O,select:I},o)}}),xF=(e,n,i)=>{if(e==null||n==null)return-1;if(!n.length)return 0;e=e.toString().toLocaleLowerCase(),n=n.toString().toLocaleLowerCase();const r=[];let o=e.indexOf(n);for(;~o;)r.push([o,o+n.length]),o=e.indexOf(n,o+n.length);return r.length?r:-1};function Iy(e,n){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+n.length]]:Array.isArray(e[0])?e:[e]}const sm=Ie({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function TF(e,n,i){var d;const r=[],o=(i==null?void 0:i.default)??xF,u=i!=null&&i.filterKeys?Dn(i.filterKeys):!1,c=Object.keys((i==null?void 0:i.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return r;e:for(let h=0;h<e.length;h++){const[m,v=m]=Dn(e[h]),p={},b={};let S=-1;if((n||c>0)&&!(i!=null&&i.noFilter)){if(typeof m=="object"){const x=u||Object.keys(v);for(const T of x){const D=Jn(v,T),P=(d=i==null?void 0:i.customKeyFilter)==null?void 0:d[T];if(S=P?P(D,n,m):o(D,n,m),S!==-1&&S!==!1)P?p[T]=Iy(S,n):b[T]=Iy(S,n);else if((i==null?void 0:i.filterMode)==="every")continue e}}else S=o(m,n,m),S!==-1&&S!==!1&&(b.title=Iy(S,n));const y=Object.keys(b).length,w=Object.keys(p).length;if(!y&&!w||(i==null?void 0:i.filterMode)==="union"&&w!==c&&!y||(i==null?void 0:i.filterMode)==="intersection"&&(w!==c||!y))continue}r.push({index:h,matches:{...b,...p}})}return r}function lm(e,n,i,r){const o=ze([]),u=ze(new Map),c=se(()=>r!=null&&r.transform?Ma(n).map(h=>[h,r.transform(h)]):Ma(n));On(()=>{const h=typeof i=="function"?i():Ma(i),m=typeof h!="string"&&typeof h!="number"?"":String(h),v=TF(c.value,m,{customKeyFilter:{...e.customKeyFilter,...Ma(r==null?void 0:r.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),p=Ma(n),b=[],S=new Map;v.forEach(y=>{let{index:w,matches:x}=y;const T=p[w];b.push(T),S.set(T.value,x)}),o.value=b,u.value=S});function d(h){return u.value.get(h.value)}return{filteredItems:o,filteredMatches:u,getMatches:d}}function FT(e,n,i){return i==null||!i.length?n:i.map((r,o)=>{const u=o===0?0:i[o-1][1],c=[te("span",{class:Ge(`${e}__unmask`)},[n.slice(u,r[0])]),te("span",{class:Ge(`${e}__mask`)},[n.slice(r[0],r[1])])];return o===i.length-1&&c.push(te("span",{class:Ge(`${e}__unmask`)},[n.slice(r[1])])),te(nt,null,[c])})}const PF=Ie({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...sm({filterKeys:["title"]}),...JC(),...kn(om({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...yo({transition:!1})},"VAutocomplete"),IF=Fe()({name:"VAutocomplete",props:PF(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:i}=n;const{t:r}=En(),o=Qe(),u=ze(!1),c=ze(!0),d=ze(!1),h=Qe(),m=Qe(),v=ze(-1),{items:p,transformIn:b,transformOut:S}=YC(e),{textColorClasses:y,textColorStyles:w}=Vi(()=>{var Ce;return(Ce=o.value)==null?void 0:Ce.color}),x=at(e,"search",""),T=at(e,"modelValue",[],Ce=>b(Ce===null?[null]:Dn(Ce)),Ce=>{const Le=S(Ce);return e.multiple?Le:Le[0]??null}),D=se(()=>typeof e.counterValue=="function"?e.counterValue(T.value):typeof e.counterValue=="number"?e.counterValue:T.value.length),P=im(e),{filteredItems:A,getMatches:O}=lm(e,p,()=>c.value?"":x.value),F=se(()=>e.hideSelected?A.value.filter(Ce=>!T.value.some(Le=>Le.value===Ce.value)):A.value),q=se(()=>!!(e.chips||i.chip)),R=se(()=>q.value||!!i.selection),E=se(()=>T.value.map(Ce=>Ce.props.value)),N=se(()=>{var Le;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&x.value===((Le=F.value[0])==null?void 0:Le.title))&&F.value.length>0&&!c.value&&!d.value}),G=se(()=>e.hideNoData&&!F.value.length||P.isReadonly.value||P.isDisabled.value),M=at(e,"menu"),_=se({get:()=>M.value,set:Ce=>{var Le;M.value&&!Ce&&((Le=h.value)!=null&&Le.ΨopenChildren.size)||Ce&&G.value||(M.value=Ce)}}),I=se(()=>_.value?e.closeText:e.openText),B=Qe(),H=ZC(B,o);function Y(Ce){e.openOnClear&&(_.value=!0),x.value=""}function K(){G.value||(_.value=!0)}function ce(Ce){G.value||(u.value&&(Ce.preventDefault(),Ce.stopPropagation()),_.value=!_.value)}function re(Ce){var Le;Ce.key!==" "&&yh(Ce)&&((Le=o.value)==null||Le.focus())}function $(Ce){var ue,U,fe,ge,ne;if(P.isReadonly.value)return;const Le=(ue=o.value)==null?void 0:ue.selectionStart,J=T.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(Ce.key)&&Ce.preventDefault(),["Enter","ArrowDown"].includes(Ce.key)&&(_.value=!0),["Escape"].includes(Ce.key)&&(_.value=!1),N.value&&["Enter","Tab"].includes(Ce.key)&&!T.value.some(ae=>{let{value:he}=ae;return he===F.value[0].value})&&Ae(F.value[0]),Ce.key==="ArrowDown"&&N.value&&((U=B.value)==null||U.focus("next")),["Backspace","Delete"].includes(Ce.key)){if(!e.multiple&&R.value&&T.value.length>0&&!x.value)return Ae(T.value[0],!1);if(~v.value){Ce.preventDefault();const ae=v.value;Ae(T.value[v.value],!1),v.value=ae>=J-1?J-2:ae}else Ce.key==="Backspace"&&!x.value&&(v.value=J-1);return}if(e.multiple)if(Ce.key==="ArrowLeft"){if(v.value<0&&Le&&Le>0)return;const ae=v.value>-1?v.value-1:J-1;if(T.value[ae])v.value=ae;else{const he=((fe=x.value)==null?void 0:fe.length)??null;v.value=-1,(ge=o.value)==null||ge.setSelectionRange(he,he)}}else if(Ce.key==="ArrowRight"){if(v.value<0)return;const ae=v.value+1;T.value[ae]?v.value=ae:(v.value=-1,(ne=o.value)==null||ne.setSelectionRange(0,0))}else~v.value&&yh(Ce)&&(v.value=-1)}function j(Ce){if(ph(o.value,":autofill")||ph(o.value,":-webkit-autofill")){const Le=p.value.find(J=>J.title===Ce.target.value);Le&&Ae(Le)}}function de(){var Ce;e.eager&&((Ce=m.value)==null||Ce.calculateVisibleItems())}function ve(){var Ce;u.value&&(c.value=!0,(Ce=o.value)==null||Ce.focus())}function ye(Ce){u.value=!0,setTimeout(()=>{d.value=!0})}function Pe(Ce){d.value=!1}function le(Ce){(Ce==null||Ce===""&&!e.multiple&&!R.value)&&(T.value=[])}const pe=ze(!1);function Ae(Ce){let Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!Ce||Ce.props.disabled))if(e.multiple){const J=T.value.findIndex(U=>(e.valueComparator||Mi)(U.value,Ce.value)),ue=Le??!~J;if(~J){const U=ue?[...T.value,Ce]:[...T.value];U.splice(J,1),T.value=U}else ue&&(T.value=[...T.value,Ce]);e.clearOnSelect&&(x.value="")}else{const J=Le!==!1;T.value=J?[Ce]:[],x.value=J&&!R.value?Ce.title:"",Et(()=>{_.value=!1,c.value=!0})}}return je(u,(Ce,Le)=>{var J;Ce!==Le&&(Ce?(pe.value=!0,x.value=e.multiple||R.value?"":String(((J=T.value.at(-1))==null?void 0:J.props.title)??""),c.value=!0,Et(()=>pe.value=!1)):(!e.multiple&&x.value==null&&(T.value=[]),_.value=!1,(e.multiple||R.value)&&(x.value=""),v.value=-1))}),je(x,Ce=>{!u.value||pe.value||(Ce&&(_.value=!0),c.value=!Ce)}),je(_,()=>{if(!e.hideSelected&&_.value&&T.value.length){const Ce=F.value.findIndex(Le=>T.value.some(J=>Le.value===J.value));Ht&&window.requestAnimationFrame(()=>{var Le;Ce>=0&&((Le=m.value)==null||Le.scrollToIndex(Ce))})}}),je(()=>e.items,(Ce,Le)=>{_.value||u.value&&!Le.length&&Ce.length&&(_.value=!0)}),qe(()=>{const Ce=!!(!e.hideNoData||F.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),Le=T.value.length>0,J=al.filterProps(e);return Z(al,Be({ref:o},J,{modelValue:x.value,"onUpdate:modelValue":[ue=>x.value=ue,le],focused:u.value,"onUpdate:focused":ue=>u.value=ue,validationValue:T.externalValue,counterValue:D.value,dirty:Le,onChange:j,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":_.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!R.value,"v-autocomplete--selecting-index":v.value>-1},e.class],style:e.style,readonly:P.isReadonly.value,placeholder:Le?void 0:e.placeholder,"onClick:clear":Y,"onMousedown:control":K,onKeydown:$}),{...i,default:()=>te(nt,null,[Z(Dh,Be({ref:h,modelValue:_.value,"onUpdate:modelValue":ue=>_.value=ue,activator:"parent",contentClass:"v-autocomplete__content",disabled:G.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:de,onAfterLeave:ve},e.menuProps),{default:()=>[Ce&&Z(KS,Be({ref:B,selected:E.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:ue=>ue.preventDefault(),onKeydown:re,onFocusin:ye,onFocusout:Pe,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},H,e.listProps),{default:()=>{var ue,U,fe;return[(ue=i["prepend-item"])==null?void 0:ue.call(i),!F.value.length&&!e.hideNoData&&(((U=i["no-data"])==null?void 0:U.call(i))??Z(il,{key:"no-data",title:r(e.noDataText)},null)),Z(JS,{ref:m,renderless:!0,items:F.value,itemKey:"value"},{default:ge=>{var we;let{item:ne,index:ae,itemRef:he}=ge;const xe=Be(ne.props,{ref:he,key:ne.value,active:N.value&&ae===0?!0:void 0,onClick:()=>Ae(ne,null)});return((we=i.item)==null?void 0:we.call(i,{item:ne,index:ae,props:xe}))??Z(il,Be(xe,{role:"option"}),{prepend:Se=>{let{isSelected:_e}=Se;return te(nt,null,[e.multiple&&!e.hideSelected?Z(nl,{key:ne.value,modelValue:_e,ripple:!1,tabindex:"-1"},null):void 0,ne.props.prependAvatar&&Z(Yr,{image:ne.props.prependAvatar},null),ne.props.prependIcon&&Z(zt,{icon:ne.props.prependIcon},null)])},title:()=>{var Se;return c.value?ne.title:FT("v-autocomplete",ne.title,(Se=O(ne))==null?void 0:Se.title)}})}}),(fe=i["append-item"])==null?void 0:fe.call(i)]}})]}),T.value.map((ue,U)=>{function fe(he){he.stopPropagation(),he.preventDefault(),Ae(ue,!1)}const ge={"onClick:close":fe,onKeydown(he){he.key!=="Enter"&&he.key!==" "||(he.preventDefault(),he.stopPropagation(),fe(he))},onMousedown(he){he.preventDefault(),he.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ne=q.value?!!i.chip:!!i.selection,ae=ne?qS(q.value?i.chip({item:ue,index:U,props:ge}):i.selection({item:ue,index:U})):void 0;if(!(ne&&!ae))return te("div",{key:ue.value,class:Ge(["v-autocomplete__selection",U===v.value&&["v-autocomplete__selection--selected",y.value]]),style:$e(U===v.value?w.value:{})},[q.value?i.chip?Z(St,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:ue.title}}},{default:()=>[ae]}):Z(Oh,Be({key:"chip",closable:e.closableChips,size:"small",text:ue.title,disabled:ue.props.disabled},ge),null):ae??te("span",{class:"v-autocomplete__selection-text"},[ue.title,e.multiple&&U<T.value.length-1&&te("span",{class:"v-autocomplete__selection-comma"},[Wr(",")])])])})]),"append-inner":function(){var ge,ne;for(var ue=arguments.length,U=new Array(ue),fe=0;fe<ue;fe++)U[fe]=arguments[fe];return te(nt,null,[(ge=i["append-inner"])==null?void 0:ge.call(i,...U),e.menuIcon?Z(zt,{class:"v-autocomplete__menu-icon",color:(ne=o.value)==null?void 0:ne.fieldIconColor,icon:e.menuIcon,onMousedown:ce,onClick:i8,"aria-label":r(I.value),title:r(I.value),tabindex:"-1"},null):void 0])}})}),vr({isFocused:u,isPristine:c,menu:_,search:x,filteredItems:A,select:Ae},o)}}),AF=Ie({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:ot,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...et(),...ol({location:"top end"}),...pn(),...mt(),...Lt(),...yo({transition:"scale-rotate-transition"})},"VBadge"),_F=Fe()({name:"VBadge",inheritAttrs:!1,props:AF(),setup(e,n){const{backgroundColorClasses:i,backgroundColorStyles:r}=tn(()=>e.color),{roundedClasses:o}=Fn(e),{t:u}=En(),{textColorClasses:c,textColorStyles:d}=Vi(()=>e.textColor),{themeClasses:h}=MC(),{locationStyles:m}=fd(e,!0,v=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(v)?Number(e.offsetY??0):["left","right"].includes(v)?Number(e.offsetX??0):0));return qe(()=>{const v=Number(e.content),p=!e.max||isNaN(v)?e.content:v<=Number(e.max)?v:`${e.max}+`,[b,S]=Zy(n.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return Z(e.tag,Be({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},S,{style:e.style}),{default:()=>{var y,w;return[te("div",{class:"v-badge__wrapper"},[(w=(y=n.slots).default)==null?void 0:w.call(y),Z(ea,{transition:e.transition},{default:()=>{var x,T;return[xn(te("span",Be({class:["v-badge__badge",h.value,i.value,o.value,c.value],style:[r.value,d.value,e.inline?{}:m.value],"aria-atomic":"true","aria-label":u(e.label,v),"aria-live":"polite",role:"status"},b),[e.dot?void 0:n.slots.badge?(T=(x=n.slots).badge)==null?void 0:T.call(x):e.icon?Z(zt,{icon:e.icon},null):p]),[[po,e.modelValue]])]}})])]}})}),{}}}),LF=Ie({color:String,density:String,...et()},"VBannerActions"),MT=Fe()({name:"VBannerActions",props:LF(),setup(e,n){let{slots:i}=n;return Rn({VBtn:{color:e.color,density:e.density,slim:!0,variant:"text"}}),qe(()=>{var r;return te("div",{class:Ge(["v-banner-actions",e.class]),style:$e(e.style)},[(r=i.default)==null?void 0:r.call(i)])}),{}}}),VT=ns("v-banner-text"),OF=Ie({avatar:String,bgColor:String,color:String,icon:ot,lines:String,stacked:Boolean,sticky:Boolean,text:String,...Na(),...et(),...mi(),...ni(),...rd({mobile:null}),...li(),...ol(),...Ah(),...pn(),...mt(),...Lt()},"VBanner"),kF=Fe()({name:"VBanner",props:OF(),setup(e,n){let{slots:i}=n;const{backgroundColorClasses:r,backgroundColorStyles:o}=tn(()=>e.bgColor),{borderClasses:u}=mr(e),{densityClasses:c}=na(e),{displayClasses:d,mobile:h}=$r(e),{dimensionStyles:m}=ii(e),{elevationClasses:v}=_i(e),{locationStyles:p}=fd(e),{positionClasses:b}=_h(e),{roundedClasses:S}=Fn(e),{themeClasses:y}=Yt(e),w=be(()=>e.color),x=be(()=>e.density);Rn({VBannerActions:{color:w,density:x}}),qe(()=>{const T=!!(e.text||i.text),D=!!(e.avatar||e.icon),P=!!(D||i.prepend);return Z(e.tag,{class:Ge(["v-banner",{"v-banner--stacked":e.stacked||h.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},y.value,r.value,u.value,c.value,d.value,v.value,b.value,S.value,e.class]),style:$e([o.value,m.value,p.value,e.style]),role:"banner"},{default:()=>{var A;return[P&&te("div",{key:"prepend",class:"v-banner__prepend"},[i.prepend?Z(St,{key:"prepend-defaults",disabled:!D,defaults:{VAvatar:{color:w.value,density:x.value,icon:e.icon,image:e.avatar}}},i.prepend):Z(Yr,{key:"prepend-avatar",color:w.value,density:x.value,icon:e.icon,image:e.avatar},null)]),te("div",{class:"v-banner__content"},[T&&Z(VT,{key:"text"},{default:()=>{var O;return[((O=i.text)==null?void 0:O.call(i))??e.text]}}),(A=i.default)==null?void 0:A.call(i)]),i.actions&&Z(MT,{key:"actions"},i.actions)]}})})}}),RF=Ie({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...Na(),...et(),...mi(),...li(),...pn(),...od({name:"bottom-navigation"}),...mt({tag:"header"}),...cd({selectedClass:"v-btn--selected"}),...Lt()},"VBottomNavigation"),EF=Fe()({name:"VBottomNavigation",props:RF(),emits:{"update:active":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const{themeClasses:r}=MC(),{borderClasses:o}=mr(e),{backgroundColorClasses:u,backgroundColorStyles:c}=tn(()=>e.bgColor),{densityClasses:d}=na(e),{elevationClasses:h}=_i(e),{roundedClasses:m}=Fn(e),{ssrBootStyles:v}=ld(),p=se(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),b=at(e,"active",e.active),{layoutItemStyles:S}=sd({id:e.name,order:se(()=>parseInt(e.order,10)),position:be(()=>"bottom"),layoutSize:be(()=>b.value?p.value:0),elementSize:p,active:b,absolute:be(()=>e.absolute)});return _u(e,GC),Rn({VBtn:{baseColor:be(()=>e.baseColor),color:be(()=>e.color),density:be(()=>e.density),stacked:be(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),qe(()=>Z(e.tag,{class:Ge(["v-bottom-navigation",{"v-bottom-navigation--active":b.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},r.value,u.value,o.value,d.value,h.value,m.value,e.class]),style:$e([c.value,S.value,{height:Ke(p.value)},v.value,e.style])},{default:()=>[i.default&&te("div",{class:"v-bottom-navigation__content"},[i.default()])]})),{}}}),BT=Ie({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...am({origin:"center center",scrollStrategy:"block",transition:{component:zS},zIndex:2400})},"VDialog"),w2=Fe()({name:"VDialog",props:BT(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,n){let{emit:i,slots:r}=n;const o=at(e,"modelValue"),{scopeId:u}=gd(),c=Qe();function d(v){var S,y;const p=v.relatedTarget,b=v.target;if(p!==b&&((S=c.value)!=null&&S.contentEl)&&((y=c.value)!=null&&y.globalTop)&&![document,c.value.contentEl].includes(b)&&!c.value.contentEl.contains(b)){const w=Rg(c.value.contentEl);if(!w.length)return;const x=w[0],T=w[w.length-1];p===x?T.focus():x.focus()}}gi(()=>{document.removeEventListener("focusin",d)}),Ht&&je(()=>o.value&&e.retainFocus,v=>{v?document.addEventListener("focusin",d):document.removeEventListener("focusin",d)},{immediate:!0});function h(){var v;i("afterEnter"),(e.scrim||e.retainFocus)&&((v=c.value)!=null&&v.contentEl)&&!c.value.contentEl.contains(document.activeElement)&&c.value.contentEl.focus({preventScroll:!0})}function m(){i("afterLeave")}return je(o,async v=>{var p;v||(await Et(),(p=c.value.activatorEl)==null||p.focus({preventScroll:!0}))}),qe(()=>{const v=Zo.filterProps(e),p=Be({"aria-haspopup":"dialog"},e.activatorProps),b=Be({tabindex:-1},e.contentProps);return Z(Zo,Be({ref:c,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},v,{modelValue:o.value,"onUpdate:modelValue":S=>o.value=S,"aria-modal":"true",activatorProps:p,contentProps:b,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:h,onAfterLeave:m},u),{activator:r.activator,default:function(){for(var S=arguments.length,y=new Array(S),w=0;w<S;w++)y[w]=arguments[w];return Z(St,{root:"VDialog"},{default:()=>{var x;return[(x=r.default)==null?void 0:x.call(r,...y)]}})}})}),vr({},c)}}),FF=Ie({inset:Boolean,...BT({transition:"bottom-sheet-transition"})},"VBottomSheet"),MF=Fe()({name:"VBottomSheet",props:FF(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const r=at(e,"modelValue");return qe(()=>{const o=w2.filterProps(e);return Z(w2,Be(o,{contentClass:["v-bottom-sheet__content",e.contentClass],modelValue:r.value,"onUpdate:modelValue":u=>r.value=u,class:["v-bottom-sheet",{"v-bottom-sheet--inset":e.inset},e.class],style:e.style}),i)}),{}}}),VF=Ie({divider:[Number,String],...et()},"VBreadcrumbsDivider"),NT=Fe()({name:"VBreadcrumbsDivider",props:VF(),setup(e,n){let{slots:i}=n;return qe(()=>{var r;return te("li",{"aria-hidden":"true",class:Ge(["v-breadcrumbs-divider",e.class]),style:$e(e.style)},[((r=i==null?void 0:i.default)==null?void 0:r.call(i))??e.divider])}),{}}}),BF=Ie({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...et(),...tm(),...mt({tag:"li"})},"VBreadcrumbsItem"),UT=Fe()({name:"VBreadcrumbsItem",props:BF(),setup(e,n){let{slots:i,attrs:r}=n;const o=em(e,r),u=se(()=>{var h;return e.active||((h=o.isActive)==null?void 0:h.value)}),{textColorClasses:c,textColorStyles:d}=Vi(()=>u.value?e.activeColor:e.color);return qe(()=>Z(e.tag,{class:Ge(["v-breadcrumbs-item",{"v-breadcrumbs-item--active":u.value,"v-breadcrumbs-item--disabled":e.disabled,[`${e.activeClass}`]:u.value&&e.activeClass},c.value,e.class]),style:$e([d.value,e.style]),"aria-current":u.value?"page":void 0},{default:()=>{var h,m;return[o.isLink.value?te("a",Be({class:"v-breadcrumbs-item--link",onClick:o.navigate},o.linkProps),[((m=i.default)==null?void 0:m.call(i))??e.title]):((h=i.default)==null?void 0:h.call(i))??e.title]}})),{}}}),NF=Ie({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:ot,items:{type:Array,default:()=>[]},...et(),...mi(),...pn(),...mt({tag:"ul"})},"VBreadcrumbs"),UF=Fe()({name:"VBreadcrumbs",props:NF(),setup(e,n){let{slots:i}=n;const{backgroundColorClasses:r,backgroundColorStyles:o}=tn(()=>e.bgColor),{densityClasses:u}=na(e),{roundedClasses:c}=Fn(e);Rn({VBreadcrumbsDivider:{divider:be(()=>e.divider)},VBreadcrumbsItem:{activeClass:be(()=>e.activeClass),activeColor:be(()=>e.activeColor),color:be(()=>e.color),disabled:be(()=>e.disabled)}});const d=se(()=>e.items.map(h=>typeof h=="string"?{item:{title:h},raw:h}:{item:h,raw:h}));return qe(()=>{const h=!!(i.prepend||e.icon);return Z(e.tag,{class:Ge(["v-breadcrumbs",r.value,u.value,c.value,e.class]),style:$e([o.value,e.style])},{default:()=>{var m;return[h&&te("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[i.prepend?Z(St,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},i.prepend):Z(zt,{key:"prepend-icon",start:!0,icon:e.icon},null)]),d.value.map((v,p,b)=>{var w;let{item:S,raw:y}=v;return te(nt,null,[((w=i.item)==null?void 0:w.call(i,{item:S,index:p}))??Z(UT,Be({key:p,disabled:p>=b.length-1},typeof S=="string"?{title:S}:S),{default:i.title?()=>{var x;return(x=i.title)==null?void 0:x.call(i,{item:S,index:p})}:void 0}),p<b.length-1&&Z(NT,null,{default:i.divider?()=>{var x;return(x=i.divider)==null?void 0:x.call(i,{item:y,index:p})}:void 0})])}),(m=i.default)==null?void 0:m.call(i)]}})}),{}}}),qT=Fe()({name:"VCardActions",props:et(),setup(e,n){let{slots:i}=n;return Rn({VBtn:{slim:!0,variant:"text"}}),qe(()=>{var r;return te("div",{class:Ge(["v-card-actions",e.class]),style:$e(e.style)},[(r=i.default)==null?void 0:r.call(i)])}),{}}}),qF=Ie({opacity:[Number,String],...et(),...mt()},"VCardSubtitle"),GT=Fe()({name:"VCardSubtitle",props:qF(),setup(e,n){let{slots:i}=n;return qe(()=>Z(e.tag,{class:Ge(["v-card-subtitle",e.class]),style:$e([{"--v-card-subtitle-opacity":e.opacity},e.style])},i)),{}}}),QT=ns("v-card-title"),GF=Ie({appendAvatar:String,appendIcon:ot,prependAvatar:String,prependIcon:ot,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...et(),...mi()},"VCardItem"),zT=Fe()({name:"VCardItem",props:GF(),setup(e,n){let{slots:i}=n;return qe(()=>{var m;const r=!!(e.prependAvatar||e.prependIcon),o=!!(r||i.prepend),u=!!(e.appendAvatar||e.appendIcon),c=!!(u||i.append),d=!!(e.title!=null||i.title),h=!!(e.subtitle!=null||i.subtitle);return te("div",{class:Ge(["v-card-item",e.class]),style:$e(e.style)},[o&&te("div",{key:"prepend",class:"v-card-item__prepend"},[i.prepend?Z(St,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},i.prepend):te(nt,null,[e.prependAvatar&&Z(Yr,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&Z(zt,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),te("div",{class:"v-card-item__content"},[d&&Z(QT,{key:"title"},{default:()=>{var v;return[((v=i.title)==null?void 0:v.call(i))??mo(e.title)]}}),h&&Z(GT,{key:"subtitle"},{default:()=>{var v;return[((v=i.subtitle)==null?void 0:v.call(i))??mo(e.subtitle)]}}),(m=i.default)==null?void 0:m.call(i)]),c&&te("div",{key:"append",class:"v-card-item__append"},[i.append?Z(St,{key:"append-defaults",disabled:!u,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},i.append):te(nt,null,[e.appendIcon&&Z(zt,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&Z(Yr,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),QF=Ie({opacity:[Number,String],...et(),...mt()},"VCardText"),HT=Fe()({name:"VCardText",props:QF(),setup(e,n){let{slots:i}=n;return qe(()=>Z(e.tag,{class:Ge(["v-card-text",e.class]),style:$e([{"--v-card-text-opacity":e.opacity},e.style])},i)),{}}}),zF=Ie({appendAvatar:String,appendIcon:ot,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:ot,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...Na(),...et(),...mi(),...ni(),...li(),...$S(),...ol(),...Ah(),...pn(),...tm(),...mt(),...Lt(),...jr({variant:"elevated"})},"VCard"),HF=Fe()({name:"VCard",directives:{vRipple:ta},props:zF(),setup(e,n){let{attrs:i,slots:r}=n;const{themeClasses:o}=Yt(e),{borderClasses:u}=mr(e),{colorClasses:c,colorStyles:d,variantClasses:h}=ud(e),{densityClasses:m}=na(e),{dimensionStyles:v}=ii(e),{elevationClasses:p}=_i(e),{loaderClasses:b}=Zg(e),{locationStyles:S}=fd(e),{positionClasses:y}=_h(e),{roundedClasses:w}=Fn(e),x=em(e,i);return qe(()=>{const T=e.link!==!1&&x.isLink.value,D=!e.disabled&&e.link!==!1&&(e.link||x.isClickable.value),P=T?"a":e.tag,A=!!(r.title||e.title!=null),O=!!(r.subtitle||e.subtitle!=null),F=A||O,q=!!(r.append||e.appendAvatar||e.appendIcon),R=!!(r.prepend||e.prependAvatar||e.prependIcon),E=!!(r.image||e.image),N=F||R||q,G=!!(r.text||e.text!=null);return xn(Z(P,Be({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":D},o.value,u.value,c.value,m.value,p.value,b.value,y.value,w.value,h.value,e.class],style:[d.value,v.value,S.value,e.style],onClick:D&&x.navigate,tabindex:e.disabled?-1:void 0},x.linkProps),{default:()=>{var M;return[E&&te("div",{key:"image",class:"v-card__image"},[r.image?Z(St,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):Z(tl,{key:"image-img",cover:!0,src:e.image},null)]),Z(Jg,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:r.loader}),N&&Z(zT,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),G&&Z(HT,{key:"text"},{default:()=>{var _;return[((_=r.text)==null?void 0:_.call(r))??e.text]}}),(M=r.default)==null?void 0:M.call(r),r.actions&&Z(qT,null,{default:r.actions}),Au(D,"v-card")]}}),[[ta,D&&e.ripple]])}),{}}}),WF=e=>{const{touchstartX:n,touchendX:i,touchstartY:r,touchendY:o}=e,u=.5,c=16;e.offsetX=i-n,e.offsetY=o-r,Math.abs(e.offsetY)<u*Math.abs(e.offsetX)&&(e.left&&i<n-c&&e.left(e),e.right&&i>n+c&&e.right(e)),Math.abs(e.offsetX)<u*Math.abs(e.offsetY)&&(e.up&&o<r-c&&e.up(e),e.down&&o>r+c&&e.down(e))};function YF(e,n){var r;const i=e.changedTouches[0];n.touchstartX=i.clientX,n.touchstartY=i.clientY,(r=n.start)==null||r.call(n,{originalEvent:e,...n})}function $F(e,n){var r;const i=e.changedTouches[0];n.touchendX=i.clientX,n.touchendY=i.clientY,(r=n.end)==null||r.call(n,{originalEvent:e,...n}),WF(n)}function jF(e,n){var r;const i=e.changedTouches[0];n.touchmoveX=i.clientX,n.touchmoveY=i.clientY,(r=n.move)==null||r.call(n,{originalEvent:e,...n})}function XF(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:i=>YF(i,n),touchend:i=>$F(i,n),touchmove:i=>jF(i,n)}}function KF(e,n){var d;const i=n.value,r=i!=null&&i.parent?e.parentElement:e,o=(i==null?void 0:i.options)??{passive:!0},u=(d=n.instance)==null?void 0:d.$.uid;if(!r||!u)return;const c=XF(n.value);r._touchHandlers=r._touchHandlers??Object.create(null),r._touchHandlers[u]=c,Kx(c).forEach(h=>{r.addEventListener(h,c[h],o)})}function ZF(e,n){var u,c;const i=(u=n.value)!=null&&u.parent?e.parentElement:e,r=(c=n.instance)==null?void 0:c.$.uid;if(!(i!=null&&i._touchHandlers)||!r)return;const o=i._touchHandlers[r];Kx(o).forEach(d=>{i.removeEventListener(d,o[d])}),delete i._touchHandlers[r]}const TS={mounted:KF,unmounted:ZF},WT=Symbol.for("vuetify:v-window"),YT=Symbol.for("vuetify:v-window-group"),ep=Ie({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...et(),...mt(),...Lt()},"VWindow"),Jc=Fe()({name:"VWindow",directives:{vTouch:TS},props:ep(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const{themeClasses:r}=Yt(e),{isRtl:o}=ti(),{t:u}=En(),c=_u(e,YT),d=Qe(),h=se(()=>o.value?!e.reverse:e.reverse),m=ze(!1),v=se(()=>{const A=e.direction==="vertical"?"y":"x",F=(h.value?!m.value:m.value)?"-reverse":"";return`v-window-${A}${F}-transition`}),p=ze(0),b=Qe(void 0),S=se(()=>c.items.value.findIndex(A=>c.selected.value.includes(A.id)));je(S,(A,O)=>{const F=c.items.value.length,q=F-1;F<=2?m.value=A<O:A===q&&O===0?m.value=!0:A===0&&O===q?m.value=!1:m.value=A<O}),cn(WT,{transition:v,isReversed:m,transitionCount:p,transitionHeight:b,rootRef:d});const y=be(()=>e.continuous||S.value!==0),w=be(()=>e.continuous||S.value!==c.items.value.length-1);function x(){y.value&&c.prev()}function T(){w.value&&c.next()}const D=se(()=>{const A=[],O={icon:o.value?e.nextIcon:e.prevIcon,class:`v-window__${h.value?"right":"left"}`,onClick:c.prev,"aria-label":u("$vuetify.carousel.prev")};A.push(y.value?i.prev?i.prev({props:O}):Z(Rt,O,null):te("div",null,null));const F={icon:o.value?e.prevIcon:e.nextIcon,class:`v-window__${h.value?"left":"right"}`,onClick:c.next,"aria-label":u("$vuetify.carousel.next")};return A.push(w.value?i.next?i.next({props:F}):Z(Rt,F,null):te("div",null,null)),A}),P=se(()=>e.touch===!1?e.touch:{...{left:()=>{h.value?x():T()},right:()=>{h.value?T():x()},start:O=>{let{originalEvent:F}=O;F.stopPropagation()}},...e.touch===!0?{}:e.touch});return qe(()=>xn(Z(e.tag,{ref:d,class:Ge(["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},r.value,e.class]),style:$e(e.style)},{default:()=>{var A,O;return[te("div",{class:"v-window__container",style:{height:b.value}},[(A=i.default)==null?void 0:A.call(i,{group:c}),e.showArrows!==!1&&te("div",{class:"v-window__controls"},[D.value])]),(O=i.additional)==null?void 0:O.call(i,{group:c})]}}),[[TS,P.value]])),{group:c}}}),JF=Ie({color:String,cycle:Boolean,delimiterIcon:{type:ot,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...ep({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),eM=Fe()({name:"VCarousel",props:JF(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const r=at(e,"modelValue"),{t:o}=En(),u=Qe();let c=-1;je(r,h),je(()=>e.interval,h),je(()=>e.cycle,m=>{m?h():window.clearTimeout(c)}),Ai(d);function d(){!e.cycle||!u.value||(c=window.setTimeout(u.value.group.next,Number(e.interval)>0?Number(e.interval):6e3))}function h(){window.clearTimeout(c),window.requestAnimationFrame(d)}return qe(()=>{const m=Jc.filterProps(e);return Z(Jc,Be({ref:u},m,{modelValue:r.value,"onUpdate:modelValue":v=>r.value=v,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:Ke(e.height)},e.style]}),{default:i.default,additional:v=>{let{group:p}=v;return te(nt,null,[!e.hideDelimiters&&te("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[p.items.value.length>0&&Z(St,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[p.items.value.map((b,S)=>{const y={id:`carousel-item-${b.id}`,"aria-label":o("$vuetify.carousel.ariaLabel.delimiter",S+1,p.items.value.length),class:["v-carousel__controls__item",p.isSelected(b.id)&&"v-btn--active"],onClick:()=>p.select(b.id,!0)};return i.item?i.item({props:y,item:b}):Z(Rt,Be(b,y),null)})]})]),e.progress&&Z(YS,{class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(p.getItemIndex(r.value)+1)/p.items.value.length*100},null)])},prev:i.prev,next:i.next})}),{}}}),tp=Ie({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...et(),...dd(),...XC()},"VWindowItem"),ed=Fe()({name:"VWindowItem",directives:{vTouch:TS},props:tp(),emits:{"group:selected":e=>!0},setup(e,n){let{slots:i}=n;const r=Tt(WT),o=hd(e,YT),{isBooted:u}=ld();if(!r||!o)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const c=ze(!1),d=se(()=>u.value&&(r.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function h(){!c.value||!r||(c.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function m(){var y;c.value||!r||(c.value=!0,r.transitionCount.value===0&&(r.transitionHeight.value=Ke((y=r.rootRef.value)==null?void 0:y.clientHeight)),r.transitionCount.value+=1)}function v(){h()}function p(y){c.value&&Et(()=>{!d.value||!c.value||!r||(r.transitionHeight.value=Ke(y.clientHeight))})}const b=se(()=>{const y=r.isReversed.value?e.reverseTransition:e.transition;return d.value?{name:typeof y!="string"?r.transition.value:y,onBeforeEnter:m,onAfterEnter:h,onEnterCancelled:v,onBeforeLeave:m,onAfterLeave:h,onLeaveCancelled:v,onEnter:p}:!1}),{hasContent:S}=KC(e,o.isSelected);return qe(()=>Z(ea,{transition:b.value,disabled:!u.value},{default:()=>{var y;return[xn(te("div",{class:Ge(["v-window-item",o.selectedClass.value,e.class]),style:$e(e.style)},[S.value&&((y=i.default)==null?void 0:y.call(i))]),[[po,o.isSelected.value]])]}})),{groupItem:o}}}),tM=Ie({...B8(),...tp()},"VCarouselItem"),nM=Fe()({name:"VCarouselItem",inheritAttrs:!1,props:tM(),setup(e,n){let{slots:i,attrs:r}=n;qe(()=>{const o=tl.filterProps(e),u=ed.filterProps(e);return Z(ed,Be({class:["v-carousel-item",e.class]},u),{default:()=>[Z(tl,Be(r,o),i)]})})}}),iM=ns("v-code","code"),aM=Ie({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...et()},"VColorPickerCanvas"),rM=fr({name:"VColorPickerCanvas",props:aM(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,n){let{emit:i}=n;const r=ze(!1),o=Qe(),u=ze(parseFloat(e.width)),c=ze(parseFloat(e.height)),d=Qe({x:0,y:0}),h=se({get:()=>d.value,set(x){var P,A;if(!o.value)return;const{x:T,y:D}=x;d.value=x,i("update:color",{h:((P=e.color)==null?void 0:P.h)??0,s:nn(T,0,u.value)/u.value,v:1-nn(D,0,c.value)/c.value,a:((A=e.color)==null?void 0:A.a)??1})}}),m=se(()=>{const{x,y:T}=h.value,D=parseInt(e.dotSize,10)/2;return{width:Ke(e.dotSize),height:Ke(e.dotSize),transform:`translate(${Ke(x-D)}, ${Ke(T-D)})`}}),{resizeRef:v}=So(x=>{var P;if(!((P=v.el)!=null&&P.offsetParent))return;const{width:T,height:D}=x[0].contentRect;u.value=T,c.value=D});function p(x,T,D){const{left:P,top:A,width:O,height:F}=D;h.value={x:nn(x-P,0,O),y:nn(T-A,0,F)}}function b(x){x.type==="mousedown"&&x.preventDefault(),!e.disabled&&(S(x),window.addEventListener("mousemove",S),window.addEventListener("mouseup",y),window.addEventListener("touchmove",S),window.addEventListener("touchend",y))}function S(x){if(e.disabled||!o.value)return;r.value=!0;const T=mO(x);p(T.clientX,T.clientY,o.value.getBoundingClientRect())}function y(){window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",y),window.removeEventListener("touchmove",S),window.removeEventListener("touchend",y)}function w(){var A;if(!o.value)return;const x=o.value,T=x.getContext("2d");if(!T)return;const D=T.createLinearGradient(0,0,x.width,0);D.addColorStop(0,"hsla(0, 0%, 100%, 1)"),D.addColorStop(1,`hsla(${((A=e.color)==null?void 0:A.h)??0}, 100%, 50%, 1)`),T.fillStyle=D,T.fillRect(0,0,x.width,x.height);const P=T.createLinearGradient(0,0,0,x.height);P.addColorStop(0,"hsla(0, 0%, 0%, 0)"),P.addColorStop(1,"hsla(0, 0%, 0%, 1)"),T.fillStyle=P,T.fillRect(0,0,x.width,x.height)}return je(()=>{var x;return(x=e.color)==null?void 0:x.h},w,{immediate:!0}),je(()=>[u.value,c.value],(x,T)=>{w(),d.value={x:h.value.x*x[0]/T[0],y:h.value.y*x[1]/T[1]}},{flush:"post"}),je(()=>e.color,()=>{if(r.value){r.value=!1;return}d.value=e.color?{x:e.color.s*u.value,y:(1-e.color.v)*c.value}:{x:0,y:0}},{deep:!0,immediate:!0}),Ai(()=>w()),qe(()=>te("div",{ref:v,class:Ge(["v-color-picker-canvas",e.class]),style:$e(e.style),onMousedown:b,onTouchstartPassive:b},[te("canvas",{ref:o,width:u.value,height:c.value},null),e.color&&te("div",{class:Ge(["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}]),style:$e(m.value)},null)])),{}}});function oM(e,n){if(n){const{a:i,...r}=e;return r}return e}function sM(e,n){if(n==null||typeof n=="string"){const i=e.a!==1;if(n!=null&&n.startsWith("rgb(")){const{r:o,g:u,b:c,a:d}=Ko(e);return`rgb(${o} ${u} ${c}`+(i?` / ${d})`:")")}else if(n!=null&&n.startsWith("hsl(")){const{h:o,s:u,l:c,a:d}=n2(e);return`hsl(${o} ${Math.round(u*100)} ${Math.round(c*100)}`+(i?` / ${d})`:")")}const r=g8(e);return e.a===1?r.slice(0,7):r}if(typeof n=="object"){let i;return Hc(n,["r","g","b"])?i=Ko(e):Hc(n,["h","s","l"])?i=n2(e):Hc(n,["h","s","v"])&&(i=e),oM(i,!Hc(n,["a"])&&e.a===1)}return e}const ch={h:0,s:0,v:0,a:1},D2={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,n)=>({...e,r:Number(n)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,n)=>({...e,g:Number(n)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,n)=>({...e,b:Number(n)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:n}=e;return n!=null?Math.round(n*100)/100:1},getColor:(e,n)=>({...e,a:Number(n)})}],to:Ko,from:jg};var x6;const lM={...D2,inputs:(x6=D2.inputs)==null?void 0:x6.slice(0,3)},x2={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,n)=>({...e,h:Number(n)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,n)=>({...e,s:Number(n)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,n)=>({...e,l:Number(n)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:n}=e;return n!=null?Math.round(n*100)/100:1},getColor:(e,n)=>({...e,a:Number(n)})}],to:n2,from:_C},uM={...x2,inputs:x2.inputs.slice(0,3)},$T={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,n)=>n}],to:g8,from:GO},cM={...$T,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,n)=>n}]},Xc={rgb:lM,rgba:D2,hsl:uM,hsla:x2,hex:cM,hexa:$T},dM=e=>{let{label:n,...i}=e;return te("div",{class:"v-color-picker-edit__input"},[te("input",j_(Fx(i)),null),te("span",null,[n])])},hM=Ie({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(Xc).includes(e)},modes:{type:Array,default:()=>Object.keys(Xc),validator:e=>Array.isArray(e)&&e.every(n=>Object.keys(Xc).includes(n))},...et()},"VColorPickerEdit"),fM=fr({name:"VColorPickerEdit",props:hM(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,n){let{emit:i}=n;const r=se(()=>e.modes.map(u=>({...Xc[u],name:u}))),o=se(()=>{var d;const u=r.value.find(h=>h.name===e.mode);if(!u)return[];const c=e.color?u.to(e.color):null;return(d=u.inputs)==null?void 0:d.map(h=>{let{getValue:m,getColor:v,...p}=h;return{...u.inputProps,...p,disabled:e.disabled,value:c&&m(c),onChange:b=>{const S=b.target;S&&i("update:color",u.from(v(c??u.to(ch),S.value)))}}})});return qe(()=>{var u;return te("div",{class:Ge(["v-color-picker-edit",e.class]),style:$e(e.style)},[(u=o.value)==null?void 0:u.map(c=>Z(dM,c,null)),r.value.length>1&&Z(Rt,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const c=r.value.findIndex(d=>d.name===e.mode);i("update:mode",r.value[(c+1)%r.value.length].name)}},null)])}),{}}}),t5=Symbol.for("vuetify:v-slider");function T2(e,n,i){const r=i==="vertical",o=n.getBoundingClientRect(),u="touches"in e?e.touches[0]:e;return r?u.clientY-(o.top+o.height/2):u.clientX-(o.left+o.width/2)}function gM(e,n){return"touches"in e&&e.touches.length?e.touches[0][n]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][n]:e[n]}const jT=Ie({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...pn(),...li({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),XT=e=>{const n=se(()=>parseFloat(e.min)),i=se(()=>parseFloat(e.max)),r=se(()=>Number(e.step)>0?parseFloat(e.step):0),o=se(()=>Math.max(yw(r.value),yw(n.value)));function u(c){if(c=parseFloat(c),r.value<=0)return c;const d=nn(c,n.value,i.value),h=n.value%r.value;let m=Math.round((d-h)/r.value)*r.value+h;return d>m&&m+r.value>i.value&&(m=i.value),parseFloat(Math.min(m,i.value).toFixed(o.value))}return{min:n,max:i,step:r,decimals:o,roundValue:u}},KT=e=>{let{props:n,steps:i,onSliderStart:r,onSliderMove:o,onSliderEnd:u,getActiveThumb:c}=e;const{isRtl:d}=ti(),h=be(()=>n.reverse),m=se(()=>n.direction==="vertical"),v=se(()=>m.value!==h.value),{min:p,max:b,step:S,decimals:y,roundValue:w}=i,x=se(()=>parseInt(n.thumbSize,10)),T=se(()=>parseInt(n.tickSize,10)),D=se(()=>parseInt(n.trackSize,10)),P=se(()=>(b.value-p.value)/S.value),A=be(()=>n.disabled),O=se(()=>n.error||n.disabled?void 0:n.thumbColor??n.color),F=se(()=>n.error||n.disabled?void 0:n.trackColor??n.color),q=se(()=>n.error||n.disabled?void 0:n.trackFillColor??n.color),R=ze(!1),E=ze(0),N=Qe(),G=Qe();function M(Pe){var ge;const le=(ge=N.value)==null?void 0:ge.$el;if(!le)return;const pe=n.direction==="vertical",Ae=pe?"top":"left",Ce=pe?"height":"width",Le=pe?"clientY":"clientX",{[Ae]:J,[Ce]:ue}=le.getBoundingClientRect(),U=gM(Pe,Le);let fe=nn((U-J-E.value)/ue)||0;return(pe?v.value:v.value!==d.value)&&(fe=1-fe),w(p.value+fe*(b.value-p.value))}const _=Pe=>{const le=M(Pe);le!=null&&u({value:le}),R.value=!1,E.value=0},I=Pe=>{const le=M(Pe);G.value=c(Pe),G.value&&(R.value=!0,G.value.contains(Pe.target)?E.value=T2(Pe,G.value,n.direction):(E.value=0,le!=null&&o({value:le})),le!=null&&r({value:le}),Et(()=>{var pe;return(pe=G.value)==null?void 0:pe.focus()}))},B={passive:!0,capture:!0};function H(Pe){const le=M(Pe);le!=null&&o({value:le})}function Y(Pe){Pe.stopPropagation(),Pe.preventDefault(),_(Pe),window.removeEventListener("mousemove",H,B),window.removeEventListener("mouseup",Y)}function K(Pe){var le;_(Pe),window.removeEventListener("touchmove",H,B),(le=Pe.target)==null||le.removeEventListener("touchend",K)}function ce(Pe){var le;I(Pe),window.addEventListener("touchmove",H,B),(le=Pe.target)==null||le.addEventListener("touchend",K,{passive:!1})}function re(Pe){Pe.button===0&&(Pe.preventDefault(),I(Pe),window.addEventListener("mousemove",H,B),window.addEventListener("mouseup",Y,{passive:!1}))}const $=Pe=>{const le=(Pe-p.value)/(b.value-p.value)*100;return nn(isNaN(le)?0:le,0,100)},j=be(()=>n.showTicks),de=se(()=>j.value?n.ticks?Array.isArray(n.ticks)?n.ticks.map(Pe=>({value:Pe,position:$(Pe),label:Pe.toString()})):Object.keys(n.ticks).map(Pe=>({value:parseFloat(Pe),position:$(parseFloat(Pe)),label:n.ticks[Pe]})):P.value!==1/0?$o(P.value+1).map(Pe=>{const le=p.value+Pe*S.value;return{value:le,position:$(le)}}):[]:[]),ve=se(()=>de.value.some(Pe=>{let{label:le}=Pe;return!!le})),ye={activeThumbRef:G,color:be(()=>n.color),decimals:y,disabled:A,direction:be(()=>n.direction),elevation:be(()=>n.elevation),hasLabels:ve,isReversed:h,indexFromEnd:v,min:p,max:b,mousePressed:R,numTicks:P,onSliderMousedown:re,onSliderTouchstart:ce,parsedTicks:de,parseMouseMove:M,position:$,readonly:be(()=>n.readonly),rounded:be(()=>n.rounded),roundValue:w,showTicks:j,startOffset:E,step:S,thumbSize:x,thumbColor:O,thumbLabel:be(()=>n.thumbLabel),ticks:be(()=>n.ticks),tickSize:T,trackColor:F,trackContainerRef:N,trackFillColor:q,trackSize:D,vertical:m};return cn(t5,ye),ye},mM=Ie({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...et()},"VSliderThumb"),P2=Fe()({name:"VSliderThumb",directives:{vRipple:ta},props:mM(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i,emit:r}=n;const o=Tt(t5),{isRtl:u,rtlClasses:c}=ti();if(!o)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{min:d,max:h,thumbColor:m,step:v,disabled:p,thumbSize:b,thumbLabel:S,direction:y,isReversed:w,vertical:x,readonly:T,elevation:D,mousePressed:P,decimals:A,indexFromEnd:O}=o,F=se(()=>p.value?void 0:D.value),{elevationClasses:q}=_i(F),{textColorClasses:R,textColorStyles:E}=Vi(m),{pageup:N,pagedown:G,end:M,home:_,left:I,right:B,down:H,up:Y}=Ky,K=[N,G,M,_,I,B,H,Y],ce=se(()=>v.value?[1,2,3]:[1,5,10]);function re(j,de){if(!K.includes(j.key))return;j.preventDefault();const ve=v.value||.1,ye=(h.value-d.value)/ve;if([I,B,H,Y].includes(j.key)){const le=(x.value?[u.value?I:B,w.value?H:Y]:O.value!==u.value?[I,Y]:[B,Y]).includes(j.key)?1:-1,pe=j.shiftKey?2:j.ctrlKey?1:0;le===-1&&de===h.value&&!pe&&!Number.isInteger(ye)?de=de-ye%1*ve:de=de+le*ve*ce.value[pe]}else if(j.key===_)de=d.value;else if(j.key===M)de=h.value;else{const Pe=j.key===G?1:-1;de=de-Pe*ve*(ye>100?ye/10:10)}return Math.max(e.min,Math.min(e.max,de))}function $(j){const de=re(j,e.modelValue);de!=null&&r("update:modelValue",de)}return qe(()=>{const j=Ke(O.value?100-e.position:e.position,"%");return te("div",{class:Ge(["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&P.value},e.class,c.value]),style:$e([{"--v-slider-thumb-position":j,"--v-slider-thumb-size":Ke(b.value)},e.style]),role:"slider",tabindex:p.value?-1:0,"aria-label":e.name,"aria-valuemin":d.value,"aria-valuemax":h.value,"aria-valuenow":e.modelValue,"aria-readonly":!!T.value,"aria-orientation":y.value,onKeydown:T.value?void 0:$},[te("div",{class:Ge(["v-slider-thumb__surface",R.value,q.value]),style:{...E.value}},null),xn(te("div",{class:Ge(["v-slider-thumb__ripple",R.value]),style:$e(E.value)},null),[[ta,e.ripple,null,{circle:!0,center:!0}]]),Z(BC,{origin:"bottom center"},{default:()=>{var de;return[xn(te("div",{class:"v-slider-thumb__label-container"},[te("div",{class:Ge(["v-slider-thumb__label"])},[te("div",null,[((de=i["thumb-label"])==null?void 0:de.call(i,{modelValue:e.modelValue}))??e.modelValue.toFixed(v.value?A.value:1)])])]),[[po,S.value&&e.focused||S.value==="always"]])]}})])}),{}}}),vM=Ie({start:{type:Number,required:!0},stop:{type:Number,required:!0},...et()},"VSliderTrack"),ZT=Fe()({name:"VSliderTrack",props:vM(),emits:{},setup(e,n){let{slots:i}=n;const r=Tt(t5);if(!r)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:o,parsedTicks:u,rounded:c,showTicks:d,tickSize:h,trackColor:m,trackFillColor:v,trackSize:p,vertical:b,min:S,max:y,indexFromEnd:w}=r,{roundedClasses:x}=Fn(c),{backgroundColorClasses:T,backgroundColorStyles:D}=tn(v),{backgroundColorClasses:P,backgroundColorStyles:A}=tn(m),O=se(()=>`inset-${b.value?"block":"inline"}-${w.value?"end":"start"}`),F=se(()=>b.value?"height":"width"),q=se(()=>({[O.value]:"0%",[F.value]:"100%"})),R=se(()=>e.stop-e.start),E=se(()=>({[O.value]:Ke(e.start,"%"),[F.value]:Ke(R.value,"%")})),N=se(()=>d.value?(b.value?u.value.slice().reverse():u.value).map((M,_)=>{var B;const I=M.value!==S.value&&M.value!==y.value?Ke(M.position,"%"):void 0;return te("div",{key:M.value,class:Ge(["v-slider-track__tick",{"v-slider-track__tick--filled":M.position>=e.start&&M.position<=e.stop,"v-slider-track__tick--first":M.value===S.value,"v-slider-track__tick--last":M.value===y.value}]),style:{[O.value]:I}},[(M.label||i["tick-label"])&&te("div",{class:"v-slider-track__tick-label"},[((B=i["tick-label"])==null?void 0:B.call(i,{tick:M,index:_}))??M.label])])}):[]);return qe(()=>te("div",{class:Ge(["v-slider-track",x.value,e.class]),style:$e([{"--v-slider-track-size":Ke(p.value),"--v-slider-tick-size":Ke(h.value)},e.style])},[te("div",{class:Ge(["v-slider-track__background",P.value,{"v-slider-track__background--opacity":!!o.value||!v.value}]),style:{...q.value,...A.value}},null),te("div",{class:Ge(["v-slider-track__fill",T.value]),style:{...E.value,...D.value}},null),d.value&&te("div",{class:Ge(["v-slider-track__ticks",{"v-slider-track__ticks--always-show":d.value==="always"}])},[N.value])])),{}}}),SM=Ie({...nm(),...jT(),...sl(),modelValue:{type:[Number,String],default:0}},"VSlider"),I2=Fe()({name:"VSlider",props:SM(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,n){let{slots:i,emit:r}=n;const o=Qe(),{rtlClasses:u}=ti(),c=XT(e),d=at(e,"modelValue",void 0,F=>c.roundValue(F??c.min.value)),{min:h,max:m,mousePressed:v,roundValue:p,onSliderMousedown:b,onSliderTouchstart:S,trackContainerRef:y,position:w,hasLabels:x,readonly:T}=KT({props:e,steps:c,onSliderStart:()=>{r("start",d.value)},onSliderEnd:F=>{let{value:q}=F;const R=p(q);d.value=R,r("end",R)},onSliderMove:F=>{let{value:q}=F;return d.value=p(q)},getActiveThumb:()=>{var F;return(F=o.value)==null?void 0:F.$el}}),{isFocused:D,focus:P,blur:A}=as(e),O=se(()=>w(d.value));return qe(()=>{const F=Bi.filterProps(e),q=!!(e.label||i.label||i.prepend);return Z(Bi,Be({class:["v-slider",{"v-slider--has-labels":!!i["tick-label"]||x.value,"v-slider--focused":D.value,"v-slider--pressed":v.value,"v-slider--disabled":e.disabled},u.value,e.class],style:e.style},F,{focused:D.value}),{...i,prepend:q?R=>{var E,N;return te(nt,null,[((E=i.label)==null?void 0:E.call(i,R))??(e.label?Z(Lh,{id:R.id.value,class:"v-slider__label",text:e.label},null):void 0),(N=i.prepend)==null?void 0:N.call(i,R)])}:void 0,default:R=>{let{id:E,messagesId:N}=R;return te("div",{class:"v-slider__container",onMousedown:T.value?void 0:b,onTouchstartPassive:T.value?void 0:S},[te("input",{id:E.value,name:e.name||E.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:d.value},null),Z(ZT,{ref:y,start:0,stop:O.value},{"tick-label":i["tick-label"]}),Z(P2,{ref:o,"aria-describedby":N.value,focused:D.value,min:h.value,max:m.value,modelValue:d.value,"onUpdate:modelValue":G=>d.value=G,position:O.value,elevation:e.elevation,onFocus:P,onBlur:A,ripple:e.ripple,name:e.name},{"thumb-label":i["thumb-label"]})])}})}),{}}}),pM=Ie({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...et()},"VColorPickerPreview"),yM=fr({name:"VColorPickerPreview",props:pM(),emits:{"update:color":e=>!0},setup(e,n){let{emit:i}=n;const r=new AbortController;mC(()=>r.abort());async function o(){if(!gw||e.disabled)return;const u=new window.EyeDropper;try{const c=await u.open({signal:r.signal}),d=jg(hr(c.sRGBHex));i("update:color",{...e.color??ch,...d})}catch{}}return qe(()=>{var u,c;return te("div",{class:Ge(["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class]),style:$e(e.style)},[gw&&te("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[Z(Rt,{density:"comfortable",disabled:e.disabled,icon:"$eyeDropper",variant:"plain",onClick:o},null)]),te("div",{class:"v-color-picker-preview__dot"},[te("div",{style:{background:d8(e.color??ch)}},null)]),te("div",{class:"v-color-picker-preview__sliders"},[Z(I2,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(u=e.color)==null?void 0:u.h,"onUpdate:modelValue":d=>i("update:color",{...e.color??ch,h:d}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&Z(I2,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((c=e.color)==null?void 0:c.a)??1,"onUpdate:modelValue":d=>i("update:color",{...e.color??ch,a:d}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),bM={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},CM={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},wM={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},DM={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},xM={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},TM={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},PM={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},IM={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},AM={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},_M={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},LM={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},OM={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},kM={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},RM={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},EM={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},FM={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},MM={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},VM={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},BM={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},NM={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},UM={red:bM,pink:CM,purple:wM,deepPurple:DM,indigo:xM,blue:TM,lightBlue:PM,cyan:IM,teal:AM,green:_M,lightGreen:LM,lime:OM,yellow:kM,amber:RM,orange:EM,deepOrange:FM,brown:MM,blueGrey:VM,grey:BM,shades:NM},qM=Ie({swatches:{type:Array,default:()=>GM(UM)},disabled:Boolean,color:Object,maxHeight:[Number,String],...et()},"VColorPickerSwatches");function GM(e){return Object.keys(e).map(n=>{const i=e[n];return i.base?[i.base,i.darken4,i.darken3,i.darken2,i.darken1,i.lighten1,i.lighten2,i.lighten3,i.lighten4,i.lighten5]:[i.black,i.white,i.transparent]})}const QM=fr({name:"VColorPickerSwatches",props:qM(),emits:{"update:color":e=>!0},setup(e,n){let{emit:i}=n;return qe(()=>te("div",{class:Ge(["v-color-picker-swatches",e.class]),style:$e([{maxHeight:Ke(e.maxHeight)},e.style])},[te("div",null,[e.swatches.map(r=>te("div",{class:"v-color-picker-swatches__swatch"},[r.map(o=>{const u=hr(o),c=jg(u),d=c8(u);return te("div",{class:"v-color-picker-swatches__color",onClick:()=>c&&i("update:color",c)},[te("div",{style:{background:d}},[e.color&&Mi(e.color,c)?Z(zt,{size:"x-small",icon:"$success",color:WO(o,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),zM=ns("v-picker-title"),n5=Ie({color:String,...Na(),...et(),...ni(),...li(),...ol(),...Ah(),...pn(),...mt(),...Lt()},"VSheet"),Qg=Fe()({name:"VSheet",props:n5(),setup(e,n){let{slots:i}=n;const{themeClasses:r}=Yt(e),{backgroundColorClasses:o,backgroundColorStyles:u}=tn(()=>e.color),{borderClasses:c}=mr(e),{dimensionStyles:d}=ii(e),{elevationClasses:h}=_i(e),{locationStyles:m}=fd(e),{positionClasses:v}=_h(e),{roundedClasses:p}=Fn(e);return qe(()=>Z(e.tag,{class:Ge(["v-sheet",r.value,o.value,c.value,h.value,v.value,p.value,e.class]),style:$e([u.value,d.value,m.value,e.style])},i)),{}}}),i5=Ie({bgColor:String,divided:Boolean,landscape:Boolean,title:String,hideHeader:Boolean,...n5()},"VPicker"),PS=Fe()({name:"VPicker",props:i5(),setup(e,n){let{slots:i}=n;const{backgroundColorClasses:r,backgroundColorStyles:o}=tn(()=>e.color);return qe(()=>{const u=Qg.filterProps(e),c=!!(e.title||i.title);return Z(Qg,Be(u,{color:e.bgColor,class:["v-picker",{"v-picker--divided":e.divided,"v-picker--landscape":e.landscape,"v-picker--with-actions":!!i.actions},e.class],style:e.style}),{default:()=>{var d;return[!e.hideHeader&&te("div",{key:"header",class:Ge([r.value]),style:$e([o.value])},[c&&Z(zM,{key:"picker-title"},{default:()=>{var h;return[((h=i.title)==null?void 0:h.call(i))??e.title]}}),i.header&&te("div",{class:"v-picker__header"},[i.header()])]),te("div",{class:"v-picker__body"},[(d=i.default)==null?void 0:d.call(i)]),i.actions&&Z(St,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[te("div",{class:"v-picker__actions"},[i.actions()])]})]}})}),{}}}),HM=Ie({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(Xc).includes(e)},modes:{type:Array,default:()=>Object.keys(Xc),validator:e=>Array.isArray(e)&&e.every(n=>Object.keys(Xc).includes(n))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...i5({hideHeader:!0})},"VColorPicker"),WM=fr({name:"VColorPicker",props:HM(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e,n){let{slots:i}=n;const r=at(e,"mode"),o=Qe(null),u=at(e,"modelValue",void 0,v=>{if(v==null||v==="")return null;let p;try{p=jg(hr(v))}catch{return null}return p},v=>v?sM(v,e.modelValue):null),c=se(()=>u.value?{...u.value,h:o.value??u.value.h}:null),{rtlClasses:d}=ti();let h=!0;je(u,v=>{if(!h){h=!0;return}v&&(o.value=v.h)},{immediate:!0});const m=v=>{h=!1,o.value=v.h,u.value=v};return Ph(()=>{e.modes.includes(r.value)||(r.value=e.modes[0])}),Rn({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),qe(()=>{const v=PS.filterProps(e);return Z(PS,Be(v,{class:["v-color-picker",d.value,e.class],style:[{"--v-color-picker-color-hsv":d8({...c.value??ch,a:1})},e.style]}),{...i,default:()=>te(nt,null,[!e.hideCanvas&&Z(rM,{key:"canvas",color:c.value,"onUpdate:color":m,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&te("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&Z(yM,{key:"preview",color:c.value,"onUpdate:color":m,hideAlpha:!r.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&Z(fM,{key:"edit",modes:e.modes,mode:r.value,"onUpdate:mode":p=>r.value=p,color:c.value,"onUpdate:color":m,disabled:e.disabled},null)]),e.showSwatches&&Z(QM,{key:"swatches",color:c.value,"onUpdate:color":m,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)])})}),{}}}),YM=Ie({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...sm({filterKeys:["title"]}),...JC({hideNoData:!0,returnObject:!0}),...kn(om({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...yo({transition:!1})},"VCombobox"),$M=Fe()({name:"VCombobox",props:YM(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,n){var Le;let{emit:i,slots:r}=n;const{t:o}=En(),u=Qe(),c=ze(!1),d=ze(!0),h=ze(!1),m=Qe(),v=Qe(),p=ze(-1);let b=!1;const{items:S,transformIn:y,transformOut:w}=YC(e),{textColorClasses:x,textColorStyles:T}=Vi(()=>{var J;return(J=u.value)==null?void 0:J.color}),D=at(e,"modelValue",[],J=>y(Dn(J)),J=>{const ue=w(J);return e.multiple?ue:ue[0]??null}),P=im(e),A=se(()=>!!(e.chips||r.chip)),O=se(()=>A.value||!!r.selection),F=ze(!e.multiple&&!O.value?((Le=D.value[0])==null?void 0:Le.title)??"":""),q=se({get:()=>F.value,set:J=>{var ue;if(F.value=J??"",!e.multiple&&!O.value&&(D.value=[yu(e,J)]),J&&e.multiple&&((ue=e.delimiters)!=null&&ue.length)){const U=J.split(new RegExp(`(?:${e.delimiters.join("|")})+`));U.length>1&&(U.forEach(fe=>{fe=fe.trim(),fe&&le(yu(e,fe))}),F.value="")}J||(p.value=-1),d.value=!J}}),R=se(()=>typeof e.counterValue=="function"?e.counterValue(D.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?D.value.length:q.value.length),{filteredItems:E,getMatches:N}=lm(e,S,()=>d.value?"":q.value),G=se(()=>e.hideSelected?E.value.filter(J=>!D.value.some(ue=>ue.value===J.value)):E.value),M=se(()=>e.hideNoData&&!G.value.length||P.isReadonly.value||P.isDisabled.value),_=at(e,"menu"),I=se({get:()=>_.value,set:J=>{var ue;_.value&&!J&&((ue=m.value)!=null&&ue.ΨopenChildren.size)||J&&M.value||(_.value=J)}}),B=be(()=>I.value?e.closeText:e.openText);je(F,J=>{b?Et(()=>b=!1):c.value&&!I.value&&(I.value=!0),i("update:search",J)}),je(D,J=>{var ue;!e.multiple&&!O.value&&(F.value=((ue=J[0])==null?void 0:ue.title)??"")});const H=se(()=>D.value.map(J=>J.value)),Y=se(()=>{var ue;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&q.value===((ue=G.value[0])==null?void 0:ue.title))&&G.value.length>0&&!d.value&&!h.value}),K=Qe(),ce=ZC(K,u);function re(J){b=!0,e.openOnClear&&(I.value=!0)}function $(){M.value||(I.value=!0)}function j(J){M.value||(c.value&&(J.preventDefault(),J.stopPropagation()),I.value=!I.value)}function de(J){var ue;J.key!==" "&&yh(J)&&((ue=u.value)==null||ue.focus())}function ve(J){var fe,ge,ne,ae;if(hO(J)||P.isReadonly.value)return;const ue=(fe=u.value)==null?void 0:fe.selectionStart,U=D.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(J.key)&&J.preventDefault(),["Enter","ArrowDown"].includes(J.key)&&(I.value=!0),["Escape"].includes(J.key)&&(I.value=!1),["Enter","Escape","Tab"].includes(J.key)&&(Y.value&&["Enter","Tab"].includes(J.key)&&!D.value.some(he=>{let{value:xe}=he;return xe===G.value[0].value})&&le(E.value[0]),d.value=!0),J.key==="ArrowDown"&&Y.value&&((ge=K.value)==null||ge.focus("next")),J.key==="Enter"&&q.value&&(le(yu(e,q.value)),O.value&&(F.value="")),["Backspace","Delete"].includes(J.key)){if(!e.multiple&&O.value&&D.value.length>0&&!q.value)return le(D.value[0],!1);if(~p.value){J.preventDefault();const he=p.value;le(D.value[p.value],!1),p.value=he>=U-1?U-2:he}else J.key==="Backspace"&&!q.value&&(p.value=U-1);return}if(e.multiple)if(J.key==="ArrowLeft"){if(p.value<0&&ue&&ue>0)return;const he=p.value>-1?p.value-1:U-1;D.value[he]?p.value=he:(p.value=-1,(ne=u.value)==null||ne.setSelectionRange(q.value.length,q.value.length))}else if(J.key==="ArrowRight"){if(p.value<0)return;const he=p.value+1;D.value[he]?p.value=he:(p.value=-1,(ae=u.value)==null||ae.setSelectionRange(0,0))}else~p.value&&yh(J)&&(p.value=-1)}function ye(){var J;e.eager&&((J=v.value)==null||J.calculateVisibleItems())}function Pe(){var J;c.value&&(d.value=!0,(J=u.value)==null||J.focus())}function le(J){let ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!J||J.props.disabled))if(e.multiple){const U=D.value.findIndex(ge=>(e.valueComparator||Mi)(ge.value,J.value)),fe=ue??!~U;if(~U){const ge=fe?[...D.value,J]:[...D.value];ge.splice(U,1),D.value=ge}else fe&&(D.value=[...D.value,J]);e.clearOnSelect&&(q.value="")}else{const U=ue!==!1;D.value=U?[J]:[],F.value=U&&!O.value?J.title:"",Et(()=>{I.value=!1,d.value=!0})}}function pe(J){c.value=!0,setTimeout(()=>{h.value=!0})}function Ae(J){h.value=!1}function Ce(J){(J==null||J===""&&!e.multiple&&!O.value)&&(D.value=[])}return je(c,(J,ue)=>{if(!(J||J===ue)&&(p.value=-1,I.value=!1,q.value)){if(e.multiple){le(yu(e,q.value));return}if(!O.value)return;D.value.some(U=>{let{title:fe}=U;return fe===q.value})?F.value="":le(yu(e,q.value))}}),je(I,()=>{if(!e.hideSelected&&I.value&&D.value.length){const J=G.value.findIndex(ue=>D.value.some(U=>(e.valueComparator||Mi)(U.value,ue.value)));Ht&&window.requestAnimationFrame(()=>{var ue;J>=0&&((ue=v.value)==null||ue.scrollToIndex(J))})}}),je(()=>e.items,(J,ue)=>{I.value||c.value&&!ue.length&&J.length&&(I.value=!0)}),qe(()=>{const J=!!(!e.hideNoData||G.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),ue=D.value.length>0,U=al.filterProps(e);return Z(al,Be({ref:u},U,{modelValue:q.value,"onUpdate:modelValue":[fe=>q.value=fe,Ce],focused:c.value,"onUpdate:focused":fe=>c.value=fe,validationValue:D.externalValue,counterValue:R.value,dirty:ue,class:["v-combobox",{"v-combobox--active-menu":I.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!O.value,"v-combobox--selecting-index":p.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:P.isReadonly.value,placeholder:ue?void 0:e.placeholder,"onClick:clear":re,"onMousedown:control":$,onKeydown:ve}),{...r,default:()=>te(nt,null,[Z(Dh,Be({ref:m,modelValue:I.value,"onUpdate:modelValue":fe=>I.value=fe,activator:"parent",contentClass:"v-combobox__content",disabled:M.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:ye,onAfterLeave:Pe},e.menuProps),{default:()=>[J&&Z(KS,Be({ref:K,selected:H.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:fe=>fe.preventDefault(),onKeydown:de,onFocusin:pe,onFocusout:Ae,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},ce,e.listProps),{default:()=>{var fe,ge,ne;return[(fe=r["prepend-item"])==null?void 0:fe.call(r),!G.value.length&&!e.hideNoData&&(((ge=r["no-data"])==null?void 0:ge.call(r))??Z(il,{key:"no-data",title:o(e.noDataText)},null)),Z(JS,{ref:v,renderless:!0,items:G.value,itemKey:"value"},{default:ae=>{var _e;let{item:he,index:xe,itemRef:we}=ae;const Se=Be(he.props,{ref:we,key:he.value,active:Y.value&&xe===0?!0:void 0,onClick:()=>le(he,null)});return((_e=r.item)==null?void 0:_e.call(r,{item:he,index:xe,props:Se}))??Z(il,Be(Se,{role:"option"}),{prepend:Ve=>{let{isSelected:Me}=Ve;return te(nt,null,[e.multiple&&!e.hideSelected?Z(nl,{key:he.value,modelValue:Me,ripple:!1,tabindex:"-1"},null):void 0,he.props.prependAvatar&&Z(Yr,{image:he.props.prependAvatar},null),he.props.prependIcon&&Z(zt,{icon:he.props.prependIcon},null)])},title:()=>{var Ve;return d.value?he.title:FT("v-combobox",he.title,(Ve=N(he))==null?void 0:Ve.title)}})}}),(ne=r["append-item"])==null?void 0:ne.call(r)]}})]}),D.value.map((fe,ge)=>{function ne(we){we.stopPropagation(),we.preventDefault(),le(fe,!1)}const ae={"onClick:close":ne,onKeydown(we){we.key!=="Enter"&&we.key!==" "||(we.preventDefault(),we.stopPropagation(),ne(we))},onMousedown(we){we.preventDefault(),we.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},he=A.value?!!r.chip:!!r.selection,xe=he?qS(A.value?r.chip({item:fe,index:ge,props:ae}):r.selection({item:fe,index:ge})):void 0;if(!(he&&!xe))return te("div",{key:fe.value,class:Ge(["v-combobox__selection",ge===p.value&&["v-combobox__selection--selected",x.value]]),style:$e(ge===p.value?T.value:{})},[A.value?r.chip?Z(St,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:fe.title}}},{default:()=>[xe]}):Z(Oh,Be({key:"chip",closable:e.closableChips,size:"small",text:fe.title,disabled:fe.props.disabled},ae),null):xe??te("span",{class:"v-combobox__selection-text"},[fe.title,e.multiple&&ge<D.value.length-1&&te("span",{class:"v-combobox__selection-comma"},[Wr(",")])])])})]),"append-inner":function(){var ae,he;for(var fe=arguments.length,ge=new Array(fe),ne=0;ne<fe;ne++)ge[ne]=arguments[ne];return te(nt,null,[(ae=r["append-inner"])==null?void 0:ae.call(r,...ge),(!e.hideNoData||e.items.length)&&e.menuIcon?Z(zt,{class:"v-combobox__menu-icon",color:(he=u.value)==null?void 0:he.fieldIconColor,icon:e.menuIcon,onMousedown:j,onClick:i8,"aria-label":o(B.value),title:o(B.value),tabindex:"-1"},null):void 0])}})}),vr({isFocused:c,isPristine:d,menu:I,search:q,selectionIndex:p,filteredItems:E,select:le},u)}}),jM=Ie({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"},disabled:{type:[Boolean,Array],default:void 0},hideActions:Boolean},"VConfirmEdit"),XM=Fe()({name:"VConfirmEdit",props:jM(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,n){let{emit:i,slots:r}=n;const o=at(e,"modelValue"),u=Qe();On(()=>{u.value=structuredClone(dt(o.value))});const{t:c}=En(),d=se(()=>Mi(o.value,u.value));function h(w){return typeof e.disabled=="boolean"?e.disabled:Array.isArray(e.disabled)?e.disabled.includes(w):d.value}const m=se(()=>h("save")),v=se(()=>h("cancel"));function p(){o.value=u.value,i("save",u.value)}function b(){u.value=structuredClone(dt(o.value)),i("cancel")}function S(w){return te(nt,null,[Z(Rt,Be({disabled:v.value,variant:"text",color:e.color,onClick:b,text:c(e.cancelText)},w),null),Z(Rt,Be({disabled:m.value,variant:"text",color:e.color,onClick:p,text:c(e.okText)},w),null)])}let y=!1;return qe(()=>{var w;return te(nt,null,[(w=r.default)==null?void 0:w.call(r,{model:u,save:p,cancel:b,isPristine:d.value,get actions(){return y=!0,S}}),!e.hideActions&&!y&&S()])}),{save:p,cancel:b,isPristine:d}}}),JT=Ie({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),eP=Symbol.for("vuetify:datatable:expanded");function np(e){const n=be(()=>e.expandOnClick),i=at(e,"expanded",e.expanded,d=>new Set(d),d=>[...d.values()]);function r(d,h){const m=new Set(i.value);h?m.add(d.value):m.delete(d.value),i.value=m}function o(d){return i.value.has(d.value)}function u(d){r(d,!o(d))}const c={expand:r,expanded:i,expandOnClick:n,isExpanded:o,toggleExpand:u};return cn(eP,c),c}function tP(){const e=Tt(eP);if(!e)throw new Error("foo");return e}const a5=Ie({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),nP=Symbol.for("vuetify:data-table-group");function r5(e){return{groupBy:at(e,"groupBy")}}function ip(e){const{disableSort:n,groupBy:i,sortBy:r}=e,o=Qe(new Set),u=se(()=>i.value.map(v=>({...v,order:v.order??!1})).concat(n!=null&&n.value?[]:r.value));function c(v){return o.value.has(v.id)}function d(v){const p=new Set(o.value);c(v)?p.delete(v.id):p.add(v.id),o.value=p}function h(v){function p(b){const S=[];for(const y of b.items)"type"in y&&y.type==="group"?S.push(...p(y)):S.push(y);return[...new Set(S)]}return p({items:v})}const m={sortByWithGroups:u,toggleGroup:d,opened:o,groupBy:i,extractRows:h,isGroupOpen:c};return cn(nP,m),m}function iP(){const e=Tt(nP);if(!e)throw new Error("Missing group!");return e}function KM(e,n){if(!e.length)return[];const i=new Map;for(const r of e){const o=Zc(r.raw,n);i.has(o)||i.set(o,[]),i.get(o).push(r)}return i}function aP(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!n.length)return[];const o=KM(e,n[0]),u=[],c=n.slice(1);return o.forEach((d,h)=>{const m=n[0],v=`${r}_${m}_${h}`;u.push({depth:i,id:v,key:m,value:h,items:c.length?aP(d,c,i+1,v):d,type:"group"})}),u}function rP(e,n){const i=[];for(const r of e)"type"in r&&r.type==="group"?(r.value!=null&&i.push(r),(n.has(r.id)||r.value==null)&&i.push(...rP(r.items,n))):i.push(r);return i}function ap(e,n,i){return{flatItems:se(()=>{if(!n.value.length)return e.value;const o=aP(e.value,n.value.map(u=>u.key));return rP(o,i.value)})}}function rp(e){let{page:n,itemsPerPage:i,sortBy:r,groupBy:o,search:u}=e;const c=Bn("VDataTable"),d=()=>({page:n.value,itemsPerPage:i.value,sortBy:r.value,groupBy:o.value,search:u.value});let h=null;je(d,m=>{Mi(h,m)||(h&&h.search!==m.search&&(n.value=1),c.emit("update:options",m),h=m)},{deep:!0,immediate:!0})}const o5=Ie({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),oP=Symbol.for("vuetify:data-table-pagination");function s5(e){const n=at(e,"page",void 0,r=>Number(r??1)),i=at(e,"itemsPerPage",void 0,r=>Number(r??10));return{page:n,itemsPerPage:i}}function l5(e){const{page:n,itemsPerPage:i,itemsLength:r}=e,o=se(()=>i.value===-1?0:i.value*(n.value-1)),u=se(()=>i.value===-1?r.value:Math.min(r.value,o.value+i.value)),c=se(()=>i.value===-1||r.value===0?1:Math.ceil(r.value/i.value));je([n,c],()=>{n.value>c.value&&(n.value=c.value)});function d(b){i.value=b,n.value=1}function h(){n.value=nn(n.value+1,1,c.value)}function m(){n.value=nn(n.value-1,1,c.value)}function v(b){n.value=nn(b,1,c.value)}const p={page:n,itemsPerPage:i,startIndex:o,stopIndex:u,pageCount:c,itemsLength:r,nextPage:h,prevPage:m,setPage:v,setItemsPerPage:d};return cn(oP,p),p}function ZM(){const e=Tt(oP);if(!e)throw new Error("Missing pagination!");return e}function sP(e){const n=Bn("usePaginatedItems"),{items:i,startIndex:r,stopIndex:o,itemsPerPage:u}=e,c=se(()=>u.value<=0?i.value:i.value.slice(r.value,o.value));return je(c,d=>{n.emit("update:currentItems",d)},{immediate:!0}),{paginatedItems:c}}const JM={showSelectAll:!1,allSelected:()=>[],select:e=>{var r;let{items:n,value:i}=e;return new Set(i?[(r=n[0])==null?void 0:r.value]:[])},selectAll:e=>{let{selected:n}=e;return n}},lP={showSelectAll:!0,allSelected:e=>{let{currentPage:n}=e;return n},select:e=>{let{items:n,value:i,selected:r}=e;for(const o of n)i?r.add(o.value):r.delete(o.value);return r},selectAll:e=>{let{value:n,currentPage:i,selected:r}=e;return lP.select({items:i,value:n,selected:r})}},uP={showSelectAll:!0,allSelected:e=>{let{allItems:n}=e;return n},select:e=>{let{items:n,value:i,selected:r}=e;for(const o of n)i?r.add(o.value):r.delete(o.value);return r},selectAll:e=>{let{value:n,allItems:i,selected:r}=e;return uP.select({items:i,value:n,selected:r})}},cP=Ie({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Mi}},"DataTable-select"),dP=Symbol.for("vuetify:data-table-selection");function op(e,n){let{allItems:i,currentPage:r}=n;const o=at(e,"modelValue",e.modelValue,D=>new Set(Dn(D).map(P=>{var A;return((A=i.value.find(O=>e.valueComparator(P,O.value)))==null?void 0:A.value)??P})),D=>[...D.values()]),u=se(()=>i.value.filter(D=>D.selectable)),c=se(()=>r.value.filter(D=>D.selectable)),d=se(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return JM;case"all":return uP;case"page":default:return lP}}),h=ze(null);function m(D){return Dn(D).every(P=>o.value.has(P.value))}function v(D){return Dn(D).some(P=>o.value.has(P.value))}function p(D,P){const A=d.value.select({items:D,value:P,selected:new Set(o.value)});o.value=A}function b(D,P,A){const O=[];if(P=P??r.value.findIndex(F=>F.value===D.value),e.selectStrategy!=="single"&&(A!=null&&A.shiftKey)&&h.value!==null){const[F,q]=[h.value,P].sort((R,E)=>R-E);O.push(...r.value.slice(F,q+1).filter(R=>R.selectable))}else O.push(D),h.value=P;p(O,!m([D]))}function S(D){const P=d.value.selectAll({value:D,allItems:u.value,currentPage:c.value,selected:new Set(o.value)});o.value=P}const y=se(()=>o.value.size>0),w=se(()=>{const D=d.value.allSelected({allItems:u.value,currentPage:c.value});return!!D.length&&m(D)}),x=be(()=>d.value.showSelectAll),T={toggleSelect:b,select:p,selectAll:S,isSelected:m,isSomeSelected:v,someSelected:y,allSelected:w,showSelectAll:x,lastSelectedIndex:h,selectStrategy:d};return cn(dP,T),T}function sp(){const e=Tt(dP);if(!e)throw new Error("Missing selection!");return e}const hP=Ie({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),fP=Symbol.for("vuetify:data-table-sort");function lp(e){const n=at(e,"sortBy"),i=be(()=>e.mustSort),r=be(()=>e.multiSort);return{sortBy:n,mustSort:i,multiSort:r}}function up(e){const{sortBy:n,mustSort:i,multiSort:r,page:o}=e,u=h=>{if(h.key==null)return;let m=n.value.map(p=>({...p}))??[];const v=m.find(p=>p.key===h.key);v?v.order==="desc"?i.value&&m.length===1?v.order="asc":m=m.filter(p=>p.key!==h.key):v.order="desc":r.value?m.push({key:h.key,order:"asc"}):m=[{key:h.key,order:"asc"}],n.value=m,o&&(o.value=1)};function c(h){return!!n.value.find(m=>m.key===h.key)}const d={sortBy:n,toggleSort:u,isSorted:c};return cn(fP,d),d}function gP(){const e=Tt(fP);if(!e)throw new Error("Missing sort!");return e}function u5(e,n,i,r){const o=En();return{sortedItems:se(()=>{var c,d;return i.value.length?eV(n.value,i.value,o.current.value,{transform:r==null?void 0:r.transform,sortFunctions:{...e.customKeySort,...(c=r==null?void 0:r.sortFunctions)==null?void 0:c.value},sortRawFunctions:(d=r==null?void 0:r.sortRawFunctions)==null?void 0:d.value}):n.value})}}function eV(e,n,i,r){const o=new Intl.Collator(i,{sensitivity:"accent",usage:"sort"});return e.map(c=>[c,r!=null&&r.transform?r.transform(c):c]).sort((c,d)=>{var h,m;for(let v=0;v<n.length;v++){let p=!1;const b=n[v].key,S=n[v].order??"asc";if(S===!1)continue;let y=Zc(c[1],b),w=Zc(d[1],b),x=c[0].raw,T=d[0].raw;if(S==="desc"&&([y,w]=[w,y],[x,T]=[T,x]),(h=r==null?void 0:r.sortRawFunctions)!=null&&h[b]){const D=r.sortRawFunctions[b](x,T);if(D==null)continue;if(p=!0,D)return D}if((m=r==null?void 0:r.sortFunctions)!=null&&m[b]){const D=r.sortFunctions[b](y,w);if(D==null)continue;if(p=!0,D)return D}if(!p){if(y instanceof Date&&w instanceof Date)return y.getTime()-w.getTime();if([y,w]=[y,w].map(D=>D!=null?D.toString().toLocaleLowerCase():D),y!==w)return xv(y)&&xv(w)?0:xv(y)?-1:xv(w)?1:!isNaN(y)&&!isNaN(w)?Number(y)-Number(w):o.compare(y,w)}}return 0}).map(c=>{let[d]=c;return d})}const tV=Ie({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function nV(e,n){const i=e.returnObject?n:Jn(n,e.itemValue),r=Jn(n,e.itemSelectable,!0);return{type:"item",value:i,selectable:r,raw:n}}function iV(e,n){const i=[];for(const r of n)i.push(nV(e,r));return i}function aV(e){return{items:se(()=>iV(e,e.items))}}const rV=Ie({search:String,loading:Boolean,...et(),...tV(),...cP(),...hP(),...o5({itemsPerPage:5}),...JT(),...a5(),...sm(),...mt(),...yo({transition:{component:Vg,hideOnLeave:!0}})},"VDataIterator"),oV=Fe()({name:"VDataIterator",props:rV(),emits:{"update:modelValue":e=>!0,"update:groupBy":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,n){let{slots:i}=n;const r=at(e,"groupBy"),o=be(()=>e.search),{items:u}=aV(e),{filteredItems:c}=lm(e,u,o,{transform:$=>$.raw}),{sortBy:d,multiSort:h,mustSort:m}=lp(e),{page:v,itemsPerPage:p}=s5(e),{toggleSort:b}=up({sortBy:d,multiSort:h,mustSort:m,page:v}),{sortByWithGroups:S,opened:y,extractRows:w,isGroupOpen:x,toggleGroup:T}=ip({groupBy:r,sortBy:d}),{sortedItems:D}=u5(e,c,S,{transform:$=>$.raw}),{flatItems:P}=ap(D,r,y),A=be(()=>P.value.length),{startIndex:O,stopIndex:F,pageCount:q,prevPage:R,nextPage:E,setItemsPerPage:N,setPage:G}=l5({page:v,itemsPerPage:p,itemsLength:A}),{paginatedItems:M}=sP({items:P,startIndex:O,stopIndex:F,itemsPerPage:p}),_=se(()=>w(M.value)),{isSelected:I,select:B,selectAll:H,toggleSelect:Y}=op(e,{allItems:u,currentPage:_}),{isExpanded:K,toggleExpand:ce}=np(e);rp({page:v,itemsPerPage:p,sortBy:d,groupBy:r,search:o});const re=se(()=>({page:v.value,itemsPerPage:p.value,sortBy:d.value,pageCount:q.value,toggleSort:b,prevPage:R,nextPage:E,setPage:G,setItemsPerPage:N,isSelected:I,select:B,selectAll:H,toggleSelect:Y,isExpanded:K,toggleExpand:ce,isGroupOpen:x,toggleGroup:T,items:_.value,groupedItems:M.value}));return qe(()=>Z(e.tag,{class:Ge(["v-data-iterator",{"v-data-iterator--loading":e.loading},e.class]),style:$e(e.style)},{default:()=>{var $,j;return[($=i.header)==null?void 0:$.call(i,re.value),Z(ea,{transition:e.transition},{default:()=>{var de,ve;return[e.loading?Z(Jg,{key:"loader",name:"v-data-iterator",active:!0},{default:ye=>{var Pe;return(Pe=i.loader)==null?void 0:Pe.call(i,ye)}}):te("div",{key:"items"},[M.value.length?(ve=i.default)==null?void 0:ve.call(i,re.value):(de=i["no-data"])==null?void 0:de.call(i)])]}}),(j=i.footer)==null?void 0:j.call(i,re.value)]}})),{}}});function sV(){const e=Qe([]);mx(()=>e.value=[]);function n(i,r){e.value[r]=i}return{refs:e,updateRef:n}}const lV=Ie({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:ot,default:"$first"},prevIcon:{type:ot,default:"$prev"},nextIcon:{type:ot,default:"$next"},lastIcon:{type:ot,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Na(),...et(),...mi(),...li(),...pn(),...is(),...mt({tag:"nav"}),...Lt(),...jr({variant:"text"})},"VPagination"),A2=Fe()({name:"VPagination",props:lV(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,n){let{slots:i,emit:r}=n;const o=at(e,"modelValue"),{t:u,n:c}=En(),{isRtl:d}=ti(),{themeClasses:h}=Yt(e),{width:m}=$r(),v=ze(-1);Rn(void 0,{scoped:!0});const{resizeRef:p}=So(R=>{if(!R.length)return;const{target:E,contentRect:N}=R[0],G=E.querySelector(".v-pagination__list > *");if(!G)return;const M=N.width,_=G.offsetWidth+parseFloat(getComputedStyle(G).marginRight)*2;v.value=w(M,_)}),b=se(()=>parseInt(e.length,10)),S=se(()=>parseInt(e.start,10)),y=se(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):v.value>=0?v.value:w(m.value,58));function w(R,E){const N=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((R-E*N)/E).toFixed(2))))}const x=se(()=>{if(b.value<=0||isNaN(b.value)||b.value>Number.MAX_SAFE_INTEGER)return[];if(y.value<=0)return[];if(y.value===1)return[o.value];if(b.value<=y.value)return $o(b.value,S.value);const R=y.value%2===0,E=R?y.value/2:Math.floor(y.value/2),N=R?E:E+1,G=b.value-E;if(N-o.value>=0)return[...$o(Math.max(1,y.value-1),S.value),e.ellipsis,b.value];if(o.value-G>=(R?1:0)){const M=y.value-1,_=b.value-M+S.value;return[S.value,e.ellipsis,...$o(M,_)]}else{const M=Math.max(1,y.value-2),_=M===1?o.value:o.value-Math.ceil(M/2)+S.value;return[S.value,e.ellipsis,...$o(M,_),e.ellipsis,b.value]}});function T(R,E,N){R.preventDefault(),o.value=E,N&&r(N,E)}const{refs:D,updateRef:P}=sV();Rn({VPaginationBtn:{color:be(()=>e.color),border:be(()=>e.border),density:be(()=>e.density),size:be(()=>e.size),variant:be(()=>e.variant),rounded:be(()=>e.rounded),elevation:be(()=>e.elevation)}});const A=se(()=>x.value.map((R,E)=>{const N=G=>P(G,E);if(typeof R=="string")return{isActive:!1,key:`ellipsis-${E}`,page:R,props:{ref:N,ellipsis:!0,icon:!0,disabled:!0}};{const G=R===o.value;return{isActive:G,key:R,page:c(R),props:{ref:N,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:G?e.activeColor:e.color,"aria-current":G,"aria-label":u(G?e.currentPageAriaLabel:e.pageAriaLabel,R),onClick:M=>T(M,R)}}}})),O=se(()=>{const R=!!e.disabled||o.value<=S.value,E=!!e.disabled||o.value>=S.value+b.value-1;return{first:e.showFirstLastPage?{icon:d.value?e.lastIcon:e.firstIcon,onClick:N=>T(N,S.value,"first"),disabled:R,"aria-label":u(e.firstAriaLabel),"aria-disabled":R}:void 0,prev:{icon:d.value?e.nextIcon:e.prevIcon,onClick:N=>T(N,o.value-1,"prev"),disabled:R,"aria-label":u(e.previousAriaLabel),"aria-disabled":R},next:{icon:d.value?e.prevIcon:e.nextIcon,onClick:N=>T(N,o.value+1,"next"),disabled:E,"aria-label":u(e.nextAriaLabel),"aria-disabled":E},last:e.showFirstLastPage?{icon:d.value?e.firstIcon:e.lastIcon,onClick:N=>T(N,S.value+b.value-1,"last"),disabled:E,"aria-label":u(e.lastAriaLabel),"aria-disabled":E}:void 0}});function F(){var E;const R=o.value-S.value;(E=D.value[R])==null||E.$el.focus()}function q(R){R.key===Ky.left&&!e.disabled&&o.value>Number(e.start)?(o.value=o.value-1,Et(F)):R.key===Ky.right&&!e.disabled&&o.value<S.value+b.value-1&&(o.value=o.value+1,Et(F))}return qe(()=>Z(e.tag,{ref:p,class:Ge(["v-pagination",h.value,e.class]),style:$e(e.style),role:"navigation","aria-label":u(e.ariaLabel),onKeydown:q,"data-test":"v-pagination-root"},{default:()=>[te("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&te("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[i.first?i.first(O.value.first):Z(Rt,Be({_as:"VPaginationBtn"},O.value.first),null)]),te("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[i.prev?i.prev(O.value.prev):Z(Rt,Be({_as:"VPaginationBtn"},O.value.prev),null)]),A.value.map((R,E)=>te("li",{key:R.key,class:Ge(["v-pagination__item",{"v-pagination__item--is-active":R.isActive}]),"data-test":"v-pagination-item"},[i.item?i.item(R):Z(Rt,Be({_as:"VPaginationBtn"},R.props),{default:()=>[R.page]})])),te("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[i.next?i.next(O.value.next):Z(Rt,Be({_as:"VPaginationBtn"},O.value.next),null)]),e.showFirstLastPage&&te("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[i.last?i.last(O.value.last):Z(Rt,Be({_as:"VPaginationBtn"},O.value.last),null)])])]})),{}}}),c5=Ie({prevIcon:{type:ot,default:"$prev"},nextIcon:{type:ot,default:"$next"},firstIcon:{type:ot,default:"$first"},lastIcon:{type:ot,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),zg=Fe()({name:"VDataTableFooter",props:c5(),setup(e,n){let{slots:i}=n;const{t:r}=En(),{page:o,pageCount:u,startIndex:c,stopIndex:d,itemsLength:h,itemsPerPage:m,setItemsPerPage:v}=ZM(),p=se(()=>e.itemsPerPageOptions.map(b=>typeof b=="number"?{value:b,title:b===-1?r("$vuetify.dataFooter.itemsPerPageAll"):String(b)}:{...b,title:isNaN(Number(b.title))?r(b.title):b.title}));return qe(()=>{var S;const b=A2.filterProps(e);return te("div",{class:"v-data-table-footer"},[(S=i.prepend)==null?void 0:S.call(i),te("div",{class:"v-data-table-footer__items-per-page"},[te("span",null,[r(e.itemsPerPageText)]),Z(e5,{items:p.value,modelValue:m.value,"onUpdate:modelValue":y=>v(Number(y)),density:"compact",variant:"outlined","hide-details":!0},null)]),te("div",{class:"v-data-table-footer__info"},[te("div",null,[r(e.pageText,h.value?c.value+1:0,d.value,h.value)])]),te("div",{class:"v-data-table-footer__pagination"},[Z(A2,Be({modelValue:o.value,"onUpdate:modelValue":y=>o.value=y,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:u.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},b),null)])])}),{}}}),IS=KO({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,n)=>{let{slots:i}=n;const r=e.tag??"td";return Z(r,{class:Ge(["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`]),style:{height:Ke(e.height),width:Ke(e.width),maxWidth:Ke(e.maxWidth),left:Ke(e.fixedOffset||null)}},{default:()=>{var o;return[(o=i.default)==null?void 0:o.call(i)]}})}),uV=Ie({headers:Array},"DataTable-header"),mP=Symbol.for("vuetify:data-table-headers"),vP={title:"",sortable:!1},cV={...vP,width:48};function dV(){const n=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(i=>({element:i,priority:0}));return{enqueue:(i,r)=>{let o=!1;for(let u=0;u<n.length;u++)if(n[u].priority>r){n.splice(u,0,{element:i,priority:r}),o=!0;break}o||n.push({element:i,priority:r})},size:()=>n.length,count:()=>{let i=0;if(!n.length)return 0;const r=Math.floor(n[0].priority);for(let o=0;o<n.length;o++)Math.floor(n[o].priority)===r&&(i+=1);return i},dequeue:()=>n.shift()}}function _2(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)n.push(e);else for(const i of e.children)_2(i,n);return n}function SP(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const i of e)i.key&&n.add(i.key),i.children&&SP(i.children,n);return n}function hV(e){if(e.key){if(e.key==="data-table-group")return vP;if(["data-table-expand","data-table-select"].includes(e.key))return cV}}function d5(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(n,...e.children.map(i=>d5(i,n+1))):n}function fV(e){let n=!1;function i(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(u)if(c&&(u.fixed=!0),u.fixed)if(u.children)for(let d=u.children.length-1;d>=0;d--)i(u.children[d],!0);else n?isNaN(Number(u.width))?(`${u.key}`,void 0):u.minWidth=Math.max(Number(u.width)||0,Number(u.minWidth)||0):u.lastFixed=!0,n=!0;else if(u.children)for(let d=u.children.length-1;d>=0;d--)i(u.children[d]);else n=!1}for(let u=e.length-1;u>=0;u--)i(e[u]);function r(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!u)return c;if(u.children){u.fixedOffset=c;for(const d of u.children)c=r(d,c)}else u.fixed&&(u.fixedOffset=c,c+=parseFloat(u.width||"0")||0);return c}let o=0;for(const u of e)o=r(u,o)}function gV(e,n){const i=[];let r=0;const o=dV(e);for(;o.size()>0;){let c=o.count();const d=[];let h=1;for(;c>0;){const{element:m,priority:v}=o.dequeue(),p=n-r-d5(m);if(d.push({...m,rowspan:p??1,colspan:m.children?_2(m).length:1}),m.children)for(const b of m.children){const S=v%1+h/Math.pow(10,r+2);o.enqueue(b,r+p+S)}h+=1,c-=1}r+=1,i.push(d)}return{columns:e.map(c=>_2(c)).flat(),headers:i}}function pP(e){const n=[];for(const i of e){const r={...hV(i),...i},o=r.key??(typeof r.value=="string"?r.value:null),u=r.value??o??null,c={...r,key:o,value:u,sortable:r.sortable??(r.key!=null||!!r.sort),children:r.children?pP(r.children):void 0};n.push(c)}return n}function h5(e,n){const i=Qe([]),r=Qe([]),o=Qe({}),u=Qe({}),c=Qe({});On(()=>{var w,x,T;const m=(e.headers||Object.keys(e.items[0]??{}).map(D=>({key:D,title:Jo(D)}))).slice(),v=SP(m);(w=n==null?void 0:n.groupBy)!=null&&w.value.length&&!v.has("data-table-group")&&m.unshift({key:"data-table-group",title:"Group"}),(x=n==null?void 0:n.showSelect)!=null&&x.value&&!v.has("data-table-select")&&m.unshift({key:"data-table-select"}),(T=n==null?void 0:n.showExpand)!=null&&T.value&&!v.has("data-table-expand")&&m.push({key:"data-table-expand"});const p=pP(m);fV(p);const b=Math.max(...p.map(D=>d5(D)))+1,S=gV(p,b);i.value=S.headers,r.value=S.columns;const y=S.headers.flat(1);for(const D of y)D.key&&(D.sortable&&(D.sort&&(o.value[D.key]=D.sort),D.sortRaw&&(u.value[D.key]=D.sortRaw)),D.filter&&(c.value[D.key]=D.filter))});const d={headers:i,columns:r,sortFunctions:o,sortRawFunctions:u,filterFunctions:c};return cn(mP,d),d}function cp(){const e=Tt(mP);if(!e)throw new Error("Missing headers!");return e}const yP=Ie({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:ot,default:"$sortAsc"},sortDescIcon:{type:ot,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...rd(),...$S()},"VDataTableHeaders"),td=Fe()({name:"VDataTableHeaders",props:yP(),setup(e,n){let{slots:i}=n;const{t:r}=En(),{toggleSort:o,sortBy:u,isSorted:c}=gP(),{someSelected:d,allSelected:h,selectAll:m,showSelectAll:v}=sp(),{columns:p,headers:b}=cp(),{loaderClasses:S}=Zg(e);function y(R,E){if(!(!(e.sticky||e.fixedHeader)&&!R.fixed))return{position:"sticky",left:R.fixed?Ke(R.fixedOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${E})`:void 0}}function w(R){const E=u.value.find(N=>N.key===R.key);return E?E.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:x,backgroundColorStyles:T}=tn(()=>e.color),{displayClasses:D,mobile:P}=$r(e),A=se(()=>({headers:b.value,columns:p.value,toggleSort:o,isSorted:c,sortBy:u.value,someSelected:d.value,allSelected:h.value,selectAll:m,getSortIcon:w})),O=se(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},D.value,S.value]),F=R=>{let{column:E,x:N,y:G}=R;const M=E.key==="data-table-select"||E.key==="data-table-expand",_=Be(e.headerProps??{},E.headerProps??{});return Z(IS,Be({tag:"th",align:E.align,class:[{"v-data-table__th--sortable":E.sortable&&!e.disableSort,"v-data-table__th--sorted":c(E),"v-data-table__th--fixed":E.fixed},...O.value],style:{width:Ke(E.width),minWidth:Ke(E.minWidth),maxWidth:Ke(E.maxWidth),...y(E,G)},colspan:E.colspan,rowspan:E.rowspan,onClick:E.sortable?()=>o(E):void 0,fixed:E.fixed,nowrap:E.nowrap,lastFixed:E.lastFixed,noPadding:M},_),{default:()=>{var H;const I=`header.${E.key}`,B={column:E,selectAll:m,isSorted:c,toggleSort:o,sortBy:u.value,someSelected:d.value,allSelected:h.value,getSortIcon:w};return i[I]?i[I](B):E.key==="data-table-select"?((H=i["header.data-table-select"])==null?void 0:H.call(i,B))??(v.value&&Z(nl,{modelValue:h.value,indeterminate:d.value&&!h.value,"onUpdate:modelValue":m},null)):te("div",{class:"v-data-table-header__content"},[te("span",null,[E.title]),E.sortable&&!e.disableSort&&Z(zt,{key:"icon",class:"v-data-table-header__sort-icon",icon:w(E)},null),e.multiSort&&c(E)&&te("div",{key:"badge",class:Ge(["v-data-table-header__sort-badge",...x.value]),style:$e(T.value)},[u.value.findIndex(Y=>Y.key===E.key)+1])])}})},q=()=>{const R=se(()=>p.value.filter(N=>(N==null?void 0:N.sortable)&&!e.disableSort)),E=se(()=>{if(p.value.find(G=>G.key==="data-table-select")!=null)return h.value?"$checkboxOn":d.value?"$checkboxIndeterminate":"$checkboxOff"});return Z(IS,Be({tag:"th",class:[...O.value],colspan:b.value.length+1},e.headerProps),{default:()=>[te("div",{class:"v-data-table-header__content"},[Z(e5,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:R.value,label:r("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>u.value=[],appendIcon:E.value,"onClick:append":()=>m(!h.value)},{...i,chip:N=>{var G;return Z(Oh,{onClick:(G=N.item.raw)!=null&&G.sortable?()=>o(N.item.raw):void 0,onMousedown:M=>{M.preventDefault(),M.stopPropagation()}},{default:()=>[N.item.title,Z(zt,{class:Ge(["v-data-table__td-sort-icon",c(N.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:w(N.item.raw),size:"small"},null)]})}})])]})};qe(()=>P.value?te("tr",null,[Z(q,null,null)]):te(nt,null,[i.headers?i.headers(A.value):b.value.map((R,E)=>te("tr",null,[R.map((N,G)=>Z(F,{column:N,x:G,y:E},null))])),e.loading&&te("tr",{class:"v-data-table-progress"},[te("th",{colspan:p.value.length},[Z(Jg,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:i.loader})])])]))}}),mV=Ie({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),vV=Fe()({name:"VDataTableGroupHeaderRow",props:mV(),setup(e,n){let{slots:i}=n;const{isGroupOpen:r,toggleGroup:o,extractRows:u}=iP(),{isSelected:c,isSomeSelected:d,select:h}=sp(),{columns:m}=cp(),v=se(()=>u([e.item]));return()=>te("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[m.value.map(p=>{var b,S;if(p.key==="data-table-group"){const y=r(e.item)?"$expand":"$next",w=()=>o(e.item);return((b=i["data-table-group"])==null?void 0:b.call(i,{item:e.item,count:v.value.length,props:{icon:y,onClick:w}}))??Z(IS,{class:"v-data-table-group-header-row__column"},{default:()=>[Z(Rt,{size:"small",variant:"text",icon:y,onClick:w},null),te("span",null,[e.item.value]),te("span",null,[Wr("("),v.value.length,Wr(")")])]})}if(p.key==="data-table-select"){const y=c(v.value),w=d(v.value)&&!y,x=T=>h(v.value,T);return((S=i["data-table-select"])==null?void 0:S.call(i,{props:{modelValue:y,indeterminate:w,"onUpdate:modelValue":x}}))??te("td",null,[Z(nl,{modelValue:y,indeterminate:w,"onUpdate:modelValue":x},null)])}return te("td",null,null)})])}}),SV=Ie({index:Number,item:Object,cellProps:[Object,Function],onClick:Pi(),onContextmenu:Pi(),onDblclick:Pi(),...rd()},"VDataTableRow"),f5=Fe()({name:"VDataTableRow",props:SV(),setup(e,n){let{slots:i}=n;const{displayClasses:r,mobile:o}=$r(e,"v-data-table__tr"),{isSelected:u,toggleSelect:c,someSelected:d,allSelected:h,selectAll:m}=sp(),{isExpanded:v,toggleExpand:p}=tP(),{toggleSort:b,sortBy:S,isSorted:y}=gP(),{columns:w}=cp();qe(()=>te("tr",{class:Ge(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},r.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&w.value.map((x,T)=>{const D=e.item,P=`item.${x.key}`,A=`header.${x.key}`,O={index:e.index,item:D.raw,internalItem:D,value:Zc(D.columns,x.key),column:x,isSelected:u,toggleSelect:c,isExpanded:v,toggleExpand:p},F={column:x,selectAll:m,isSorted:y,toggleSort:b,sortBy:S.value,someSelected:d.value,allSelected:h.value,getSortIcon:()=>""},q=typeof e.cellProps=="function"?e.cellProps({index:O.index,item:O.item,internalItem:O.internalItem,value:O.value,column:x}):e.cellProps,R=typeof x.cellProps=="function"?x.cellProps({index:O.index,item:O.item,internalItem:O.internalItem,value:O.value}):x.cellProps;return Z(IS,Be({align:x.align,class:{"v-data-table__td--expanded-row":x.key==="data-table-expand","v-data-table__td--select-row":x.key==="data-table-select"},fixed:x.fixed,fixedOffset:x.fixedOffset,lastFixed:x.lastFixed,maxWidth:o.value?void 0:x.maxWidth,noPadding:x.key==="data-table-select"||x.key==="data-table-expand",nowrap:x.nowrap,width:o.value?void 0:x.width},q,R),{default:()=>{var N,G,M,_;if(x.key==="data-table-select")return((N=i["item.data-table-select"])==null?void 0:N.call(i,{...O,props:{disabled:!D.selectable,modelValue:u([D]),onClick:Dv(()=>c(D),["stop"])}}))??Z(nl,{disabled:!D.selectable,modelValue:u([D]),onClick:Dv(I=>c(D,e.index,I),["stop"])},null);if(x.key==="data-table-expand")return((G=i["item.data-table-expand"])==null?void 0:G.call(i,{...O,props:{icon:v(D)?"$collapse":"$expand",size:"small",variant:"text",onClick:Dv(()=>p(D),["stop"])}}))??Z(Rt,{icon:v(D)?"$collapse":"$expand",size:"small",variant:"text",onClick:Dv(()=>p(D),["stop"])},null);if(i[P]&&!o.value)return i[P](O);const E=mo(O.value);return o.value?te(nt,null,[te("div",{class:"v-data-table__td-title"},[((M=i[A])==null?void 0:M.call(i,F))??x.title]),te("div",{class:"v-data-table__td-value"},[((_=i[P])==null?void 0:_.call(i,O))??E])]):E}})})]))}}),bP=Ie({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...rd()},"VDataTableRows"),nd=Fe()({name:"VDataTableRows",inheritAttrs:!1,props:bP(),setup(e,n){let{attrs:i,slots:r}=n;const{columns:o}=cp(),{expandOnClick:u,toggleExpand:c,isExpanded:d}=tP(),{isSelected:h,toggleSelect:m}=sp(),{toggleGroup:v,isGroupOpen:p}=iP(),{t:b}=En(),{mobile:S}=$r(e);return qe(()=>{var y,w;return e.loading&&(!e.items.length||r.loading)?te("tr",{class:"v-data-table-rows-loading",key:"loading"},[te("td",{colspan:o.value.length},[((y=r.loading)==null?void 0:y.call(r))??b(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?te("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[te("td",{colspan:o.value.length},[((w=r["no-data"])==null?void 0:w.call(r))??b(e.noDataText)])]):te(nt,null,[e.items.map((x,T)=>{var A;if(x.type==="group"){const O={index:T,item:x,columns:o.value,isExpanded:d,toggleExpand:c,isSelected:h,toggleSelect:m,toggleGroup:v,isGroupOpen:p};return r["group-header"]?r["group-header"](O):Z(vV,Be({key:`group-header_${x.id}`,item:x},Fw(i,":group-header",()=>O)),r)}const D={index:T,item:x.raw,internalItem:x,columns:o.value,isExpanded:d,toggleExpand:c,isSelected:h,toggleSelect:m},P={...D,props:Be({key:`item_${x.key??x.index}`,onClick:u.value?()=>{c(x)}:void 0,index:T,item:x,cellProps:e.cellProps,mobile:S.value},Fw(i,":row",()=>D),typeof e.rowProps=="function"?e.rowProps({item:D.item,index:D.index,internalItem:D.internalItem}):e.rowProps)};return te(nt,{key:P.props.key},[r.item?r.item(P):Z(f5,P.props,r),d(x)&&((A=r["expanded-row"])==null?void 0:A.call(r,D))])})])}),{}}}),CP=Ie({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...et(),...mi(),...mt(),...Lt()},"VTable"),id=Fe()({name:"VTable",props:CP(),setup(e,n){let{slots:i,emit:r}=n;const{themeClasses:o}=Yt(e),{densityClasses:u}=na(e);return qe(()=>Z(e.tag,{class:Ge(["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!i.top,"v-table--has-bottom":!!i.bottom,"v-table--hover":e.hover},o.value,u.value,e.class]),style:$e(e.style)},{default:()=>{var c,d,h;return[(c=i.top)==null?void 0:c.call(i),i.default?te("div",{class:"v-table__wrapper",style:{height:Ke(e.height)}},[te("table",null,[i.default()])]):(d=i.wrapper)==null?void 0:d.call(i),(h=i.bottom)==null?void 0:h.call(i)]}})),{}}}),pV=Ie({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function yV(e,n,i,r){const o=e.returnObject?n:Jn(n,e.itemValue),u=Jn(n,e.itemSelectable,!0),c=r.reduce((d,h)=>(h.key!=null&&(d[h.key]=Jn(n,h.value)),d),{});return{type:"item",key:e.returnObject?Jn(n,e.itemValue):o,index:i,value:o,selectable:u,columns:c,raw:n}}function bV(e,n,i){return n.map((r,o)=>yV(e,r,o,i))}function g5(e,n){return{items:se(()=>bV(e,e.items,n.value))}}const m5=Ie({...bP(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...JT(),...a5(),...uV(),...pV(),...cP(),...hP(),...yP(),...CP()},"DataTable"),CV=Ie({...o5(),...m5(),...sm(),...c5()},"VDataTable"),wV=Fe()({name:"VDataTable",props:CV(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,n){let{attrs:i,slots:r}=n;const{groupBy:o}=r5(e),{sortBy:u,multiSort:c,mustSort:d}=lp(e),{page:h,itemsPerPage:m}=s5(e),{disableSort:v}=Th(e),{columns:p,headers:b,sortFunctions:S,sortRawFunctions:y,filterFunctions:w}=h5(e,{groupBy:o,showSelect:be(()=>e.showSelect),showExpand:be(()=>e.showExpand)}),{items:x}=g5(e,p),T=be(()=>e.search),{filteredItems:D}=lm(e,x,T,{transform:le=>le.columns,customKeyFilter:w}),{toggleSort:P}=up({sortBy:u,multiSort:c,mustSort:d,page:h}),{sortByWithGroups:A,opened:O,extractRows:F,isGroupOpen:q,toggleGroup:R}=ip({groupBy:o,sortBy:u,disableSort:v}),{sortedItems:E}=u5(e,D,A,{transform:le=>({...le.raw,...le.columns}),sortFunctions:S,sortRawFunctions:y}),{flatItems:N}=ap(E,o,O),G=se(()=>N.value.length),{startIndex:M,stopIndex:_,pageCount:I,setItemsPerPage:B}=l5({page:h,itemsPerPage:m,itemsLength:G}),{paginatedItems:H}=sP({items:N,startIndex:M,stopIndex:_,itemsPerPage:m}),Y=se(()=>F(H.value)),{isSelected:K,select:ce,selectAll:re,toggleSelect:$,someSelected:j,allSelected:de}=op(e,{allItems:x,currentPage:Y}),{isExpanded:ve,toggleExpand:ye}=np(e);rp({page:h,itemsPerPage:m,sortBy:u,groupBy:o,search:T}),Rn({VDataTableRows:{hideNoData:be(()=>e.hideNoData),noDataText:be(()=>e.noDataText),loading:be(()=>e.loading),loadingText:be(()=>e.loadingText)}});const Pe=se(()=>({page:h.value,itemsPerPage:m.value,sortBy:u.value,pageCount:I.value,toggleSort:P,setItemsPerPage:B,someSelected:j.value,allSelected:de.value,isSelected:K,select:ce,selectAll:re,toggleSelect:$,isExpanded:ve,toggleExpand:ye,isGroupOpen:q,toggleGroup:R,items:Y.value.map(le=>le.raw),internalItems:Y.value,groupedItems:H.value,columns:p.value,headers:b.value}));return qe(()=>{const le=zg.filterProps(e),pe=td.filterProps(e),Ae=nd.filterProps(e),Ce=id.filterProps(e);return Z(id,Be({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},Ce,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var Le;return(Le=r.top)==null?void 0:Le.call(r,Pe.value)},default:()=>{var Le,J,ue,U,fe,ge;return r.default?r.default(Pe.value):te(nt,null,[(Le=r.colgroup)==null?void 0:Le.call(r,Pe.value),!e.hideDefaultHeader&&te("thead",{key:"thead"},[Z(td,pe,r)]),(J=r.thead)==null?void 0:J.call(r,Pe.value),!e.hideDefaultBody&&te("tbody",null,[(ue=r["body.prepend"])==null?void 0:ue.call(r,Pe.value),r.body?r.body(Pe.value):Z(nd,Be(i,Ae,{items:H.value}),r),(U=r["body.append"])==null?void 0:U.call(r,Pe.value)]),(fe=r.tbody)==null?void 0:fe.call(r,Pe.value),(ge=r.tfoot)==null?void 0:ge.call(r,Pe.value)])},bottom:()=>r.bottom?r.bottom(Pe.value):!e.hideDefaultFooter&&te(nt,null,[Z(js,null,null),Z(zg,le,{prepend:r["footer.prepend"]})])})}),{}}}),DV=Ie({...kn(m5(),["hideDefaultFooter"]),...a5(),...RT(),...sm()},"VDataTableVirtual"),xV=Fe()({name:"VDataTableVirtual",props:DV(),emits:{"update:modelValue":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,n){let{attrs:i,slots:r}=n;const{groupBy:o}=r5(e),{sortBy:u,multiSort:c,mustSort:d}=lp(e),{disableSort:h}=Th(e),{columns:m,headers:v,filterFunctions:p,sortFunctions:b,sortRawFunctions:S}=h5(e,{groupBy:o,showSelect:be(()=>e.showSelect),showExpand:be(()=>e.showExpand)}),{items:y}=g5(e,m),w=be(()=>e.search),{filteredItems:x}=lm(e,y,w,{transform:Ce=>Ce.columns,customKeyFilter:p}),{toggleSort:T}=up({sortBy:u,multiSort:c,mustSort:d}),{sortByWithGroups:D,opened:P,extractRows:A,isGroupOpen:O,toggleGroup:F}=ip({groupBy:o,sortBy:u,disableSort:h}),{sortedItems:q}=u5(e,x,D,{transform:Ce=>({...Ce.raw,...Ce.columns}),sortFunctions:b,sortRawFunctions:S}),{flatItems:R}=ap(q,o,P),E=se(()=>A(R.value)),{isSelected:N,select:G,selectAll:M,toggleSelect:_,someSelected:I,allSelected:B}=op(e,{allItems:E,currentPage:E}),{isExpanded:H,toggleExpand:Y}=np(e),{containerRef:K,markerRef:ce,paddingTop:re,paddingBottom:$,computedItems:j,handleItemResize:de,handleScroll:ve,handleScrollend:ye,calculateVisibleItems:Pe,scrollToIndex:le}=ET(e,R),pe=se(()=>j.value.map(Ce=>Ce.raw));rp({sortBy:u,page:ze(1),itemsPerPage:ze(-1),groupBy:o,search:w}),Rn({VDataTableRows:{hideNoData:be(()=>e.hideNoData),noDataText:be(()=>e.noDataText),loading:be(()=>e.loading),loadingText:be(()=>e.loadingText)}});const Ae=se(()=>({sortBy:u.value,toggleSort:T,someSelected:I.value,allSelected:B.value,isSelected:N,select:G,selectAll:M,toggleSelect:_,isExpanded:H,toggleExpand:Y,isGroupOpen:O,toggleGroup:F,items:E.value.map(Ce=>Ce.raw),internalItems:E.value,groupedItems:R.value,columns:m.value,headers:v.value}));return qe(()=>{const Ce=td.filterProps(e),Le=nd.filterProps(e),J=id.filterProps(e);return Z(id,Be({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},J,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var ue;return(ue=r.top)==null?void 0:ue.call(r,Ae.value)},wrapper:()=>{var ue,U,fe,ge,ne,ae;return te("div",{ref:K,onScrollPassive:ve,onScrollend:ye,class:"v-table__wrapper",style:{height:Ke(e.height)}},[te("table",null,[(ue=r.colgroup)==null?void 0:ue.call(r,Ae.value),!e.hideDefaultHeader&&te("thead",{key:"thead"},[Z(td,Ce,r)]),(U=r.thead)==null?void 0:U.call(r,Ae.value),!e.hideDefaultBody&&te("tbody",{key:"tbody"},[te("tr",{ref:ce,style:{height:Ke(re.value),border:0}},[te("td",{colspan:m.value.length,style:{height:0,border:0}},null)]),(fe=r["body.prepend"])==null?void 0:fe.call(r,Ae.value),Z(nd,Be(i,Le,{items:pe.value}),{...r,item:he=>Z(kT,{key:he.internalItem.index,renderless:!0,"onUpdate:height":xe=>de(he.internalItem.index,xe)},{default:xe=>{var Se;let{itemRef:we}=xe;return((Se=r.item)==null?void 0:Se.call(r,{...he,itemRef:we}))??Z(f5,Be(he.props,{ref:we,key:he.internalItem.index,index:he.internalItem.index}),r)}})}),(ge=r["body.append"])==null?void 0:ge.call(r,Ae.value),te("tr",{style:{height:Ke($.value),border:0}},[te("td",{colspan:m.value.length,style:{height:0,border:0}},null)])]),(ne=r.tbody)==null?void 0:ne.call(r,Ae.value),(ae=r.tfoot)==null?void 0:ae.call(r,Ae.value)])])},bottom:()=>{var ue;return(ue=r.bottom)==null?void 0:ue.call(r,Ae.value)}})}),{calculateVisibleItems:Pe,scrollToIndex:le}}}),TV=Ie({itemsLength:{type:[Number,String],required:!0},...o5(),...m5(),...c5()},"VDataTableServer"),PV=Fe()({name:"VDataTableServer",props:TV(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,n){let{attrs:i,slots:r}=n;const{groupBy:o}=r5(e),{sortBy:u,multiSort:c,mustSort:d}=lp(e),{page:h,itemsPerPage:m}=s5(e),{disableSort:v}=Th(e),p=se(()=>parseInt(e.itemsLength,10)),{columns:b,headers:S}=h5(e,{groupBy:o,showSelect:be(()=>e.showSelect),showExpand:be(()=>e.showExpand)}),{items:y}=g5(e,b),{toggleSort:w}=up({sortBy:u,multiSort:c,mustSort:d,page:h}),{opened:x,isGroupOpen:T,toggleGroup:D,extractRows:P}=ip({groupBy:o,sortBy:u,disableSort:v}),{pageCount:A,setItemsPerPage:O}=l5({page:h,itemsPerPage:m,itemsLength:p}),{flatItems:F}=ap(y,o,x),{isSelected:q,select:R,selectAll:E,toggleSelect:N,someSelected:G,allSelected:M}=op(e,{allItems:y,currentPage:y}),{isExpanded:_,toggleExpand:I}=np(e),B=se(()=>P(y.value));rp({page:h,itemsPerPage:m,sortBy:u,groupBy:o,search:be(()=>e.search)}),cn("v-data-table",{toggleSort:w,sortBy:u}),Rn({VDataTableRows:{hideNoData:be(()=>e.hideNoData),noDataText:be(()=>e.noDataText),loading:be(()=>e.loading),loadingText:be(()=>e.loadingText)}});const H=se(()=>({page:h.value,itemsPerPage:m.value,sortBy:u.value,pageCount:A.value,toggleSort:w,setItemsPerPage:O,someSelected:G.value,allSelected:M.value,isSelected:q,select:R,selectAll:E,toggleSelect:N,isExpanded:_,toggleExpand:I,isGroupOpen:T,toggleGroup:D,items:B.value.map(Y=>Y.raw),internalItems:B.value,groupedItems:F.value,columns:b.value,headers:S.value}));qe(()=>{const Y=zg.filterProps(e),K=td.filterProps(e),ce=nd.filterProps(e),re=id.filterProps(e);return Z(id,Be({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},re,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var $;return($=r.top)==null?void 0:$.call(r,H.value)},default:()=>{var $,j,de,ve,ye,Pe;return r.default?r.default(H.value):te(nt,null,[($=r.colgroup)==null?void 0:$.call(r,H.value),!e.hideDefaultHeader&&te("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[Z(td,K,r)]),(j=r.thead)==null?void 0:j.call(r,H.value),!e.hideDefaultBody&&te("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(de=r["body.prepend"])==null?void 0:de.call(r,H.value),r.body?r.body(H.value):Z(nd,Be(i,ce,{items:F.value}),r),(ve=r["body.append"])==null?void 0:ve.call(r,H.value)]),(ye=r.tbody)==null?void 0:ye.call(r,H.value),(Pe=r.tfoot)==null?void 0:Pe.call(r,H.value)])},bottom:()=>r.bottom?r.bottom(H.value):!e.hideDefaultFooter&&te(nt,null,[Z(js,null,null),Z(zg,Y,{prepend:r["footer.prepend"]})])})})}}),IV=Ie({fluid:{type:Boolean,default:!1},...et(),...ni(),...mt()},"VContainer"),AV=Fe()({name:"VContainer",props:IV(),setup(e,n){let{slots:i}=n;const{rtlClasses:r}=ti(),{dimensionStyles:o}=ii(e);return qe(()=>Z(e.tag,{class:Ge(["v-container",{"v-container--fluid":e.fluid},r.value,e.class]),style:$e([o.value,e.style])},i)),{}}}),wP=GS.reduce((e,n)=>(e[n]={type:[Boolean,String,Number],default:!1},e),{}),DP=GS.reduce((e,n)=>{const i="offset"+Jo(n);return e[i]={type:[String,Number],default:null},e},{}),xP=GS.reduce((e,n)=>{const i="order"+Jo(n);return e[i]={type:[String,Number],default:null},e},{}),oD={col:Object.keys(wP),offset:Object.keys(DP),order:Object.keys(xP)};function _V(e,n,i){let r=e;if(!(i==null||i===!1)){if(n){const o=n.replace(e,"");r+=`-${o}`}return e==="col"&&(r="v-"+r),e==="col"&&(i===""||i===!0)||(r+=`-${i}`),r.toLowerCase()}}const LV=["auto","start","end","center","baseline","stretch"],OV=Ie({cols:{type:[Boolean,String,Number],default:!1},...wP,offset:{type:[String,Number],default:null},...DP,order:{type:[String,Number],default:null},...xP,alignSelf:{type:String,default:null,validator:e=>LV.includes(e)},...et(),...mt()},"VCol"),kV=Fe()({name:"VCol",props:OV(),setup(e,n){let{slots:i}=n;const r=se(()=>{const o=[];let u;for(u in oD)oD[u].forEach(d=>{const h=e[d],m=_V(u,d,h);m&&o.push(m)});const c=o.some(d=>d.startsWith("v-col-"));return o.push({"v-col":!c||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),o});return()=>{var o;return es(e.tag,{class:[r.value,e.class],style:e.style},(o=i.default)==null?void 0:o.call(i))}}}),v5=["start","end","center"],TP=["space-between","space-around","space-evenly"];function S5(e,n){return GS.reduce((i,r)=>{const o=e+Jo(r);return i[o]=n(),i},{})}const RV=[...v5,"baseline","stretch"],PP=e=>RV.includes(e),IP=S5("align",()=>({type:String,default:null,validator:PP})),EV=[...v5,...TP],AP=e=>EV.includes(e),_P=S5("justify",()=>({type:String,default:null,validator:AP})),FV=[...v5,...TP,"stretch"],LP=e=>FV.includes(e),OP=S5("alignContent",()=>({type:String,default:null,validator:LP})),sD={align:Object.keys(IP),justify:Object.keys(_P),alignContent:Object.keys(OP)},MV={align:"align",justify:"justify",alignContent:"align-content"};function VV(e,n,i){let r=MV[e];if(i!=null){if(n){const o=n.replace(e,"");r+=`-${o}`}return r+=`-${i}`,r.toLowerCase()}}const BV=Ie({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:PP},...IP,justify:{type:String,default:null,validator:AP},..._P,alignContent:{type:String,default:null,validator:LP},...OP,...et(),...mt()},"VRow"),NV=Fe()({name:"VRow",props:BV(),setup(e,n){let{slots:i}=n;const r=se(()=>{const o=[];let u;for(u in sD)sD[u].forEach(c=>{const d=e[c],h=VV(u,c,d);h&&o.push(h)});return o.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),o});return()=>{var o;return es(e.tag,{class:["v-row",r.value,e.class],style:e.style},(o=i.default)==null?void 0:o.call(i))}}}),kP=ns("v-spacer","div","VSpacer"),RP=Ie({active:{type:[String,Array],default:void 0},controlHeight:[Number,String],disabled:{type:[Boolean,String,Array],default:null},nextIcon:{type:ot,default:"$next"},prevIcon:{type:ot,default:"$prev"},modeIcon:{type:ot,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),L2=Fe()({name:"VDatePickerControls",props:RP(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,n){let{emit:i}=n;const r=se(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),o=se(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),u=se(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),c=se(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function d(){i("click:prev")}function h(){i("click:next")}function m(){i("click:year")}function v(){i("click:month")}return qe(()=>te("div",{class:Ge(["v-date-picker-controls"]),style:{"--v-date-picker-controls-height":Ke(e.controlHeight)}},[Z(Rt,{class:"v-date-picker-controls__month-btn","data-testid":"month-btn",disabled:r.value,text:e.text,variant:"text",rounded:!0,onClick:v},null),Z(Rt,{class:"v-date-picker-controls__mode-btn","data-testid":"year-btn",disabled:o.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:m},null),Z(kP,null,null),te("div",{class:"v-date-picker-controls__month"},[Z(Rt,{"data-testid":"prev-month",disabled:u.value,density:"comfortable",icon:e.prevIcon,variant:"text",onClick:d},null),Z(Rt,{"data-testid":"next-month",disabled:c.value,icon:e.nextIcon,density:"comfortable",variant:"text",onClick:h},null)])])),{}}}),UV=Ie({appendIcon:ot,color:String,header:String,transition:String,onClick:Pi()},"VDatePickerHeader"),O2=Fe()({name:"VDatePickerHeader",props:UV(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,n){let{emit:i,slots:r}=n;const{backgroundColorClasses:o,backgroundColorStyles:u}=tn(()=>e.color);function c(){i("click")}function d(){i("click:append")}return qe(()=>{const h=!!(r.default||e.header),m=!!(r.append||e.appendIcon);return te("div",{class:Ge(["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},o.value]),style:$e(u.value),onClick:c},[r.prepend&&te("div",{key:"prepend",class:"v-date-picker-header__prepend"},[r.prepend()]),h&&Z(ea,{key:"content",name:e.transition},{default:()=>{var v;return[te("div",{key:e.header,class:"v-date-picker-header__content"},[((v=r.default)==null?void 0:v.call(r))??e.header])]}}),m&&te("div",{class:"v-date-picker-header__append"},[r.append?Z(St,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var v;return[(v=r.append)==null?void 0:v.call(r)]}}):Z(Rt,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:d},null)])])}),{}}}),qV=Ie({allowedDates:[Array,Function],disabled:{type:Boolean,default:null},displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:{type:[Number,String],default:void 0}},"calendar");function GV(e){const n=Kg(),i=at(e,"modelValue",[],S=>Dn(S).map(y=>n.date(y))),r=se(()=>e.displayValue?n.date(e.displayValue):i.value.length>0?n.date(i.value[0]):e.min?n.date(e.min):Array.isArray(e.allowedDates)?n.date(e.allowedDates[0]):n.date()),o=at(e,"year",void 0,S=>{const y=S!=null?Number(S):n.getYear(r.value);return n.startOfYear(n.setYear(n.date(),y))},S=>n.getYear(S)),u=at(e,"month",void 0,S=>{const y=S!=null?Number(S):n.getMonth(r.value),w=n.setYear(n.startOfMonth(n.date()),n.getYear(o.value));return n.setMonth(w,y)},S=>n.getMonth(S)),c=se(()=>{const S=n.toJsDate(n.startOfWeek(n.date(),e.firstDayOfWeek)).getDay();return[0,1,2,3,4,5,6].map(y=>(y+S)%7)}),d=se(()=>{const S=n.getWeekArray(u.value,e.firstDayOfWeek),y=S.flat(),w=6*7;if(e.weeksInMonth==="static"&&y.length<w){const x=y[y.length-1];let T=[];for(let D=1;D<=w-y.length;D++)T.push(n.addDays(x,D)),D%7===0&&(S.push(T),T=[])}return S});function h(S,y){return S.filter(w=>c.value.includes(n.toJsDate(w).getDay())).map((w,x)=>{const T=n.toISO(w),D=!n.isSameMonth(w,u.value),P=n.isSameDay(w,n.startOfMonth(u.value)),A=n.isSameDay(w,n.endOfMonth(u.value)),O=n.isSameDay(w,u.value);return{date:w,formatted:n.format(w,"keyboardDate"),isAdjacent:D,isDisabled:b(w),isEnd:A,isHidden:D&&!e.showAdjacentMonths,isSame:O,isSelected:i.value.some(F=>n.isSameDay(w,F)),isStart:P,isToday:n.isSameDay(w,y),isWeekEnd:x%7===6,isWeekStart:x%7===0,isoDate:T,localized:n.format(w,"dayOfMonth"),month:n.getMonth(w),year:n.getYear(w)}})}const m=se(()=>{const S=n.startOfWeek(r.value,e.firstDayOfWeek),y=[];for(let x=0;x<=6;x++)y.push(n.addDays(S,x));const w=n.date();return h(y,w)}),v=se(()=>{const S=d.value.flat(),y=n.date();return h(S,y)}),p=se(()=>d.value.map(S=>S.length?n.getWeek(S[0],e.firstDayOfWeek):null));function b(S){if(e.disabled)return!0;const y=n.date(S);return e.min&&n.isAfter(n.date(e.min),y)||e.max&&n.isAfter(y,n.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(w=>n.isSameDay(n.date(w),y)):typeof e.allowedDates=="function"?!e.allowedDates(y):!e.weekdays.includes(n.toJsDate(y).getDay())}return{displayValue:r,daysInMonth:v,daysInWeek:m,genDays:h,model:i,weeksInMonth:d,weekDays:c,weekNumbers:p}}const EP=Ie({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...kn(qV(),["displayValue"])},"VDatePickerMonth"),k2=Fe()({name:"VDatePickerMonth",props:EP(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,n){let{emit:i,slots:r}=n;const o=Qe(),{daysInMonth:u,model:c,weekNumbers:d}=GV(e),h=Kg(),m=ze(),v=ze(),p=ze(!1),b=be(()=>p.value?e.reverseTransition:e.transition);e.multiple==="range"&&c.value.length>0&&(m.value=c.value[0],c.value.length>1&&(v.value=c.value[c.value.length-1]));const S=se(()=>{const T=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return c.value.length>=T});je(u,(T,D)=>{D&&(p.value=h.isBefore(T[0].date,D[0].date))});function y(T){const D=h.startOfDay(T);if(c.value.length===0?m.value=void 0:c.value.length===1&&(m.value=c.value[0],v.value=void 0),!m.value)m.value=D,c.value=[m.value];else if(v.value)m.value=T,v.value=void 0,c.value=[m.value];else{if(h.isSameDay(D,m.value)){m.value=void 0,c.value=[];return}else h.isBefore(D,m.value)?(v.value=h.endOfDay(m.value),m.value=D):v.value=h.endOfDay(D);c.value=h.createDateRange(m.value,v.value)}}function w(T){const D=c.value.findIndex(P=>h.isSameDay(P,T));if(D===-1)c.value=[...c.value,T];else{const P=[...c.value];P.splice(D,1),c.value=P}}function x(T){e.multiple==="range"?y(T):e.multiple?w(T):c.value=[T]}qe(()=>te("div",{class:"v-date-picker-month"},[e.showWeek&&te("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&te("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Wr(" ")]),d.value.map(T=>te("div",{class:Ge(["v-date-picker-month__day","v-date-picker-month__day--adjacent"])},[T]))]),Z(ea,{name:b.value},{default:()=>{var T;return[te("div",{ref:o,key:(T=u.value[0].date)==null?void 0:T.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&h.getWeekdays(e.firstDayOfWeek).map(D=>te("div",{class:Ge(["v-date-picker-month__day","v-date-picker-month__weekday"])},[D])),u.value.map((D,P)=>{var O;const A={props:{class:"v-date-picker-month__day-btn",color:D.isSelected||D.isToday?e.color:void 0,disabled:D.isDisabled,icon:!0,ripple:!1,text:D.localized,variant:D.isSelected?"flat":D.isToday?"outlined":"text",onClick:()=>x(D.date)},item:D,i:P};return S.value&&!D.isSelected&&(D.isDisabled=!0),te("div",{class:Ge(["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":D.isAdjacent,"v-date-picker-month__day--hide-adjacent":D.isHidden,"v-date-picker-month__day--selected":D.isSelected,"v-date-picker-month__day--week-end":D.isWeekEnd,"v-date-picker-month__day--week-start":D.isWeekStart}]),"data-v-date":D.isDisabled?void 0:D.isoDate},[(e.showAdjacentMonths||!D.isAdjacent)&&(((O=r.day)==null?void 0:O.call(r,A))??Z(Rt,A.props,null))])})])]}})]))}}),FP=Ie({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number,allowedMonths:[Array,Function]},"VDatePickerMonths"),R2=Fe()({name:"VDatePickerMonths",props:FP(),emits:{"update:modelValue":e=>!0},setup(e,n){let{emit:i,slots:r}=n;const o=Kg(),u=at(e,"modelValue"),c=se(()=>{let h=o.startOfYear(o.date());return e.year&&(h=o.setYear(h,e.year)),$o(12).map(m=>{const v=o.format(h,"monthShort"),p=!!(!d(m)||e.min&&o.isAfter(o.startOfMonth(o.date(e.min)),h)||e.max&&o.isAfter(h,o.startOfMonth(o.date(e.max))));return h=o.getNextMonth(h),{isDisabled:p,text:v,value:m}})});On(()=>{u.value=u.value??o.getMonth(o.date())});function d(h){return Array.isArray(e.allowedMonths)&&e.allowedMonths.length?e.allowedMonths.includes(h):typeof e.allowedMonths=="function"?e.allowedMonths(h):!0}return qe(()=>te("div",{class:"v-date-picker-months",style:{height:Ke(e.height)}},[te("div",{class:"v-date-picker-months__content"},[c.value.map((h,m)=>{var b;const v={active:u.value===m,color:u.value===m?e.color:void 0,disabled:h.isDisabled,rounded:!0,text:h.text,variant:u.value===h.value?"flat":"text",onClick:()=>p(m)};function p(S){if(u.value===S){i("update:modelValue",u.value);return}u.value=S}return((b=r.month)==null?void 0:b.call(r,{month:h,i:m,props:v}))??Z(Rt,Be({key:"month"},v),null)})])])),{}}}),MP=Ie({color:String,height:[String,Number],min:null,max:null,modelValue:Number,allowedYears:[Array,Function]},"VDatePickerYears"),E2=Fe()({name:"VDatePickerYears",props:MP(),emits:{"update:modelValue":e=>!0},setup(e,n){let{emit:i,slots:r}=n;const o=Kg(),u=at(e,"modelValue"),c=se(()=>{const m=o.getYear(o.date());let v=m-100,p=m+52;e.min&&(v=o.getYear(o.date(e.min))),e.max&&(p=o.getYear(o.date(e.max)));let b=o.startOfYear(o.date());return b=o.setYear(b,v),$o(p-v+1,v).map(S=>{const y=o.format(b,"year");return b=o.setYear(b,o.getYear(b)+1),{text:y,value:S,isDisabled:!h(S)}})});On(()=>{u.value=u.value??o.getYear(o.date())});const d=yS();Ai(async()=>{var m;await Et(),(m=d.el)==null||m.scrollIntoView({block:"center"})});function h(m){return Array.isArray(e.allowedYears)&&e.allowedYears.length?e.allowedYears.includes(m):typeof e.allowedYears=="function"?e.allowedYears(m):!0}return qe(()=>te("div",{class:"v-date-picker-years",style:{height:Ke(e.height)}},[te("div",{class:"v-date-picker-years__content"},[c.value.map((m,v)=>{var b;const p={ref:u.value===m.value?d:void 0,active:u.value===m.value,color:u.value===m.value?e.color:void 0,rounded:!0,text:m.text,disabled:m.isDisabled,variant:u.value===m.value?"flat":"text",onClick:()=>{if(u.value===m.value){i("update:modelValue",u.value);return}u.value=m.value}};return((b=r.year)==null?void 0:b.call(r,{year:m,i:v,props:p}))??Z(Rt,Be({key:"month"},p),null)})])])),{}}}),QV=Ie({header:{type:String,default:"$vuetify.datePicker.header"},headerColor:String,...RP(),...EP({weeksInMonth:"static"}),...kn(FP(),["modelValue"]),...kn(MP(),["modelValue"]),...i5({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),zV=Fe()({name:"VDatePicker",props:QV(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,n){let{emit:i,slots:r}=n;const o=Kg(),{t:u}=En(),{rtlClasses:c}=ti(),d=at(e,"modelValue",void 0,I=>Dn(I).map(B=>o.date(B)),I=>e.multiple?I:I[0]),h=at(e,"viewMode"),m=se(()=>{const I=o.date(e.min);return e.min&&o.isValid(I)?I:null}),v=se(()=>{const I=o.date(e.max);return e.max&&o.isValid(I)?I:null}),p=se(()=>{var H;const I=o.date();let B=I;return(H=d.value)!=null&&H[0]?B=o.date(d.value[0]):m.value&&o.isBefore(I,m.value)?B=m.value:v.value&&o.isAfter(I,v.value)&&(B=v.value),B&&o.isValid(B)?B:I}),b=be(()=>e.headerColor??e.color),S=Qe(Number(e.month??o.getMonth(o.startOfMonth(p.value)))),y=Qe(Number(e.year??o.getYear(o.startOfYear(o.setMonth(p.value,S.value))))),w=ze(!1),x=se(()=>e.multiple&&d.value.length>1?u("$vuetify.datePicker.itemsSelected",d.value.length):d.value[0]&&o.isValid(d.value[0])?o.format(o.date(d.value[0]),"normalDateWithWeekday"):u(e.header)),T=se(()=>{let I=o.date();return I=o.setDate(I,1),I=o.setMonth(I,S.value),I=o.setYear(I,y.value),o.format(I,"monthAndYear")}),D=be(()=>`date-picker-header${w.value?"-reverse":""}-transition`),P=se(()=>{if(e.disabled)return!0;const I=[];if(h.value!=="month")I.push("prev","next");else{let B=o.date();if(B=o.startOfMonth(B),B=o.setMonth(B,S.value),B=o.setYear(B,y.value),m.value){const H=o.addDays(o.startOfMonth(B),-1);o.isAfter(m.value,H)&&I.push("prev")}if(v.value){const H=o.addDays(o.endOfMonth(B),1);o.isAfter(H,v.value)&&I.push("next")}}return I});function A(I,B){const H=e.allowedDates;if(typeof H!="function")return!0;const Y=o.getDiff(B,I,"days");for(let K=0;K<Y;K++)if(H(o.addDays(I,K)))return!0;return!1}function O(I){if(typeof e.allowedDates=="function"){const B=o.parseISO(`${I}-01-01`);return A(B,o.endOfYear(B))}if(Array.isArray(e.allowedDates)&&e.allowedDates.length){for(const B of e.allowedDates)if(o.getYear(o.date(B))===I)return!0;return!1}return!0}function F(I){if(typeof e.allowedDates=="function"){const B=o.parseISO(`${y.value}-${I+1}-01`);return A(B,o.endOfMonth(B))}if(Array.isArray(e.allowedDates)&&e.allowedDates.length){for(const B of e.allowedDates)if(o.getYear(o.date(B))===y.value&&o.getMonth(o.date(B))===I)return!0;return!1}return!0}function q(){S.value<11?S.value++:(y.value++,S.value=0,_(y.value)),M(S.value)}function R(){S.value>0?S.value--:(y.value--,S.value=11,_(y.value)),M(S.value)}function E(){h.value="month"}function N(){h.value=h.value==="months"?"month":"months"}function G(){h.value=h.value==="year"?"month":"year"}function M(I){h.value==="months"&&N(),i("update:month",I)}function _(I){h.value==="year"&&G(),i("update:year",I)}return je(d,(I,B)=>{const H=Dn(B),Y=Dn(I);if(!Y.length)return;const K=o.date(H[H.length-1]),ce=o.date(Y[Y.length-1]),re=o.getMonth(ce),$=o.getYear(ce);re!==S.value&&(S.value=re,M(S.value)),$!==y.value&&(y.value=$,_(y.value)),w.value=o.isBefore(K,ce)}),qe(()=>{const I=PS.filterProps(e),B=L2.filterProps(e),H=O2.filterProps(e),Y=k2.filterProps(e),K=kn(R2.filterProps(e),["modelValue"]),ce=kn(E2.filterProps(e),["modelValue"]),re={color:b.value,header:x.value,transition:D.value};return Z(PS,Be(I,{color:b.value,class:["v-date-picker",`v-date-picker--${h.value}`,{"v-date-picker--show-week":e.showWeek},c.value,e.class],style:e.style}),{title:()=>{var $;return(($=r.title)==null?void 0:$.call(r))??te("div",{class:"v-date-picker__title"},[u(e.title)])},header:()=>r.header?Z(St,{defaults:{VDatePickerHeader:{...re}}},{default:()=>{var $;return[($=r.header)==null?void 0:$.call(r,re)]}}):Z(O2,Be({key:"header"},H,re,{onClick:h.value!=="month"?E:void 0}),{...r,default:void 0}),default:()=>te(nt,null,[Z(L2,Be(B,{disabled:P.value,text:T.value,"onClick:next":q,"onClick:prev":R,"onClick:month":N,"onClick:year":G}),null),Z(Vg,{hideOnLeave:!0},{default:()=>[h.value==="months"?Z(R2,Be({key:"date-picker-months"},K,{modelValue:S.value,"onUpdate:modelValue":[$=>S.value=$,M],min:m.value,max:v.value,year:y.value,allowedMonths:F}),null):h.value==="year"?Z(E2,Be({key:"date-picker-years"},ce,{modelValue:y.value,"onUpdate:modelValue":[$=>y.value=$,_],min:m.value,max:v.value,allowedYears:O}),null):Z(k2,Be({key:"date-picker-month"},Y,{modelValue:d.value,"onUpdate:modelValue":$=>d.value=$,month:S.value,"onUpdate:month":[$=>S.value=$,M],year:y.value,"onUpdate:year":[$=>y.value=$,_],min:m.value,max:v.value}),null)]})]),actions:r.actions})}),{}}}),HV=Ie({actionText:String,bgColor:String,color:String,icon:ot,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...et(),...ni(),...is({size:void 0}),...Lt()},"VEmptyState"),WV=Fe()({name:"VEmptyState",props:HV(),emits:{"click:action":e=>!0},setup(e,n){let{emit:i,slots:r}=n;const{themeClasses:o}=Yt(e),{backgroundColorClasses:u,backgroundColorStyles:c}=tn(()=>e.bgColor),{dimensionStyles:d}=ii(e),{displayClasses:h}=$r();function m(v){i("click:action",v)}return qe(()=>{var x,T,D;const v=!!(r.actions||e.actionText),p=!!(r.headline||e.headline),b=!!(r.title||e.title),S=!!(r.text||e.text),y=!!(r.media||e.image||e.icon),w=e.size||(e.image?200:96);return te("div",{class:Ge(["v-empty-state",{[`v-empty-state--${e.justify}`]:!0},o.value,u.value,h.value,e.class]),style:$e([c.value,d.value,e.style])},[y&&te("div",{key:"media",class:"v-empty-state__media"},[r.media?Z(St,{key:"media-defaults",defaults:{VImg:{src:e.image,height:w},VIcon:{size:w,icon:e.icon}}},{default:()=>[r.media()]}):te(nt,null,[e.image?Z(tl,{key:"image",src:e.image,height:w},null):e.icon?Z(zt,{key:"icon",color:e.color,size:w,icon:e.icon},null):void 0])]),p&&te("div",{key:"headline",class:"v-empty-state__headline"},[((x=r.headline)==null?void 0:x.call(r))??e.headline]),b&&te("div",{key:"title",class:"v-empty-state__title"},[((T=r.title)==null?void 0:T.call(r))??e.title]),S&&te("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:Ke(e.textWidth)}},[((D=r.text)==null?void 0:D.call(r))??e.text]),r.default&&te("div",{key:"content",class:"v-empty-state__content"},[r.default()]),v&&te("div",{key:"actions",class:"v-empty-state__actions"},[Z(St,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:e.color??"surface-variant",href:e.href,text:e.actionText,to:e.to}}},{default:()=>{var P;return[((P=r.actions)==null?void 0:P.call(r,{props:{onClick:m}}))??Z(Rt,{onClick:m},null)]}})])])}),{}}}),Hg=Symbol.for("vuetify:v-expansion-panel"),VP=Ie({...et(),...XC()},"VExpansionPanelText"),F2=Fe()({name:"VExpansionPanelText",props:VP(),setup(e,n){let{slots:i}=n;const r=Tt(Hg);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:o,onAfterLeave:u}=KC(e,r.isSelected);return qe(()=>Z(HS,{onAfterLeave:u},{default:()=>{var c;return[xn(te("div",{class:Ge(["v-expansion-panel-text",e.class]),style:$e(e.style)},[i.default&&o.value&&te("div",{class:"v-expansion-panel-text__wrapper"},[(c=i.default)==null?void 0:c.call(i)])]),[[po,r.isSelected.value]])]}})),{}}}),BP=Ie({color:String,expandIcon:{type:ot,default:"$expand"},collapseIcon:{type:ot,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...et(),...ni()},"VExpansionPanelTitle"),M2=Fe()({name:"VExpansionPanelTitle",directives:{vRipple:ta},props:BP(),setup(e,n){let{slots:i}=n;const r=Tt(Hg);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:o,backgroundColorStyles:u}=tn(()=>e.color),{dimensionStyles:c}=ii(e),d=se(()=>({collapseIcon:e.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),h=be(()=>r.isSelected.value?e.collapseIcon:e.expandIcon);return qe(()=>{var m;return xn(te("button",{class:Ge(["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},o.value,e.class]),style:$e([u.value,c.value,e.style]),type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:e.readonly?void 0:r.toggle},[te("span",{class:"v-expansion-panel-title__overlay"},null),(m=i.default)==null?void 0:m.call(i,d.value),!e.hideActions&&Z(St,{defaults:{VIcon:{icon:h.value}}},{default:()=>{var v;return[te("span",{class:"v-expansion-panel-title__icon"},[((v=i.actions)==null?void 0:v.call(i,d.value))??Z(zt,null,null)])]}})]),[[ta,e.ripple]])}),{}}}),NP=Ie({title:String,text:String,bgColor:String,...li(),...dd(),...pn(),...mt(),...BP(),...VP()},"VExpansionPanel"),YV=Fe()({name:"VExpansionPanel",props:NP(),emits:{"group:selected":e=>!0},setup(e,n){let{slots:i}=n;const r=hd(e,Hg),{backgroundColorClasses:o,backgroundColorStyles:u}=tn(()=>e.bgColor),{elevationClasses:c}=_i(e),{roundedClasses:d}=Fn(e),h=be(()=>(r==null?void 0:r.disabled.value)||e.disabled),m=se(()=>r.group.items.value.reduce((b,S,y)=>(r.group.selected.value.includes(S.id)&&b.push(y),b),[])),v=se(()=>{const b=r.group.items.value.findIndex(S=>S.id===r.id);return!r.isSelected.value&&m.value.some(S=>S-b===1)}),p=se(()=>{const b=r.group.items.value.findIndex(S=>S.id===r.id);return!r.isSelected.value&&m.value.some(S=>S-b===-1)});return cn(Hg,r),qe(()=>{const b=!!(i.text||e.text),S=!!(i.title||e.title),y=M2.filterProps(e),w=F2.filterProps(e);return Z(e.tag,{class:Ge(["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":v.value,"v-expansion-panel--after-active":p.value,"v-expansion-panel--disabled":h.value},d.value,o.value,e.class]),style:$e([u.value,e.style])},{default:()=>[te("div",{class:Ge(["v-expansion-panel__shadow",...c.value])},null),Z(St,{defaults:{VExpansionPanelTitle:{...y},VExpansionPanelText:{...w}}},{default:()=>{var x;return[S&&Z(M2,{key:"title"},{default:()=>[i.title?i.title():e.title]}),b&&Z(F2,{key:"text"},{default:()=>[i.text?i.text():e.text]}),(x=i.default)==null?void 0:x.call(i)]}})]})}),{groupItem:r}}}),$V=["default","accordion","inset","popout"],jV=Ie({flat:Boolean,...cd(),...Pu(NP(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Lt(),...et(),...mt(),variant:{type:String,default:"default",validator:e=>$V.includes(e)}},"VExpansionPanels"),XV=Fe()({name:"VExpansionPanels",props:jV(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const{next:r,prev:o}=_u(e,Hg),{themeClasses:u}=Yt(e),c=be(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Rn({VExpansionPanel:{bgColor:be(()=>e.bgColor),collapseIcon:be(()=>e.collapseIcon),color:be(()=>e.color),eager:be(()=>e.eager),elevation:be(()=>e.elevation),expandIcon:be(()=>e.expandIcon),focusable:be(()=>e.focusable),hideActions:be(()=>e.hideActions),readonly:be(()=>e.readonly),ripple:be(()=>e.ripple),rounded:be(()=>e.rounded),static:be(()=>e.static)}}),qe(()=>Z(e.tag,{class:Ge(["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},u.value,c.value,e.class]),style:$e(e.style)},{default:()=>{var d;return[(d=i.default)==null?void 0:d.call(i,{prev:o,next:r})]}})),{next:r,prev:o}}}),KV=Ie({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...kn(jS({active:!0}),["location"]),...od(),...ol(),...yo({transition:"fab-transition"})},"VFab"),ZV=Fe()({name:"VFab",props:KV(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const r=at(e,"modelValue"),o=ze(56),u=Qe(),{resizeRef:c}=So(p=>{p.length&&(o.value=p[0].target.clientHeight)}),d=be(()=>e.app||e.absolute),h=se(()=>{var p;return d.value?((p=e.location)==null?void 0:p.split(" ").shift())??"bottom":!1}),m=se(()=>{var p;return d.value?((p=e.location)==null?void 0:p.split(" ")[1])??"end":!1});va(()=>e.app,()=>{const p=sd({id:e.name,order:se(()=>parseInt(e.order,10)),position:h,layoutSize:se(()=>e.layout?o.value+24:0),elementSize:se(()=>o.value+24),active:se(()=>e.app&&r.value),absolute:be(()=>e.absolute)});On(()=>{u.value=p.layoutItemStyles.value})});const v=Qe();return qe(()=>{const p=Rt.filterProps(e);return te("div",{ref:v,class:Ge(["v-fab",{"v-fab--absolute":e.absolute,"v-fab--app":!!e.app,"v-fab--extended":e.extended,"v-fab--offset":e.offset,[`v-fab--${h.value}`]:d.value,[`v-fab--${m.value}`]:d.value},e.class]),style:$e([e.app?{...u.value}:{height:e.absolute?"100%":"inherit"},e.style])},[te("div",{class:"v-fab__container"},[Z(ea,{appear:e.appear,transition:e.transition},{default:()=>[xn(Z(Rt,Be({ref:c},p,{active:void 0,location:void 0}),i),[[po,e.active]])]})])])}),{}}}),JV=Ie({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...sl({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>Dn(e).every(n=>n!=null&&typeof n=="object")},...rm({clearable:!0})},"VFileInput"),eB=Fe()({name:"VFileInput",inheritAttrs:!1,props:JV(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:i,emit:r,slots:o}=n;const{t:u}=En(),c=at(e,"modelValue",e.modelValue,_=>Dn(_),_=>!e.multiple&&Array.isArray(_)?_[0]:_),{isFocused:d,focus:h,blur:m}=as(e),v=se(()=>typeof e.showSize!="boolean"?e.showSize:void 0),p=se(()=>(c.value??[]).reduce((_,I)=>{let{size:B=0}=I;return _+B},0)),b=se(()=>ww(p.value,v.value)),S=se(()=>(c.value??[]).map(_=>{const{name:I="",size:B=0}=_;return e.showSize?`${I} (${ww(B,v.value)})`:I})),y=se(()=>{var I;const _=((I=c.value)==null?void 0:I.length)??0;return e.showSize?u(e.counterSizeString,_,b.value):u(e.counterString,_)}),w=Qe(),x=Qe(),T=Qe(),D=be(()=>d.value||e.active),P=se(()=>["plain","underlined"].includes(e.variant)),A=ze(!1);function O(){var _;T.value!==document.activeElement&&((_=T.value)==null||_.focus()),d.value||h()}function F(_){var I;(I=T.value)==null||I.click()}function q(_){r("mousedown:control",_)}function R(_){var I;(I=T.value)==null||I.click(),r("click:control",_)}function E(_){_.stopPropagation(),O(),Et(()=>{c.value=[],US(e["onClick:clear"],_)})}function N(_){_.preventDefault(),_.stopImmediatePropagation(),A.value=!0}function G(_){_.preventDefault(),A.value=!1}function M(_){var B,H;if(_.preventDefault(),_.stopImmediatePropagation(),A.value=!1,!((H=(B=_.dataTransfer)==null?void 0:B.files)!=null&&H.length)||!T.value)return;const I=new DataTransfer;for(const Y of _.dataTransfer.files)I.items.add(Y);T.value.files=I.files,T.value.dispatchEvent(new Event("change",{bubbles:!0}))}return je(c,_=>{(!Array.isArray(_)||!_.length)&&T.value&&(T.value.value="")}),qe(()=>{const _=!!(o.counter||e.counter),I=!!(_||o.details),[B,H]=Iu(i),{modelValue:Y,...K}=Bi.filterProps(e),ce=xu.filterProps(e);return Z(Bi,Be({ref:w,modelValue:e.multiple?c.value:c.value[0],class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--dragging":A.value,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":P.value},e.class],style:e.style,"onClick:prepend":F},B,K,{centerAffix:!P.value,focused:d.value}),{...o,default:re=>{let{id:$,isDisabled:j,isDirty:de,isReadonly:ve,isValid:ye}=re;return Z(xu,Be({ref:x,"prepend-icon":e.prependIcon,onMousedown:q,onClick:R,"onClick:clear":E,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},ce,{id:$.value,active:D.value||de.value,dirty:de.value||e.dirty,disabled:j.value,focused:d.value,error:ye.value===!1,onDragover:N,onDrop:M}),{...o,default:Pe=>{var Ae;let{props:{class:le,...pe}}=Pe;return te(nt,null,[te("input",Be({ref:T,type:"file",readonly:ve.value,disabled:j.value,multiple:e.multiple,name:e.name,onClick:Ce=>{Ce.stopPropagation(),ve.value&&Ce.preventDefault(),O()},onChange:Ce=>{if(!Ce.target)return;const Le=Ce.target;c.value=[...Le.files??[]]},onDragleave:G,onFocus:O,onBlur:m},pe,H),null),te("div",{class:Ge(le)},[!!((Ae=c.value)!=null&&Ae.length)&&!e.hideInput&&(o.selection?o.selection({fileNames:S.value,totalBytes:p.value,totalBytesReadable:b.value}):e.chips?S.value.map(Ce=>Z(Oh,{key:Ce,size:"small",text:Ce},null)):S.value.join(", "))])])}})},details:I?re=>{var $,j;return te(nt,null,[($=o.details)==null?void 0:$.call(o,re),_&&te(nt,null,[te("span",null,null),Z(ZS,{active:!!((j=c.value)!=null&&j.length),value:y.value,disabled:e.disabled},o.counter)])])}:void 0})}),vr({},w,x,T)}}),tB=Ie({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Na(),...et(),...li(),...od(),...pn(),...mt({tag:"footer"}),...Lt()},"VFooter"),nB=Fe()({name:"VFooter",props:tB(),setup(e,n){let{slots:i}=n;const r=Qe(),{themeClasses:o}=Yt(e),{backgroundColorClasses:u,backgroundColorStyles:c}=tn(()=>e.color),{borderClasses:d}=mr(e),{elevationClasses:h}=_i(e),{roundedClasses:m}=Fn(e),v=ze(32),{resizeRef:p}=So(S=>{S.length&&(v.value=S[0].target.clientHeight)}),b=se(()=>e.height==="auto"?v.value:parseInt(e.height,10));return va(()=>e.app,()=>{const S=sd({id:e.name,order:se(()=>parseInt(e.order,10)),position:be(()=>"bottom"),layoutSize:b,elementSize:se(()=>e.height==="auto"?void 0:b.value),active:be(()=>e.app),absolute:be(()=>e.absolute)});On(()=>{r.value=S.layoutItemStyles.value})}),qe(()=>Z(e.tag,{ref:p,class:Ge(["v-footer",o.value,u.value,d.value,h.value,m.value,e.class]),style:$e([c.value,e.app?r.value:{height:Ke(e.height)},e.style])},i)),{}}}),iB=Ie({...et(),...dE()},"VForm"),aB=Fe()({name:"VForm",props:iB(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,n){let{slots:i,emit:r}=n;const o=hE(e),u=Qe();function c(h){h.preventDefault(),o.reset()}function d(h){const m=h,v=o.validate();m.then=v.then.bind(v),m.catch=v.catch.bind(v),m.finally=v.finally.bind(v),r("submit",m),m.defaultPrevented||v.then(p=>{var S;let{valid:b}=p;b&&((S=u.value)==null||S.submit())}),m.preventDefault()}return qe(()=>{var h;return te("form",{ref:u,class:Ge(["v-form",e.class]),style:$e(e.style),novalidate:!0,onReset:c,onSubmit:d},[(h=i.default)==null?void 0:h.call(i,o)])}),vr(o,u)}}),rB=Ie({disabled:Boolean,modelValue:{type:Boolean,default:null},...$C()},"VHover"),oB=Fe()({name:"VHover",props:rB(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const r=at(e,"modelValue"),{runOpenDelay:o,runCloseDelay:u}=jC(e,c=>!e.disabled&&(r.value=c));return()=>{var c;return(c=i.default)==null?void 0:c.call(i,{isHovering:r.value,props:{onMouseenter:o,onMouseleave:u}})}}}),sB=Ie({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...ni(),...mt()},"VInfiniteScroll"),lD=fr({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(e,n)=>!0},setup(e,n){let{emit:i}=n;const{intersectionRef:r,isIntersecting:o}=WS();return je(o,async u=>{i("intersect",e.side,u)}),qe(()=>te("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":e.rootMargin},ref:r},[Wr(" ")])),{}}}),lB=Fe()({name:"VInfiniteScroll",props:sB(),emits:{load:e=>!0},setup(e,n){let{slots:i,emit:r}=n;const o=Qe(),u=ze("ok"),c=ze("ok"),d=se(()=>Ke(e.margin)),h=ze(!1);function m(O){if(!o.value)return;const F=e.direction==="vertical"?"scrollTop":"scrollLeft";o.value[F]=O}function v(){if(!o.value)return 0;const O=e.direction==="vertical"?"scrollTop":"scrollLeft";return o.value[O]}function p(){if(!o.value)return 0;const O=e.direction==="vertical"?"scrollHeight":"scrollWidth";return o.value[O]}function b(){if(!o.value)return 0;const O=e.direction==="vertical"?"clientHeight":"clientWidth";return o.value[O]}Ai(()=>{o.value&&(e.side==="start"?m(p()):e.side==="both"&&m(p()/2-b()/2))});function S(O,F){O==="start"?u.value=F:O==="end"&&(c.value=F)}function y(O){return O==="start"?u.value:c.value}let w=0;function x(O,F){h.value=F,h.value&&T(O)}function T(O){if(e.mode!=="manual"&&!h.value)return;const F=y(O);if(!o.value||["empty","loading"].includes(F))return;w=p(),S(O,"loading");function q(R){S(O,R),Et(()=>{R==="empty"||R==="error"||(R==="ok"&&O==="start"&&m(p()-w+v()),e.mode!=="manual"&&Et(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{T(O)})})})}))})}r("load",{side:O,done:q})}const{t:D}=En();function P(O,F){var E,N,G,M,_;if(e.side!==O&&e.side!=="both")return;const q=()=>T(O),R={side:O,props:{onClick:q,color:e.color}};return F==="error"?(E=i.error)==null?void 0:E.call(i,R):F==="empty"?((N=i.empty)==null?void 0:N.call(i,R))??te("div",null,[D(e.emptyText)]):e.mode==="manual"?F==="loading"?((G=i.loading)==null?void 0:G.call(i,R))??Z(wh,{indeterminate:!0,color:e.color},null):((M=i["load-more"])==null?void 0:M.call(i,R))??Z(Rt,{variant:"outlined",color:e.color,onClick:q},{default:()=>[D(e.loadMoreText)]}):((_=i.loading)==null?void 0:_.call(i,R))??Z(wh,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:A}=ii(e);qe(()=>{const O=e.tag,F=e.side==="start"||e.side==="both",q=e.side==="end"||e.side==="both",R=e.mode==="intersect";return Z(O,{ref:o,class:Ge(["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":F,"v-infinite-scroll--end":q}]),style:$e(A.value)},{default:()=>{var E;return[te("div",{class:"v-infinite-scroll__side"},[P("start",u.value)]),F&&R&&Z(lD,{key:"start",side:"start",onIntersect:x,rootMargin:d.value},null),(E=i.default)==null?void 0:E.call(i),q&&R&&Z(lD,{key:"end",side:"end",onIntersect:x,rootMargin:d.value},null),te("div",{class:"v-infinite-scroll__side"},[P("end",c.value)])]}})})}}),UP=Symbol.for("vuetify:v-item-group"),uB=Ie({...et(),...cd({selectedClass:"v-item--selected"}),...mt(),...Lt()},"VItemGroup"),cB=Fe()({name:"VItemGroup",props:uB(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const{themeClasses:r}=Yt(e),{isSelected:o,select:u,next:c,prev:d,selected:h}=_u(e,UP);return()=>Z(e.tag,{class:Ge(["v-item-group",r.value,e.class]),style:$e(e.style)},{default:()=>{var m;return[(m=i.default)==null?void 0:m.call(i,{isSelected:o,select:u,next:c,prev:d,selected:h.value})]}})}}),dB=Fe()({name:"VItem",props:dd(),emits:{"group:selected":e=>!0},setup(e,n){let{slots:i}=n;const{isSelected:r,select:o,toggle:u,selectedClass:c,value:d,disabled:h}=hd(e,UP);return()=>{var m;return(m=i.default)==null?void 0:m.call(i,{isSelected:r.value,selectedClass:c.value,select:o,toggle:u,value:d.value,disabled:h.value})}}}),hB=ns("v-kbd","kbd"),fB=Ie({...et(),...ni(),..._8()},"VLayout"),gB=Fe()({name:"VLayout",props:fB(),setup(e,n){let{slots:i}=n;const{layoutClasses:r,layoutStyles:o,getLayoutItem:u,items:c,layoutRef:d}=O8(e),{dimensionStyles:h}=ii(e);return qe(()=>{var m;return te("div",{ref:d,class:Ge([r.value,e.class]),style:$e([h.value,o.value,e.style])},[(m=i.default)==null?void 0:m.call(i)])}),{getLayoutItem:u,items:c}}}),mB=Ie({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...et(),...od()},"VLayoutItem"),vB=Fe()({name:"VLayoutItem",props:mB(),setup(e,n){let{slots:i}=n;const{layoutItemStyles:r}=sd({id:e.name,order:se(()=>parseInt(e.order,10)),position:be(()=>e.position),elementSize:be(()=>e.size),layoutSize:be(()=>e.size),active:be(()=>e.modelValue),absolute:be(()=>e.absolute)});return()=>{var o;return te("div",{class:Ge(["v-layout-item",e.class]),style:$e([r.value,e.style])},[(o=i.default)==null?void 0:o.call(i)])}}}),SB=Ie({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...et(),...ni(),...mt(),...yo({transition:"fade-transition"})},"VLazy"),pB=Fe()({name:"VLazy",directives:{vIntersect:el},props:SB(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const{dimensionStyles:r}=ii(e),o=at(e,"modelValue");function u(c){o.value||(o.value=c)}return qe(()=>xn(Z(e.tag,{class:Ge(["v-lazy",e.class]),style:$e([r.value,e.style])},{default:()=>[o.value&&Z(ea,{transition:e.transition,appear:!0},{default:()=>{var c;return[(c=i.default)==null?void 0:c.call(i)]}})]}),[[el,{handler:u,options:e.options},null]])),{}}}),yB=Ie({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...et()},"VLocaleProvider"),bB=Fe()({name:"VLocaleProvider",props:yB(),setup(e,n){let{slots:i}=n;const{rtlClasses:r}=ok(e);return qe(()=>{var o;return te("div",{class:Ge(["v-locale-provider",r.value,e.class]),style:$e(e.style)},[(o=i.default)==null?void 0:o.call(i)])}),{}}}),CB=Ie({scrollable:Boolean,...et(),...ni(),...mt({tag:"main"})},"VMain"),wB=Fe()({name:"VMain",props:CB(),setup(e,n){let{slots:i}=n;const{dimensionStyles:r}=ii(e),{mainStyles:o}=L8(),{ssrBootStyles:u}=ld();return qe(()=>Z(e.tag,{class:Ge(["v-main",{"v-main--scrollable":e.scrollable},e.class]),style:$e([o.value,u.value,r.value,e.style])},{default:()=>{var c,d;return[e.scrollable?te("div",{class:"v-main__scroller"},[(c=i.default)==null?void 0:c.call(i)]):(d=i.default)==null?void 0:d.call(i)]}})),{}}});function DB(e){let{rootEl:n,isSticky:i,layoutItemStyles:r}=e;const o=ze(!1),u=ze(0),c=se(()=>{const m=typeof o.value=="boolean"?"top":o.value;return[i.value?{top:"auto",bottom:"auto",height:void 0}:void 0,o.value?{[m]:Ke(u.value)}:{top:r.value.top}]});Ai(()=>{je(i,m=>{m?window.addEventListener("scroll",h,{passive:!0}):window.removeEventListener("scroll",h)},{immediate:!0})}),gi(()=>{window.removeEventListener("scroll",h)});let d=0;function h(){const m=d>window.scrollY?"up":"down",v=n.value.getBoundingClientRect(),p=parseFloat(r.value.top??0),b=window.scrollY-Math.max(0,u.value-p),S=v.height+Math.max(u.value,p)-window.scrollY-window.innerHeight,y=parseFloat(getComputedStyle(n.value).getPropertyValue("--v-body-scroll-y"))||0;v.height<window.innerHeight-p?(o.value="top",u.value=p):m==="up"&&o.value==="bottom"||m==="down"&&o.value==="top"?(u.value=window.scrollY+v.top-y,o.value=!0):m==="down"&&S<=0?(u.value=0,o.value="bottom"):m==="up"&&b<=0&&(y?o.value!=="top"&&(u.value=-b+y+p,o.value="top"):(u.value=v.top+b,o.value="top")),d=window.scrollY}return{isStuck:o,stickyStyles:c}}const xB=100,TB=20;function uD(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function cD(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let n=0;for(let i=e.length-1;i>0;i--){if(e[i].t===e[i-1].t)continue;const r=uD(n),o=(e[i].d-e[i-1].d)/(e[i].t-e[i-1].t);n+=(o-r)*Math.abs(o),i===e.length-1&&(n*=.5)}return uD(n)*1e3}function PB(){const e={};function n(o){Array.from(o.changedTouches).forEach(u=>{(e[u.identifier]??(e[u.identifier]=new e8(TB))).push([o.timeStamp,u])})}function i(o){Array.from(o.changedTouches).forEach(u=>{delete e[u.identifier]})}function r(o){var m;const u=(m=e[o])==null?void 0:m.values().reverse();if(!u)throw new Error(`No samples for touch id ${o}`);const c=u[0],d=[],h=[];for(const v of u){if(c[0]-v[0]>xB)break;d.push({t:v[0],d:v[1].clientX}),h.push({t:v[0],d:v[1].clientY})}return{x:cD(d),y:cD(h),get direction(){const{x:v,y:p}=this,[b,S]=[Math.abs(v),Math.abs(p)];return b>S&&v>=0?"right":b>S&&v<=0?"left":S>b&&p>=0?"down":S>b&&p<=0?"up":IB()}}}return{addMovement:n,endTouch:i,getVelocity:r}}function IB(){throw new Error}function AB(e){let{el:n,isActive:i,isTemporary:r,width:o,touchless:u,position:c}=e;Ai(()=>{window.addEventListener("touchstart",D,{passive:!0}),window.addEventListener("touchmove",P,{passive:!1}),window.addEventListener("touchend",A,{passive:!0})}),gi(()=>{window.removeEventListener("touchstart",D),window.removeEventListener("touchmove",P),window.removeEventListener("touchend",A)});const d=se(()=>["left","right"].includes(c.value)),{addMovement:h,endTouch:m,getVelocity:v}=PB();let p=!1;const b=ze(!1),S=ze(0),y=ze(0);let w;function x(F,q){return(c.value==="left"?F:c.value==="right"?document.documentElement.clientWidth-F:c.value==="top"?F:c.value==="bottom"?document.documentElement.clientHeight-F:th())-(q?o.value:0)}function T(F){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const R=c.value==="left"?(F-y.value)/o.value:c.value==="right"?(document.documentElement.clientWidth-F-y.value)/o.value:c.value==="top"?(F-y.value)/o.value:c.value==="bottom"?(document.documentElement.clientHeight-F-y.value)/o.value:th();return q?nn(R):R}function D(F){if(u.value)return;const q=F.changedTouches[0].clientX,R=F.changedTouches[0].clientY,E=25,N=c.value==="left"?q<E:c.value==="right"?q>document.documentElement.clientWidth-E:c.value==="top"?R<E:c.value==="bottom"?R>document.documentElement.clientHeight-E:th(),G=i.value&&(c.value==="left"?q<o.value:c.value==="right"?q>document.documentElement.clientWidth-o.value:c.value==="top"?R<o.value:c.value==="bottom"?R>document.documentElement.clientHeight-o.value:th());(N||G||i.value&&r.value)&&(w=[q,R],y.value=x(d.value?q:R,i.value),S.value=T(d.value?q:R),p=y.value>-20&&y.value<80,m(F),h(F))}function P(F){const q=F.changedTouches[0].clientX,R=F.changedTouches[0].clientY;if(p){if(!F.cancelable){p=!1;return}const N=Math.abs(q-w[0]),G=Math.abs(R-w[1]);(d.value?N>G&&N>3:G>N&&G>3)?(b.value=!0,p=!1):(d.value?G:N)>3&&(p=!1)}if(!b.value)return;F.preventDefault(),h(F);const E=T(d.value?q:R,!1);S.value=Math.max(0,Math.min(1,E)),E>1?y.value=x(d.value?q:R,!0):E<0&&(y.value=x(d.value?q:R,!1))}function A(F){if(p=!1,!b.value)return;h(F),b.value=!1;const q=v(F.changedTouches[0].identifier),R=Math.abs(q.x),E=Math.abs(q.y);(d.value?R>E&&R>400:E>R&&E>3)?i.value=q.direction===({left:"right",right:"left",top:"down",bottom:"up"}[c.value]||th()):i.value=S.value>.5}const O=se(()=>b.value?{transform:c.value==="left"?`translateX(calc(-100% + ${S.value*o.value}px))`:c.value==="right"?`translateX(calc(100% - ${S.value*o.value}px))`:c.value==="top"?`translateY(calc(-100% + ${S.value*o.value}px))`:c.value==="bottom"?`translateY(calc(100% - ${S.value*o.value}px))`:th(),transition:"none"}:void 0);return va(b,()=>{var R,E;const F=((R=n.value)==null?void 0:R.style.transform)??null,q=((E=n.value)==null?void 0:E.style.transition)??null;On(()=>{var N,G,M,_;(G=n.value)==null||G.style.setProperty("transform",((N=O.value)==null?void 0:N.transform)||"none"),(_=n.value)==null||_.style.setProperty("transition",((M=O.value)==null?void 0:M.transition)||null)}),Ii(()=>{var N,G;(N=n.value)==null||N.style.setProperty("transform",F),(G=n.value)==null||G.style.setProperty("transition",q)})}),{isDragging:b,dragProgress:S,dragStyles:O}}function th(){throw new Error}const _B=["start","end","left","right","top","bottom"],LB=Ie({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>_B.includes(e)},sticky:Boolean,...Na(),...et(),...$C(),...rd({mobile:null}),...li(),...od(),...pn(),...mt({tag:"nav"}),...Lt()},"VNavigationDrawer"),OB=Fe()({name:"VNavigationDrawer",props:LB(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,n){let{attrs:i,emit:r,slots:o}=n;const{isRtl:u}=ti(),{themeClasses:c}=Yt(e),{borderClasses:d}=mr(e),{backgroundColorClasses:h,backgroundColorStyles:m}=tn(()=>e.color),{elevationClasses:v}=_i(e),{displayClasses:p,mobile:b}=$r(e),{roundedClasses:S}=Fn(e),y=G8(),w=at(e,"modelValue",null,re=>!!re),{ssrBootStyles:x}=ld(),{scopeId:T}=gd(),D=Qe(),P=ze(!1),{runOpenDelay:A,runCloseDelay:O}=jC(e,re=>{P.value=re}),F=se(()=>e.rail&&e.expandOnHover&&P.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),q=se(()=>e2(e.location,u.value)),R=be(()=>e.persistent),E=se(()=>!e.permanent&&(b.value||e.temporary)),N=se(()=>e.sticky&&!E.value&&q.value!=="bottom");va(()=>e.expandOnHover&&e.rail!=null,()=>{je(P,re=>r("update:rail",!re))}),va(()=>!e.disableResizeWatcher,()=>{je(E,re=>!e.permanent&&Et(()=>w.value=!re))}),va(()=>!e.disableRouteWatcher&&!!y,()=>{je(y.currentRoute,()=>E.value&&(w.value=!1))}),je(()=>e.permanent,re=>{re&&(w.value=!0)}),e.modelValue==null&&!E.value&&(w.value=e.permanent||!b.value);const{isDragging:G,dragProgress:M}=AB({el:D,isActive:w,isTemporary:E,width:F,touchless:be(()=>e.touchless),position:q}),_=se(()=>{const re=E.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):F.value;return G.value?re*M.value:re}),{layoutItemStyles:I,layoutItemScrimStyles:B}=sd({id:e.name,order:se(()=>parseInt(e.order,10)),position:q,layoutSize:_,elementSize:F,active:xh(w),disableTransitions:be(()=>G.value),absolute:se(()=>e.absolute||N.value&&typeof H.value!="string")}),{isStuck:H,stickyStyles:Y}=DB({rootEl:D,isSticky:N,layoutItemStyles:I}),K=tn(()=>typeof e.scrim=="string"?e.scrim:null),ce=se(()=>({...G.value?{opacity:M.value*.2,transition:"none"}:void 0,...B.value}));return Rn({VList:{bgColor:"transparent"}}),qe(()=>{const re=o.image||e.image;return te(nt,null,[Z(e.tag,Be({ref:D,onMouseenter:A,onMouseleave:O,class:["v-navigation-drawer",`v-navigation-drawer--${q.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":P.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":E.value,"v-navigation-drawer--persistent":R.value,"v-navigation-drawer--active":w.value,"v-navigation-drawer--sticky":N.value},c.value,h.value,d.value,p.value,v.value,S.value,e.class],style:[m.value,I.value,x.value,Y.value,e.style]},T,i),{default:()=>{var $,j,de;return[re&&te("div",{key:"image",class:"v-navigation-drawer__img"},[o.image?Z(St,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},o.image):Z(tl,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),o.prepend&&te("div",{class:"v-navigation-drawer__prepend"},[($=o.prepend)==null?void 0:$.call(o)]),te("div",{class:"v-navigation-drawer__content"},[(j=o.default)==null?void 0:j.call(o)]),o.append&&te("div",{class:"v-navigation-drawer__append"},[(de=o.append)==null?void 0:de.call(o)])]}}),Z(wu,{name:"fade-transition"},{default:()=>[E.value&&(G.value||w.value)&&!!e.scrim&&te("div",Be({class:["v-navigation-drawer__scrim",K.backgroundColorClasses.value],style:[ce.value,K.backgroundColorStyles.value],onClick:()=>{R.value||(w.value=!1)}},T),null)]})])}),{isStuck:H}}}),kB=fr({name:"VNoSsr",setup(e,n){let{slots:i}=n;const r=AT();return()=>{var o;return r.value&&((o=i.default)==null?void 0:o.call(i))}}}),RB=50,EB=500;function FB(e){let{toggleUpDown:n}=e,i=-1,r=-1;Ii(u);function o(d){u(),c(d),i=window.setTimeout(()=>{r=window.setInterval(()=>c(d),RB)},EB)}function u(){window.clearTimeout(i),window.clearInterval(r)}function c(d){n(d==="up")}return{holdStart:o,holdStop:u}}const MB=Ie({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},precision:{type:Number,default:0},...kn(om(),["modelValue","validationValue"])},"VNumberInput"),VB=Fe()({name:"VNumberInput",props:{...MB()},emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const r=Qe(),{holdStart:o,holdStop:u}=FB({toggleUpDown:E}),c=im(e),d=se(()=>c.isDisabled.value||c.isReadonly.value),{isFocused:h,focus:m,blur:v}=as(e);function p(j){let de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.precision;const ve=de==null?String(j):j.toFixed(de);return h.value?Number(ve).toString():ve}const b=at(e,"modelValue",null,j=>j??null,j=>j==null?j??null:nn(Number(j),e.min,e.max)),S=ze(null);On(()=>{h.value&&!d.value||(b.value==null?S.value=null:isNaN(b.value)||(S.value=p(b.value)))});const y=se({get:()=>S.value,set(j){j===null||j===""?(b.value=null,S.value=null):!isNaN(Number(j))&&Number(j)<=e.max&&Number(j)>=e.min&&(b.value=Number(j),S.value=j)}}),w=se(()=>d.value?!1:(b.value??0)+e.step<=e.max),x=se(()=>d.value?!1:(b.value??0)-e.step>=e.min),T=se(()=>e.hideInput?"stacked":e.controlVariant),D=be(()=>T.value==="split"?"$plus":"$collapse"),P=be(()=>T.value==="split"?"$minus":"$expand"),A=be(()=>T.value==="split"?"default":"small"),O=be(()=>T.value==="stacked"?"auto":"100%"),F={props:{onClick:M,onPointerup:_,onPointerdown:I,onPointercancel:H}},q={props:{onClick:M,onPointerup:_,onPointerdown:B,onPointercancel:H}};je(()=>e.precision,()=>K()),Ai(()=>{Y()});function R(j){if(j==null)return 0;const de=j.toString(),ve=de.indexOf(".");return~ve?de.length-ve:0}function E(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(d.value)return;if(b.value==null){y.value=p(nn(0,e.min,e.max));return}let de=Math.max(R(b.value),R(e.step));e.precision!=null&&(de=Math.max(de,e.precision)),j?w.value&&(y.value=p(b.value+e.step,de)):x.value&&(y.value=p(b.value-e.step,de))}function N(j){var Ae;if(!j.data)return;const de=j.target,{value:ve,selectionStart:ye,selectionEnd:Pe}=de??{},le=ve?ve.slice(0,ye)+j.data+ve.slice(Pe):j.data,pe=pO(le,e.precision);/^-?(\d+(\.\d*)?|(\.\d+)|\d*|\.)$/.test(le)||(j.preventDefault(),de.value=pe),e.precision!=null&&(((Ae=le.split(".")[1])==null?void 0:Ae.length)>e.precision&&(j.preventDefault(),de.value=pe),e.precision===0&&le.includes(".")&&(j.preventDefault(),de.value=pe))}async function G(j){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(j.key)||j.ctrlKey||["ArrowDown","ArrowUp"].includes(j.key)&&(j.preventDefault(),Y(),await Et(),j.key==="ArrowDown"?E(!1):E())}function M(j){j.stopPropagation()}function _(j){const de=j.currentTarget;de==null||de.releasePointerCapture(j.pointerId),j.preventDefault(),j.stopPropagation(),u()}function I(j){const de=j.currentTarget;de==null||de.setPointerCapture(j.pointerId),j.preventDefault(),j.stopPropagation(),o("up")}function B(j){const de=j.currentTarget;de==null||de.setPointerCapture(j.pointerId),j.preventDefault(),j.stopPropagation(),o("down")}function H(j){const de=j.currentTarget;de==null||de.releasePointerCapture(j.pointerId),u()}function Y(){if(d.value||!r.value)return;const j=r.value.value;j&&!isNaN(Number(j))?y.value=p(nn(Number(j),e.min,e.max)):y.value=null}function K(){if(!d.value){if(b.value===null||isNaN(b.value)){y.value=null;return}y.value=e.precision==null?String(b.value):b.value.toFixed(e.precision)}}function ce(){if(!d.value){if(b.value===null||isNaN(b.value)){y.value=null;return}y.value=b.value.toString()}}function re(){m(),ce()}function $(){v(),Y()}return qe(()=>{const{modelValue:j,...de}=al.filterProps(e);function ve(){return i.increment?Z(St,{key:"increment-defaults",defaults:{VBtn:{disabled:!w.value,flat:!0,height:O.value,size:A.value,icon:D.value}}},{default:()=>[i.increment(F)]}):Z(Rt,{"aria-hidden":"true","data-testid":"increment",disabled:!w.value,flat:!0,height:O.value,icon:D.value,key:"increment-btn",onClick:M,onPointerdown:I,onPointerup:_,onPointercancel:H,size:A.value,tabindex:"-1"},null)}function ye(){return i.decrement?Z(St,{key:"decrement-defaults",defaults:{VBtn:{disabled:!x.value,flat:!0,height:O.value,size:A.value,icon:P.value}}},{default:()=>[i.decrement(q)]}):Z(Rt,{"aria-hidden":"true","data-testid":"decrement",disabled:!x.value,flat:!0,height:O.value,icon:P.value,key:"decrement-btn",onClick:M,onPointerdown:B,onPointerup:_,onPointercancel:H,size:A.value,tabindex:"-1"},null)}function Pe(){return te("div",{class:"v-number-input__control"},[ye(),Z(js,{vertical:T.value!=="stacked"},null),ve()])}function le(){return!e.hideInput&&!e.inset?Z(js,{vertical:!0},null):void 0}const pe=T.value==="split"?te("div",{class:"v-number-input__control"},[Z(js,{vertical:!0},null),ve()]):e.reverse||T.value==="hidden"?void 0:te(nt,null,[le(),Pe()]),Ae=i["append-inner"]||pe,Ce=T.value==="split"?te("div",{class:"v-number-input__control"},[ye(),Z(js,{vertical:!0},null)]):e.reverse&&T.value!=="hidden"?te(nt,null,[Pe(),le()]):void 0,Le=i["prepend-inner"]||Ce;return Z(al,Be({ref:r,modelValue:y.value,"onUpdate:modelValue":J=>y.value=J,validationValue:b.value,onBeforeinput:N,onFocus:re,onBlur:$,onKeydown:G,class:["v-number-input",{"v-number-input--default":T.value==="default","v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":T.value==="split","v-number-input--stacked":T.value==="stacked"},e.class]},de,{style:e.style,inputmode:"decimal"}),{...i,"append-inner":Ae?function(){var fe;for(var J=arguments.length,ue=new Array(J),U=0;U<J;U++)ue[U]=arguments[U];return te(nt,null,[(fe=i["append-inner"])==null?void 0:fe.call(i,...ue),pe])}:void 0,"prepend-inner":Le?function(){var fe;for(var J=arguments.length,ue=new Array(J),U=0;U<J;U++)ue[U]=arguments[U];return te(nt,null,[Ce,(fe=i["prepend-inner"])==null?void 0:fe.call(i,...ue)])}:void 0})}),vr({},r)}}),BB=Ie({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...ni(),...nm(),...Pu(rm({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),NB=Fe()({name:"VOtpInput",props:BB(),emits:{finish:e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:i,emit:r,slots:o}=n;const{dimensionStyles:u}=ii(e),{isFocused:c,focus:d,blur:h}=as(e),m=at(e,"modelValue","",R=>R==null?[]:String(R).split(""),R=>R.join("")),{t:v}=En(),p=se(()=>Number(e.length)),b=se(()=>Array(p.value).fill(0)),S=Qe(-1),y=Qe(),w=Qe([]),x=se(()=>w.value[S.value]);function T(){if(q(x.value.value)){x.value.value="";return}const R=m.value.slice(),E=x.value.value;R[S.value]=E;let N=null;S.value>m.value.length?N=m.value.length+1:S.value+1!==p.value&&(N="next"),m.value=R,N&&jc(y.value,N)}function D(R){const E=m.value.slice(),N=S.value;let G=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(R.key)&&(R.preventDefault(),R.key==="ArrowLeft"?G="prev":R.key==="ArrowRight"?G="next":["Backspace","Delete"].includes(R.key)&&(E[S.value]="",m.value=E,S.value>0&&R.key==="Backspace"?G="prev":requestAnimationFrame(()=>{var M;(M=w.value[N])==null||M.select()})),requestAnimationFrame(()=>{G!=null&&jc(y.value,G)}))}function P(R,E){var G,M;E.preventDefault(),E.stopPropagation();const N=((G=E==null?void 0:E.clipboardData)==null?void 0:G.getData("Text").slice(0,p.value))??"";q(N)||(m.value=N.split(""),(M=w.value)==null||M[R].blur())}function A(){m.value=[]}function O(R,E){d(),S.value=E}function F(){h(),S.value=-1}function q(R){return e.type==="number"&&/[^0-9]/g.test(R)}return Rn({VField:{color:be(()=>e.color),bgColor:be(()=>e.color),baseColor:be(()=>e.baseColor),disabled:be(()=>e.disabled),error:be(()=>e.error),variant:be(()=>e.variant)}},{scoped:!0}),je(m,R=>{R.length===p.value&&r("finish",R.join(""))},{deep:!0}),je(S,R=>{R<0||Et(()=>{var E;(E=w.value[R])==null||E.select()})}),qe(()=>{var N;const[R,E]=Iu(i);return te("div",Be({class:["v-otp-input",{"v-otp-input--divided":!!e.divider},e.class],style:[e.style]},R),[te("div",{ref:y,class:"v-otp-input__content",style:$e([u.value])},[b.value.map((G,M)=>te(nt,null,[e.divider&&M!==0&&te("span",{class:"v-otp-input__divider"},[e.divider]),Z(xu,{focused:c.value&&e.focusAll||S.value===M,key:M},{...o,loader:void 0,default:()=>te("input",{ref:_=>w.value[M]=_,"aria-label":v(e.label,M+1),autofocus:M===0&&e.autofocus,autocomplete:"one-time-code",class:Ge(["v-otp-input__field"]),disabled:e.disabled,inputmode:e.type==="number"?"numeric":"text",min:e.type==="number"?0:void 0,maxlength:M===0?p.value:"1",placeholder:e.placeholder,type:e.type==="number"?"text":e.type,value:m.value[M],onInput:T,onFocus:_=>O(_,M),onBlur:F,onKeydown:D,onPaste:_=>P(M,_)},null)})])),te("input",Be({class:"v-otp-input-input",type:"hidden"},E,{value:m.value.join("")}),null),Z(Zo,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!e.loading,persistent:!0},{default:()=>{var G;return[((G=o.loader)==null?void 0:G.call(o))??Z(wh,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(N=o.default)==null?void 0:N.call(o)])])}),{blur:()=>{var R;(R=w.value)==null||R.some(E=>E.blur())},focus:()=>{var R;(R=w.value)==null||R[0].focus()},reset:A,isFocused:c}}});function UB(e){return Math.floor(Math.abs(e))*Math.sign(e)}const qB=Ie({scale:{type:[Number,String],default:.5},...et()},"VParallax"),GB=Fe()({name:"VParallax",props:qB(),setup(e,n){let{slots:i}=n;const{intersectionRef:r,isIntersecting:o}=WS(),{resizeRef:u,contentRect:c}=So(),{height:d}=$r(),h=Qe();On(()=>{var S;r.value=u.value=(S=h.value)==null?void 0:S.$el});let m;je(o,S=>{S?(m=OC(r.value),m=m===document.scrollingElement?document:m,m.addEventListener("scroll",b,{passive:!0}),b()):m.removeEventListener("scroll",b)}),gi(()=>{m==null||m.removeEventListener("scroll",b)}),je(d,b),je(()=>{var S;return(S=c.value)==null?void 0:S.height},b);const v=se(()=>1-nn(Number(e.scale)));let p=-1;function b(){o.value&&(cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var O;const S=((O=h.value)==null?void 0:O.$el).querySelector(".v-img__img");if(!S)return;const y=m instanceof Document?document.documentElement.clientHeight:m.clientHeight,w=m instanceof Document?window.scrollY:m.scrollTop,x=r.value.getBoundingClientRect().top+w,T=c.value.height,D=x+(T-y)/2,P=UB((w-D)*v.value),A=Math.max(1,(v.value*(y-T)+T)/T);S.style.setProperty("transform",`translateY(${P}px) scale(${A})`)}))}return qe(()=>Z(tl,{class:Ge(["v-parallax",{"v-parallax--active":o.value},e.class]),style:$e(e.style),ref:h,cover:!0,onLoadstart:b,onLoad:b},i)),{}}}),QB=Ie({...XS({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),zB=Fe()({name:"VRadio",props:QB(),setup(e,n){let{slots:i}=n;return qe(()=>{const r=Du.filterProps(e);return Z(Du,Be(r,{class:["v-radio",e.class],style:e.style,type:"radio"}),i)}),{}}}),HB=Ie({height:{type:[Number,String],default:"auto"},...sl(),...kn(QC(),["multiple"]),trueIcon:{type:ot,default:"$radioOn"},falseIcon:{type:ot,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),WB=Fe()({name:"VRadioGroup",inheritAttrs:!1,props:HB(),emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:i,slots:r}=n;const o=pa(),u=se(()=>e.id||`radio-group-${o}`),c=at(e,"modelValue");return qe(()=>{const[d,h]=Iu(i),m=Bi.filterProps(e),v=Du.filterProps(e),p=r.label?r.label({label:e.label,props:{for:u.value}}):e.label;return Z(Bi,Be({class:["v-radio-group",e.class],style:e.style},d,m,{modelValue:c.value,"onUpdate:modelValue":b=>c.value=b,id:u.value}),{...r,default:b=>{let{id:S,messagesId:y,isDisabled:w,isReadonly:x}=b;return te(nt,null,[p&&Z(Lh,{id:S.value},{default:()=>[p]}),Z(J8,Be(v,{id:S.value,"aria-describedby":y.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:w.value,readonly:x.value,"aria-labelledby":p?S.value:void 0,multiple:!1},h,{modelValue:c.value,"onUpdate:modelValue":T=>c.value=T}),r)])}})}),{}}}),YB=Ie({...nm(),...sl(),...jT(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),$B=Fe()({name:"VRangeSlider",props:YB(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(e,n){let{slots:i,emit:r}=n;const o=Qe(),u=Qe(),c=Qe(),{rtlClasses:d}=ti();function h(N){if(!o.value||!u.value)return;const G=T2(N,o.value.$el,e.direction),M=T2(N,u.value.$el,e.direction),_=Math.abs(G),I=Math.abs(M);return _<I||_===I&&G<0?o.value.$el:u.value.$el}const m=XT(e),v=at(e,"modelValue",void 0,N=>N!=null&&N.length?N.map(G=>m.roundValue(G)):[0,0]),{activeThumbRef:p,hasLabels:b,max:S,min:y,mousePressed:w,onSliderMousedown:x,onSliderTouchstart:T,position:D,trackContainerRef:P,readonly:A}=KT({props:e,steps:m,onSliderStart:()=>{r("start",v.value)},onSliderEnd:N=>{var _;let{value:G}=N;const M=p.value===((_=o.value)==null?void 0:_.$el)?[G,v.value[1]]:[v.value[0],G];!e.strict&&M[0]<M[1]&&(v.value=M),r("end",v.value)},onSliderMove:N=>{var I,B,H,Y;let{value:G}=N;const[M,_]=v.value;!e.strict&&M===_&&M!==y.value&&(p.value=G>M?(I=u.value)==null?void 0:I.$el:(B=o.value)==null?void 0:B.$el,(H=p.value)==null||H.focus()),p.value===((Y=o.value)==null?void 0:Y.$el)?v.value=[Math.min(G,_),_]:v.value=[M,Math.max(M,G)]},getActiveThumb:h}),{isFocused:O,focus:F,blur:q}=as(e),R=se(()=>D(v.value[0])),E=se(()=>D(v.value[1]));return qe(()=>{const N=Bi.filterProps(e),G=!!(e.label||i.label||i.prepend);return Z(Bi,Be({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!i["tick-label"]||b.value,"v-slider--focused":O.value,"v-slider--pressed":w.value,"v-slider--disabled":e.disabled},d.value,e.class],style:e.style,ref:c},N,{focused:O.value}),{...i,prepend:G?M=>{var _,I;return te(nt,null,[((_=i.label)==null?void 0:_.call(i,M))??(e.label?Z(Lh,{class:"v-slider__label",text:e.label},null):void 0),(I=i.prepend)==null?void 0:I.call(i,M)])}:void 0,default:M=>{var B,H;let{id:_,messagesId:I}=M;return te("div",{class:"v-slider__container",onMousedown:A.value?void 0:x,onTouchstartPassive:A.value?void 0:T},[te("input",{id:`${_.value}_start`,name:e.name||_.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:v.value[0]},null),te("input",{id:`${_.value}_stop`,name:e.name||_.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:v.value[1]},null),Z(ZT,{ref:P,start:R.value,stop:E.value},{"tick-label":i["tick-label"]}),Z(P2,{ref:o,"aria-describedby":I.value,focused:O&&p.value===((B=o.value)==null?void 0:B.$el),modelValue:v.value[0],"onUpdate:modelValue":Y=>v.value=[Y,v.value[1]],onFocus:Y=>{var K,ce,re,$;F(),p.value=(K=o.value)==null?void 0:K.$el,S.value!==y.value&&v.value[0]===v.value[1]&&v.value[1]===y.value&&Y.relatedTarget!==((ce=u.value)==null?void 0:ce.$el)&&((re=o.value)==null||re.$el.blur(),($=u.value)==null||$.$el.focus())},onBlur:()=>{q(),p.value=void 0},min:y.value,max:v.value[1],position:R.value,ripple:e.ripple},{"thumb-label":i["thumb-label"]}),Z(P2,{ref:u,"aria-describedby":I.value,focused:O&&p.value===((H=u.value)==null?void 0:H.$el),modelValue:v.value[1],"onUpdate:modelValue":Y=>v.value=[v.value[0],Y],onFocus:Y=>{var K,ce,re,$;F(),p.value=(K=u.value)==null?void 0:K.$el,S.value!==y.value&&v.value[0]===v.value[1]&&v.value[0]===S.value&&Y.relatedTarget!==((ce=o.value)==null?void 0:ce.$el)&&((re=u.value)==null||re.$el.blur(),($=o.value)==null||$.$el.focus())},onBlur:()=>{q(),p.value=void 0},min:v.value[0],max:S.value,position:E.value,ripple:e.ripple},{"thumb-label":i["thumb-label"]})])}})}),{}}}),jB=Ie({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:ot,default:"$ratingEmpty"},fullIcon:{type:ot,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...et(),...mi(),...is(),...mt(),...Lt()},"VRating"),XB=Fe()({name:"VRating",props:jB(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const{t:r}=En(),{themeClasses:o}=Yt(e),u=at(e,"modelValue"),c=se(()=>nn(parseFloat(u.value),0,Number(e.length))),d=se(()=>$o(Number(e.length),1)),h=se(()=>d.value.flatMap(x=>e.halfIncrements?[x-.5,x]:[x])),m=ze(-1),v=se(()=>h.value.map(x=>{const T=e.hover&&m.value>-1,D=c.value>=x,P=m.value>=x,O=(T?P:D)?e.fullIcon:e.emptyIcon,F=e.activeColor??e.color,q=D||P?F:e.color;return{isFilled:D,isHovered:P,icon:O,color:q}})),p=se(()=>[0,...h.value].map(x=>{function T(){m.value=x}function D(){m.value=-1}function P(){e.disabled||e.readonly||(u.value=c.value===x&&e.clearable?0:x)}return{onMouseenter:e.hover?T:void 0,onMouseleave:e.hover?D:void 0,onClick:P}})),b=pa(),S=se(()=>e.name??`v-rating-${b}`);function y(x){var E,N;let{value:T,index:D,showStar:P=!0}=x;const{onMouseenter:A,onMouseleave:O,onClick:F}=p.value[D+1],q=`${S.value}-${String(T).replace(".","-")}`,R={color:(E=v.value[D])==null?void 0:E.color,density:e.density,disabled:e.disabled,icon:(N=v.value[D])==null?void 0:N.icon,ripple:e.ripple,size:e.size,variant:"plain"};return te(nt,null,[te("label",{for:q,class:Ge({"v-rating__item--half":e.halfIncrements&&T%1>0,"v-rating__item--full":e.halfIncrements&&T%1===0}),onMouseenter:A,onMouseleave:O,onClick:F},[te("span",{class:"v-rating__hidden"},[r(e.itemAriaLabel,T,e.length)]),P?i.item?i.item({...v.value[D],props:R,value:T,index:D,rating:c.value}):Z(Rt,Be({"aria-label":r(e.itemAriaLabel,T,e.length)},R),null):void 0]),te("input",{class:"v-rating__hidden",name:S.value,id:q,type:"radio",value:T,checked:c.value===T,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function w(x){return i["item-label"]?i["item-label"](x):x.label?te("span",null,[x.label]):te("span",null,[Wr(" ")])}return qe(()=>{var T;const x=!!((T=e.itemLabels)!=null&&T.length)||i["item-label"];return Z(e.tag,{class:Ge(["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},o.value,e.class]),style:$e(e.style)},{default:()=>[Z(y,{value:0,index:-1,showStar:!1},null),d.value.map((D,P)=>{var A,O;return te("div",{class:"v-rating__wrapper"},[x&&e.itemLabelPosition==="top"?w({value:D,index:P,label:(A=e.itemLabels)==null?void 0:A[P]}):void 0,te("div",{class:"v-rating__item"},[e.halfIncrements?te(nt,null,[Z(y,{value:D-.5,index:P*2},null),Z(y,{value:D,index:P*2+1},null)]):Z(y,{value:D,index:P},null)]),x&&e.itemLabelPosition==="bottom"?w({value:D,index:P,label:(O=e.itemLabels)==null?void 0:O[P]}):void 0])})]})}),{}}}),KB={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function ZB(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return te("div",{class:Ge(["v-skeleton-loader__bone",`v-skeleton-loader__${e}`])},[n])}function dD(e){const[n,i]=e.split("@");return Array.from({length:i}).map(()=>dp(n))}function dp(e){let n=[];if(!e)return n;const i=KB[e];if(e!==i){if(e.includes(","))return hD(e);if(e.includes("@"))return dD(e);i.includes(",")?n=hD(i):i.includes("@")?n=dD(i):i&&n.push(dp(i))}return[ZB(e,n)]}function hD(e){return e.replace(/\s/g,"").split(",").map(dp)}const JB=Ie({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...ni(),...li(),...Lt()},"VSkeletonLoader"),eN=Fe()({name:"VSkeletonLoader",props:JB(),setup(e,n){let{slots:i}=n;const{backgroundColorClasses:r,backgroundColorStyles:o}=tn(()=>e.color),{dimensionStyles:u}=ii(e),{elevationClasses:c}=_i(e),{themeClasses:d}=Yt(e),{t:h}=En(),m=se(()=>dp(Dn(e.type).join(",")));return qe(()=>{var b;const v=!i.default||e.loading,p=e.boilerplate||!v?{}:{ariaLive:"polite",ariaLabel:h(e.loadingText),role:"alert"};return te("div",Be({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},d.value,r.value,c.value],style:[o.value,v?u.value:{}]},p),[v?m.value:(b=i.default)==null?void 0:b.call(i)])}),{}}}),tN=Fe()({name:"VSlideGroupItem",props:dd(),emits:{"group:selected":e=>!0},setup(e,n){let{slots:i}=n;const r=hd(e,lT);return()=>{var o;return(o=i.default)==null?void 0:o.call(i,{isSelected:r.isSelected.value,select:r.select,toggle:r.toggle,selectedClass:r.selectedClass.value})}}});function nN(e){const n=ze(e());let i=-1;function r(){clearInterval(i)}function o(){r(),Et(()=>n.value=e())}function u(c){const d=c?getComputedStyle(c):{transitionDuration:.2},h=parseFloat(d.transitionDuration)*1e3||200;if(r(),n.value<=0)return;const m=performance.now();i=window.setInterval(()=>{const v=performance.now()-m+h;n.value=Math.max(e()-v,0),n.value<=0&&r()},h)}return Ii(r),{clear:r,time:n,start:u,reset:o}}const qP=Ie({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...ol({location:"bottom"}),...Ah(),...pn(),...jr(),...Lt(),...kn(am({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),V2=Fe()({name:"VSnackbar",props:qP(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const r=at(e,"modelValue"),{positionClasses:o}=_h(e),{scopeId:u}=gd(),{themeClasses:c}=Yt(e),{colorClasses:d,colorStyles:h,variantClasses:m}=ud(e),{roundedClasses:v}=Fn(e),p=nN(()=>Number(e.timeout)),b=Qe(),S=Qe(),y=ze(!1),w=ze(0),x=Qe(),T=Tt(Mg,void 0);va(()=>!!T,()=>{const G=L8();On(()=>{x.value=G.mainStyles.value})}),je(r,P),je(()=>e.timeout,P),Ai(()=>{r.value&&P()});let D=-1;function P(){p.reset(),window.clearTimeout(D);const G=Number(e.timeout);if(!r.value||G===-1)return;const M=xC(S.value);p.start(M),D=window.setTimeout(()=>{r.value=!1},G)}function A(){p.reset(),window.clearTimeout(D)}function O(){y.value=!0,A()}function F(){y.value=!1,P()}function q(G){w.value=G.touches[0].clientY}function R(G){Math.abs(w.value-G.changedTouches[0].clientY)>50&&(r.value=!1)}function E(){y.value&&F()}const N=se(()=>e.location.split(" ").reduce((G,M)=>(G[`v-snackbar--${M}`]=!0,G),{}));return qe(()=>{const G=Zo.filterProps(e),M=!!(i.default||i.text||e.text);return Z(Zo,Be({ref:b,class:["v-snackbar",{"v-snackbar--active":r.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},N.value,o.value,e.class],style:[x.value,e.style]},G,{modelValue:r.value,"onUpdate:modelValue":_=>r.value=_,contentProps:Be({class:["v-snackbar__wrapper",c.value,d.value,v.value,m.value],style:[h.value],onPointerenter:O,onPointerleave:F},G.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:q,onTouchend:R,onAfterLeave:E},u),{default:()=>{var _,I;return[Au(!1,"v-snackbar"),e.timer&&!y.value&&te("div",{key:"timer",class:"v-snackbar__timer"},[Z(YS,{ref:S,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":p.time.value},null)]),M&&te("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((_=i.text)==null?void 0:_.call(i))??e.text,(I=i.default)==null?void 0:I.call(i)]),i.actions&&Z(St,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[te("div",{class:"v-snackbar__actions"},[i.actions({isActive:r})])]})]},activator:i.activator})}),vr({},b)}}),iN=Ie({closable:[Boolean,String],closeText:{type:String,default:"$vuetify.dismiss"},modelValue:{type:Array,default:()=>[]},...kn(qP(),["modelValue"])},"VSnackbarQueue"),aN=Fe()({name:"VSnackbarQueue",props:iN(),emits:{"update:modelValue":e=>!0},setup(e,n){let{emit:i,slots:r}=n;const{t:o}=En(),u=ze(!1),c=ze(!1),d=ze();je(()=>e.modelValue.length,(b,S)=>{!c.value&&b>S&&m()}),je(u,b=>{b&&(c.value=!0)});function h(){e.modelValue.length?m():(d.value=void 0,c.value=!1)}function m(){const[b,...S]=e.modelValue;i("update:modelValue",S),d.value=typeof b=="string"?{text:b}:b,Et(()=>{u.value=!0})}function v(){u.value=!1}const p=se(()=>({color:typeof e.closable=="string"?e.closable:void 0,text:o(e.closeText)}));qe(()=>{const b=!!(e.closable||r.actions),{modelValue:S,...y}=V2.filterProps(e);return te(nt,null,[c.value&&!!d.value&&(r.default?Z(St,{defaults:{VSnackbar:d.value}},{default:()=>[r.default({item:d.value})]}):Z(V2,Be(y,d.value,{modelValue:u.value,"onUpdate:modelValue":w=>u.value=w,onAfterLeave:h}),{text:r.text?()=>{var w;return(w=r.text)==null?void 0:w.call(r,{item:d.value})}:void 0,actions:b?()=>te(nt,null,[r.actions?Z(St,{defaults:{VBtn:p.value}},{default:()=>[r.actions({item:d.value,props:{onClick:v}})]}):Z(Rt,Be(p.value,{onClick:v}),null)]):void 0}))])})}}),GP=Ie({autoDraw:Boolean,autoDrawDuration:[Number,String],autoDrawEasing:{type:String,default:"ease"},color:String,gradient:{type:Array,default:()=>[]},gradientDirection:{type:String,validator:e=>["top","bottom","left","right"].includes(e),default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:()=>[]},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},id:String,itemValue:{type:String,default:"value"},modelValue:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:[Boolean,String,Number],width:{type:[Number,String],default:300}},"Line"),QP=Ie({autoLineWidth:Boolean,...GP()},"VBarline"),fD=Fe()({name:"VBarline",props:QP(),setup(e,n){let{slots:i}=n;const r=pa(),o=se(()=>e.id||`barline-${r}`),u=se(()=>Number(e.autoDrawDuration)||500),c=se(()=>!!(e.showLabels||e.labels.length>0||i!=null&&i.label)),d=se(()=>parseFloat(e.lineWidth)||4),h=se(()=>Math.max(e.modelValue.length*d.value,Number(e.width))),m=se(()=>({minX:0,maxX:h.value,minY:0,maxY:parseInt(e.height,10)})),v=se(()=>e.modelValue.map(x=>Jn(x,e.itemValue,x)));function p(x,T){const{minX:D,maxX:P,minY:A,maxY:O}=T,F=x.length;let q=e.max!=null?Number(e.max):Math.max(...x),R=e.min!=null?Number(e.min):Math.min(...x);R>0&&e.min==null&&(R=0),q<0&&e.max==null&&(q=0);const E=P/F,N=(O-A)/(q-R||1),G=O-Math.abs(R*N);return x.map((M,_)=>{const I=Math.abs(N*M);return{x:D+_*E,y:G-I+ +(M<0)*I,height:I,value:M}})}const b=se(()=>{const x=[],T=p(v.value,m.value),D=T.length;for(let P=0;x.length<D;P++){const A=T[P];let O=e.labels[P];O||(O=typeof A=="object"?A.value:A),x.push({x:A.x,value:String(O)})}return x}),S=se(()=>p(v.value,m.value)),y=se(()=>(Math.abs(S.value[0].x-S.value[1].x)-d.value)/2),w=se(()=>typeof e.smooth=="boolean"?e.smooth?2:0:Number(e.smooth));qe(()=>{const x=e.gradient.slice().length?e.gradient.slice().reverse():[""];return te("svg",{display:"block"},[te("defs",null,[te("linearGradient",{id:o.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[x.map((T,D)=>te("stop",{offset:D/Math.max(x.length-1,1),"stop-color":T||"currentColor"},null))])]),te("clipPath",{id:`${o.value}-clip`},[S.value.map(T=>te("rect",{x:T.x+y.value,y:T.y,width:d.value,height:T.height,rx:w.value,ry:w.value},[e.autoDraw&&te(nt,null,[te("animate",{attributeName:"y",from:T.y+T.height,to:T.y,dur:`${u.value}ms`,fill:"freeze"},null),te("animate",{attributeName:"height",from:"0",to:T.height,dur:`${u.value}ms`,fill:"freeze"},null)])]))]),c.value&&te("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[b.value.map((T,D)=>{var P;return te("text",{x:T.x+y.value+d.value/2,y:parseInt(e.height,10)-2+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[((P=i.label)==null?void 0:P.call(i,{index:D,value:T.value}))??T.value])})]),te("g",{"clip-path":`url(#${o.value}-clip)`,fill:`url(#${o.value})`},[te("rect",{x:0,y:0,width:Math.max(e.modelValue.length*d.value,Number(e.width)),height:e.height},null)])])})}});function rN(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:75;if(e.length===0)return"";const o=e.shift(),u=e[e.length-1];return(i?`M${o.x} ${r-o.x+2} L${o.x} ${o.y}`:`M${o.x} ${o.y}`)+e.map((c,d)=>{const h=e[d+1],m=e[d-1]||o,v=h&&oN(h,c,m);if(!h||v)return`L${c.x} ${c.y}`;const p=Math.min(gD(m,c),gD(h,c)),S=p/2<n?p/2:n,y=mD(m,c,S),w=mD(h,c,S);return`L${y.x} ${y.y}S${c.x} ${c.y} ${w.x} ${w.y}`}).join("")+(i?`L${u.x} ${r-o.x+2} Z`:"")}function Av(e){return parseInt(e,10)}function oN(e,n,i){return Av(e.x+i.x)===Av(2*n.x)&&Av(e.y+i.y)===Av(2*n.y)}function gD(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function mD(e,n,i){const r={x:e.x-n.x,y:e.y-n.y},o=Math.sqrt(r.x*r.x+r.y*r.y),u={x:r.x/o,y:r.y/o};return{x:n.x+u.x*i,y:n.y+u.y*i}}const zP=Ie({fill:Boolean,...GP()},"VTrendline"),vD=Fe()({name:"VTrendline",props:zP(),setup(e,n){let{slots:i}=n;const r=pa(),o=se(()=>e.id||`trendline-${r}`),u=se(()=>Number(e.autoDrawDuration)||(e.fill?500:2e3)),c=Qe(0),d=Qe(null);function h(x,T){const{minX:D,maxX:P,minY:A,maxY:O}=T,F=x.length,q=e.max!=null?Number(e.max):Math.max(...x),R=e.min!=null?Number(e.min):Math.min(...x),E=(P-D)/(F-1),N=(O-A)/(q-R||1);return x.map((G,M)=>({x:D+M*E,y:O-(G-R)*N,value:G}))}const m=se(()=>!!(e.showLabels||e.labels.length>0||i!=null&&i.label)),v=se(()=>parseFloat(e.lineWidth)||4),p=se(()=>Number(e.width)),b=se(()=>{const x=Number(e.padding);return{minX:x,maxX:p.value-x,minY:x,maxY:parseInt(e.height,10)-x}}),S=se(()=>e.modelValue.map(x=>Jn(x,e.itemValue,x))),y=se(()=>{const x=[],T=h(S.value,b.value),D=T.length;for(let P=0;x.length<D;P++){const A=T[P];let O=e.labels[P];O||(O=typeof A=="object"?A.value:A),x.push({x:A.x,value:String(O)})}return x});je(()=>e.modelValue,async()=>{if(await Et(),!e.autoDraw||!d.value)return;const x=d.value,T=x.getTotalLength();e.fill?(x.style.transformOrigin="bottom center",x.style.transition="none",x.style.transform="scaleY(0)",x.getBoundingClientRect(),x.style.transition=`transform ${u.value}ms ${e.autoDrawEasing}`,x.style.transform="scaleY(1)"):(x.style.strokeDasharray=`${T}`,x.style.strokeDashoffset=`${T}`,x.getBoundingClientRect(),x.style.transition=`stroke-dashoffset ${u.value}ms ${e.autoDrawEasing}`,x.style.strokeDashoffset="0"),c.value=T},{immediate:!0});function w(x){const T=typeof e.smooth=="boolean"?e.smooth?8:0:Number(e.smooth);return rN(h(S.value,b.value),T,x,parseInt(e.height,10))}qe(()=>{var T;const x=e.gradient.slice().length?e.gradient.slice().reverse():[""];return te("svg",{display:"block","stroke-width":parseFloat(e.lineWidth)??4},[te("defs",null,[te("linearGradient",{id:o.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[x.map((D,P)=>te("stop",{offset:P/Math.max(x.length-1,1),"stop-color":D||"currentColor"},null))])]),m.value&&te("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[y.value.map((D,P)=>{var A;return te("text",{x:D.x+v.value/2+v.value/2,y:parseInt(e.height,10)-4+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[((A=i.label)==null?void 0:A.call(i,{index:P,value:D.value}))??D.value])})]),te("path",{ref:d,d:w(e.fill),fill:e.fill?`url(#${o.value})`:"none",stroke:e.fill?"none":`url(#${o.value})`},null),e.fill&&te("path",{d:w(!1),fill:"none",stroke:e.color??((T=e.gradient)==null?void 0:T[0])},null)])})}}),sN=Ie({type:{type:String,default:"trend"},...QP(),...zP()},"VSparkline"),lN=Fe()({name:"VSparkline",props:sN(),setup(e,n){let{slots:i}=n;const{textColorClasses:r,textColorStyles:o}=Vi(()=>e.color),u=se(()=>!!(e.showLabels||e.labels.length>0||i!=null&&i.label)),c=se(()=>{let d=parseInt(e.height,10);return u.value&&(d+=parseInt(e.labelSize,10)*1.5),d});qe(()=>{const d=e.type==="trend"?vD:fD,h=e.type==="trend"?vD.filterProps(e):fD.filterProps(e);return Z(d,Be({key:e.type,class:r.value,style:o.value,viewBox:`0 0 ${e.width} ${parseInt(c.value,10)}`},h),i)})}}),uN=Ie({...et(),...OT({offset:8,minWidth:0,openDelay:0,closeDelay:100,location:"top center",transition:"scale-transition"})},"VSpeedDial"),cN=Fe()({name:"VSpeedDial",props:uN(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const r=at(e,"modelValue"),o=Qe(),u=se(()=>{var m;const[d,h="center"]=((m=e.location)==null?void 0:m.split(" "))??[];return`${d} ${h}`}),c=se(()=>({[`v-speed-dial__content--${u.value.replace(" ","-")}`]:!0}));return qe(()=>{const d=Dh.filterProps(e);return Z(Dh,Be(d,{modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,class:e.class,style:e.style,contentClass:["v-speed-dial__content",c.value,e.contentClass],location:u.value,ref:o,transition:"fade-transition"}),{...i,default:h=>Z(St,{defaults:{VBtn:{size:"small"}}},{default:()=>[Z(ea,{appear:!0,group:!0,transition:e.transition},{default:()=>{var m;return[(m=i.default)==null?void 0:m.call(i,h)]}})]})})}),{}}}),p5=Symbol.for("vuetify:v-stepper"),HP=Ie({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),WP=Fe()({name:"VStepperActions",props:HP(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,n){let{emit:i,slots:r}=n;const{t:o}=En();function u(){i("click:prev")}function c(){i("click:next")}return qe(()=>{const d={onClick:u},h={onClick:c};return te("div",{class:"v-stepper-actions"},[Z(St,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:o(e.prevText),variant:"text"}}},{default:()=>{var m;return[((m=r.prev)==null?void 0:m.call(r,{props:d}))??Z(Rt,d,null)]}}),Z(St,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:o(e.nextText),variant:"tonal"}}},{default:()=>{var m;return[((m=r.next)==null?void 0:m.call(r,{props:h}))??Z(Rt,h,null)]}})])}),{}}}),YP=ns("v-stepper-header"),dN=Ie({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:ot,default:"$complete"},editable:Boolean,editIcon:{type:ot,default:"$edit"},error:Boolean,errorIcon:{type:ot,default:"$error"},icon:ot,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),hN=Ie({...dN(),...dd()},"VStepperItem"),$P=Fe()({name:"VStepperItem",directives:{vRipple:ta},props:hN(),emits:{"group:selected":e=>!0},setup(e,n){let{slots:i}=n;const r=hd(e,p5,!0),o=se(()=>(r==null?void 0:r.value.value)??e.value),u=se(()=>e.rules.every(b=>b()===!0)),c=se(()=>!e.disabled&&e.editable),d=se(()=>!e.disabled&&e.editable),h=se(()=>e.error||!u.value),m=se(()=>e.complete||e.rules.length>0&&u.value),v=se(()=>h.value?e.errorIcon:m.value?e.completeIcon:r.isSelected.value&&e.editable?e.editIcon:e.icon),p=se(()=>({canEdit:d.value,hasError:h.value,hasCompleted:m.value,title:e.title,subtitle:e.subtitle,step:o.value,value:e.value}));return qe(()=>{var x,T,D;const b=(!r||r.isSelected.value||m.value||d.value)&&!h.value&&!e.disabled,S=!!(e.title!=null||i.title),y=!!(e.subtitle!=null||i.subtitle);function w(){r==null||r.toggle()}return xn(te("button",{class:Ge(["v-stepper-item",{"v-stepper-item--complete":m.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":h.value},r==null?void 0:r.selectedClass.value]),disabled:!e.editable,type:"button",onClick:w},[c.value&&Au(!0,"v-stepper-item"),Z(Yr,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:b?e.color:void 0,size:24},{default:()=>{var P;return[((P=i.icon)==null?void 0:P.call(i,p.value))??(v.value?Z(zt,{icon:v.value},null):o.value)]}}),te("div",{class:"v-stepper-item__content"},[S&&te("div",{key:"title",class:"v-stepper-item__title"},[((x=i.title)==null?void 0:x.call(i,p.value))??e.title]),y&&te("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((T=i.subtitle)==null?void 0:T.call(i,p.value))??e.subtitle]),(D=i.default)==null?void 0:D.call(i,p.value)])]),[[ta,e.ripple&&e.editable,null]])}),{}}}),fN=Ie({...kn(ep(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),jP=Fe()({name:"VStepperWindow",props:fN(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const r=Tt(p5,null),o=at(e,"modelValue"),u=se({get(){var c;return o.value!=null||!r?o.value:(c=r.items.value.find(d=>r.selected.value.includes(d.id)))==null?void 0:c.value},set(c){o.value=c}});return qe(()=>{const c=Jc.filterProps(e);return Z(Jc,Be({_as:"VStepperWindow"},c,{modelValue:u.value,"onUpdate:modelValue":d=>u.value=d,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),i)}),{}}}),gN=Ie({...tp()},"VStepperWindowItem"),XP=Fe()({name:"VStepperWindowItem",props:gN(),setup(e,n){let{slots:i}=n;return qe(()=>{const r=ed.filterProps(e);return Z(ed,Be({_as:"VStepperWindowItem"},r,{class:["v-stepper-window-item",e.class],style:e.style}),i)}),{}}}),mN=Ie({altLabels:Boolean,bgColor:String,completeIcon:ot,editIcon:ot,editable:Boolean,errorIcon:ot,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...rd()},"Stepper"),vN=Ie({...mN(),...cd({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...n5(),...Pu(HP(),["prevText","nextText"])},"VStepper"),SN=Fe()({name:"VStepper",props:vN(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const{items:r,next:o,prev:u,selected:c}=_u(e,p5),{displayClasses:d,mobile:h}=$r(e),{completeIcon:m,editIcon:v,errorIcon:p,color:b,editable:S,prevText:y,nextText:w}=Th(e),x=se(()=>e.items.map((P,A)=>{const O=Jn(P,e.itemTitle,P),F=Jn(P,e.itemValue,A+1);return{title:O,value:F,raw:P}})),T=se(()=>r.value.findIndex(P=>c.value.includes(P.id))),D=se(()=>e.disabled?e.disabled:T.value===0?"prev":T.value===r.value.length-1?"next":!1);return Rn({VStepperItem:{editable:S,errorIcon:p,completeIcon:m,editIcon:v,prevText:y,nextText:w},VStepperActions:{color:b,disabled:D,prevText:y,nextText:w}}),qe(()=>{const P=Qg.filterProps(e),A=!!(i.header||e.items.length),O=e.items.length>0,F=!e.hideActions&&!!(O||i.actions);return Z(Qg,Be(P,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":h.value},d.value,e.class],style:e.style}),{default:()=>{var q,R;return[A&&Z(YP,{key:"stepper-header"},{default:()=>[x.value.map((E,N)=>{let{raw:G,...M}=E;return te(nt,null,[!!N&&Z(js,null,null),Z($P,M,{default:i[`header-item.${M.value}`]??i.header,icon:i.icon,title:i.title,subtitle:i.subtitle})])})]}),O&&Z(jP,{key:"stepper-window"},{default:()=>[x.value.map(E=>Z(XP,{value:E.value},{default:()=>{var N,G;return((N=i[`item.${E.value}`])==null?void 0:N.call(i,E))??((G=i.item)==null?void 0:G.call(i,E))}}))]}),(q=i.default)==null?void 0:q.call(i,{prev:u,next:o}),F&&(((R=i.actions)==null?void 0:R.call(i,{next:o,prev:u}))??Z(WP,{key:"stepper-actions","onClick:prev":u,"onClick:next":o},i))]}})}),{prev:u,next:o}}}),pN=Ie({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...sl(),...XS()},"VSwitch"),yN=Fe()({name:"VSwitch",inheritAttrs:!1,props:pN(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,n){let{attrs:i,slots:r}=n;const o=at(e,"indeterminate"),u=at(e,"modelValue"),{loaderClasses:c}=Zg(e),{isFocused:d,focus:h,blur:m}=as(e),v=Qe(),p=Ht&&window.matchMedia("(forced-colors: active)").matches,b=be(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),S=pa(),y=be(()=>e.id||`switch-${S}`);function w(){o.value&&(o.value=!1)}function x(T){var D,P;T.stopPropagation(),T.preventDefault(),(P=(D=v.value)==null?void 0:D.input)==null||P.click()}return qe(()=>{const[T,D]=Iu(i),P=Bi.filterProps(e),A=Du.filterProps(e);return Z(Bi,Be({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":o.value},c.value,e.class]},T,P,{modelValue:u.value,"onUpdate:modelValue":O=>u.value=O,id:y.value,focused:d.value,style:e.style}),{...r,default:O=>{let{id:F,messagesId:q,isDisabled:R,isReadonly:E,isValid:N}=O;const G={model:u,isValid:N};return Z(Du,Be({ref:v},A,{modelValue:u.value,"onUpdate:modelValue":[M=>u.value=M,w],id:F.value,"aria-describedby":q.value,type:"checkbox","aria-checked":o.value?"mixed":void 0,disabled:R.value,readonly:E.value,onFocus:h,onBlur:m},D),{...r,default:M=>{let{backgroundColorClasses:_,backgroundColorStyles:I}=M;return te("div",{class:Ge(["v-switch__track",p?void 0:_.value]),style:$e(I.value),onClick:x},[r["track-true"]&&te("div",{key:"prepend",class:"v-switch__track-true"},[r["track-true"](G)]),r["track-false"]&&te("div",{key:"append",class:"v-switch__track-false"},[r["track-false"](G)])])},input:M=>{let{inputNode:_,icon:I,backgroundColorClasses:B,backgroundColorStyles:H}=M;return te(nt,null,[_,te("div",{class:Ge(["v-switch__thumb",{"v-switch__thumb--filled":I||e.loading},e.inset||p?void 0:B.value]),style:$e(e.inset?void 0:H.value)},[r.thumb?Z(St,{defaults:{VIcon:{icon:I,size:"x-small"}}},{default:()=>[r.thumb({...G,icon:I})]}):Z(BC,null,{default:()=>[e.loading?Z(Jg,{name:"v-switch",active:!0,color:N.value===!1?void 0:b.value},{default:Y=>r.loader?r.loader(Y):Z(wh,{active:Y.isActive,color:Y.color,indeterminate:!0,size:"16",width:"2"},null)}):I&&Z(zt,{key:String(I),icon:I,size:"x-small"},null)]})])])}})}})}),{}}}),bN=Ie({color:String,height:[Number,String],window:Boolean,...et(),...li(),...od(),...pn(),...mt(),...Lt()},"VSystemBar"),CN=Fe()({name:"VSystemBar",props:bN(),setup(e,n){let{slots:i}=n;const{themeClasses:r}=Yt(e),{backgroundColorClasses:o,backgroundColorStyles:u}=tn(()=>e.color),{elevationClasses:c}=_i(e),{roundedClasses:d}=Fn(e),{ssrBootStyles:h}=ld(),m=se(()=>e.height??(e.window?32:24)),{layoutItemStyles:v}=sd({id:e.name,order:se(()=>parseInt(e.order,10)),position:ze("top"),layoutSize:m,elementSize:m,active:se(()=>!0),absolute:be(()=>e.absolute)});return qe(()=>Z(e.tag,{class:Ge(["v-system-bar",{"v-system-bar--window":e.window},r.value,o.value,c.value,d.value,e.class]),style:$e([u.value,v.value,h.value,e.style])},i)),{}}}),y5=Symbol.for("vuetify:v-tabs"),wN=Ie({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...kn(jS({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),KP=Fe()({name:"VTab",props:wN(),setup(e,n){let{slots:i,attrs:r}=n;const{textColorClasses:o,textColorStyles:u}=Vi(()=>e.sliderColor),c=Qe(),d=Qe(),h=se(()=>e.direction==="horizontal"),m=se(()=>{var p,b;return((b=(p=c.value)==null?void 0:p.group)==null?void 0:b.isSelected.value)??!1});function v(p){var S,y;let{value:b}=p;if(b){const w=(y=(S=c.value)==null?void 0:S.$el.parentElement)==null?void 0:y.querySelector(".v-tab--selected .v-tab__slider"),x=d.value;if(!w||!x)return;const T=getComputedStyle(w).color,D=w.getBoundingClientRect(),P=x.getBoundingClientRect(),A=h.value?"x":"y",O=h.value?"X":"Y",F=h.value?"right":"bottom",q=h.value?"width":"height",R=D[A],E=P[A],N=R>E?D[F]-P[F]:D[A]-P[A],G=Math.sign(N)>0?h.value?"right":"bottom":Math.sign(N)<0?h.value?"left":"top":"center",_=(Math.abs(N)+(Math.sign(N)<0?D[q]:P[q]))/Math.max(D[q],P[q])||0,I=D[q]/P[q]||0,B=1.5;Wc(x,{backgroundColor:[T,"currentcolor"],transform:[`translate${O}(${N}px) scale${O}(${I})`,`translate${O}(${N/B}px) scale${O}(${(_-1)/B+1})`,"none"],transformOrigin:Array(3).fill(G)},{duration:225,easing:Eg})}}return qe(()=>{const p=Rt.filterProps(e);return Z(Rt,Be({symbol:y5,ref:c,class:["v-tab",e.class],style:e.style,tabindex:m.value?0:-1,role:"tab","aria-selected":String(m.value),active:!1},p,r,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":v}),{...i,default:()=>{var b;return te(nt,null,[((b=i.default)==null?void 0:b.call(i))??e.text,!e.hideSlider&&te("div",{ref:d,class:Ge(["v-tab__slider",o.value]),style:$e(u.value)},null)])}})}),vr({},c)}}),DN=Ie({...kn(ep(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),ZP=Fe()({name:"VTabsWindow",props:DN(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const r=Tt(y5,null),o=at(e,"modelValue"),u=se({get(){var c;return o.value!=null||!r?o.value:(c=r.items.value.find(d=>r.selected.value.includes(d.id)))==null?void 0:c.value},set(c){o.value=c}});return qe(()=>{const c=Jc.filterProps(e);return Z(Jc,Be({_as:"VTabsWindow"},c,{modelValue:u.value,"onUpdate:modelValue":d=>u.value=d,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),i)}),{}}}),xN=Ie({...tp()},"VTabsWindowItem"),JP=Fe()({name:"VTabsWindowItem",props:xN(),setup(e,n){let{slots:i}=n;return qe(()=>{const r=ed.filterProps(e);return Z(ed,Be({_as:"VTabsWindowItem"},r,{class:["v-tabs-window-item",e.class],style:e.style}),i)}),{}}});function TN(e){return e?e.map(n=>kg(n)?n:{text:n,value:n}):[]}const PN=Ie({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...zC({mandatory:"force",selectedClass:"v-tab-item--selected"}),...mi(),...mt()},"VTabs"),IN=Fe()({name:"VTabs",props:PN(),emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:i,slots:r}=n;const o=at(e,"modelValue"),u=se(()=>TN(e.items)),{densityClasses:c}=na(e),{backgroundColorClasses:d,backgroundColorStyles:h}=tn(()=>e.bgColor),{scopeId:m}=gd();return Rn({VTab:{color:be(()=>e.color),direction:be(()=>e.direction),stacked:be(()=>e.stacked),fixed:be(()=>e.fixedTabs),sliderColor:be(()=>e.sliderColor),hideSlider:be(()=>e.hideSlider)}}),qe(()=>{const v=qg.filterProps(e),p=!!(r.window||e.items.length>0);return te(nt,null,[Z(qg,Be(v,{modelValue:o.value,"onUpdate:modelValue":b=>o.value=b,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},c.value,d.value,e.class],style:[{"--v-tabs-height":Ke(e.height)},h.value,e.style],role:"tablist",symbol:y5},m,i),{default:()=>{var b;return[((b=r.default)==null?void 0:b.call(r))??u.value.map(S=>{var y;return((y=r.tab)==null?void 0:y.call(r,{item:S}))??Z(KP,Be(S,{key:S.text,value:S.value}),{default:r[`tab.${S.value}`]?()=>{var w;return(w=r[`tab.${S.value}`])==null?void 0:w.call(r,{item:S})}:void 0})})]}}),p&&Z(ZP,Be({modelValue:o.value,"onUpdate:modelValue":b=>o.value=b,key:"tabs-window"},m),{default:()=>{var b;return[u.value.map(S=>{var y;return((y=r.item)==null?void 0:y.call(r,{item:S}))??Z(JP,{value:S.value},{default:()=>{var w;return(w=r[`item.${S.value}`])==null?void 0:w.call(r,{item:S})}})}),(b=r.window)==null?void 0:b.call(r)]}})])}),{}}}),AN=Ie({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...sl(),...rm()},"VTextarea"),_N=Fe()({name:"VTextarea",directives:{vIntersect:el},inheritAttrs:!1,props:AN(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:i,emit:r,slots:o}=n;const u=at(e,"modelValue"),{isFocused:c,focus:d,blur:h}=as(e),m=se(()=>typeof e.counterValue=="function"?e.counterValue(u.value):(u.value||"").toString().length),v=se(()=>{if(i.maxlength)return i.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function p(G,M){var _,I;!e.autofocus||!G||(I=(_=M[0].target)==null?void 0:_.focus)==null||I.call(_)}const b=Qe(),S=Qe(),y=ze(""),w=Qe(),x=se(()=>e.persistentPlaceholder||c.value||e.active);function T(){var G;w.value!==document.activeElement&&((G=w.value)==null||G.focus()),c.value||d()}function D(G){T(),r("click:control",G)}function P(G){r("mousedown:control",G)}function A(G){G.stopPropagation(),T(),Et(()=>{u.value="",US(e["onClick:clear"],G)})}function O(G){var _;const M=G.target;if(u.value=M.value,(_=e.modelModifiers)!=null&&_.trim){const I=[M.selectionStart,M.selectionEnd];Et(()=>{M.selectionStart=I[0],M.selectionEnd=I[1]})}}const F=Qe(),q=Qe(Number(e.rows)),R=se(()=>["plain","underlined"].includes(e.variant));On(()=>{e.autoGrow||(q.value=Number(e.rows))});function E(){e.autoGrow&&Et(()=>{if(!F.value||!S.value)return;const G=getComputedStyle(F.value),M=getComputedStyle(S.value.$el),_=parseFloat(G.getPropertyValue("--v-field-padding-top"))+parseFloat(G.getPropertyValue("--v-input-padding-top"))+parseFloat(G.getPropertyValue("--v-field-padding-bottom")),I=F.value.scrollHeight,B=parseFloat(G.lineHeight),H=Math.max(parseFloat(e.rows)*B+_,parseFloat(M.getPropertyValue("--v-input-control-height"))),Y=parseFloat(e.maxRows)*B+_||1/0,K=nn(I??0,H,Y);q.value=Math.floor((K-_)/B),y.value=Ke(K)})}Ai(E),je(u,E),je(()=>e.rows,E),je(()=>e.maxRows,E),je(()=>e.density,E);let N;return je(F,G=>{G?(N=new ResizeObserver(E),N.observe(F.value)):N==null||N.disconnect()}),gi(()=>{N==null||N.disconnect()}),qe(()=>{const G=!!(o.counter||e.counter||e.counterValue),M=!!(G||o.details),[_,I]=Iu(i),{modelValue:B,...H}=Bi.filterProps(e),Y=xu.filterProps(e);return Z(Bi,Be({ref:b,modelValue:u.value,"onUpdate:modelValue":K=>u.value=K,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":R.value},e.class],style:e.style},_,H,{centerAffix:q.value===1&&!R.value,focused:c.value}),{...o,default:K=>{let{id:ce,isDisabled:re,isDirty:$,isReadonly:j,isValid:de}=K;return Z(xu,Be({ref:S,style:{"--v-textarea-control-height":y.value},onClick:D,onMousedown:P,"onClick:clear":A,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},Y,{id:ce.value,active:x.value||$.value,centerAffix:q.value===1&&!R.value,dirty:$.value||e.dirty,disabled:re.value,focused:c.value,error:de.value===!1}),{...o,default:ve=>{let{props:{class:ye,...Pe}}=ve;return te(nt,null,[e.prefix&&te("span",{class:"v-text-field__prefix"},[e.prefix]),xn(te("textarea",Be({ref:w,class:ye,value:u.value,onInput:O,autofocus:e.autofocus,readonly:j.value,disabled:re.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:T,onBlur:h},Pe,I),null),[[el,{handler:p},null,{once:!0}]]),e.autoGrow&&xn(te("textarea",{class:Ge([ye,"v-textarea__sizer"]),id:`${Pe.id}-sizer`,"onUpdate:modelValue":le=>u.value=le,ref:F,readonly:!0,"aria-hidden":"true"},null),[[tO,u.value]]),e.suffix&&te("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:M?K=>{var ce;return te(nt,null,[(ce=o.details)==null?void 0:ce.call(o,K),G&&te(nt,null,[te("span",null,null),Z(ZS,{active:e.persistentCounter||c.value,value:m.value,max:v.value,disabled:e.disabled},o.counter)])])}:void 0})}),vr({},b,S,w)}}),LN=Ie({withBackground:Boolean,...et(),...Lt(),...mt()},"VThemeProvider"),ON=Fe()({name:"VThemeProvider",props:LN(),setup(e,n){let{slots:i}=n;const{themeClasses:r}=Yt(e);return()=>{var o;return e.withBackground?Z(e.tag,{class:Ge(["v-theme-provider",r.value,e.class]),style:$e(e.style)},{default:()=>{var u;return[(u=i.default)==null?void 0:u.call(i)]}}):(o=i.default)==null?void 0:o.call(i)}}}),kN=Ie({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:ot,iconColor:String,lineColor:String,...et(),...pn(),...is(),...li()},"VTimelineDivider"),RN=Fe()({name:"VTimelineDivider",props:kN(),setup(e,n){let{slots:i}=n;const{sizeClasses:r,sizeStyles:o}=Ih(e,"v-timeline-divider__dot"),{backgroundColorStyles:u,backgroundColorClasses:c}=tn(()=>e.dotColor),{roundedClasses:d}=Fn(e,"v-timeline-divider__dot"),{elevationClasses:h}=_i(e),{backgroundColorClasses:m,backgroundColorStyles:v}=tn(()=>e.lineColor);return qe(()=>te("div",{class:Ge(["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class]),style:$e(e.style)},[te("div",{class:Ge(["v-timeline-divider__before",m.value]),style:$e(v.value)},null),!e.hideDot&&te("div",{key:"dot",class:Ge(["v-timeline-divider__dot",h.value,d.value,r.value]),style:$e(o.value)},[te("div",{class:Ge(["v-timeline-divider__inner-dot",c.value,d.value]),style:$e(u.value)},[i.default?Z(St,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},i.default):Z(zt,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),te("div",{class:Ge(["v-timeline-divider__after",m.value]),style:$e(v.value)},null)])),{}}}),eI=Ie({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:ot,iconColor:String,lineInset:[Number,String],side:{type:String,validator:e=>e==null||["start","end"].includes(e)},...et(),...ni(),...li(),...pn(),...is(),...mt()},"VTimelineItem"),EN=Fe()({name:"VTimelineItem",props:eI(),setup(e,n){let{slots:i}=n;const{dimensionStyles:r}=ii(e),o=ze(0),u=Qe();return je(u,c=>{var d;c&&(o.value=((d=c.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:d.getBoundingClientRect().width)??0)},{flush:"post"}),qe(()=>{var c,d;return te("div",{class:Ge(["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot,"v-timeline-item--side-start":e.side==="start","v-timeline-item--side-end":e.side==="end"},e.class]),style:$e([{"--v-timeline-dot-size":Ke(o.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${Ke(e.lineInset)})`:Ke(0)},e.style])},[te("div",{class:"v-timeline-item__body",style:$e(r.value)},[(c=i.default)==null?void 0:c.call(i)]),Z(RN,{ref:u,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:i.icon}),e.density!=="compact"&&te("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&((d=i.opposite)==null?void 0:d.call(i))])])}),{}}}),FN=Ie({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...Pu(eI({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...et(),...mi(),...mt(),...Lt()},"VTimeline"),MN=Fe()({name:"VTimeline",props:FN(),setup(e,n){let{slots:i}=n;const{themeClasses:r}=Yt(e),{densityClasses:o}=na(e),{rtlClasses:u}=ti();Rn({VTimelineDivider:{lineColor:be(()=>e.lineColor)},VTimelineItem:{density:be(()=>e.density),dotColor:be(()=>e.dotColor),fillDot:be(()=>e.fillDot),hideOpposite:be(()=>e.hideOpposite),iconColor:be(()=>e.iconColor),lineColor:be(()=>e.lineColor),lineInset:be(()=>e.lineInset),size:be(()=>e.size)}});const c=se(()=>{const h=e.side?e.side:e.density!=="default"?"end":null;return h&&`v-timeline--side-${h}`}),d=se(()=>{const h=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return h;case"start":return h[0];case"end":return h[1];default:return null}});return qe(()=>Z(e.tag,{class:Ge(["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,d.value,{"v-timeline--inset-line":!!e.lineInset},r.value,o.value,c.value,u.value,e.class]),style:$e([{"--v-timeline-line-thickness":Ke(e.lineThickness)},e.style])},i)),{}}}),VN=Ie({...et(),...jr({variant:"text"})},"VToolbarItems"),BN=Fe()({name:"VToolbarItems",props:VN(),setup(e,n){let{slots:i}=n;return Rn({VBtn:{color:be(()=>e.color),height:"inherit",variant:be(()=>e.variant)}}),qe(()=>{var r;return te("div",{class:Ge(["v-toolbar-items",e.class]),style:$e(e.style)},[(r=i.default)==null?void 0:r.call(i)])}),{}}}),NN=Ie({id:String,interactive:Boolean,text:String,...kn(am({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:null}),["absolute","persistent"])},"VTooltip"),tI=Fe()({name:"VTooltip",props:NN(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const r=at(e,"modelValue"),{scopeId:o}=gd(),u=pa(),c=be(()=>e.id||`v-tooltip-${u}`),d=Qe(),h=se(()=>e.location.split(" ").length>1?e.location:e.location+" center"),m=se(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),v=be(()=>e.transition!=null?e.transition:r.value?"scale-transition":"fade-transition"),p=se(()=>Be({"aria-describedby":c.value},e.activatorProps));return qe(()=>{const b=Zo.filterProps(e);return Z(Zo,Be({ref:d,class:["v-tooltip",{"v-tooltip--interactive":e.interactive},e.class],style:e.style,id:c.value},b,{modelValue:r.value,"onUpdate:modelValue":S=>r.value=S,transition:v.value,absolute:!0,location:h.value,origin:m.value,persistent:!0,role:"tooltip",activatorProps:p.value,_disableGlobalStack:!0},o),{activator:i.activator,default:function(){var x;for(var S=arguments.length,y=new Array(S),w=0;w<S;w++)y[w]=arguments[w];return((x=i.default)==null?void 0:x.call(i,...y))??e.text}})}),vr({},d)}}),UN=Fe()({name:"VValidation",props:aT(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:i}=n;const r=rT(e,"validation");return()=>{var o;return(o=i.default)==null?void 0:o.call(i,r)}}}),qN=Object.freeze(Object.defineProperty({__proto__:null,VAlert:rE,VAlertTitle:K8,VApp:gR,VAppBar:ER,VAppBarNavIcon:tE,VAppBarTitle:nE,VAutocomplete:IF,VAvatar:Yr,VBadge:_F,VBanner:kF,VBannerActions:MT,VBannerText:VT,VBottomNavigation:EF,VBottomSheet:MF,VBreadcrumbs:UF,VBreadcrumbsDivider:NT,VBreadcrumbsItem:UT,VBtn:Rt,VBtnGroup:f2,VBtnToggle:UR,VCard:HF,VCardActions:qT,VCardItem:zT,VCardSubtitle:GT,VCardText:HT,VCardTitle:QT,VCarousel:eM,VCarouselItem:nM,VCheckbox:vE,VCheckboxBtn:nl,VChip:Oh,VChipGroup:CE,VClassIcon:FC,VCode:iM,VCol:kV,VColorPicker:WM,VCombobox:$M,VComponentIcon:c2,VConfirmEdit:XM,VContainer:AV,VCounter:ZS,VDataIterator:oV,VDataTable:wV,VDataTableFooter:zg,VDataTableHeaders:td,VDataTableRow:f5,VDataTableRows:nd,VDataTableServer:PV,VDataTableVirtual:xV,VDatePicker:zV,VDatePickerControls:L2,VDatePickerHeader:O2,VDatePickerMonth:k2,VDatePickerMonths:R2,VDatePickerYears:E2,VDefaultsProvider:St,VDialog:w2,VDialogBottomTransition:pR,VDialogTopTransition:yR,VDialogTransition:zS,VDivider:js,VEmptyState:WV,VExpandTransition:HS,VExpandXTransition:UC,VExpansionPanel:YV,VExpansionPanelText:F2,VExpansionPanelTitle:M2,VExpansionPanels:XV,VFab:ZV,VFabTransition:SR,VFadeTransition:Vg,VField:xu,VFieldLabel:dg,VFileInput:eB,VFooter:nB,VForm:aB,VHover:oB,VIcon:zt,VImg:tl,VInfiniteScroll:lB,VInput:Bi,VItem:dB,VItemGroup:cB,VKbd:hB,VLabel:Lh,VLayout:gB,VLayoutItem:vB,VLazy:pB,VLigatureIcon:I8,VList:KS,VListGroup:S2,VListImg:QE,VListItem:il,VListItemAction:HE,VListItemMedia:YE,VListItemSubtitle:pT,VListItemTitle:yT,VListSubheader:bT,VLocaleProvider:bB,VMain:wB,VMenu:Dh,VMessages:nT,VNavigationDrawer:OB,VNoSsr:kB,VNumberInput:VB,VOtpInput:NB,VOverlay:Zo,VPagination:A2,VParallax:GB,VProgressCircular:wh,VProgressLinear:YS,VRadio:zB,VRadioGroup:WB,VRangeSlider:$B,VRating:XB,VResponsive:d2,VRow:NV,VScaleTransition:BC,VScrollXReverseTransition:CR,VScrollXTransition:bR,VScrollYReverseTransition:DR,VScrollYTransition:wR,VSelect:e5,VSelectionControl:Du,VSelectionControlGroup:J8,VSheet:Qg,VSkeletonLoader:eN,VSlideGroup:qg,VSlideGroupItem:tN,VSlideXReverseTransition:TR,VSlideXTransition:xR,VSlideYReverseTransition:PR,VSlideYTransition:NC,VSlider:I2,VSnackbar:V2,VSnackbarQueue:aN,VSpacer:kP,VSparkline:lN,VSpeedDial:cN,VStepper:SN,VStepperActions:WP,VStepperHeader:YP,VStepperItem:$P,VStepperWindow:jP,VStepperWindowItem:XP,VSvgIcon:EC,VSwitch:yN,VSystemBar:CN,VTab:KP,VTable:id,VTabs:IN,VTabsWindow:ZP,VTabsWindowItem:JP,VTextField:al,VTextarea:_N,VThemeProvider:ON,VTimeline:MN,VTimelineItem:EN,VToolbar:h2,VToolbarItems:BN,VToolbarTitle:VC,VTooltip:tI,VValidation:UN,VVirtualScroll:JS,VWindow:Jc,VWindowItem:ed},Symbol.toStringTag,{value:"Module"}));function GN(e,n){const i=n.modifiers||{},r=n.value,{once:o,immediate:u,...c}=i,d=!Object.keys(c).length,{handler:h,options:m}=typeof r=="object"?r:{handler:r,options:{attributes:(c==null?void 0:c.attr)??d,characterData:(c==null?void 0:c.char)??d,childList:(c==null?void 0:c.child)??d,subtree:(c==null?void 0:c.sub)??d}},v=new MutationObserver(function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],b=arguments.length>1?arguments[1]:void 0;h==null||h(p,b),o&&nI(e,n)});u&&(h==null||h([],v)),e._mutate=Object(e._mutate),e._mutate[n.instance.$.uid]={observer:v},v.observe(e,m)}function nI(e,n){var i;(i=e._mutate)!=null&&i[n.instance.$.uid]&&(e._mutate[n.instance.$.uid].observer.disconnect(),delete e._mutate[n.instance.$.uid])}const QN={mounted:GN,unmounted:nI};function zN(e,n){var o,u;const i=n.value,r={passive:!((o=n.modifiers)!=null&&o.active)};window.addEventListener("resize",i,r),e._onResize=Object(e._onResize),e._onResize[n.instance.$.uid]={handler:i,options:r},(u=n.modifiers)!=null&&u.quiet||i()}function HN(e,n){var o;if(!((o=e._onResize)!=null&&o[n.instance.$.uid]))return;const{handler:i,options:r}=e._onResize[n.instance.$.uid];window.removeEventListener("resize",i,r),delete e._onResize[n.instance.$.uid]}const WN={mounted:zN,unmounted:HN};function iI(e,n){const{self:i=!1}=n.modifiers??{},r=n.value,o=typeof r=="object"&&r.options||{passive:!0},u=typeof r=="function"||"handleEvent"in r?r:r.handler,c=i?e:n.arg?document.querySelector(n.arg):window;c&&(c.addEventListener("scroll",u,o),e._onScroll=Object(e._onScroll),e._onScroll[n.instance.$.uid]={handler:u,options:o,target:i?void 0:c})}function aI(e,n){var u;if(!((u=e._onScroll)!=null&&u[n.instance.$.uid]))return;const{handler:i,options:r,target:o=e}=e._onScroll[n.instance.$.uid];o.removeEventListener("scroll",i,r),delete e._onScroll[n.instance.$.uid]}function YN(e,n){n.value!==n.oldValue&&(aI(e,n),iI(e,n))}const $N={mounted:iI,unmounted:aI,updated:YN};function jN(e,n){const i=typeof e=="string"?Fa(e):e,r=XN(i,n);return{mounted:r,updated:r,unmounted(o){$x(null,o)}}}function XN(e,n){return function(i,r,o){var p,b,S;const u=typeof n=="function"?n(r):n,c=((p=r.value)==null?void 0:p.text)??r.value??(u==null?void 0:u.text),d=kg(r.value)?r.value:{},h=()=>c??i.textContent,m=(o.ctx===r.instance.$?(b=KN(o,r.instance.$))==null?void 0:b.provides:(S=o.ctx)==null?void 0:S.provides)??r.instance.$.provides,v=es(e,Be(u,d),h);v.appContext=Object.assign(Object.create(null),r.instance.$.appContext,{provides:m}),$x(v,i)}}function KN(e,n){const i=new Set,r=u=>{var c,d;for(const h of u){if(!h)continue;if(h===e||h.el&&e.el&&h.el===e.el)return!0;i.add(h);let m;if(h.suspense?m=r([h.ssContent]):Array.isArray(h.children)?m=r(h.children):(c=h.component)!=null&&c.vnode&&(m=r([(d=h.component)==null?void 0:d.subTree])),m)return m;i.delete(h)}return!1};if(!r([n.subTree]))return n;const o=Array.from(i).reverse();for(const u of o)if(u.component)return u.component;return n}const ZN=jN(tI,e=>{var n;return{activator:"parent",location:(n=e.arg)==null?void 0:n.replace("-"," "),text:typeof e.value=="boolean"?void 0:e.value}}),JN=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:C2,Intersect:el,Mutate:QN,Resize:WN,Ripple:ta,Scroll:$N,Tooltip:ZN,Touch:TS},Symbol.toStringTag,{value:"Module"})),eU={collapse:"keyboard_arrow_up",complete:"check",cancel:"cancel",close:"close",delete:"cancel",clear:"cancel",success:"check_circle",info:"info",warning:"priority_high",error:"warning",prev:"chevron_left",next:"chevron_right",checkboxOn:"check_box",checkboxOff:"check_box_outline_blank",checkboxIndeterminate:"indeterminate_check_box",delimiter:"fiber_manual_record",sortAsc:"arrow_upward",sortDesc:"arrow_downward",expand:"keyboard_arrow_down",menu:"menu",subgroup:"arrow_drop_down",dropdown:"arrow_drop_down",radioOn:"radio_button_checked",radioOff:"radio_button_unchecked",edit:"edit",ratingEmpty:"star_border",ratingFull:"star",ratingHalf:"star_half",loading:"cached",first:"first_page",last:"last_page",unfold:"unfold_more",file:"attach_file",plus:"add",minus:"remove",calendar:"event",treeviewCollapse:"arrow_drop_down",treeviewExpand:"arrow_right",eyeDropper:"colorize"},tU={component:e=>es(I8,{...e,class:"material-icons"})};var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bv={exports:{}},Nv={exports:{}},D1={},Ay={},_y={},SD;function _t(){return SD||(SD=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;const n=Math.PI/180;function i(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}e.glob=typeof dh<"u"?dh:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},e.Konva={_global:e.glob,version:"9.3.19",isBrowser:i(),isUnminified:/param/.test((function(o){}).toString()),dblClickWindow:400,getAngle(o){return e.Konva.angleDeg?o*n:o},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return e.Konva.DD.isDragging},isTransforming(){var o;return(o=e.Konva.Transformer)===null||o===void 0?void 0:o.isTransforming()},isDragReady(){return!!e.Konva.DD.node},releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(o){e.glob.Konva=o}};const r=o=>{e.Konva[o.prototype.getClassName()]=o};e._registerNode=r,e.Konva._injectGlobal(e.Konva)}(_y)),_y}var Ly={},pD;function Hn(){return pD||(pD=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const n=_t();class i{constructor(A=[1,0,0,1,0,0]){this.dirty=!1,this.m=A&&A.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new i(this.m)}copyInto(A){A.m[0]=this.m[0],A.m[1]=this.m[1],A.m[2]=this.m[2],A.m[3]=this.m[3],A.m[4]=this.m[4],A.m[5]=this.m[5]}point(A){const O=this.m;return{x:O[0]*A.x+O[2]*A.y+O[4],y:O[1]*A.x+O[3]*A.y+O[5]}}translate(A,O){return this.m[4]+=this.m[0]*A+this.m[2]*O,this.m[5]+=this.m[1]*A+this.m[3]*O,this}scale(A,O){return this.m[0]*=A,this.m[1]*=A,this.m[2]*=O,this.m[3]*=O,this}rotate(A){const O=Math.cos(A),F=Math.sin(A),q=this.m[0]*O+this.m[2]*F,R=this.m[1]*O+this.m[3]*F,E=this.m[0]*-F+this.m[2]*O,N=this.m[1]*-F+this.m[3]*O;return this.m[0]=q,this.m[1]=R,this.m[2]=E,this.m[3]=N,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(A,O){const F=this.m[0]+this.m[2]*O,q=this.m[1]+this.m[3]*O,R=this.m[2]+this.m[0]*A,E=this.m[3]+this.m[1]*A;return this.m[0]=F,this.m[1]=q,this.m[2]=R,this.m[3]=E,this}multiply(A){const O=this.m[0]*A.m[0]+this.m[2]*A.m[1],F=this.m[1]*A.m[0]+this.m[3]*A.m[1],q=this.m[0]*A.m[2]+this.m[2]*A.m[3],R=this.m[1]*A.m[2]+this.m[3]*A.m[3],E=this.m[0]*A.m[4]+this.m[2]*A.m[5]+this.m[4],N=this.m[1]*A.m[4]+this.m[3]*A.m[5]+this.m[5];return this.m[0]=O,this.m[1]=F,this.m[2]=q,this.m[3]=R,this.m[4]=E,this.m[5]=N,this}invert(){const A=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),O=this.m[3]*A,F=-this.m[1]*A,q=-this.m[2]*A,R=this.m[0]*A,E=A*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),N=A*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=O,this.m[1]=F,this.m[2]=q,this.m[3]=R,this.m[4]=E,this.m[5]=N,this}getMatrix(){return this.m}decompose(){const A=this.m[0],O=this.m[1],F=this.m[2],q=this.m[3],R=this.m[4],E=this.m[5],N=A*q-O*F,G={x:R,y:E,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(A!=0||O!=0){const M=Math.sqrt(A*A+O*O);G.rotation=O>0?Math.acos(A/M):-Math.acos(A/M),G.scaleX=M,G.scaleY=N/M,G.skewX=(A*F+O*q)/N,G.skewY=0}else if(F!=0||q!=0){const M=Math.sqrt(F*F+q*q);G.rotation=Math.PI/2-(q>0?Math.acos(-F/M):-Math.acos(F/M)),G.scaleX=N/M,G.scaleY=M,G.skewX=0,G.skewY=(A*F+O*q)/N}return G.rotation=e.Util._getRotation(G.rotation),G}}e.Transform=i;const r="[object Array]",o="[object Number]",u="[object String]",c="[object Boolean]",d=Math.PI/180,h=180/Math.PI,m="#",v="",p="0",b="Konva warning: ",S="Konva error: ",y="rgb(",w={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},x=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let T=[];const D=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(P){setTimeout(P,60)};e.Util={_isElement(P){return!!(P&&P.nodeType==1)},_isFunction(P){return!!(P&&P.constructor&&P.call&&P.apply)},_isPlainObject(P){return!!P&&P.constructor===Object},_isArray(P){return Object.prototype.toString.call(P)===r},_isNumber(P){return Object.prototype.toString.call(P)===o&&!isNaN(P)&&isFinite(P)},_isString(P){return Object.prototype.toString.call(P)===u},_isBoolean(P){return Object.prototype.toString.call(P)===c},isObject(P){return P instanceof Object},isValidSelector(P){if(typeof P!="string")return!1;const A=P[0];return A==="#"||A==="."||A===A.toUpperCase()},_sign(P){return P===0||P>0?1:-1},requestAnimFrame(P){T.push(P),T.length===1&&D(function(){const A=T;T=[],A.forEach(function(O){O()})})},createCanvasElement(){const P=document.createElement("canvas");try{P.style=P.style||{}}catch{}return P},createImageElement(){return document.createElement("img")},_isInDocument(P){for(;P=P.parentNode;)if(P==document)return!0;return!1},_urlToImage(P,A){const O=e.Util.createImageElement();O.onload=function(){A(O)},O.src=P},_rgbToHex(P,A,O){return((1<<24)+(P<<16)+(A<<8)+O).toString(16).slice(1)},_hexToRgb(P){P=P.replace(m,v);const A=parseInt(P,16);return{r:A>>16&255,g:A>>8&255,b:A&255}},getRandomColor(){let P=(Math.random()*16777215<<0).toString(16);for(;P.length<6;)P=p+P;return m+P},getRGB(P){let A;return P in w?(A=w[P],{r:A[0],g:A[1],b:A[2]}):P[0]===m?this._hexToRgb(P.substring(1)):P.substr(0,4)===y?(A=x.exec(P.replace(/ /g,"")),{r:parseInt(A[1],10),g:parseInt(A[2],10),b:parseInt(A[3],10)}):{r:0,g:0,b:0}},colorToRGBA(P){return P=P||"black",e.Util._namedColorToRBA(P)||e.Util._hex3ColorToRGBA(P)||e.Util._hex4ColorToRGBA(P)||e.Util._hex6ColorToRGBA(P)||e.Util._hex8ColorToRGBA(P)||e.Util._rgbColorToRGBA(P)||e.Util._rgbaColorToRGBA(P)||e.Util._hslColorToRGBA(P)},_namedColorToRBA(P){const A=w[P.toLowerCase()];return A?{r:A[0],g:A[1],b:A[2],a:1}:null},_rgbColorToRGBA(P){if(P.indexOf("rgb(")===0){P=P.match(/rgb\(([^)]+)\)/)[1];const A=P.split(/ *, */).map(Number);return{r:A[0],g:A[1],b:A[2],a:1}}},_rgbaColorToRGBA(P){if(P.indexOf("rgba(")===0){P=P.match(/rgba\(([^)]+)\)/)[1];const A=P.split(/ *, */).map((O,F)=>O.slice(-1)==="%"?F===3?parseInt(O)/100:parseInt(O)/100*255:Number(O));return{r:A[0],g:A[1],b:A[2],a:A[3]}}},_hex8ColorToRGBA(P){if(P[0]==="#"&&P.length===9)return{r:parseInt(P.slice(1,3),16),g:parseInt(P.slice(3,5),16),b:parseInt(P.slice(5,7),16),a:parseInt(P.slice(7,9),16)/255}},_hex6ColorToRGBA(P){if(P[0]==="#"&&P.length===7)return{r:parseInt(P.slice(1,3),16),g:parseInt(P.slice(3,5),16),b:parseInt(P.slice(5,7),16),a:1}},_hex4ColorToRGBA(P){if(P[0]==="#"&&P.length===5)return{r:parseInt(P[1]+P[1],16),g:parseInt(P[2]+P[2],16),b:parseInt(P[3]+P[3],16),a:parseInt(P[4]+P[4],16)/255}},_hex3ColorToRGBA(P){if(P[0]==="#"&&P.length===4)return{r:parseInt(P[1]+P[1],16),g:parseInt(P[2]+P[2],16),b:parseInt(P[3]+P[3],16),a:1}},_hslColorToRGBA(P){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(P)){const[A,...O]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(P),F=Number(O[0])/360,q=Number(O[1])/100,R=Number(O[2])/100;let E,N,G;if(q===0)return G=R*255,{r:Math.round(G),g:Math.round(G),b:Math.round(G),a:1};R<.5?E=R*(1+q):E=R+q-R*q;const M=2*R-E,_=[0,0,0];for(let I=0;I<3;I++)N=F+1/3*-(I-1),N<0&&N++,N>1&&N--,6*N<1?G=M+(E-M)*6*N:2*N<1?G=E:3*N<2?G=M+(E-M)*(2/3-N)*6:G=M,_[I]=G*255;return{r:Math.round(_[0]),g:Math.round(_[1]),b:Math.round(_[2]),a:1}}},haveIntersection(P,A){return!(A.x>P.x+P.width||A.x+A.width<P.x||A.y>P.y+P.height||A.y+A.height<P.y)},cloneObject(P){const A={};for(const O in P)this._isPlainObject(P[O])?A[O]=this.cloneObject(P[O]):this._isArray(P[O])?A[O]=this.cloneArray(P[O]):A[O]=P[O];return A},cloneArray(P){return P.slice(0)},degToRad(P){return P*d},radToDeg(P){return P*h},_degToRad(P){return e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(P)},_radToDeg(P){return e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(P)},_getRotation(P){return n.Konva.angleDeg?e.Util.radToDeg(P):P},_capitalize(P){return P.charAt(0).toUpperCase()+P.slice(1)},throw(P){throw new Error(S+P)},error(P){console.error(S+P)},warn(P){n.Konva.showWarnings&&console.warn(b+P)},each(P,A){for(const O in P)A(O,P[O])},_inRange(P,A,O){return A<=P&&P<O},_getProjectionToSegment(P,A,O,F,q,R){let E,N,G;const M=(P-O)*(P-O)+(A-F)*(A-F);if(M==0)E=P,N=A,G=(q-O)*(q-O)+(R-F)*(R-F);else{const _=((q-P)*(O-P)+(R-A)*(F-A))/M;_<0?(E=P,N=A,G=(P-q)*(P-q)+(A-R)*(A-R)):_>1?(E=O,N=F,G=(O-q)*(O-q)+(F-R)*(F-R)):(E=P+_*(O-P),N=A+_*(F-A),G=(E-q)*(E-q)+(N-R)*(N-R))}return[E,N,G]},_getProjectionToLine(P,A,O){const F=e.Util.cloneObject(P);let q=Number.MAX_VALUE;return A.forEach(function(R,E){if(!O&&E===A.length-1)return;const N=A[(E+1)%A.length],G=e.Util._getProjectionToSegment(R.x,R.y,N.x,N.y,P.x,P.y),M=G[0],_=G[1],I=G[2];I<q&&(F.x=M,F.y=_,q=I)}),F},_prepareArrayForTween(P,A,O){const F=[],q=[];if(P.length>A.length){const E=A;A=P,P=E}for(let E=0;E<P.length;E+=2)F.push({x:P[E],y:P[E+1]});for(let E=0;E<A.length;E+=2)q.push({x:A[E],y:A[E+1]});const R=[];return q.forEach(function(E){const N=e.Util._getProjectionToLine(E,F,O);R.push(N.x),R.push(N.y)}),R},_prepareToStringify(P){let A;P.visitedByCircularReferenceRemoval=!0;for(const O in P)if(P.hasOwnProperty(O)&&P[O]&&typeof P[O]=="object"){if(A=Object.getOwnPropertyDescriptor(P,O),P[O].visitedByCircularReferenceRemoval||e.Util._isElement(P[O]))if(A.configurable)delete P[O];else return null;else if(e.Util._prepareToStringify(P[O])===null)if(A.configurable)delete P[O];else return null}return delete P.visitedByCircularReferenceRemoval,P},_assign(P,A){for(const O in A)P[O]=A[O];return P},_getFirstPointerId(P){return P.touches?P.changedTouches[0].identifier:P.pointerId||999},releaseCanvas(...P){n.Konva.releaseCanvasOnDestroy&&P.forEach(A=>{A.width=0,A.height=0})},drawRoundedRectPath(P,A,O,F){let q=0,R=0,E=0,N=0;typeof F=="number"?q=R=E=N=Math.min(F,A/2,O/2):(q=Math.min(F[0]||0,A/2,O/2),R=Math.min(F[1]||0,A/2,O/2),N=Math.min(F[2]||0,A/2,O/2),E=Math.min(F[3]||0,A/2,O/2)),P.moveTo(q,0),P.lineTo(A-R,0),P.arc(A-R,R,R,Math.PI*3/2,0,!1),P.lineTo(A,O-N),P.arc(A-N,O-N,N,0,Math.PI/2,!1),P.lineTo(E,O),P.arc(E,O-E,E,Math.PI/2,Math.PI,!1),P.lineTo(0,q),P.arc(q,q,q,Math.PI,Math.PI*3/2,!1)}}}(Ly)),Ly}var x1={},Oy={},ka={},yD;function qt(){if(yD)return ka;yD=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.RGBComponent=r,ka.alphaComponent=o,ka.getNumberValidator=u,ka.getNumberOrArrayOfNumbersValidator=c,ka.getNumberOrAutoValidator=d,ka.getStringValidator=h,ka.getStringOrGradientValidator=m,ka.getFunctionValidator=v,ka.getNumberArrayValidator=p,ka.getBooleanValidator=b,ka.getComponentValidator=S;const e=_t(),n=Hn();function i(y){return n.Util._isString(y)?'"'+y+'"':Object.prototype.toString.call(y)==="[object Number]"||n.Util._isBoolean(y)?y:Object.prototype.toString.call(y)}function r(y){return y>255?255:y<0?0:Math.round(y)}function o(y){return y>1?1:y<1e-4?1e-4:y}function u(){if(e.Konva.isUnminified)return function(y,w){return n.Util._isNumber(y)||n.Util.warn(i(y)+' is a not valid value for "'+w+'" attribute. The value should be a number.'),y}}function c(y){if(e.Konva.isUnminified)return function(w,x){let T=n.Util._isNumber(w),D=n.Util._isArray(w)&&w.length==y;return!T&&!D&&n.Util.warn(i(w)+' is a not valid value for "'+x+'" attribute. The value should be a number or Array<number>('+y+")"),w}}function d(){if(e.Konva.isUnminified)return function(y,w){var x=n.Util._isNumber(y),T=y==="auto";return x||T||n.Util.warn(i(y)+' is a not valid value for "'+w+'" attribute. The value should be a number or "auto".'),y}}function h(){if(e.Konva.isUnminified)return function(y,w){return n.Util._isString(y)||n.Util.warn(i(y)+' is a not valid value for "'+w+'" attribute. The value should be a string.'),y}}function m(){if(e.Konva.isUnminified)return function(y,w){const x=n.Util._isString(y),T=Object.prototype.toString.call(y)==="[object CanvasGradient]"||y&&y.addColorStop;return x||T||n.Util.warn(i(y)+' is a not valid value for "'+w+'" attribute. The value should be a string or a native gradient.'),y}}function v(){if(e.Konva.isUnminified)return function(y,w){return n.Util._isFunction(y)||n.Util.warn(i(y)+' is a not valid value for "'+w+'" attribute. The value should be a function.'),y}}function p(){if(e.Konva.isUnminified)return function(y,w){const x=Int8Array?Object.getPrototypeOf(Int8Array):null;return x&&y instanceof x||(n.Util._isArray(y)?y.forEach(function(T){n.Util._isNumber(T)||n.Util.warn('"'+w+'" attribute has non numeric element '+T+". Make sure that all elements are numbers.")}):n.Util.warn(i(y)+' is a not valid value for "'+w+'" attribute. The value should be a array of numbers.')),y}}function b(){if(e.Konva.isUnminified)return function(y,w){var x=y===!0||y===!1;return x||n.Util.warn(i(y)+' is a not valid value for "'+w+'" attribute. The value should be a boolean.'),y}}function S(y){if(e.Konva.isUnminified)return function(w,x){return w==null||n.Util.isObject(w)||n.Util.warn(i(w)+' is a not valid value for "'+x+'" attribute. The value should be an object with properties '+y),w}}return ka}var bD;function Ft(){return bD||(bD=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const n=Hn(),i=qt(),r="get",o="set";e.Factory={addGetterSetter(u,c,d,h,m){e.Factory.addGetter(u,c,d),e.Factory.addSetter(u,c,h,m),e.Factory.addOverloadedGetterSetter(u,c)},addGetter(u,c,d){var h=r+n.Util._capitalize(c);u.prototype[h]=u.prototype[h]||function(){const m=this.attrs[c];return m===void 0?d:m}},addSetter(u,c,d,h){var m=o+n.Util._capitalize(c);u.prototype[m]||e.Factory.overWriteSetter(u,c,d,h)},overWriteSetter(u,c,d,h){var m=o+n.Util._capitalize(c);u.prototype[m]=function(v){return d&&v!==void 0&&v!==null&&(v=d.call(this,v,c)),this._setAttr(c,v),h&&h.call(this),this}},addComponentsGetterSetter(u,c,d,h,m){const v=d.length,p=n.Util._capitalize,b=r+p(c),S=o+p(c);u.prototype[b]=function(){const w={};for(let x=0;x<v;x++){const T=d[x];w[T]=this.getAttr(c+p(T))}return w};const y=(0,i.getComponentValidator)(d);u.prototype[S]=function(w){const x=this.attrs[c];h&&(w=h.call(this,w,c)),y&&y.call(this,w,c);for(const T in w)w.hasOwnProperty(T)&&this._setAttr(c+p(T),w[T]);return w||d.forEach(T=>{this._setAttr(c+p(T),void 0)}),this._fireChangeEvent(c,x,w),m&&m.call(this),this},e.Factory.addOverloadedGetterSetter(u,c)},addOverloadedGetterSetter(u,c){var d=n.Util._capitalize(c),h=o+d,m=r+d;u.prototype[c]=function(){return arguments.length?(this[h](arguments[0]),this):this[m]()}},addDeprecatedGetterSetter(u,c,d,h){n.Util.error("Adding deprecated "+c);const m=r+n.Util._capitalize(c),v=c+" property is deprecated and will be removed soon. Look at Konva change log for more information.";u.prototype[m]=function(){n.Util.error(v);const p=this.attrs[c];return p===void 0?d:p},e.Factory.addSetter(u,c,h,function(){n.Util.error(v)}),e.Factory.addOverloadedGetterSetter(u,c)},backCompat(u,c){n.Util.each(c,function(d,h){const m=u.prototype[h],v=r+n.Util._capitalize(d),p=o+n.Util._capitalize(d);function b(){m.apply(this,arguments),n.Util.error('"'+d+'" method is deprecated and will be removed soon. Use ""'+h+'" instead.')}u.prototype[d]=b,u.prototype[v]=b,u.prototype[p]=b})},afterSetFilter(){this._filterUpToDate=!1}}}(Oy)),Oy}var Qs={},zs={},CD;function rI(){if(CD)return zs;CD=1,Object.defineProperty(zs,"__esModule",{value:!0}),zs.HitContext=zs.SceneContext=zs.Context=void 0;const e=Hn(),n=_t();function i(T){const D=[],P=T.length,A=e.Util;for(let O=0;O<P;O++){let F=T[O];A._isNumber(F)?F=Math.round(F*1e3)/1e3:A._isString(F)||(F=F+""),D.push(F)}return D}const r=",",o="(",u=")",c="([",d="])",h=";",m="()",v="=",p=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],b=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],S=100;let y=class{constructor(D){this.canvas=D,n.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(D){D.fillEnabled()&&this._fill(D)}_fill(D){}strokeShape(D){D.hasStroke()&&this._stroke(D)}_stroke(D){}fillStrokeShape(D){D.attrs.fillAfterStrokeEnabled?(this.strokeShape(D),this.fillShape(D)):(this.fillShape(D),this.strokeShape(D))}getTrace(D,P){let A=this.traceArr,O=A.length,F="",q,R,E,N;for(q=0;q<O;q++)R=A[q],E=R.method,E?(N=R.args,F+=E,D?F+=m:e.Util._isArray(N[0])?F+=c+N.join(r)+d:(P&&(N=N.map(G=>typeof G=="number"?Math.floor(G):G)),F+=o+N.join(r)+u)):(F+=R.property,D||(F+=v+R.val)),F+=h;return F}clearTrace(){this.traceArr=[]}_trace(D){let P=this.traceArr,A;P.push(D),A=P.length,A>=S&&P.shift()}reset(){const D=this.getCanvas().getPixelRatio();this.setTransform(1*D,0,0,1*D,0,0)}getCanvas(){return this.canvas}clear(D){const P=this.getCanvas();D?this.clearRect(D.x||0,D.y||0,D.width||0,D.height||0):this.clearRect(0,0,P.getWidth()/P.pixelRatio,P.getHeight()/P.pixelRatio)}_applyLineCap(D){const P=D.attrs.lineCap;P&&this.setAttr("lineCap",P)}_applyOpacity(D){const P=D.getAbsoluteOpacity();P!==1&&this.setAttr("globalAlpha",P)}_applyLineJoin(D){const P=D.attrs.lineJoin;P&&this.setAttr("lineJoin",P)}setAttr(D,P){this._context[D]=P}arc(D,P,A,O,F,q){this._context.arc(D,P,A,O,F,q)}arcTo(D,P,A,O,F){this._context.arcTo(D,P,A,O,F)}beginPath(){this._context.beginPath()}bezierCurveTo(D,P,A,O,F,q){this._context.bezierCurveTo(D,P,A,O,F,q)}clearRect(D,P,A,O){this._context.clearRect(D,P,A,O)}clip(...D){this._context.clip.apply(this._context,D)}closePath(){this._context.closePath()}createImageData(D,P){const A=arguments;if(A.length===2)return this._context.createImageData(D,P);if(A.length===1)return this._context.createImageData(D)}createLinearGradient(D,P,A,O){return this._context.createLinearGradient(D,P,A,O)}createPattern(D,P){return this._context.createPattern(D,P)}createRadialGradient(D,P,A,O,F,q){return this._context.createRadialGradient(D,P,A,O,F,q)}drawImage(D,P,A,O,F,q,R,E,N){const G=arguments,M=this._context;G.length===3?M.drawImage(D,P,A):G.length===5?M.drawImage(D,P,A,O,F):G.length===9&&M.drawImage(D,P,A,O,F,q,R,E,N)}ellipse(D,P,A,O,F,q,R,E){this._context.ellipse(D,P,A,O,F,q,R,E)}isPointInPath(D,P,A,O){return A?this._context.isPointInPath(A,D,P,O):this._context.isPointInPath(D,P,O)}fill(...D){this._context.fill.apply(this._context,D)}fillRect(D,P,A,O){this._context.fillRect(D,P,A,O)}strokeRect(D,P,A,O){this._context.strokeRect(D,P,A,O)}fillText(D,P,A,O){O?this._context.fillText(D,P,A,O):this._context.fillText(D,P,A)}measureText(D){return this._context.measureText(D)}getImageData(D,P,A,O){return this._context.getImageData(D,P,A,O)}lineTo(D,P){this._context.lineTo(D,P)}moveTo(D,P){this._context.moveTo(D,P)}rect(D,P,A,O){this._context.rect(D,P,A,O)}roundRect(D,P,A,O,F){this._context.roundRect(D,P,A,O,F)}putImageData(D,P,A){this._context.putImageData(D,P,A)}quadraticCurveTo(D,P,A,O){this._context.quadraticCurveTo(D,P,A,O)}restore(){this._context.restore()}rotate(D){this._context.rotate(D)}save(){this._context.save()}scale(D,P){this._context.scale(D,P)}setLineDash(D){this._context.setLineDash?this._context.setLineDash(D):"mozDash"in this._context?this._context.mozDash=D:"webkitLineDash"in this._context&&(this._context.webkitLineDash=D)}getLineDash(){return this._context.getLineDash()}setTransform(D,P,A,O,F,q){this._context.setTransform(D,P,A,O,F,q)}stroke(D){D?this._context.stroke(D):this._context.stroke()}strokeText(D,P,A,O){this._context.strokeText(D,P,A,O)}transform(D,P,A,O,F,q){this._context.transform(D,P,A,O,F,q)}translate(D,P){this._context.translate(D,P)}_enableTrace(){let D=this,P=p.length,A=this.setAttr,O,F;const q=function(R){let E=D[R],N;D[R]=function(){return F=i(Array.prototype.slice.call(arguments,0)),N=E.apply(D,arguments),D._trace({method:R,args:F}),N}};for(O=0;O<P;O++)q(p[O]);D.setAttr=function(){A.apply(D,arguments);const R=arguments[0];let E=arguments[1];(R==="shadowOffsetX"||R==="shadowOffsetY"||R==="shadowBlur")&&(E=E/this.canvas.getPixelRatio()),D._trace({property:R,val:E})}}_applyGlobalCompositeOperation(D){const P=D.attrs.globalCompositeOperation;!P||P==="source-over"||this.setAttr("globalCompositeOperation",P)}};zs.Context=y,b.forEach(function(T){Object.defineProperty(y.prototype,T,{get(){return this._context[T]},set(D){this._context[T]=D}})});class w extends y{constructor(D,{willReadFrequently:P=!1}={}){super(D),this._context=D._canvas.getContext("2d",{willReadFrequently:P})}_fillColor(D){const P=D.fill();this.setAttr("fillStyle",P),D._fillFunc(this)}_fillPattern(D){this.setAttr("fillStyle",D._getFillPattern()),D._fillFunc(this)}_fillLinearGradient(D){const P=D._getLinearGradient();P&&(this.setAttr("fillStyle",P),D._fillFunc(this))}_fillRadialGradient(D){const P=D._getRadialGradient();P&&(this.setAttr("fillStyle",P),D._fillFunc(this))}_fill(D){const P=D.fill(),A=D.getFillPriority();if(P&&A==="color"){this._fillColor(D);return}const O=D.getFillPatternImage();if(O&&A==="pattern"){this._fillPattern(D);return}const F=D.getFillLinearGradientColorStops();if(F&&A==="linear-gradient"){this._fillLinearGradient(D);return}const q=D.getFillRadialGradientColorStops();if(q&&A==="radial-gradient"){this._fillRadialGradient(D);return}P?this._fillColor(D):O?this._fillPattern(D):F?this._fillLinearGradient(D):q&&this._fillRadialGradient(D)}_strokeLinearGradient(D){const P=D.getStrokeLinearGradientStartPoint(),A=D.getStrokeLinearGradientEndPoint(),O=D.getStrokeLinearGradientColorStops(),F=this.createLinearGradient(P.x,P.y,A.x,A.y);if(O){for(let q=0;q<O.length;q+=2)F.addColorStop(O[q],O[q+1]);this.setAttr("strokeStyle",F)}}_stroke(D){const P=D.dash(),A=D.getStrokeScaleEnabled();if(D.hasStroke()){if(!A){this.save();const F=this.getCanvas().getPixelRatio();this.setTransform(F,0,0,F,0,0)}this._applyLineCap(D),P&&D.dashEnabled()&&(this.setLineDash(P),this.setAttr("lineDashOffset",D.dashOffset())),this.setAttr("lineWidth",D.strokeWidth()),D.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),D.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(D):this.setAttr("strokeStyle",D.stroke()),D._strokeFunc(this),A||this.restore()}}_applyShadow(D){var P,A,O;const F=(P=D.getShadowRGBA())!==null&&P!==void 0?P:"black",q=(A=D.getShadowBlur())!==null&&A!==void 0?A:5,R=(O=D.getShadowOffset())!==null&&O!==void 0?O:{x:0,y:0},E=D.getAbsoluteScale(),N=this.canvas.getPixelRatio(),G=E.x*N,M=E.y*N;this.setAttr("shadowColor",F),this.setAttr("shadowBlur",q*Math.min(Math.abs(G),Math.abs(M))),this.setAttr("shadowOffsetX",R.x*G),this.setAttr("shadowOffsetY",R.y*M)}}zs.SceneContext=w;class x extends y{constructor(D){super(D),this._context=D._canvas.getContext("2d",{willReadFrequently:!0})}_fill(D){this.save(),this.setAttr("fillStyle",D.colorKey),D._fillFuncHit(this),this.restore()}strokeShape(D){D.hasHitStroke()&&this._stroke(D)}_stroke(D){if(D.hasHitStroke()){const P=D.getStrokeScaleEnabled();if(!P){this.save();const F=this.getCanvas().getPixelRatio();this.setTransform(F,0,0,F,0,0)}this._applyLineCap(D);const A=D.hitStrokeWidth(),O=A==="auto"?D.strokeWidth():A;this.setAttr("lineWidth",O),this.setAttr("strokeStyle",D.colorKey),D._strokeFuncHit(this),P||this.restore()}}}return zs.HitContext=x,zs}var wD;function hp(){if(wD)return Qs;wD=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.HitCanvas=Qs.SceneCanvas=Qs.Canvas=void 0;const e=Hn(),n=rI(),i=_t();let r;function o(){if(r)return r;const h=e.Util.createCanvasElement(),m=h.getContext("2d");return r=function(){const v=i.Konva._global.devicePixelRatio||1,p=m.webkitBackingStorePixelRatio||m.mozBackingStorePixelRatio||m.msBackingStorePixelRatio||m.oBackingStorePixelRatio||m.backingStorePixelRatio||1;return v/p}(),e.Util.releaseCanvas(h),r}let u=class{constructor(m){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const p=(m||{}).pixelRatio||i.Konva.pixelRatio||o();this.pixelRatio=p,this._canvas=e.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(m){const v=this.pixelRatio;this.pixelRatio=m,this.setSize(this.getWidth()/v,this.getHeight()/v)}setWidth(m){this.width=this._canvas.width=m*this.pixelRatio,this._canvas.style.width=m+"px";const v=this.pixelRatio;this.getContext()._context.scale(v,v)}setHeight(m){this.height=this._canvas.height=m*this.pixelRatio,this._canvas.style.height=m+"px";const v=this.pixelRatio;this.getContext()._context.scale(v,v)}getWidth(){return this.width}getHeight(){return this.height}setSize(m,v){this.setWidth(m||0),this.setHeight(v||0)}toDataURL(m,v){try{return this._canvas.toDataURL(m,v)}catch{try{return this._canvas.toDataURL()}catch(b){return e.Util.error("Unable to get data URL. "+b.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Qs.Canvas=u;class c extends u{constructor(m={width:0,height:0,willReadFrequently:!1}){super(m),this.context=new n.SceneContext(this,{willReadFrequently:m.willReadFrequently}),this.setSize(m.width,m.height)}}Qs.SceneCanvas=c;class d extends u{constructor(m={width:0,height:0}){super(m),this.hitCanvas=!0,this.context=new n.HitContext(this),this.setSize(m.width,m.height)}}return Qs.HitCanvas=d,Qs}var ky={},DD;function b5(){return DD||(DD=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const n=_t(),i=Hn();e.DD={get isDragging(){let r=!1;return e.DD._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){let r;return e.DD._dragElements.forEach(o=>{r=o.node}),r},_dragElements:new Map,_drag(r){const o=[];e.DD._dragElements.forEach((u,c)=>{const{node:d}=u,h=d.getStage();h.setPointersPositions(r),u.pointerId===void 0&&(u.pointerId=i.Util._getFirstPointerId(r));const m=h._changedPointerPositions.find(v=>v.id===u.pointerId);if(m){if(u.dragStatus!=="dragging"){const v=d.dragDistance();if(Math.max(Math.abs(m.x-u.startPointerPos.x),Math.abs(m.y-u.startPointerPos.y))<v||(d.startDrag({evt:r}),!d.isDragging()))return}d._setDragPosition(r,u),o.push(d)}}),o.forEach(u=>{u.fire("dragmove",{type:"dragmove",target:u,evt:r},!0)})},_endDragBefore(r){const o=[];e.DD._dragElements.forEach(u=>{const{node:c}=u,d=c.getStage();if(r&&d.setPointersPositions(r),!d._changedPointerPositions.find(v=>v.id===u.pointerId))return;(u.dragStatus==="dragging"||u.dragStatus==="stopped")&&(e.DD.justDragged=!0,n.Konva._mouseListenClick=!1,n.Konva._touchListenClick=!1,n.Konva._pointerListenClick=!1,u.dragStatus="stopped");const m=u.node.getLayer()||u.node instanceof n.Konva.Stage&&u.node;m&&o.indexOf(m)===-1&&o.push(m)}),o.forEach(u=>{u.draw()})},_endDragAfter(r){e.DD._dragElements.forEach((o,u)=>{o.dragStatus==="stopped"&&o.node.fire("dragend",{type:"dragend",target:o.node,evt:r},!0),o.dragStatus!=="dragging"&&e.DD._dragElements.delete(u)})}},n.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("touchcancel",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1),window.addEventListener("touchcancel",e.DD._endDragAfter,!1))}(ky)),ky}var xD;function ai(){if(xD)return x1;xD=1,Object.defineProperty(x1,"__esModule",{value:!0}),x1.Node=void 0;const e=Hn(),n=Ft(),i=hp(),r=_t(),o=b5(),u=qt(),c="absoluteOpacity",d="allEventListeners",h="absoluteTransform",m="absoluteScale",v="canvas",p="Change",b="children",S="konva",y="listening",w="mouseenter",x="mouseleave",T="set",D="Shape",P=" ",A="stage",O="transform",F="Stage",q="visible",R=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(P);let E=1;class N{constructor(_){this._id=E++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(_),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(_){(_===O||_===h)&&this._cache.get(_)?this._cache.get(_).dirty=!0:_?this._cache.delete(_):this._cache.clear()}_getCache(_,I){let B=this._cache.get(_);return(B===void 0||(_===O||_===h)&&B.dirty===!0)&&(B=I.call(this),this._cache.set(_,B)),B}_calculate(_,I,B){if(!this._attachedDepsListeners.get(_)){const H=I.map(Y=>Y+"Change.konva").join(P);this.on(H,()=>{this._clearCache(_)}),this._attachedDepsListeners.set(_,!0)}return this._getCache(_,B)}_getCanvasCache(){return this._cache.get(v)}_clearSelfAndDescendantCache(_){this._clearCache(_),_===h&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(v)){const{scene:_,filter:I,hit:B}=this._cache.get(v);e.Util.releaseCanvas(_,I,B),this._cache.delete(v)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(_){const I=_||{};let B={};(I.x===void 0||I.y===void 0||I.width===void 0||I.height===void 0)&&(B=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let H=Math.ceil(I.width||B.width),Y=Math.ceil(I.height||B.height),K=I.pixelRatio,ce=I.x===void 0?Math.floor(B.x):I.x,re=I.y===void 0?Math.floor(B.y):I.y,$=I.offset||0,j=I.drawBorder||!1,de=I.hitCanvasPixelRatio||1;if(!H||!Y){e.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const ve=Math.abs(Math.round(B.x)-ce)>.5?1:0,ye=Math.abs(Math.round(B.y)-re)>.5?1:0;H+=$*2+ve,Y+=$*2+ye,ce-=$,re-=$;const Pe=new i.SceneCanvas({pixelRatio:K,width:H,height:Y}),le=new i.SceneCanvas({pixelRatio:K,width:0,height:0,willReadFrequently:!0}),pe=new i.HitCanvas({pixelRatio:de,width:H,height:Y}),Ae=Pe.getContext(),Ce=pe.getContext();return pe.isCache=!0,Pe.isCache=!0,this._cache.delete(v),this._filterUpToDate=!1,I.imageSmoothingEnabled===!1&&(Pe.getContext()._context.imageSmoothingEnabled=!1,le.getContext()._context.imageSmoothingEnabled=!1),Ae.save(),Ce.save(),Ae.translate(-ce,-re),Ce.translate(-ce,-re),this._isUnderCache=!0,this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(m),this.drawScene(Pe,this),this.drawHit(pe,this),this._isUnderCache=!1,Ae.restore(),Ce.restore(),j&&(Ae.save(),Ae.beginPath(),Ae.rect(0,0,H,Y),Ae.closePath(),Ae.setAttr("strokeStyle","red"),Ae.setAttr("lineWidth",5),Ae.stroke(),Ae.restore()),this._cache.set(v,{scene:Pe,filter:le,hit:pe,x:ce,y:re}),this._requestDraw(),this}isCached(){return this._cache.has(v)}getClientRect(_){throw new Error('abstract "getClientRect" method call')}_transformedRect(_,I){const B=[{x:_.x,y:_.y},{x:_.x+_.width,y:_.y},{x:_.x+_.width,y:_.y+_.height},{x:_.x,y:_.y+_.height}];let H=1/0,Y=1/0,K=-1/0,ce=-1/0;const re=this.getAbsoluteTransform(I);return B.forEach(function($){const j=re.point($);H===void 0&&(H=K=j.x,Y=ce=j.y),H=Math.min(H,j.x),Y=Math.min(Y,j.y),K=Math.max(K,j.x),ce=Math.max(ce,j.y)}),{x:H,y:Y,width:K-H,height:ce-Y}}_drawCachedSceneCanvas(_){_.save(),_._applyOpacity(this),_._applyGlobalCompositeOperation(this);const I=this._getCanvasCache();_.translate(I.x,I.y);const B=this._getCachedSceneCanvas(),H=B.pixelRatio;_.drawImage(B._canvas,0,0,B.width/H,B.height/H),_.restore()}_drawCachedHitCanvas(_){const I=this._getCanvasCache(),B=I.hit;_.save(),_.translate(I.x,I.y),_.drawImage(B._canvas,0,0,B.width/B.pixelRatio,B.height/B.pixelRatio),_.restore()}_getCachedSceneCanvas(){let _=this.filters(),I=this._getCanvasCache(),B=I.scene,H=I.filter,Y=H.getContext(),K,ce,re,$;if(_){if(!this._filterUpToDate){const j=B.pixelRatio;H.setSize(B.width/B.pixelRatio,B.height/B.pixelRatio);try{for(K=_.length,Y.clear(),Y.drawImage(B._canvas,0,0,B.getWidth()/j,B.getHeight()/j),ce=Y.getImageData(0,0,H.getWidth(),H.getHeight()),re=0;re<K;re++){if($=_[re],typeof $!="function"){e.Util.error("Filter should be type of function, but got "+typeof $+" instead. Please check correct filters");continue}$.call(this,ce),Y.putImageData(ce,0,0)}}catch(de){e.Util.error("Unable to apply filter. "+de.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return H}return B}on(_,I){if(this._cache&&this._cache.delete(d),arguments.length===3)return this._delegate.apply(this,arguments);let B=_.split(P),H=B.length,Y,K,ce,re,$;for(Y=0;Y<H;Y++)K=B[Y],ce=K.split("."),re=ce[0],$=ce[1]||"",this.eventListeners[re]||(this.eventListeners[re]=[]),this.eventListeners[re].push({name:$,handler:I});return this}off(_,I){let B=(_||"").split(P),H=B.length,Y,K,ce,re,$,j;if(this._cache&&this._cache.delete(d),!_)for(K in this.eventListeners)this._off(K);for(Y=0;Y<H;Y++)if(ce=B[Y],re=ce.split("."),$=re[0],j=re[1],$)this.eventListeners[$]&&this._off($,j,I);else for(K in this.eventListeners)this._off(K,j,I);return this}dispatchEvent(_){const I={target:this,type:_.type,evt:_};return this.fire(_.type,I),this}addEventListener(_,I){return this.on(_,function(B){I.call(this,B.evt)}),this}removeEventListener(_){return this.off(_),this}_delegate(_,I,B){const H=this;this.on(_,function(Y){const K=Y.target.findAncestors(I,!0,H);for(let ce=0;ce<K.length;ce++)Y=e.Util.cloneObject(Y),Y.currentTarget=K[ce],B.call(K[ce],Y)})}remove(){return this.isDragging()&&this.stopDrag(),o.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(m),this._clearSelfAndDescendantCache(A),this._clearSelfAndDescendantCache(q),this._clearSelfAndDescendantCache(y)}_remove(){this._clearCaches();const _=this.getParent();_&&_.children&&(_.children.splice(this.index,1),_._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(_){const I="get"+e.Util._capitalize(_);return e.Util._isFunction(this[I])?this[I]():this.attrs[_]}getAncestors(){let _=this.getParent(),I=[];for(;_;)I.push(_),_=_.getParent();return I}getAttrs(){return this.attrs||{}}setAttrs(_){return this._batchTransformChanges(()=>{let I,B;if(!_)return this;for(I in _)I!==b&&(B=T+e.Util._capitalize(I),e.Util._isFunction(this[B])?this[B](_[I]):this._setAttr(I,_[I]))}),this}isListening(){return this._getCache(y,this._isListening)}_isListening(_){if(!this.listening())return!1;const B=this.getParent();return B&&B!==_&&this!==_?B._isListening(_):!0}isVisible(){return this._getCache(q,this._isVisible)}_isVisible(_){if(!this.visible())return!1;const B=this.getParent();return B&&B!==_&&this!==_?B._isVisible(_):!0}shouldDrawHit(_,I=!1){if(_)return this._isVisible(_)&&this._isListening(_);const B=this.getLayer();let H=!1;o.DD._dragElements.forEach(K=>{K.dragStatus==="dragging"&&(K.node.nodeType==="Stage"||K.node.getLayer()===B)&&(H=!0)});const Y=!I&&!r.Konva.hitOnDragEnabled&&(H||r.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!Y}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let _=this.getDepth(),I=this,B=0,H,Y,K,ce;function re(j){for(H=[],Y=j.length,K=0;K<Y;K++)ce=j[K],B++,ce.nodeType!==D&&(H=H.concat(ce.getChildren().slice())),ce._id===I._id&&(K=Y);H.length>0&&H[0].getDepth()<=_&&re(H)}const $=this.getStage();return I.nodeType!==F&&$&&re($.getChildren()),B}getDepth(){let _=0,I=this.parent;for(;I;)_++,I=I.parent;return _}_batchTransformChanges(_){this._batchingTransformChange=!0,_(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(O),this._clearSelfAndDescendantCache(h)),this._needClearTransformCache=!1}setPosition(_){return this._batchTransformChanges(()=>{this.x(_.x),this.y(_.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const _=this.getStage();if(!_)return null;const I=_.getPointerPosition();if(!I)return null;const B=this.getAbsoluteTransform().copy();return B.invert(),B.point(I)}getAbsolutePosition(_){let I=!1,B=this.parent;for(;B;){if(B.isCached()){I=!0;break}B=B.parent}I&&!_&&(_=!0);const H=this.getAbsoluteTransform(_).getMatrix(),Y=new e.Transform,K=this.offset();return Y.m=H.slice(),Y.translate(K.x,K.y),Y.getTranslation()}setAbsolutePosition(_){const{x:I,y:B,...H}=this._clearTransform();this.attrs.x=I,this.attrs.y=B,this._clearCache(O);const Y=this._getAbsoluteTransform().copy();return Y.invert(),Y.translate(_.x,_.y),_={x:this.attrs.x+Y.getTranslation().x,y:this.attrs.y+Y.getTranslation().y},this._setTransform(H),this.setPosition({x:_.x,y:_.y}),this._clearCache(O),this._clearSelfAndDescendantCache(h),this}_setTransform(_){let I;for(I in _)this.attrs[I]=_[I]}_clearTransform(){const _={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,_}move(_){let I=_.x,B=_.y,H=this.x(),Y=this.y();return I!==void 0&&(H+=I),B!==void 0&&(Y+=B),this.setPosition({x:H,y:Y}),this}_eachAncestorReverse(_,I){let B=[],H=this.getParent(),Y,K;if(!(I&&I._id===this._id)){for(B.unshift(this);H&&(!I||H._id!==I._id);)B.unshift(H),H=H.parent;for(Y=B.length,K=0;K<Y;K++)_(B[K])}}rotate(_){return this.rotation(this.rotation()+_),this}moveToTop(){if(!this.parent)return e.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const _=this.index,I=this.parent.getChildren().length;return _<I-1?(this.parent.children.splice(_,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return e.Util.warn("Node has no parent. moveUp function is ignored."),!1;const _=this.index,I=this.parent.getChildren().length;return _<I-1?(this.parent.children.splice(_,1),this.parent.children.splice(_+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return e.Util.warn("Node has no parent. moveDown function is ignored."),!1;const _=this.index;return _>0?(this.parent.children.splice(_,1),this.parent.children.splice(_-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return e.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const _=this.index;return _>0?(this.parent.children.splice(_,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(_){if(!this.parent)return e.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(_<0||_>=this.parent.children.length)&&e.Util.warn("Unexpected value "+_+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const I=this.index;return this.parent.children.splice(I,1),this.parent.children.splice(_,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(c,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let _=this.opacity();const I=this.getParent();return I&&!I._isUnderCache&&(_*=I.getAbsoluteOpacity()),_}moveTo(_){return this.getParent()!==_&&(this._remove(),_.add(this)),this}toObject(){let _=this.getAttrs(),I,B,H,Y,K;const ce={attrs:{},className:this.getClassName()};for(I in _)B=_[I],K=e.Util.isObject(B)&&!e.Util._isPlainObject(B)&&!e.Util._isArray(B),!K&&(H=typeof this[I]=="function"&&this[I],delete _[I],Y=H?H.call(this):null,_[I]=B,Y!==B&&(ce.attrs[I]=B));return e.Util._prepareToStringify(ce)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(_,I,B){const H=[];I&&this._isMatch(_)&&H.push(this);let Y=this.parent;for(;Y;){if(Y===B)return H;Y._isMatch(_)&&H.push(Y),Y=Y.parent}return H}isAncestorOf(_){return!1}findAncestor(_,I,B){return this.findAncestors(_,I,B)[0]}_isMatch(_){if(!_)return!1;if(typeof _=="function")return _(this);let I=_.replace(/ /g,"").split(","),B=I.length,H,Y;for(H=0;H<B;H++)if(Y=I[H],e.Util.isValidSelector(Y)||(e.Util.warn('Selector "'+Y+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),e.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),e.Util.warn("Konva is awesome, right?")),Y.charAt(0)==="#"){if(this.id()===Y.slice(1))return!0}else if(Y.charAt(0)==="."){if(this.hasName(Y.slice(1)))return!0}else if(this.className===Y||this.nodeType===Y)return!0;return!1}getLayer(){const _=this.getParent();return _?_.getLayer():null}getStage(){return this._getCache(A,this._getStage)}_getStage(){const _=this.getParent();return _?_.getStage():null}fire(_,I={},B){return I.target=I.target||this,B?this._fireAndBubble(_,I):this._fire(_,I),this}getAbsoluteTransform(_){return _?this._getAbsoluteTransform(_):this._getCache(h,this._getAbsoluteTransform)}_getAbsoluteTransform(_){let I;if(_)return I=new e.Transform,this._eachAncestorReverse(function(B){const H=B.transformsEnabled();H==="all"?I.multiply(B.getTransform()):H==="position"&&I.translate(B.x()-B.offsetX(),B.y()-B.offsetY())},_),I;{I=this._cache.get(h)||new e.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(I):I.reset();const B=this.transformsEnabled();if(B==="all")I.multiply(this.getTransform());else if(B==="position"){const H=this.attrs.x||0,Y=this.attrs.y||0,K=this.attrs.offsetX||0,ce=this.attrs.offsetY||0;I.translate(H-K,Y-ce)}return I.dirty=!1,I}}getAbsoluteScale(_){let I=this;for(;I;)I._isUnderCache&&(_=I),I=I.getParent();const H=this.getAbsoluteTransform(_).decompose();return{x:H.scaleX,y:H.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(O,this._getTransform)}_getTransform(){var _,I;const B=this._cache.get(O)||new e.Transform;B.reset();const H=this.x(),Y=this.y(),K=r.Konva.getAngle(this.rotation()),ce=(_=this.attrs.scaleX)!==null&&_!==void 0?_:1,re=(I=this.attrs.scaleY)!==null&&I!==void 0?I:1,$=this.attrs.skewX||0,j=this.attrs.skewY||0,de=this.attrs.offsetX||0,ve=this.attrs.offsetY||0;return(H!==0||Y!==0)&&B.translate(H,Y),K!==0&&B.rotate(K),($!==0||j!==0)&&B.skew($,j),(ce!==1||re!==1)&&B.scale(ce,re),(de!==0||ve!==0)&&B.translate(-1*de,-1*ve),B.dirty=!1,B}clone(_){let I=e.Util.cloneObject(this.attrs),B,H,Y,K,ce;for(B in _)I[B]=_[B];const re=new this.constructor(I);for(B in this.eventListeners)for(H=this.eventListeners[B],Y=H.length,K=0;K<Y;K++)ce=H[K],ce.name.indexOf(S)<0&&(re.eventListeners[B]||(re.eventListeners[B]=[]),re.eventListeners[B].push(ce));return re}_toKonvaCanvas(_){_=_||{};const I=this.getClientRect(),B=this.getStage(),H=_.x!==void 0?_.x:Math.floor(I.x),Y=_.y!==void 0?_.y:Math.floor(I.y),K=_.pixelRatio||1,ce=new i.SceneCanvas({width:_.width||Math.ceil(I.width)||(B?B.width():0),height:_.height||Math.ceil(I.height)||(B?B.height():0),pixelRatio:K}),re=ce.getContext(),$=new i.SceneCanvas({width:ce.width/ce.pixelRatio+Math.abs(H),height:ce.height/ce.pixelRatio+Math.abs(Y),pixelRatio:ce.pixelRatio});return _.imageSmoothingEnabled===!1&&(re._context.imageSmoothingEnabled=!1),re.save(),(H||Y)&&re.translate(-1*H,-1*Y),this.drawScene(ce,void 0,$),re.restore(),ce}toCanvas(_){return this._toKonvaCanvas(_)._canvas}toDataURL(_){_=_||{};const I=_.mimeType||null,B=_.quality||null,H=this._toKonvaCanvas(_).toDataURL(I,B);return _.callback&&_.callback(H),H}toImage(_){return new Promise((I,B)=>{try{const H=_==null?void 0:_.callback;H&&delete _.callback,e.Util._urlToImage(this.toDataURL(_),function(Y){I(Y),H==null||H(Y)})}catch(H){B(H)}})}toBlob(_){return new Promise((I,B)=>{try{const H=_==null?void 0:_.callback;H&&delete _.callback,this.toCanvas(_).toBlob(Y=>{I(Y),H==null||H(Y)},_==null?void 0:_.mimeType,_==null?void 0:_.quality)}catch(H){B(H)}})}setSize(_){return this.width(_.width),this.height(_.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():r.Konva.dragDistance}_off(_,I,B){let H=this.eventListeners[_],Y,K,ce;for(Y=0;Y<H.length;Y++)if(K=H[Y].name,ce=H[Y].handler,(K!=="konva"||I==="konva")&&(!I||K===I)&&(!B||B===ce)){if(H.splice(Y,1),H.length===0){delete this.eventListeners[_];break}Y--}}_fireChangeEvent(_,I,B){this._fire(_+p,{oldVal:I,newVal:B})}addName(_){if(!this.hasName(_)){const I=this.name(),B=I?I+" "+_:_;this.name(B)}return this}hasName(_){if(!_)return!1;const I=this.name();return I?(I||"").split(/\s/g).indexOf(_)!==-1:!1}removeName(_){const I=(this.name()||"").split(/\s/g),B=I.indexOf(_);return B!==-1&&(I.splice(B,1),this.name(I.join(" "))),this}setAttr(_,I){const B=this[T+e.Util._capitalize(_)];return e.Util._isFunction(B)?B.call(this,I):this._setAttr(_,I),this}_requestDraw(){if(r.Konva.autoDrawEnabled){const _=this.getLayer()||this.getStage();_==null||_.batchDraw()}}_setAttr(_,I){const B=this.attrs[_];B===I&&!e.Util.isObject(I)||(I==null?delete this.attrs[_]:this.attrs[_]=I,this._shouldFireChangeEvents&&this._fireChangeEvent(_,B,I),this._requestDraw())}_setComponentAttr(_,I,B){let H;B!==void 0&&(H=this.attrs[_],H||(this.attrs[_]=this.getAttr(_)),this.attrs[_][I]=B,this._fireChangeEvent(_,H,B))}_fireAndBubble(_,I,B){if(I&&this.nodeType===D&&(I.target=this),!((_===w||_===x)&&(B&&(this===B||this.isAncestorOf&&this.isAncestorOf(B))||this.nodeType==="Stage"&&!B))){this._fire(_,I);const Y=(_===w||_===x)&&B&&B.isAncestorOf&&B.isAncestorOf(this)&&!B.isAncestorOf(this.parent);(I&&!I.cancelBubble||!I)&&this.parent&&this.parent.isListening()&&!Y&&(B&&B.parent?this._fireAndBubble.call(this.parent,_,I,B):this._fireAndBubble.call(this.parent,_,I))}}_getProtoListeners(_){var I,B,H;const Y=(I=this._cache.get(d))!==null&&I!==void 0?I:{};let K=Y==null?void 0:Y[_];if(K===void 0){K=[];let ce=Object.getPrototypeOf(this);for(;ce;){const re=(H=(B=ce.eventListeners)===null||B===void 0?void 0:B[_])!==null&&H!==void 0?H:[];K.push(...re),ce=Object.getPrototypeOf(ce)}Y[_]=K,this._cache.set(d,Y)}return K}_fire(_,I){I=I||{},I.currentTarget=this,I.type=_;const B=this._getProtoListeners(_);if(B)for(var H=0;H<B.length;H++)B[H].handler.call(this,I);const Y=this.eventListeners[_];if(Y)for(var H=0;H<Y.length;H++)Y[H].handler.call(this,I)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(_){const I=_?_.pointerId:void 0,B=this.getStage(),H=this.getAbsolutePosition();if(!B)return;const Y=B._getPointerById(I)||B._changedPointerPositions[0]||H;o.DD._dragElements.set(this._id,{node:this,startPointerPos:Y,offset:{x:Y.x-H.x,y:Y.y-H.y},dragStatus:"ready",pointerId:I})}startDrag(_,I=!0){o.DD._dragElements.has(this._id)||this._createDragElement(_);const B=o.DD._dragElements.get(this._id);B.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:_&&_.evt},I)}_setDragPosition(_,I){const B=this.getStage()._getPointerById(I.pointerId);if(!B)return;let H={x:B.x-I.offset.x,y:B.y-I.offset.y};const Y=this.dragBoundFunc();if(Y!==void 0){const K=Y.call(this,H,_);K?H=K:e.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==H.x||this._lastPos.y!==H.y)&&(this.setAbsolutePosition(H),this._requestDraw()),this._lastPos=H}stopDrag(_){const I=o.DD._dragElements.get(this._id);I&&(I.dragStatus="stopped"),o.DD._endDragBefore(_),o.DD._endDragAfter(_)}setDraggable(_){this._setAttr("draggable",_),this._dragChange()}isDragging(){const _=o.DD._dragElements.get(this._id);return _?_.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(_){if(!(!(_.evt.button!==void 0)||r.Konva.dragButtons.indexOf(_.evt.button)>=0)||this.isDragging())return;let H=!1;o.DD._dragElements.forEach(Y=>{this.isAncestorOf(Y.node)&&(H=!0)}),H||this._createDragElement(_)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const I=o.DD._dragElements.get(this._id),B=I&&I.dragStatus==="dragging",H=I&&I.dragStatus==="ready";B?this.stopDrag():H&&o.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(_={x:0,y:0}){const I=this.getStage();if(!I)return!1;const B={x:-_.x,y:-_.y,width:I.width()+2*_.x,height:I.height()+2*_.y};return e.Util.haveIntersection(B,this.getClientRect())}static create(_,I){return e.Util._isString(_)&&(_=JSON.parse(_)),this._createNode(_,I)}static _createNode(_,I){let B=N.prototype.getClassName.call(_),H=_.children,Y,K,ce;I&&(_.attrs.container=I),r.Konva[B]||(e.Util.warn('Can not find a node with class name "'+B+'". Fallback to "Shape".'),B="Shape");const re=r.Konva[B];if(Y=new re(_.attrs),H)for(K=H.length,ce=0;ce<K;ce++)Y.add(N._createNode(H[ce]));return Y}}x1.Node=N,N.prototype.nodeType="Node",N.prototype._attrsAffectingSize=[],N.prototype.eventListeners={},N.prototype.on.call(N.prototype,R,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(O),this._clearSelfAndDescendantCache(h)}),N.prototype.on.call(N.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(q)}),N.prototype.on.call(N.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(y)}),N.prototype.on.call(N.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(c)});const G=n.Factory.addGetterSetter;return G(N,"zIndex"),G(N,"absolutePosition"),G(N,"position"),G(N,"x",0,(0,u.getNumberValidator)()),G(N,"y",0,(0,u.getNumberValidator)()),G(N,"globalCompositeOperation","source-over",(0,u.getStringValidator)()),G(N,"opacity",1,(0,u.getNumberValidator)()),G(N,"name","",(0,u.getStringValidator)()),G(N,"id","",(0,u.getStringValidator)()),G(N,"rotation",0,(0,u.getNumberValidator)()),n.Factory.addComponentsGetterSetter(N,"scale",["x","y"]),G(N,"scaleX",1,(0,u.getNumberValidator)()),G(N,"scaleY",1,(0,u.getNumberValidator)()),n.Factory.addComponentsGetterSetter(N,"skew",["x","y"]),G(N,"skewX",0,(0,u.getNumberValidator)()),G(N,"skewY",0,(0,u.getNumberValidator)()),n.Factory.addComponentsGetterSetter(N,"offset",["x","y"]),G(N,"offsetX",0,(0,u.getNumberValidator)()),G(N,"offsetY",0,(0,u.getNumberValidator)()),G(N,"dragDistance",void 0,(0,u.getNumberValidator)()),G(N,"width",0,(0,u.getNumberValidator)()),G(N,"height",0,(0,u.getNumberValidator)()),G(N,"listening",!0,(0,u.getBooleanValidator)()),G(N,"preventDefault",!0,(0,u.getBooleanValidator)()),G(N,"filters",void 0,function(M){return this._filterUpToDate=!1,M}),G(N,"visible",!0,(0,u.getBooleanValidator)()),G(N,"transformsEnabled","all",(0,u.getStringValidator)()),G(N,"size"),G(N,"dragBoundFunc"),G(N,"draggable",!1,(0,u.getBooleanValidator)()),n.Factory.backCompat(N,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),x1}var T1={},TD;function fp(){if(TD)return T1;TD=1,Object.defineProperty(T1,"__esModule",{value:!0}),T1.Container=void 0;const e=Ft(),n=ai(),i=qt();let r=class extends n.Node{constructor(){super(...arguments),this.children=[]}getChildren(u){if(!u)return this.children||[];const c=this.children||[],d=[];return c.forEach(function(h){u(h)&&d.push(h)}),d}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(u=>{u.parent=null,u.index=0,u.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(u=>{u.parent=null,u.index=0,u.destroy()}),this.children=[],this._requestDraw(),this}add(...u){if(u.length===0)return this;if(u.length>1){for(let d=0;d<u.length;d++)this.add(u[d]);return this}const c=u[0];return c.getParent()?(c.moveTo(this),this):(this._validateAdd(c),c.index=this.getChildren().length,c.parent=this,c._clearCaches(),this.getChildren().push(c),this._fire("add",{child:c}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(u){return this._generalFind(u,!1)}findOne(u){const c=this._generalFind(u,!0);return c.length>0?c[0]:void 0}_generalFind(u,c){const d=[];return this._descendants(h=>{const m=h._isMatch(u);return m&&d.push(h),!!(m&&c)}),d}_descendants(u){let c=!1;const d=this.getChildren();for(const h of d){if(c=u(h),c)return!0;if(h.hasChildren()&&(c=h._descendants(u),c))return!0}return!1}toObject(){const u=n.Node.prototype.toObject.call(this);return u.children=[],this.getChildren().forEach(c=>{u.children.push(c.toObject())}),u}isAncestorOf(u){let c=u.getParent();for(;c;){if(c._id===this._id)return!0;c=c.getParent()}return!1}clone(u){const c=n.Node.prototype.clone.call(this,u);return this.getChildren().forEach(function(d){c.add(d.clone())}),c}getAllIntersections(u){const c=[];return this.find("Shape").forEach(d=>{d.isVisible()&&d.intersects(u)&&c.push(d)}),c}_clearSelfAndDescendantCache(u){var c;super._clearSelfAndDescendantCache(u),!this.isCached()&&((c=this.children)===null||c===void 0||c.forEach(function(d){d._clearSelfAndDescendantCache(u)}))}_setChildrenIndices(){var u;(u=this.children)===null||u===void 0||u.forEach(function(c,d){c.index=d}),this._requestDraw()}drawScene(u,c,d){const h=this.getLayer(),m=u||h&&h.getCanvas(),v=m&&m.getContext(),p=this._getCanvasCache(),b=p&&p.scene,S=m&&m.isCache;if(!this.isVisible()&&!S)return this;if(b){v.save();const y=this.getAbsoluteTransform(c).getMatrix();v.transform(y[0],y[1],y[2],y[3],y[4],y[5]),this._drawCachedSceneCanvas(v),v.restore()}else this._drawChildren("drawScene",m,c,d);return this}drawHit(u,c){if(!this.shouldDrawHit(c))return this;const d=this.getLayer(),h=u||d&&d.hitCanvas,m=h&&h.getContext(),v=this._getCanvasCache();if(v&&v.hit){m.save();const b=this.getAbsoluteTransform(c).getMatrix();m.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._drawCachedHitCanvas(m),m.restore()}else this._drawChildren("drawHit",h,c);return this}_drawChildren(u,c,d,h){var m;const v=c&&c.getContext(),p=this.clipWidth(),b=this.clipHeight(),S=this.clipFunc(),y=typeof p=="number"&&typeof b=="number"||S,w=d===this;if(y){v.save();const T=this.getAbsoluteTransform(d);let D=T.getMatrix();v.transform(D[0],D[1],D[2],D[3],D[4],D[5]),v.beginPath();let P;if(S)P=S.call(this,v,this);else{const A=this.clipX(),O=this.clipY();v.rect(A||0,O||0,p,b)}v.clip.apply(v,P),D=T.copy().invert().getMatrix(),v.transform(D[0],D[1],D[2],D[3],D[4],D[5])}const x=!w&&this.globalCompositeOperation()!=="source-over"&&u==="drawScene";x&&(v.save(),v._applyGlobalCompositeOperation(this)),(m=this.children)===null||m===void 0||m.forEach(function(T){T[u](c,d,h)}),x&&v.restore(),y&&v.restore()}getClientRect(u={}){var c;const d=u.skipTransform,h=u.relativeTo;let m,v,p,b,S={x:1/0,y:1/0,width:0,height:0};const y=this;(c=this.children)===null||c===void 0||c.forEach(function(T){if(!T.visible())return;const D=T.getClientRect({relativeTo:y,skipShadow:u.skipShadow,skipStroke:u.skipStroke});D.width===0&&D.height===0||(m===void 0?(m=D.x,v=D.y,p=D.x+D.width,b=D.y+D.height):(m=Math.min(m,D.x),v=Math.min(v,D.y),p=Math.max(p,D.x+D.width),b=Math.max(b,D.y+D.height)))});const w=this.find("Shape");let x=!1;for(let T=0;T<w.length;T++)if(w[T]._isVisible(this)){x=!0;break}return x&&m!==void 0?S={x:m,y:v,width:p-m,height:b-v}:S={x:0,y:0,width:0,height:0},d?S:this._transformedRect(S,h)}};return T1.Container=r,e.Factory.addComponentsGetterSetter(r,"clip",["x","y","width","height"]),e.Factory.addGetterSetter(r,"clipX",void 0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(r,"clipY",void 0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(r,"clipWidth",void 0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(r,"clipHeight",void 0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(r,"clipFunc"),T1}var Ry={},du={},PD;function oI(){if(PD)return du;PD=1,Object.defineProperty(du,"__esModule",{value:!0}),du.getCapturedShape=r,du.createEvent=o,du.hasPointerCapture=u,du.setPointerCapture=c,du.releaseCapture=d;const e=_t(),n=new Map,i=e.Konva._global.PointerEvent!==void 0;function r(h){return n.get(h)}function o(h){return{evt:h,pointerId:h.pointerId}}function u(h,m){return n.get(h)===m}function c(h,m){d(h),m.getStage()&&(n.set(h,m),i&&m._fire("gotpointercapture",o(new PointerEvent("gotpointercapture"))))}function d(h,m){const v=n.get(h);if(!v)return;const p=v.getStage();p&&p.content,n.delete(h),i&&v._fire("lostpointercapture",o(new PointerEvent("lostpointercapture")))}return du}var ID;function nU(){return ID||(ID=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const n=Hn(),i=Ft(),r=fp(),o=_t(),u=hp(),c=b5(),d=_t(),h=oI(),m="Stage",v="string",p="px",b="mouseout",S="mouseleave",y="mouseover",w="mouseenter",x="mousemove",T="mousedown",D="mouseup",P="pointermove",A="pointerdown",O="pointerup",F="pointercancel",q="lostpointercapture",R="pointerout",E="pointerleave",N="pointerover",G="pointerenter",M="contextmenu",_="touchstart",I="touchend",B="touchmove",H="touchcancel",Y="wheel",K=5,ce=[[w,"_pointerenter"],[T,"_pointerdown"],[x,"_pointermove"],[D,"_pointerup"],[S,"_pointerleave"],[_,"_pointerdown"],[B,"_pointermove"],[I,"_pointerup"],[H,"_pointercancel"],[y,"_pointerover"],[Y,"_wheel"],[M,"_contextmenu"],[A,"_pointerdown"],[P,"_pointermove"],[O,"_pointerup"],[F,"_pointercancel"],[q,"_lostpointercapture"]],re={mouse:{[R]:b,[E]:S,[N]:y,[G]:w,[P]:x,[A]:T,[O]:D,[F]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[R]:"touchout",[E]:"touchleave",[N]:"touchover",[G]:"touchenter",[P]:B,[A]:_,[O]:I,[F]:H,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[R]:R,[E]:E,[N]:N,[G]:G,[P]:P,[A]:A,[O]:O,[F]:F,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},$=Pe=>Pe.indexOf("pointer")>=0?"pointer":Pe.indexOf("touch")>=0?"touch":"mouse",j=Pe=>{const le=$(Pe);if(le==="pointer")return o.Konva.pointerEventsEnabled&&re.pointer;if(le==="touch")return re.touch;if(le==="mouse")return re.mouse};function de(Pe={}){return(Pe.clipFunc||Pe.clipWidth||Pe.clipHeight)&&n.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Pe}const ve="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";e.stages=[];class ye extends r.Container{constructor(le){super(de(le)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{de(this.attrs)}),this._checkVisibility()}_validateAdd(le){const pe=le.getType()==="Layer",Ae=le.getType()==="FastLayer";pe||Ae||n.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const le=this.visible()?"":"none";this.content.style.display=le}setContainer(le){if(typeof le===v){if(le.charAt(0)==="."){const Ae=le.slice(1);le=document.getElementsByClassName(Ae)[0]}else{var pe;le.charAt(0)!=="#"?pe=le:pe=le.slice(1),le=document.getElementById(pe)}if(!le)throw"Can not find container in document with id "+pe}return this._setAttr("container",le),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),le.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const le=this.children,pe=le.length;for(let Ae=0;Ae<pe;Ae++)le[Ae].clear();return this}clone(le){return le||(le={}),le.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,le)}destroy(){super.destroy();const le=this.content;le&&n.Util._isInDocument(le)&&this.container().removeChild(le);const pe=e.stages.indexOf(this);return pe>-1&&e.stages.splice(pe,1),n.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const le=this._pointerPositions[0]||this._changedPointerPositions[0];return le?{x:le.x,y:le.y}:(n.Util.warn(ve),null)}_getPointerById(le){return this._pointerPositions.find(pe=>pe.id===le)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(le){le=le||{},le.x=le.x||0,le.y=le.y||0,le.width=le.width||this.width(),le.height=le.height||this.height();const pe=new u.SceneCanvas({width:le.width,height:le.height,pixelRatio:le.pixelRatio||1}),Ae=pe.getContext()._context,Ce=this.children;return(le.x||le.y)&&Ae.translate(-1*le.x,-1*le.y),Ce.forEach(function(Le){if(!Le.isVisible())return;const J=Le._toKonvaCanvas(le);Ae.drawImage(J._canvas,le.x,le.y,J.getWidth()/J.getPixelRatio(),J.getHeight()/J.getPixelRatio())}),pe}getIntersection(le){if(!le)return null;const pe=this.children,Ae=pe.length,Ce=Ae-1;for(let Le=Ce;Le>=0;Le--){const J=pe[Le].getIntersection(le);if(J)return J}return null}_resizeDOM(){const le=this.width(),pe=this.height();this.content&&(this.content.style.width=le+p,this.content.style.height=pe+p),this.bufferCanvas.setSize(le,pe),this.bufferHitCanvas.setSize(le,pe),this.children.forEach(Ae=>{Ae.setSize({width:le,height:pe}),Ae.draw()})}add(le,...pe){if(arguments.length>1){for(let Ce=0;Ce<arguments.length;Ce++)this.add(arguments[Ce]);return this}super.add(le);const Ae=this.children.length;return Ae>K&&n.Util.warn("The stage has "+Ae+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),le.setSize({width:this.width(),height:this.height()}),le.draw(),o.Konva.isBrowser&&this.content.appendChild(le.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(le){return h.hasPointerCapture(le,this)}setPointerCapture(le){h.setPointerCapture(le,this)}releaseCapture(le){h.releaseCapture(le,this)}getLayers(){return this.children}_bindContentEvents(){o.Konva.isBrowser&&ce.forEach(([le,pe])=>{this.content.addEventListener(le,Ae=>{this[pe](Ae)},{passive:!1})})}_pointerenter(le){this.setPointersPositions(le);const pe=j(le.type);pe&&this._fire(pe.pointerenter,{evt:le,target:this,currentTarget:this})}_pointerover(le){this.setPointersPositions(le);const pe=j(le.type);pe&&this._fire(pe.pointerover,{evt:le,target:this,currentTarget:this})}_getTargetShape(le){let pe=this[le+"targetShape"];return pe&&!pe.getStage()&&(pe=null),pe}_pointerleave(le){const pe=j(le.type),Ae=$(le.type);if(!pe)return;this.setPointersPositions(le);const Ce=this._getTargetShape(Ae),Le=!(o.Konva.isDragging()||o.Konva.isTransforming())||o.Konva.hitOnDragEnabled;Ce&&Le?(Ce._fireAndBubble(pe.pointerout,{evt:le}),Ce._fireAndBubble(pe.pointerleave,{evt:le}),this._fire(pe.pointerleave,{evt:le,target:this,currentTarget:this}),this[Ae+"targetShape"]=null):Le&&(this._fire(pe.pointerleave,{evt:le,target:this,currentTarget:this}),this._fire(pe.pointerout,{evt:le,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(le){const pe=j(le.type),Ae=$(le.type);if(!pe)return;this.setPointersPositions(le);let Ce=!1;this._changedPointerPositions.forEach(Le=>{const J=this.getIntersection(Le);if(c.DD.justDragged=!1,o.Konva["_"+Ae+"ListenClick"]=!0,!J||!J.isListening()){this[Ae+"ClickStartShape"]=void 0;return}o.Konva.capturePointerEventsEnabled&&J.setPointerCapture(Le.id),this[Ae+"ClickStartShape"]=J,J._fireAndBubble(pe.pointerdown,{evt:le,pointerId:Le.id}),Ce=!0;const ue=le.type.indexOf("touch")>=0;J.preventDefault()&&le.cancelable&&ue&&le.preventDefault()}),Ce||this._fire(pe.pointerdown,{evt:le,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(le){const pe=j(le.type),Ae=$(le.type);if(!pe||(o.Konva.isDragging()&&c.DD.node.preventDefault()&&le.cancelable&&le.preventDefault(),this.setPointersPositions(le),!(!(o.Konva.isDragging()||o.Konva.isTransforming())||o.Konva.hitOnDragEnabled)))return;const Le={};let J=!1;const ue=this._getTargetShape(Ae);this._changedPointerPositions.forEach(U=>{const fe=h.getCapturedShape(U.id)||this.getIntersection(U),ge=U.id,ne={evt:le,pointerId:ge},ae=ue!==fe;if(ae&&ue&&(ue._fireAndBubble(pe.pointerout,{...ne},fe),ue._fireAndBubble(pe.pointerleave,{...ne},fe)),fe){if(Le[fe._id])return;Le[fe._id]=!0}fe&&fe.isListening()?(J=!0,ae&&(fe._fireAndBubble(pe.pointerover,{...ne},ue),fe._fireAndBubble(pe.pointerenter,{...ne},ue),this[Ae+"targetShape"]=fe),fe._fireAndBubble(pe.pointermove,{...ne})):ue&&(this._fire(pe.pointerover,{evt:le,target:this,currentTarget:this,pointerId:ge}),this[Ae+"targetShape"]=null)}),J||this._fire(pe.pointermove,{evt:le,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(le){const pe=j(le.type),Ae=$(le.type);if(!pe)return;this.setPointersPositions(le);const Ce=this[Ae+"ClickStartShape"],Le=this[Ae+"ClickEndShape"],J={};let ue=!1;this._changedPointerPositions.forEach(U=>{const fe=h.getCapturedShape(U.id)||this.getIntersection(U);if(fe){if(fe.releaseCapture(U.id),J[fe._id])return;J[fe._id]=!0}const ge=U.id,ne={evt:le,pointerId:ge};let ae=!1;o.Konva["_"+Ae+"InDblClickWindow"]?(ae=!0,clearTimeout(this[Ae+"DblTimeout"])):c.DD.justDragged||(o.Konva["_"+Ae+"InDblClickWindow"]=!0,clearTimeout(this[Ae+"DblTimeout"])),this[Ae+"DblTimeout"]=setTimeout(function(){o.Konva["_"+Ae+"InDblClickWindow"]=!1},o.Konva.dblClickWindow),fe&&fe.isListening()?(ue=!0,this[Ae+"ClickEndShape"]=fe,fe._fireAndBubble(pe.pointerup,{...ne}),o.Konva["_"+Ae+"ListenClick"]&&Ce&&Ce===fe&&(fe._fireAndBubble(pe.pointerclick,{...ne}),ae&&Le&&Le===fe&&fe._fireAndBubble(pe.pointerdblclick,{...ne}))):(this[Ae+"ClickEndShape"]=null,o.Konva["_"+Ae+"ListenClick"]&&this._fire(pe.pointerclick,{evt:le,target:this,currentTarget:this,pointerId:ge}),ae&&this._fire(pe.pointerdblclick,{evt:le,target:this,currentTarget:this,pointerId:ge}))}),ue||this._fire(pe.pointerup,{evt:le,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),o.Konva["_"+Ae+"ListenClick"]=!1,le.cancelable&&Ae!=="touch"&&Ae!=="pointer"&&le.preventDefault()}_contextmenu(le){this.setPointersPositions(le);const pe=this.getIntersection(this.getPointerPosition());pe&&pe.isListening()?pe._fireAndBubble(M,{evt:le}):this._fire(M,{evt:le,target:this,currentTarget:this})}_wheel(le){this.setPointersPositions(le);const pe=this.getIntersection(this.getPointerPosition());pe&&pe.isListening()?pe._fireAndBubble(Y,{evt:le}):this._fire(Y,{evt:le,target:this,currentTarget:this})}_pointercancel(le){this.setPointersPositions(le);const pe=h.getCapturedShape(le.pointerId)||this.getIntersection(this.getPointerPosition());pe&&pe._fireAndBubble(O,h.createEvent(le)),h.releaseCapture(le.pointerId)}_lostpointercapture(le){h.releaseCapture(le.pointerId)}setPointersPositions(le){const pe=this._getContentPosition();let Ae=null,Ce=null;le=le||window.event,le.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(le.touches,Le=>{this._pointerPositions.push({id:Le.identifier,x:(Le.clientX-pe.left)/pe.scaleX,y:(Le.clientY-pe.top)/pe.scaleY})}),Array.prototype.forEach.call(le.changedTouches||le.touches,Le=>{this._changedPointerPositions.push({id:Le.identifier,x:(Le.clientX-pe.left)/pe.scaleX,y:(Le.clientY-pe.top)/pe.scaleY})})):(Ae=(le.clientX-pe.left)/pe.scaleX,Ce=(le.clientY-pe.top)/pe.scaleY,this.pointerPos={x:Ae,y:Ce},this._pointerPositions=[{x:Ae,y:Ce,id:n.Util._getFirstPointerId(le)}],this._changedPointerPositions=[{x:Ae,y:Ce,id:n.Util._getFirstPointerId(le)}])}_setPointerPosition(le){n.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(le)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const le=this.content.getBoundingClientRect();return{top:le.top,left:le.left,scaleX:le.width/this.content.clientWidth||1,scaleY:le.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new u.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new u.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!o.Konva.isBrowser)return;const le=this.container();if(!le)throw"Stage has no container. A container is required.";le.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),le.appendChild(this.content),this._resizeDOM()}cache(){return n.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(le){le.batchDraw()}),this}}e.Stage=ye,ye.prototype.nodeType=m,(0,d._registerNode)(ye),i.Factory.addGetterSetter(ye,"container"),o.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{e.stages.forEach(Pe=>{Pe.batchDraw()})})}(Ry)),Ry}var P1={},Ey={},AD;function Li(){return AD||(AD=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const n=_t(),i=Hn(),r=Ft(),o=ai(),u=qt(),c=_t(),d=oI(),h="hasShadow",m="shadowRGBA",v="patternImage",p="linearGradient",b="radialGradient";let S;function y(){return S||(S=i.Util.createCanvasElement().getContext("2d"),S)}e.shapes={};function w(E){const N=this.attrs.fillRule;N?E.fill(N):E.fill()}function x(E){E.stroke()}function T(E){const N=this.attrs.fillRule;N?E.fill(N):E.fill()}function D(E){E.stroke()}function P(){this._clearCache(h)}function A(){this._clearCache(m)}function O(){this._clearCache(v)}function F(){this._clearCache(p)}function q(){this._clearCache(b)}class R extends o.Node{constructor(N){super(N);let G;for(;G=i.Util.getRandomColor(),!(G&&!(G in e.shapes)););this.colorKey=G,e.shapes[G]=this}getContext(){return i.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return i.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(h,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(v,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const G=y().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(G&&G.setTransform){const M=new i.Transform;M.translate(this.fillPatternX(),this.fillPatternY()),M.rotate(n.Konva.getAngle(this.fillPatternRotation())),M.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),M.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const _=M.getMatrix(),I=typeof DOMMatrix>"u"?{a:_[0],b:_[1],c:_[2],d:_[3],e:_[4],f:_[5]}:new DOMMatrix(_);G.setTransform(I)}return G}}_getLinearGradient(){return this._getCache(p,this.__getLinearGradient)}__getLinearGradient(){const N=this.fillLinearGradientColorStops();if(N){const G=y(),M=this.fillLinearGradientStartPoint(),_=this.fillLinearGradientEndPoint(),I=G.createLinearGradient(M.x,M.y,_.x,_.y);for(let B=0;B<N.length;B+=2)I.addColorStop(N[B],N[B+1]);return I}}_getRadialGradient(){return this._getCache(b,this.__getRadialGradient)}__getRadialGradient(){const N=this.fillRadialGradientColorStops();if(N){const G=y(),M=this.fillRadialGradientStartPoint(),_=this.fillRadialGradientEndPoint(),I=G.createRadialGradient(M.x,M.y,this.fillRadialGradientStartRadius(),_.x,_.y,this.fillRadialGradientEndRadius());for(let B=0;B<N.length;B+=2)I.addColorStop(N[B],N[B+1]);return I}}getShadowRGBA(){return this._getCache(m,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const N=i.Util.colorToRGBA(this.shadowColor());if(N)return"rgba("+N.r+","+N.g+","+N.b+","+N.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const N=this.hitStrokeWidth();return N==="auto"?this.hasStroke():this.strokeEnabled()&&!!N}intersects(N){const G=this.getStage();if(!G)return!1;const M=G.bufferHitCanvas;return M.getContext().clear(),this.drawHit(M,void 0,!0),M.context.getImageData(Math.round(N.x),Math.round(N.y),1,1).data[3]>0}destroy(){return o.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(N){var G;if(!((G=this.attrs.perfectDrawEnabled)!==null&&G!==void 0?G:!0))return!1;const _=N||this.hasFill(),I=this.hasStroke(),B=this.getAbsoluteOpacity()!==1;if(_&&I&&B)return!0;const H=this.hasShadow(),Y=this.shadowForStrokeEnabled();return!!(_&&I&&H&&Y)}setStrokeHitEnabled(N){i.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),N?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const N=this.size();return{x:this._centroid?-N.width/2:0,y:this._centroid?-N.height/2:0,width:N.width,height:N.height}}getClientRect(N={}){let G=!1,M=this.getParent();for(;M;){if(M.isCached()){G=!0;break}M=M.getParent()}const _=N.skipTransform,I=N.relativeTo||G&&this.getStage()||void 0,B=this.getSelfRect(),Y=!N.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,K=B.width+Y,ce=B.height+Y,re=!N.skipShadow&&this.hasShadow(),$=re?this.shadowOffsetX():0,j=re?this.shadowOffsetY():0,de=K+Math.abs($),ve=ce+Math.abs(j),ye=re&&this.shadowBlur()||0,Pe=de+ye*2,le=ve+ye*2,pe={width:Pe,height:le,x:-(Y/2+ye)+Math.min($,0)+B.x,y:-(Y/2+ye)+Math.min(j,0)+B.y};return _?pe:this._transformedRect(pe,I)}drawScene(N,G,M){const _=this.getLayer();let I=N||_.getCanvas(),B=I.getContext(),H=this._getCanvasCache(),Y=this.getSceneFunc(),K=this.hasShadow(),ce,re;const $=I.isCache,j=G===this;if(!this.isVisible()&&!j)return this;if(H){B.save();const ve=this.getAbsoluteTransform(G).getMatrix();return B.transform(ve[0],ve[1],ve[2],ve[3],ve[4],ve[5]),this._drawCachedSceneCanvas(B),B.restore(),this}if(!Y)return this;if(B.save(),this._useBufferCanvas()&&!$){ce=this.getStage();const ve=M||ce.bufferCanvas;re=ve.getContext(),re.clear(),re.save(),re._applyLineJoin(this);var de=this.getAbsoluteTransform(G).getMatrix();re.transform(de[0],de[1],de[2],de[3],de[4],de[5]),Y.call(this,re,this),re.restore();const ye=ve.pixelRatio;K&&B._applyShadow(this),B._applyOpacity(this),B._applyGlobalCompositeOperation(this),B.drawImage(ve._canvas,0,0,ve.width/ye,ve.height/ye)}else{if(B._applyLineJoin(this),!j){var de=this.getAbsoluteTransform(G).getMatrix();B.transform(de[0],de[1],de[2],de[3],de[4],de[5]),B._applyOpacity(this),B._applyGlobalCompositeOperation(this)}K&&B._applyShadow(this),Y.call(this,B,this)}return B.restore(),this}drawHit(N,G,M=!1){if(!this.shouldDrawHit(G,M))return this;const _=this.getLayer(),I=N||_.hitCanvas,B=I&&I.getContext(),H=this.hitFunc()||this.sceneFunc(),Y=this._getCanvasCache(),K=Y&&Y.hit;if(this.colorKey||i.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),K){B.save();const re=this.getAbsoluteTransform(G).getMatrix();return B.transform(re[0],re[1],re[2],re[3],re[4],re[5]),this._drawCachedHitCanvas(B),B.restore(),this}if(!H)return this;if(B.save(),B._applyLineJoin(this),!(this===G)){const re=this.getAbsoluteTransform(G).getMatrix();B.transform(re[0],re[1],re[2],re[3],re[4],re[5])}return H.call(this,B,this),B.restore(),this}drawHitFromCache(N=0){const G=this._getCanvasCache(),M=this._getCachedSceneCanvas(),_=G.hit,I=_.getContext(),B=_.getWidth(),H=_.getHeight();I.clear(),I.drawImage(M._canvas,0,0,B,H);try{const Y=I.getImageData(0,0,B,H),K=Y.data,ce=K.length,re=i.Util._hexToRgb(this.colorKey);for(let $=0;$<ce;$+=4)K[$+3]>N?(K[$]=re.r,K[$+1]=re.g,K[$+2]=re.b,K[$+3]=255):K[$+3]=0;I.putImageData(Y,0,0)}catch(Y){i.Util.error("Unable to draw hit graph from cached scene canvas. "+Y.message)}return this}hasPointerCapture(N){return d.hasPointerCapture(N,this)}setPointerCapture(N){d.setPointerCapture(N,this)}releaseCapture(N){d.releaseCapture(N,this)}}e.Shape=R,R.prototype._fillFunc=w,R.prototype._strokeFunc=x,R.prototype._fillFuncHit=T,R.prototype._strokeFuncHit=D,R.prototype._centroid=!1,R.prototype.nodeType="Shape",(0,c._registerNode)(R),R.prototype.eventListeners={},R.prototype.on.call(R.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",P),R.prototype.on.call(R.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",A),R.prototype.on.call(R.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",O),R.prototype.on.call(R.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",F),R.prototype.on.call(R.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",q),r.Factory.addGetterSetter(R,"stroke",void 0,(0,u.getStringOrGradientValidator)()),r.Factory.addGetterSetter(R,"strokeWidth",2,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(R,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(R,"hitStrokeWidth","auto",(0,u.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(R,"strokeHitEnabled",!0,(0,u.getBooleanValidator)()),r.Factory.addGetterSetter(R,"perfectDrawEnabled",!0,(0,u.getBooleanValidator)()),r.Factory.addGetterSetter(R,"shadowForStrokeEnabled",!0,(0,u.getBooleanValidator)()),r.Factory.addGetterSetter(R,"lineJoin"),r.Factory.addGetterSetter(R,"lineCap"),r.Factory.addGetterSetter(R,"sceneFunc"),r.Factory.addGetterSetter(R,"hitFunc"),r.Factory.addGetterSetter(R,"dash"),r.Factory.addGetterSetter(R,"dashOffset",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(R,"shadowColor",void 0,(0,u.getStringValidator)()),r.Factory.addGetterSetter(R,"shadowBlur",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(R,"shadowOpacity",1,(0,u.getNumberValidator)()),r.Factory.addComponentsGetterSetter(R,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(R,"shadowOffsetX",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(R,"shadowOffsetY",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(R,"fillPatternImage"),r.Factory.addGetterSetter(R,"fill",void 0,(0,u.getStringOrGradientValidator)()),r.Factory.addGetterSetter(R,"fillPatternX",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(R,"fillPatternY",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(R,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(R,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(R,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(R,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(R,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(R,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(R,"fillEnabled",!0),r.Factory.addGetterSetter(R,"strokeEnabled",!0),r.Factory.addGetterSetter(R,"shadowEnabled",!0),r.Factory.addGetterSetter(R,"dashEnabled",!0),r.Factory.addGetterSetter(R,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(R,"fillPriority","color"),r.Factory.addComponentsGetterSetter(R,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(R,"fillPatternOffsetX",0,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(R,"fillPatternOffsetY",0,(0,u.getNumberValidator)()),r.Factory.addComponentsGetterSetter(R,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(R,"fillPatternScaleX",1,(0,u.getNumberValidator)()),r.Factory.addGetterSetter(R,"fillPatternScaleY",1,(0,u.getNumberValidator)()),r.Factory.addComponentsGetterSetter(R,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(R,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(R,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(R,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(R,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(R,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(R,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(R,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(R,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(R,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(R,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(R,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(R,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(R,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(R,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(R,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(R,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(R,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(R,"fillPatternRotation",0),r.Factory.addGetterSetter(R,"fillRule",void 0,(0,u.getStringValidator)()),r.Factory.backCompat(R,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(Ey)),Ey}var _D;function sI(){if(_D)return P1;_D=1,Object.defineProperty(P1,"__esModule",{value:!0}),P1.Layer=void 0;const e=Hn(),n=fp(),i=ai(),r=Ft(),o=hp(),u=qt(),c=Li(),d=_t(),h="#",m="beforeDraw",v="draw",p=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],b=p.length;let S=class extends n.Container{constructor(w){super(w),this.canvas=new o.SceneCanvas,this.hitCanvas=new o.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(w){return this.getContext().clear(w),this.getHitCanvas().getContext().clear(w),this}setZIndex(w){super.setZIndex(w);const x=this.getStage();return x&&x.content&&(x.content.removeChild(this.getNativeCanvasElement()),w<x.children.length-1?x.content.insertBefore(this.getNativeCanvasElement(),x.children[w+1].getCanvas()._canvas):x.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){i.Node.prototype.moveToTop.call(this);const w=this.getStage();return w&&w.content&&(w.content.removeChild(this.getNativeCanvasElement()),w.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!i.Node.prototype.moveUp.call(this))return!1;const x=this.getStage();return!x||!x.content?!1:(x.content.removeChild(this.getNativeCanvasElement()),this.index<x.children.length-1?x.content.insertBefore(this.getNativeCanvasElement(),x.children[this.index+1].getCanvas()._canvas):x.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(i.Node.prototype.moveDown.call(this)){const w=this.getStage();if(w){const x=w.children;w.content&&(w.content.removeChild(this.getNativeCanvasElement()),w.content.insertBefore(this.getNativeCanvasElement(),x[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(i.Node.prototype.moveToBottom.call(this)){const w=this.getStage();if(w){const x=w.children;w.content&&(w.content.removeChild(this.getNativeCanvasElement()),w.content.insertBefore(this.getNativeCanvasElement(),x[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const w=this.getNativeCanvasElement();return i.Node.prototype.remove.call(this),w&&w.parentNode&&e.Util._isInDocument(w)&&w.parentNode.removeChild(w),this}getStage(){return this.parent}setSize({width:w,height:x}){return this.canvas.setSize(w,x),this.hitCanvas.setSize(w,x),this._setSmoothEnabled(),this}_validateAdd(w){const x=w.getType();x!=="Group"&&x!=="Shape"&&e.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(w){return w=w||{},w.width=w.width||this.getWidth(),w.height=w.height||this.getHeight(),w.x=w.x!==void 0?w.x:this.x(),w.y=w.y!==void 0?w.y:this.y(),i.Node.prototype._toKonvaCanvas.call(this,w)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){e.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){e.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,e.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(w){if(!this.isListening()||!this.isVisible())return null;let x=1,T=!1;for(;;){for(let D=0;D<b;D++){const P=p[D],A=this._getIntersection({x:w.x+P.x*x,y:w.y+P.y*x}),O=A.shape;if(O)return O;if(T=!!A.antialiased,!A.antialiased)break}if(T)x+=1;else return null}}_getIntersection(w){const x=this.hitCanvas.pixelRatio,T=this.hitCanvas.context.getImageData(Math.round(w.x*x),Math.round(w.y*x),1,1).data,D=T[3];if(D===255){const P=e.Util._rgbToHex(T[0],T[1],T[2]),A=c.shapes[h+P];return A?{shape:A}:{antialiased:!0}}else if(D>0)return{antialiased:!0};return{}}drawScene(w,x){const T=this.getLayer(),D=w||T&&T.getCanvas();return this._fire(m,{node:this}),this.clearBeforeDraw()&&D.getContext().clear(),n.Container.prototype.drawScene.call(this,D,x),this._fire(v,{node:this}),this}drawHit(w,x){const T=this.getLayer(),D=w||T&&T.hitCanvas;return T&&T.clearBeforeDraw()&&T.getHitCanvas().getContext().clear(),n.Container.prototype.drawHit.call(this,D,x),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(w){e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(w)}getHitGraphEnabled(w){return e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const w=this.parent;!!this.hitCanvas._canvas.parentNode?w.content.removeChild(this.hitCanvas._canvas):w.content.appendChild(this.hitCanvas._canvas)}destroy(){return e.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return P1.Layer=S,S.prototype.nodeType="Layer",(0,d._registerNode)(S),r.Factory.addGetterSetter(S,"imageSmoothingEnabled",!0),r.Factory.addGetterSetter(S,"clearBeforeDraw",!0),r.Factory.addGetterSetter(S,"hitGraphEnabled",!0,(0,u.getBooleanValidator)()),P1}var I1={},LD;function iU(){if(LD)return I1;LD=1,Object.defineProperty(I1,"__esModule",{value:!0}),I1.FastLayer=void 0;const e=Hn(),n=sI(),i=_t();let r=class extends n.Layer{constructor(u){super(u),this.listening(!1),e.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return I1.FastLayer=r,r.prototype.nodeType="FastLayer",(0,i._registerNode)(r),I1}var A1={},OD;function C5(){if(OD)return A1;OD=1,Object.defineProperty(A1,"__esModule",{value:!0}),A1.Group=void 0;const e=Hn(),n=fp(),i=_t();let r=class extends n.Container{_validateAdd(u){const c=u.getType();c!=="Group"&&c!=="Shape"&&e.Util.throw("You may only add groups and shapes to groups.")}};return A1.Group=r,r.prototype.nodeType="Group",(0,i._registerNode)(r),A1}var _1={},kD;function w5(){if(kD)return _1;kD=1,Object.defineProperty(_1,"__esModule",{value:!0}),_1.Animation=void 0;const e=_t(),n=Hn(),i=function(){return e.glob.performance&&e.glob.performance.now?function(){return e.glob.performance.now()}:function(){return new Date().getTime()}}();let r=class rh{constructor(u,c){this.id=rh.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:i(),frameRate:0},this.func=u,this.setLayers(c)}setLayers(u){let c=[];return u&&(c=Array.isArray(u)?u:[u]),this.layers=c,this}getLayers(){return this.layers}addLayer(u){const c=this.layers,d=c.length;for(let h=0;h<d;h++)if(c[h]._id===u._id)return!1;return this.layers.push(u),!0}isRunning(){const c=rh.animations,d=c.length;for(let h=0;h<d;h++)if(c[h].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=i(),rh._addAnimation(this),this}stop(){return rh._removeAnimation(this),this}_updateFrameObject(u){this.frame.timeDiff=u-this.frame.lastTime,this.frame.lastTime=u,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(u){this.animations.push(u),this._handleAnimation()}static _removeAnimation(u){const c=u.id,d=this.animations,h=d.length;for(let m=0;m<h;m++)if(d[m].id===c){this.animations.splice(m,1);break}}static _runFrames(){const u={},c=this.animations;for(let d=0;d<c.length;d++){const h=c[d],m=h.layers,v=h.func;h._updateFrameObject(i());const p=m.length;let b;if(v?b=v.call(h,h.frame)!==!1:b=!0,!!b)for(let S=0;S<p;S++){const y=m[S];y._id!==void 0&&(u[y._id]=y)}}for(const d in u)u.hasOwnProperty(d)&&u[d].batchDraw()}static _animationLoop(){const u=rh;u.animations.length?(u._runFrames(),n.Util.requestAnimFrame(u._animationLoop)):u.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,n.Util.requestAnimFrame(this._animationLoop))}};return _1.Animation=r,r.animations=[],r.animIdCounter=0,r.animRunning=!1,_1}var Fy={},RD;function aU(){return RD||(RD=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const n=Hn(),i=w5(),r=ai(),o=_t(),u={node:1,duration:1,easing:1,onFinish:1,yoyo:1},c=1,d=2,h=3,m=["fill","stroke","shadowColor"];let v=0;class p{constructor(y,w,x,T,D,P,A){this.prop=y,this.propFunc=w,this.begin=T,this._pos=T,this.duration=P,this._change=0,this.prevPos=0,this.yoyo=A,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=x,this._change=D-this.begin,this.pause()}fire(y){const w=this[y];w&&w()}setTime(y){y>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():y<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=y,this.update())}getTime(){return this._time}setPosition(y){this.prevPos=this._pos,this.propFunc(y),this._pos=y}getPosition(y){return y===void 0&&(y=this._time),this.func(y,this.begin,this._change,this.duration)}play(){this.state=d,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=h,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(y){this.pause(),this._time=y,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const y=this.getTimer()-this._startTime;this.state===d?this.setTime(y):this.state===h&&this.setTime(this.duration-y)}pause(){this.state=c,this.fire("onPause")}getTimer(){return new Date().getTime()}}class b{constructor(y){const w=this,x=y.node,T=x._id,D=y.easing||e.Easings.Linear,P=!!y.yoyo;let A,O;typeof y.duration>"u"?A=.3:y.duration===0?A=.001:A=y.duration,this.node=x,this._id=v++;const F=x.getLayer()||(x instanceof o.Konva.Stage?x.getLayers():null);F||n.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new i.Animation(function(){w.tween.onEnterFrame()},F),this.tween=new p(O,function(q){w._tweenFunc(q)},D,0,1,A*1e3,P),this._addListeners(),b.attrs[T]||(b.attrs[T]={}),b.attrs[T][this._id]||(b.attrs[T][this._id]={}),b.tweens[T]||(b.tweens[T]={});for(O in y)u[O]===void 0&&this._addAttr(O,y[O]);this.reset(),this.onFinish=y.onFinish,this.onReset=y.onReset,this.onUpdate=y.onUpdate}_addAttr(y,w){const x=this.node,T=x._id;let D,P,A,O,F;const q=b.tweens[T][y];q&&delete b.attrs[T][q][y];let R=x.getAttr(y);if(n.Util._isArray(w))if(D=[],P=Math.max(w.length,R.length),y==="points"&&w.length!==R.length&&(w.length>R.length?(O=R,R=n.Util._prepareArrayForTween(R,w,x.closed())):(A=w,w=n.Util._prepareArrayForTween(w,R,x.closed()))),y.indexOf("fill")===0)for(let E=0;E<P;E++)if(E%2===0)D.push(w[E]-R[E]);else{const N=n.Util.colorToRGBA(R[E]);F=n.Util.colorToRGBA(w[E]),R[E]=N,D.push({r:F.r-N.r,g:F.g-N.g,b:F.b-N.b,a:F.a-N.a})}else for(let E=0;E<P;E++)D.push(w[E]-R[E]);else m.indexOf(y)!==-1?(R=n.Util.colorToRGBA(R),F=n.Util.colorToRGBA(w),D={r:F.r-R.r,g:F.g-R.g,b:F.b-R.b,a:F.a-R.a}):D=w-R;b.attrs[T][this._id][y]={start:R,diff:D,end:w,trueEnd:A,trueStart:O},b.tweens[T][y]=this._id}_tweenFunc(y){const w=this.node,x=b.attrs[w._id][this._id];let T,D,P,A,O,F,q,R;for(T in x){if(D=x[T],P=D.start,A=D.diff,R=D.end,n.Util._isArray(P))if(O=[],q=Math.max(P.length,R.length),T.indexOf("fill")===0)for(F=0;F<q;F++)F%2===0?O.push((P[F]||0)+A[F]*y):O.push("rgba("+Math.round(P[F].r+A[F].r*y)+","+Math.round(P[F].g+A[F].g*y)+","+Math.round(P[F].b+A[F].b*y)+","+(P[F].a+A[F].a*y)+")");else for(F=0;F<q;F++)O.push((P[F]||0)+A[F]*y);else m.indexOf(T)!==-1?O="rgba("+Math.round(P.r+A.r*y)+","+Math.round(P.g+A.g*y)+","+Math.round(P.b+A.b*y)+","+(P.a+A.a*y)+")":O=P+A*y;w.setAttr(T,O)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const y=this.node,w=b.attrs[y._id][this._id];w.points&&w.points.trueEnd&&y.setAttr("points",w.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const y=this.node,w=b.attrs[y._id][this._id];w.points&&w.points.trueStart&&y.points(w.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(y){return this.tween.seek(y*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const y=this.node._id,w=this._id,x=b.tweens[y];this.pause();for(const T in x)delete b.tweens[y][T];delete b.attrs[y][w]}}e.Tween=b,b.attrs={},b.tweens={},r.Node.prototype.to=function(S){const y=S.onFinish;S.node=this,S.onFinish=function(){this.destroy(),y&&y()},new b(S).play()},e.Easings={BackEaseIn(S,y,w,x){return w*(S/=x)*S*((1.70158+1)*S-1.70158)+y},BackEaseOut(S,y,w,x){return w*((S=S/x-1)*S*((1.70158+1)*S+1.70158)+1)+y},BackEaseInOut(S,y,w,x){let T=1.70158;return(S/=x/2)<1?w/2*(S*S*(((T*=1.525)+1)*S-T))+y:w/2*((S-=2)*S*(((T*=1.525)+1)*S+T)+2)+y},ElasticEaseIn(S,y,w,x,T,D){let P=0;return S===0?y:(S/=x)===1?y+w:(D||(D=x*.3),!T||T<Math.abs(w)?(T=w,P=D/4):P=D/(2*Math.PI)*Math.asin(w/T),-(T*Math.pow(2,10*(S-=1))*Math.sin((S*x-P)*(2*Math.PI)/D))+y)},ElasticEaseOut(S,y,w,x,T,D){let P=0;return S===0?y:(S/=x)===1?y+w:(D||(D=x*.3),!T||T<Math.abs(w)?(T=w,P=D/4):P=D/(2*Math.PI)*Math.asin(w/T),T*Math.pow(2,-10*S)*Math.sin((S*x-P)*(2*Math.PI)/D)+w+y)},ElasticEaseInOut(S,y,w,x,T,D){let P=0;return S===0?y:(S/=x/2)===2?y+w:(D||(D=x*(.3*1.5)),!T||T<Math.abs(w)?(T=w,P=D/4):P=D/(2*Math.PI)*Math.asin(w/T),S<1?-.5*(T*Math.pow(2,10*(S-=1))*Math.sin((S*x-P)*(2*Math.PI)/D))+y:T*Math.pow(2,-10*(S-=1))*Math.sin((S*x-P)*(2*Math.PI)/D)*.5+w+y)},BounceEaseOut(S,y,w,x){return(S/=x)<1/2.75?w*(7.5625*S*S)+y:S<2/2.75?w*(7.5625*(S-=1.5/2.75)*S+.75)+y:S<2.5/2.75?w*(7.5625*(S-=2.25/2.75)*S+.9375)+y:w*(7.5625*(S-=2.625/2.75)*S+.984375)+y},BounceEaseIn(S,y,w,x){return w-e.Easings.BounceEaseOut(x-S,0,w,x)+y},BounceEaseInOut(S,y,w,x){return S<x/2?e.Easings.BounceEaseIn(S*2,0,w,x)*.5+y:e.Easings.BounceEaseOut(S*2-x,0,w,x)*.5+w*.5+y},EaseIn(S,y,w,x){return w*(S/=x)*S+y},EaseOut(S,y,w,x){return-w*(S/=x)*(S-2)+y},EaseInOut(S,y,w,x){return(S/=x/2)<1?w/2*S*S+y:-w/2*(--S*(S-2)-1)+y},StrongEaseIn(S,y,w,x){return w*(S/=x)*S*S*S*S+y},StrongEaseOut(S,y,w,x){return w*((S=S/x-1)*S*S*S*S+1)+y},StrongEaseInOut(S,y,w,x){return(S/=x/2)<1?w/2*S*S*S*S*S+y:w/2*((S-=2)*S*S*S*S+2)+y},Linear(S,y,w,x){return w*S/x+y}}}(Fy)),Fy}var ED;function rU(){return ED||(ED=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const n=_t(),i=Hn(),r=ai(),o=fp(),u=nU(),c=sI(),d=iU(),h=C5(),m=b5(),v=Li(),p=w5(),b=aU(),S=rI(),y=hp();e.Konva=i.Util._assign(n.Konva,{Util:i.Util,Transform:i.Transform,Node:r.Node,Container:o.Container,Stage:u.Stage,stages:u.stages,Layer:c.Layer,FastLayer:d.FastLayer,Group:h.Group,DD:m.DD,Shape:v.Shape,shapes:v.shapes,Animation:p.Animation,Tween:b.Tween,Easings:b.Easings,Context:S.Context,Canvas:y.Canvas}),e.default=e.Konva}(Ay)),Ay}var L1={},FD;function oU(){if(FD)return L1;FD=1,Object.defineProperty(L1,"__esModule",{value:!0}),L1.Arc=void 0;const e=Ft(),n=Li(),i=_t(),r=qt(),o=_t();let u=class extends n.Shape{_sceneFunc(d){const h=i.Konva.getAngle(this.angle()),m=this.clockwise();d.beginPath(),d.arc(0,0,this.outerRadius(),0,h,m),d.arc(0,0,this.innerRadius(),h,0,!m),d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(d){this.outerRadius(d/2)}setHeight(d){this.outerRadius(d/2)}getSelfRect(){const d=this.innerRadius(),h=this.outerRadius(),m=this.clockwise(),v=i.Konva.getAngle(m?360-this.angle():this.angle()),p=Math.cos(Math.min(v,Math.PI)),b=1,S=Math.sin(Math.min(Math.max(Math.PI,v),3*Math.PI/2)),y=Math.sin(Math.min(v,Math.PI/2)),w=p*(p>0?d:h),x=b*h,T=S*(S>0?d:h),D=y*(y>0?h:d);return{x:w,y:m?-1*D:T,width:x-w,height:D-T}}};return L1.Arc=u,u.prototype._centroid=!0,u.prototype.className="Arc",u.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,o._registerNode)(u),e.Factory.addGetterSetter(u,"innerRadius",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(u,"outerRadius",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(u,"angle",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(u,"clockwise",!1,(0,r.getBooleanValidator)()),L1}var O1={},k1={},MD;function lI(){if(MD)return k1;MD=1,Object.defineProperty(k1,"__esModule",{value:!0}),k1.Line=void 0;const e=Ft(),n=_t(),i=Li(),r=qt();function o(d,h,m,v,p,b,S){const y=Math.sqrt(Math.pow(m-d,2)+Math.pow(v-h,2)),w=Math.sqrt(Math.pow(p-m,2)+Math.pow(b-v,2)),x=S*y/(y+w),T=S*w/(y+w),D=m-x*(p-d),P=v-x*(b-h),A=m+T*(p-d),O=v+T*(b-h);return[D,P,A,O]}function u(d,h){const m=d.length,v=[];for(let p=2;p<m-2;p+=2){const b=o(d[p-2],d[p-1],d[p],d[p+1],d[p+2],d[p+3],h);isNaN(b[0])||(v.push(b[0]),v.push(b[1]),v.push(d[p]),v.push(d[p+1]),v.push(b[2]),v.push(b[3]))}return v}let c=class extends i.Shape{constructor(h){super(h),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(h){let m=this.points(),v=m.length,p=this.tension(),b=this.closed(),S=this.bezier(),y,w,x;if(v){if(h.beginPath(),h.moveTo(m[0],m[1]),p!==0&&v>4){for(y=this.getTensionPoints(),w=y.length,x=b?0:4,b||h.quadraticCurveTo(y[0],y[1],y[2],y[3]);x<w-2;)h.bezierCurveTo(y[x++],y[x++],y[x++],y[x++],y[x++],y[x++]);b||h.quadraticCurveTo(y[w-2],y[w-1],m[v-2],m[v-1])}else if(S)for(x=2;x<v;)h.bezierCurveTo(m[x++],m[x++],m[x++],m[x++],m[x++],m[x++]);else for(x=2;x<v;x+=2)h.lineTo(m[x],m[x+1]);b?(h.closePath(),h.fillStrokeShape(this)):h.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():u(this.points(),this.tension())}_getTensionPointsClosed(){const h=this.points(),m=h.length,v=this.tension(),p=o(h[m-2],h[m-1],h[0],h[1],h[2],h[3],v),b=o(h[m-4],h[m-3],h[m-2],h[m-1],h[0],h[1],v),S=u(h,v);return[p[2],p[3]].concat(S).concat([b[0],b[1],h[m-2],h[m-1],b[2],b[3],p[0],p[1],h[0],h[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let h=this.points();if(h.length<4)return{x:h[0]||0,y:h[1]||0,width:0,height:0};this.tension()!==0?h=[h[0],h[1],...this._getTensionPoints(),h[h.length-2],h[h.length-1]]:h=this.points();let m=h[0],v=h[0],p=h[1],b=h[1],S,y;for(let w=0;w<h.length/2;w++)S=h[w*2],y=h[w*2+1],m=Math.min(m,S),v=Math.max(v,S),p=Math.min(p,y),b=Math.max(b,y);return{x:m,y:p,width:v-m,height:b-p}}};return k1.Line=c,c.prototype.className="Line",c.prototype._attrsAffectingSize=["points","bezier","tension"],(0,n._registerNode)(c),e.Factory.addGetterSetter(c,"closed",!1),e.Factory.addGetterSetter(c,"bezier",!1),e.Factory.addGetterSetter(c,"tension",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(c,"points",[],(0,r.getNumberArrayValidator)()),k1}var R1={},My={},VD;function sU(){return VD||(VD=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.t2length=e.getQuadraticArcLength=e.getCubicArcLength=e.binomialCoefficients=e.cValues=e.tValues=void 0,e.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],e.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],e.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const n=(c,d,h)=>{let m,v;const b=h/2;m=0;for(let S=0;S<20;S++)v=b*e.tValues[20][S]+b,m+=e.cValues[20][S]*r(c,d,v);return b*m};e.getCubicArcLength=n;const i=(c,d,h)=>{h===void 0&&(h=1);const m=c[0]-2*c[1]+c[2],v=d[0]-2*d[1]+d[2],p=2*c[1]-2*c[0],b=2*d[1]-2*d[0],S=4*(m*m+v*v),y=4*(m*p+v*b),w=p*p+b*b;if(S===0)return h*Math.sqrt(Math.pow(c[2]-c[0],2)+Math.pow(d[2]-d[0],2));const x=y/(2*S),T=w/S,D=h+x,P=T-x*x,A=D*D+P>0?Math.sqrt(D*D+P):0,O=x*x+P>0?Math.sqrt(x*x+P):0,F=x+Math.sqrt(x*x+P)!==0?P*Math.log(Math.abs((D+A)/(x+O))):0;return Math.sqrt(S)/2*(D*A-x*O+F)};e.getQuadraticArcLength=i;function r(c,d,h){const m=o(1,h,c),v=o(1,h,d),p=m*m+v*v;return Math.sqrt(p)}const o=(c,d,h)=>{const m=h.length-1;let v,p;if(m===0)return 0;if(c===0){p=0;for(let b=0;b<=m;b++)p+=e.binomialCoefficients[m][b]*Math.pow(1-d,m-b)*Math.pow(d,b)*h[b];return p}else{v=new Array(m);for(let b=0;b<m;b++)v[b]=m*(h[b+1]-h[b]);return o(c-1,d,v)}},u=(c,d,h)=>{let m=1,v=c/d,p=(c-h(v))/d,b=0;for(;m>.001;){const S=h(v+p),y=Math.abs(c-S)/d;if(y<m)m=y,v+=p;else{const w=h(v-p),x=Math.abs(c-w)/d;x<m?(m=x,v-=p):p/=2}if(b++,b>500)break}return v};e.t2length=u}(My)),My}var BD;function D5(){if(BD)return R1;BD=1,Object.defineProperty(R1,"__esModule",{value:!0}),R1.Path=void 0;const e=Ft(),n=Li(),i=_t(),r=sU();let o=class Ra extends n.Shape{constructor(c){super(c),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Ra.parsePathData(this.data()),this.pathLength=Ra.getPathLength(this.dataArray)}_sceneFunc(c){const d=this.dataArray;c.beginPath();let h=!1;for(let A=0;A<d.length;A++){const O=d[A].command,F=d[A].points;switch(O){case"L":c.lineTo(F[0],F[1]);break;case"M":c.moveTo(F[0],F[1]);break;case"C":c.bezierCurveTo(F[0],F[1],F[2],F[3],F[4],F[5]);break;case"Q":c.quadraticCurveTo(F[0],F[1],F[2],F[3]);break;case"A":var m=F[0],v=F[1],p=F[2],b=F[3],S=F[4],y=F[5],w=F[6],x=F[7],T=p>b?p:b,D=p>b?1:p/b,P=p>b?b/p:1;c.translate(m,v),c.rotate(w),c.scale(D,P),c.arc(0,0,T,S,S+y,1-x),c.scale(1/D,1/P),c.rotate(-w),c.translate(-m,-v);break;case"z":h=!0,c.closePath();break}}!h&&!this.hasFill()?c.strokeShape(this):c.fillStrokeShape(this)}getSelfRect(){let c=[];this.dataArray.forEach(function(S){if(S.command==="A"){const y=S.points[4],w=S.points[5],x=S.points[4]+w;let T=Math.PI/180;if(Math.abs(y-x)<T&&(T=Math.abs(y-x)),w<0)for(let D=y-T;D>x;D-=T){const P=Ra.getPointOnEllipticalArc(S.points[0],S.points[1],S.points[2],S.points[3],D,0);c.push(P.x,P.y)}else for(let D=y+T;D<x;D+=T){const P=Ra.getPointOnEllipticalArc(S.points[0],S.points[1],S.points[2],S.points[3],D,0);c.push(P.x,P.y)}}else if(S.command==="C")for(let y=0;y<=1;y+=.01){const w=Ra.getPointOnCubicBezier(y,S.start.x,S.start.y,S.points[0],S.points[1],S.points[2],S.points[3],S.points[4],S.points[5]);c.push(w.x,w.y)}else c=c.concat(S.points)});let d=c[0],h=c[0],m=c[1],v=c[1],p,b;for(let S=0;S<c.length/2;S++)p=c[S*2],b=c[S*2+1],isNaN(p)||(d=Math.min(d,p),h=Math.max(h,p)),isNaN(b)||(m=Math.min(m,b),v=Math.max(v,b));return{x:d,y:m,width:h-d,height:v-m}}getLength(){return this.pathLength}getPointAtLength(c){return Ra.getPointAtLengthOfDataArray(c,this.dataArray)}static getLineLength(c,d,h,m){return Math.sqrt((h-c)*(h-c)+(m-d)*(m-d))}static getPathLength(c){let d=0;for(let h=0;h<c.length;++h)d+=c[h].pathLength;return d}static getPointAtLengthOfDataArray(c,d){let h,m=0,v=d.length;if(!v)return null;for(;m<v&&c>d[m].pathLength;)c-=d[m].pathLength,++m;if(m===v)return h=d[m-1].points.slice(-2),{x:h[0],y:h[1]};if(c<.01)return h=d[m].points.slice(0,2),{x:h[0],y:h[1]};const p=d[m],b=p.points;switch(p.command){case"L":return Ra.getPointOnLine(c,p.start.x,p.start.y,b[0],b[1]);case"C":return Ra.getPointOnCubicBezier((0,r.t2length)(c,Ra.getPathLength(d),A=>(0,r.getCubicArcLength)([p.start.x,b[0],b[2],b[4]],[p.start.y,b[1],b[3],b[5]],A)),p.start.x,p.start.y,b[0],b[1],b[2],b[3],b[4],b[5]);case"Q":return Ra.getPointOnQuadraticBezier((0,r.t2length)(c,Ra.getPathLength(d),A=>(0,r.getQuadraticArcLength)([p.start.x,b[0],b[2]],[p.start.y,b[1],b[3]],A)),p.start.x,p.start.y,b[0],b[1],b[2],b[3]);case"A":var S=b[0],y=b[1],w=b[2],x=b[3],T=b[4],D=b[5],P=b[6];return T+=D*c/p.pathLength,Ra.getPointOnEllipticalArc(S,y,w,x,T,P)}return null}static getPointOnLine(c,d,h,m,v,p,b){p=p??d,b=b??h;const S=this.getLineLength(d,h,m,v);if(S<1e-10)return{x:d,y:h};if(m===d)return{x:p,y:b+(v>h?c:-c)};const y=(v-h)/(m-d),w=Math.sqrt(c*c/(1+y*y))*(m<d?-1:1),x=y*w;if(Math.abs(b-h-y*(p-d))<1e-10)return{x:p+w,y:b+x};const T=((p-d)*(m-d)+(b-h)*(v-h))/(S*S),D=d+T*(m-d),P=h+T*(v-h),A=this.getLineLength(p,b,D,P),O=Math.sqrt(c*c-A*A),F=Math.sqrt(O*O/(1+y*y))*(m<d?-1:1),q=y*F;return{x:D+F,y:P+q}}static getPointOnCubicBezier(c,d,h,m,v,p,b,S,y){function w(O){return O*O*O}function x(O){return 3*O*O*(1-O)}function T(O){return 3*O*(1-O)*(1-O)}function D(O){return(1-O)*(1-O)*(1-O)}const P=S*w(c)+p*x(c)+m*T(c)+d*D(c),A=y*w(c)+b*x(c)+v*T(c)+h*D(c);return{x:P,y:A}}static getPointOnQuadraticBezier(c,d,h,m,v,p,b){function S(D){return D*D}function y(D){return 2*D*(1-D)}function w(D){return(1-D)*(1-D)}const x=p*S(c)+m*y(c)+d*w(c),T=b*S(c)+v*y(c)+h*w(c);return{x,y:T}}static getPointOnEllipticalArc(c,d,h,m,v,p){const b=Math.cos(p),S=Math.sin(p),y={x:h*Math.cos(v),y:m*Math.sin(v)};return{x:c+(y.x*b-y.y*S),y:d+(y.x*S+y.y*b)}}static parsePathData(c){if(!c)return[];let d=c;const h=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];d=d.replace(new RegExp(" ","g"),",");for(var m=0;m<h.length;m++)d=d.replace(new RegExp(h[m],"g"),"|"+h[m]);const v=d.split("|"),p=[],b=[];let S=0,y=0;const w=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let x;for(m=1;m<v.length;m++){let _=v[m],I=_.charAt(0);for(_=_.slice(1),b.length=0;x=w.exec(_);)b.push(x[0]);const B=[];for(let H=0,Y=b.length;H<Y;H++){if(b[H]==="00"){B.push(0,0);continue}const K=parseFloat(b[H]);isNaN(K)?B.push(0):B.push(K)}for(;B.length>0&&!isNaN(B[0]);){let H="",Y=[];const K=S,ce=y;var T,D,P,A,O,F,q,R,E,N;switch(I){case"l":S+=B.shift(),y+=B.shift(),H="L",Y.push(S,y);break;case"L":S=B.shift(),y=B.shift(),Y.push(S,y);break;case"m":var G=B.shift(),M=B.shift();if(S+=G,y+=M,H="M",p.length>2&&p[p.length-1].command==="z"){for(let re=p.length-2;re>=0;re--)if(p[re].command==="M"){S=p[re].points[0]+G,y=p[re].points[1]+M;break}}Y.push(S,y),I="l";break;case"M":S=B.shift(),y=B.shift(),H="M",Y.push(S,y),I="L";break;case"h":S+=B.shift(),H="L",Y.push(S,y);break;case"H":S=B.shift(),H="L",Y.push(S,y);break;case"v":y+=B.shift(),H="L",Y.push(S,y);break;case"V":y=B.shift(),H="L",Y.push(S,y);break;case"C":Y.push(B.shift(),B.shift(),B.shift(),B.shift()),S=B.shift(),y=B.shift(),Y.push(S,y);break;case"c":Y.push(S+B.shift(),y+B.shift(),S+B.shift(),y+B.shift()),S+=B.shift(),y+=B.shift(),H="C",Y.push(S,y);break;case"S":D=S,P=y,T=p[p.length-1],T.command==="C"&&(D=S+(S-T.points[2]),P=y+(y-T.points[3])),Y.push(D,P,B.shift(),B.shift()),S=B.shift(),y=B.shift(),H="C",Y.push(S,y);break;case"s":D=S,P=y,T=p[p.length-1],T.command==="C"&&(D=S+(S-T.points[2]),P=y+(y-T.points[3])),Y.push(D,P,S+B.shift(),y+B.shift()),S+=B.shift(),y+=B.shift(),H="C",Y.push(S,y);break;case"Q":Y.push(B.shift(),B.shift()),S=B.shift(),y=B.shift(),Y.push(S,y);break;case"q":Y.push(S+B.shift(),y+B.shift()),S+=B.shift(),y+=B.shift(),H="Q",Y.push(S,y);break;case"T":D=S,P=y,T=p[p.length-1],T.command==="Q"&&(D=S+(S-T.points[0]),P=y+(y-T.points[1])),S=B.shift(),y=B.shift(),H="Q",Y.push(D,P,S,y);break;case"t":D=S,P=y,T=p[p.length-1],T.command==="Q"&&(D=S+(S-T.points[0]),P=y+(y-T.points[1])),S+=B.shift(),y+=B.shift(),H="Q",Y.push(D,P,S,y);break;case"A":A=B.shift(),O=B.shift(),F=B.shift(),q=B.shift(),R=B.shift(),E=S,N=y,S=B.shift(),y=B.shift(),H="A",Y=this.convertEndpointToCenterParameterization(E,N,S,y,q,R,A,O,F);break;case"a":A=B.shift(),O=B.shift(),F=B.shift(),q=B.shift(),R=B.shift(),E=S,N=y,S+=B.shift(),y+=B.shift(),H="A",Y=this.convertEndpointToCenterParameterization(E,N,S,y,q,R,A,O,F);break}p.push({command:H||I,points:Y,start:{x:K,y:ce},pathLength:this.calcLength(K,ce,H||I,Y)})}(I==="z"||I==="Z")&&p.push({command:"z",points:[],start:void 0,pathLength:0})}return p}static calcLength(c,d,h,m){let v,p,b,S;const y=Ra;switch(h){case"L":return y.getLineLength(c,d,m[0],m[1]);case"C":return(0,r.getCubicArcLength)([c,m[0],m[2],m[4]],[d,m[1],m[3],m[5]],1);case"Q":return(0,r.getQuadraticArcLength)([c,m[0],m[2]],[d,m[1],m[3]],1);case"A":v=0;var w=m[4],x=m[5],T=m[4]+x,D=Math.PI/180;if(Math.abs(w-T)<D&&(D=Math.abs(w-T)),p=y.getPointOnEllipticalArc(m[0],m[1],m[2],m[3],w,0),x<0)for(S=w-D;S>T;S-=D)b=y.getPointOnEllipticalArc(m[0],m[1],m[2],m[3],S,0),v+=y.getLineLength(p.x,p.y,b.x,b.y),p=b;else for(S=w+D;S<T;S+=D)b=y.getPointOnEllipticalArc(m[0],m[1],m[2],m[3],S,0),v+=y.getLineLength(p.x,p.y,b.x,b.y),p=b;return b=y.getPointOnEllipticalArc(m[0],m[1],m[2],m[3],T,0),v+=y.getLineLength(p.x,p.y,b.x,b.y),v}return 0}static convertEndpointToCenterParameterization(c,d,h,m,v,p,b,S,y){const w=y*(Math.PI/180),x=Math.cos(w)*(c-h)/2+Math.sin(w)*(d-m)/2,T=-1*Math.sin(w)*(c-h)/2+Math.cos(w)*(d-m)/2,D=x*x/(b*b)+T*T/(S*S);D>1&&(b*=Math.sqrt(D),S*=Math.sqrt(D));let P=Math.sqrt((b*b*(S*S)-b*b*(T*T)-S*S*(x*x))/(b*b*(T*T)+S*S*(x*x)));v===p&&(P*=-1),isNaN(P)&&(P=0);const A=P*b*T/S,O=P*-S*x/b,F=(c+h)/2+Math.cos(w)*A-Math.sin(w)*O,q=(d+m)/2+Math.sin(w)*A+Math.cos(w)*O,R=function(B){return Math.sqrt(B[0]*B[0]+B[1]*B[1])},E=function(B,H){return(B[0]*H[0]+B[1]*H[1])/(R(B)*R(H))},N=function(B,H){return(B[0]*H[1]<B[1]*H[0]?-1:1)*Math.acos(E(B,H))},G=N([1,0],[(x-A)/b,(T-O)/S]),M=[(x-A)/b,(T-O)/S],_=[(-1*x-A)/b,(-1*T-O)/S];let I=N(M,_);return E(M,_)<=-1&&(I=Math.PI),E(M,_)>=1&&(I=0),p===0&&I>0&&(I=I-2*Math.PI),p===1&&I<0&&(I=I+2*Math.PI),[F,q,b,S,G,I,w,p]}};return R1.Path=o,o.prototype.className="Path",o.prototype._attrsAffectingSize=["data"],(0,i._registerNode)(o),e.Factory.addGetterSetter(o,"data"),R1}var ND;function lU(){if(ND)return O1;ND=1,Object.defineProperty(O1,"__esModule",{value:!0}),O1.Arrow=void 0;const e=Ft(),n=lI(),i=qt(),r=_t(),o=D5();let u=class extends n.Line{_sceneFunc(d){super._sceneFunc(d);const h=Math.PI*2,m=this.points();let v=m;const p=this.tension()!==0&&m.length>4;p&&(v=this.getTensionPoints());const b=this.pointerLength(),S=m.length;let y,w;if(p){const D=[v[v.length-4],v[v.length-3],v[v.length-2],v[v.length-1],m[S-2],m[S-1]],P=o.Path.calcLength(v[v.length-4],v[v.length-3],"C",D),A=o.Path.getPointOnQuadraticBezier(Math.min(1,1-b/P),D[0],D[1],D[2],D[3],D[4],D[5]);y=m[S-2]-A.x,w=m[S-1]-A.y}else y=m[S-2]-m[S-4],w=m[S-1]-m[S-3];const x=(Math.atan2(w,y)+h)%h,T=this.pointerWidth();this.pointerAtEnding()&&(d.save(),d.beginPath(),d.translate(m[S-2],m[S-1]),d.rotate(x),d.moveTo(0,0),d.lineTo(-b,T/2),d.lineTo(-b,-T/2),d.closePath(),d.restore(),this.__fillStroke(d)),this.pointerAtBeginning()&&(d.save(),d.beginPath(),d.translate(m[0],m[1]),p?(y=(v[0]+v[2])/2-m[0],w=(v[1]+v[3])/2-m[1]):(y=m[2]-m[0],w=m[3]-m[1]),d.rotate((Math.atan2(-w,-y)+h)%h),d.moveTo(0,0),d.lineTo(-b,T/2),d.lineTo(-b,-T/2),d.closePath(),d.restore(),this.__fillStroke(d))}__fillStroke(d){const h=this.dashEnabled();h&&(this.attrs.dashEnabled=!1,d.setLineDash([])),d.fillStrokeShape(this),h&&(this.attrs.dashEnabled=!0)}getSelfRect(){const d=super.getSelfRect(),h=this.pointerWidth()/2;return{x:d.x,y:d.y-h,width:d.width,height:d.height+h*2}}};return O1.Arrow=u,u.prototype.className="Arrow",(0,r._registerNode)(u),e.Factory.addGetterSetter(u,"pointerLength",10,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(u,"pointerWidth",10,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(u,"pointerAtBeginning",!1),e.Factory.addGetterSetter(u,"pointerAtEnding",!0),O1}var E1={},UD;function uU(){if(UD)return E1;UD=1,Object.defineProperty(E1,"__esModule",{value:!0}),E1.Circle=void 0;const e=Ft(),n=Li(),i=qt(),r=_t();let o=class extends n.Shape{_sceneFunc(c){c.beginPath(),c.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(c){this.radius()!==c/2&&this.radius(c/2)}setHeight(c){this.radius()!==c/2&&this.radius(c/2)}};return E1.Circle=o,o.prototype._centroid=!0,o.prototype.className="Circle",o.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(o),e.Factory.addGetterSetter(o,"radius",0,(0,i.getNumberValidator)()),E1}var F1={},qD;function cU(){if(qD)return F1;qD=1,Object.defineProperty(F1,"__esModule",{value:!0}),F1.Ellipse=void 0;const e=Ft(),n=Li(),i=qt(),r=_t();let o=class extends n.Shape{_sceneFunc(c){const d=this.radiusX(),h=this.radiusY();c.beginPath(),c.save(),d!==h&&c.scale(1,h/d),c.arc(0,0,d,0,Math.PI*2,!1),c.restore(),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(c){this.radiusX(c/2)}setHeight(c){this.radiusY(c/2)}};return F1.Ellipse=o,o.prototype.className="Ellipse",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,r._registerNode)(o),e.Factory.addComponentsGetterSetter(o,"radius",["x","y"]),e.Factory.addGetterSetter(o,"radiusX",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(o,"radiusY",0,(0,i.getNumberValidator)()),F1}var M1={},GD;function dU(){if(GD)return M1;GD=1,Object.defineProperty(M1,"__esModule",{value:!0}),M1.Image=void 0;const e=Hn(),n=Ft(),i=Li(),r=_t(),o=qt();class u extends i.Shape{constructor(d){super(d),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",h=>{this._removeImageLoad(h.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const d=this.image();d&&d.complete||d&&d.readyState===4||d&&d.addEventListener&&d.addEventListener("load",this._loadListener)}_removeImageLoad(d){d&&d.removeEventListener&&d.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const d=!!this.cornerRadius(),h=this.hasShadow();return d&&h?!0:super._useBufferCanvas(!0)}_sceneFunc(d){const h=this.getWidth(),m=this.getHeight(),v=this.cornerRadius(),p=this.attrs.image;let b;if(p){const S=this.attrs.cropWidth,y=this.attrs.cropHeight;S&&y?b=[p,this.cropX(),this.cropY(),S,y,0,0,h,m]:b=[p,0,0,h,m]}(this.hasFill()||this.hasStroke()||v)&&(d.beginPath(),v?e.Util.drawRoundedRectPath(d,h,m,v):d.rect(0,0,h,m),d.closePath(),d.fillStrokeShape(this)),p&&(v&&d.clip(),d.drawImage.apply(d,b))}_hitFunc(d){const h=this.width(),m=this.height(),v=this.cornerRadius();d.beginPath(),v?e.Util.drawRoundedRectPath(d,h,m,v):d.rect(0,0,h,m),d.closePath(),d.fillStrokeShape(this)}getWidth(){var d,h;return(d=this.attrs.width)!==null&&d!==void 0?d:(h=this.image())===null||h===void 0?void 0:h.width}getHeight(){var d,h;return(d=this.attrs.height)!==null&&d!==void 0?d:(h=this.image())===null||h===void 0?void 0:h.height}static fromURL(d,h,m=null){const v=e.Util.createImageElement();v.onload=function(){const p=new u({image:v});h(p)},v.onerror=m,v.crossOrigin="Anonymous",v.src=d}}return M1.Image=u,u.prototype.className="Image",(0,r._registerNode)(u),n.Factory.addGetterSetter(u,"cornerRadius",0,(0,o.getNumberOrArrayOfNumbersValidator)(4)),n.Factory.addGetterSetter(u,"image"),n.Factory.addComponentsGetterSetter(u,"crop",["x","y","width","height"]),n.Factory.addGetterSetter(u,"cropX",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(u,"cropY",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(u,"cropWidth",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(u,"cropHeight",0,(0,o.getNumberValidator)()),M1}var Gc={},QD;function hU(){if(QD)return Gc;QD=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.Tag=Gc.Label=void 0;const e=Ft(),n=Li(),i=C5(),r=qt(),o=_t(),u=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],c="Change.konva",d="none",h="up",m="right",v="down",p="left",b=u.length;let S=class extends i.Group{constructor(x){super(x),this.on("add.konva",function(T){this._addListeners(T.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(x){let T=this,D;const P=function(){T._sync()};for(D=0;D<b;D++)x.on(u[D]+c,P)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let x=this.getText(),T=this.getTag(),D,P,A,O,F,q,R;if(x&&T){switch(D=x.width(),P=x.height(),A=T.pointerDirection(),O=T.pointerWidth(),R=T.pointerHeight(),F=0,q=0,A){case h:F=D/2,q=-1*R;break;case m:F=D+O,q=P/2;break;case v:F=D/2,q=P+R;break;case p:F=-1*O,q=P/2;break}T.setAttrs({x:-1*F,y:-1*q,width:D,height:P}),x.setAttrs({x:-1*F,y:-1*q})}}};Gc.Label=S,S.prototype.className="Label",(0,o._registerNode)(S);class y extends n.Shape{_sceneFunc(x){const T=this.width(),D=this.height(),P=this.pointerDirection(),A=this.pointerWidth(),O=this.pointerHeight(),F=this.cornerRadius();let q=0,R=0,E=0,N=0;typeof F=="number"?q=R=E=N=Math.min(F,T/2,D/2):(q=Math.min(F[0]||0,T/2,D/2),R=Math.min(F[1]||0,T/2,D/2),N=Math.min(F[2]||0,T/2,D/2),E=Math.min(F[3]||0,T/2,D/2)),x.beginPath(),x.moveTo(q,0),P===h&&(x.lineTo((T-A)/2,0),x.lineTo(T/2,-1*O),x.lineTo((T+A)/2,0)),x.lineTo(T-R,0),x.arc(T-R,R,R,Math.PI*3/2,0,!1),P===m&&(x.lineTo(T,(D-O)/2),x.lineTo(T+A,D/2),x.lineTo(T,(D+O)/2)),x.lineTo(T,D-N),x.arc(T-N,D-N,N,0,Math.PI/2,!1),P===v&&(x.lineTo((T+A)/2,D),x.lineTo(T/2,D+O),x.lineTo((T-A)/2,D)),x.lineTo(E,D),x.arc(E,D-E,E,Math.PI/2,Math.PI,!1),P===p&&(x.lineTo(0,(D+O)/2),x.lineTo(-1*A,D/2),x.lineTo(0,(D-O)/2)),x.lineTo(0,q),x.arc(q,q,q,Math.PI,Math.PI*3/2,!1),x.closePath(),x.fillStrokeShape(this)}getSelfRect(){let x=0,T=0,D=this.pointerWidth(),P=this.pointerHeight(),A=this.pointerDirection(),O=this.width(),F=this.height();return A===h?(T-=P,F+=P):A===v?F+=P:A===p?(x-=D*1.5,O+=D):A===m&&(O+=D*1.5),{x,y:T,width:O,height:F}}}return Gc.Tag=y,y.prototype.className="Tag",(0,o._registerNode)(y),e.Factory.addGetterSetter(y,"pointerDirection",d),e.Factory.addGetterSetter(y,"pointerWidth",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(y,"pointerHeight",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(y,"cornerRadius",0,(0,r.getNumberOrArrayOfNumbersValidator)(4)),Gc}var V1={},zD;function uI(){if(zD)return V1;zD=1,Object.defineProperty(V1,"__esModule",{value:!0}),V1.Rect=void 0;const e=Ft(),n=Li(),i=_t(),r=Hn(),o=qt();let u=class extends n.Shape{_sceneFunc(d){const h=this.cornerRadius(),m=this.width(),v=this.height();d.beginPath(),h?r.Util.drawRoundedRectPath(d,m,v,h):d.rect(0,0,m,v),d.closePath(),d.fillStrokeShape(this)}};return V1.Rect=u,u.prototype.className="Rect",(0,i._registerNode)(u),e.Factory.addGetterSetter(u,"cornerRadius",0,(0,o.getNumberOrArrayOfNumbersValidator)(4)),V1}var B1={},HD;function fU(){if(HD)return B1;HD=1,Object.defineProperty(B1,"__esModule",{value:!0}),B1.RegularPolygon=void 0;const e=Ft(),n=Li(),i=qt(),r=_t();let o=class extends n.Shape{_sceneFunc(c){const d=this._getPoints();c.beginPath(),c.moveTo(d[0].x,d[0].y);for(let h=1;h<d.length;h++)c.lineTo(d[h].x,d[h].y);c.closePath(),c.fillStrokeShape(this)}_getPoints(){const c=this.attrs.sides,d=this.attrs.radius||0,h=[];for(let m=0;m<c;m++)h.push({x:d*Math.sin(m*2*Math.PI/c),y:-1*d*Math.cos(m*2*Math.PI/c)});return h}getSelfRect(){const c=this._getPoints();let d=c[0].x,h=c[0].y,m=c[0].x,v=c[0].y;return c.forEach(p=>{d=Math.min(d,p.x),h=Math.max(h,p.x),m=Math.min(m,p.y),v=Math.max(v,p.y)}),{x:d,y:m,width:h-d,height:v-m}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(c){this.radius(c/2)}setHeight(c){this.radius(c/2)}};return B1.RegularPolygon=o,o.prototype.className="RegularPolygon",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(o),e.Factory.addGetterSetter(o,"radius",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(o,"sides",0,(0,i.getNumberValidator)()),B1}var N1={},WD;function gU(){if(WD)return N1;WD=1,Object.defineProperty(N1,"__esModule",{value:!0}),N1.Ring=void 0;const e=Ft(),n=Li(),i=qt(),r=_t(),o=Math.PI*2;let u=class extends n.Shape{_sceneFunc(d){d.beginPath(),d.arc(0,0,this.innerRadius(),0,o,!1),d.moveTo(this.outerRadius(),0),d.arc(0,0,this.outerRadius(),o,0,!0),d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(d){this.outerRadius(d/2)}setHeight(d){this.outerRadius(d/2)}};return N1.Ring=u,u.prototype.className="Ring",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,r._registerNode)(u),e.Factory.addGetterSetter(u,"innerRadius",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(u,"outerRadius",0,(0,i.getNumberValidator)()),N1}var U1={},YD;function mU(){if(YD)return U1;YD=1,Object.defineProperty(U1,"__esModule",{value:!0}),U1.Sprite=void 0;const e=Ft(),n=Li(),i=w5(),r=qt(),o=_t();let u=class extends n.Shape{constructor(d){super(d),this._updated=!0,this.anim=new i.Animation(()=>{const h=this._updated;return this._updated=!1,h}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(d){const h=this.animation(),m=this.frameIndex(),v=m*4,p=this.animations()[h],b=this.frameOffsets(),S=p[v+0],y=p[v+1],w=p[v+2],x=p[v+3],T=this.image();if((this.hasFill()||this.hasStroke())&&(d.beginPath(),d.rect(0,0,w,x),d.closePath(),d.fillStrokeShape(this)),T)if(b){const D=b[h],P=m*2;d.drawImage(T,S,y,w,x,D[P+0],D[P+1],w,x)}else d.drawImage(T,S,y,w,x,0,0,w,x)}_hitFunc(d){const h=this.animation(),m=this.frameIndex(),v=m*4,p=this.animations()[h],b=this.frameOffsets(),S=p[v+2],y=p[v+3];if(d.beginPath(),b){const w=b[h],x=m*2;d.rect(w[x+0],w[x+1],S,y)}else d.rect(0,0,S,y);d.closePath(),d.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const d=this;this.interval=setInterval(function(){d._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const d=this.getLayer();this.anim.setLayers(d),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const d=this.frameIndex(),h=this.animation(),m=this.animations(),v=m[h],p=v.length/4;d<p-1?this.frameIndex(d+1):this.frameIndex(0)}};return U1.Sprite=u,u.prototype.className="Sprite",(0,o._registerNode)(u),e.Factory.addGetterSetter(u,"animation"),e.Factory.addGetterSetter(u,"animations"),e.Factory.addGetterSetter(u,"frameOffsets"),e.Factory.addGetterSetter(u,"image"),e.Factory.addGetterSetter(u,"frameIndex",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(u,"frameRate",17,(0,r.getNumberValidator)()),e.Factory.backCompat(u,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),U1}var q1={},$D;function vU(){if($D)return q1;$D=1,Object.defineProperty(q1,"__esModule",{value:!0}),q1.Star=void 0;const e=Ft(),n=Li(),i=qt(),r=_t();let o=class extends n.Shape{_sceneFunc(c){const d=this.innerRadius(),h=this.outerRadius(),m=this.numPoints();c.beginPath(),c.moveTo(0,0-h);for(let v=1;v<m*2;v++){const p=v%2===0?h:d,b=p*Math.sin(v*Math.PI/m),S=-1*p*Math.cos(v*Math.PI/m);c.lineTo(b,S)}c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(c){this.outerRadius(c/2)}setHeight(c){this.outerRadius(c/2)}};return q1.Star=o,o.prototype.className="Star",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,r._registerNode)(o),e.Factory.addGetterSetter(o,"numPoints",5,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(o,"innerRadius",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(o,"outerRadius",0,(0,i.getNumberValidator)()),q1}var nh={},jD;function cI(){if(jD)return nh;jD=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.Text=void 0,nh.stringToArray=c;const e=Hn(),n=Ft(),i=Li(),r=_t(),o=qt(),u=_t();function c(j){return[...j].reduce((de,ve,ye,Pe)=>{if(new RegExp("\\p{Emoji}","u").test(ve)){const le=Pe[ye+1];le&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(le)?(de.push(ve+le),Pe[ye+1]=""):de.push(ve)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(ve+(Pe[ye+1]||""))?de.push(ve+Pe[ye+1]):ye>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(ve)?de[de.length-1]+=ve:ve&&de.push(ve);return de},[])}const d="auto",h="center",m="inherit",v="justify",p="Change.konva",b="2d",S="-",y="left",w="text",x="Text",T="top",D="bottom",P="middle",A="normal",O="px ",F=" ",q="right",R="rtl",E="word",N="char",G="none",M="…",_=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],I=_.length;function B(j){return j.split(",").map(de=>{de=de.trim();const ve=de.indexOf(" ")>=0,ye=de.indexOf('"')>=0||de.indexOf("'")>=0;return ve&&!ye&&(de=`"${de}"`),de}).join(", ")}let H;function Y(){return H||(H=e.Util.createCanvasElement().getContext(b),H)}function K(j){j.fillText(this._partialText,this._partialTextX,this._partialTextY)}function ce(j){j.setAttr("miterLimit",2),j.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function re(j){return j=j||{},!j.fillLinearGradientColorStops&&!j.fillRadialGradientColorStops&&!j.fillPatternImage&&(j.fill=j.fill||"black"),j}let $=class extends i.Shape{constructor(de){super(re(de)),this._partialTextX=0,this._partialTextY=0;for(let ve=0;ve<I;ve++)this.on(_[ve]+p,this._setTextData);this._setTextData()}_sceneFunc(de){const ve=this.textArr,ye=ve.length;if(!this.text())return;let Pe=this.padding(),le=this.fontSize(),pe=this.lineHeight()*le,Ae=this.verticalAlign(),Ce=this.direction(),Le=0,J=this.align(),ue=this.getWidth(),U=this.letterSpacing(),fe=this.fill(),ge=this.textDecoration(),ne=ge.indexOf("underline")!==-1,ae=ge.indexOf("line-through")!==-1,he;Ce=Ce===m?de.direction:Ce;let xe=pe/2,we=P;if(r.Konva._fixTextRendering){const jt=this.measureSize("M");we="alphabetic",xe=(jt.fontBoundingBoxAscent-jt.fontBoundingBoxDescent)/2+pe/2}var Se=0,_e=0;for(Ce===R&&de.setAttr("direction",Ce),de.setAttr("font",this._getContextFont()),de.setAttr("textBaseline",we),de.setAttr("textAlign",y),Ae===P?Le=(this.getHeight()-ye*pe-Pe*2)/2:Ae===D&&(Le=this.getHeight()-ye*pe-Pe*2),de.translate(Pe,Le+Pe),he=0;he<ye;he++){var Se=0,_e=0,Ve=ve[he],Me=Ve.text,He=Ve.width,lt=Ve.lastInParagraph,it,Mt;if(de.save(),J===q?Se+=ue-He-Pe*2:J===h&&(Se+=(ue-He-Pe*2)/2),ne){de.save(),de.beginPath();const xt=r.Konva._fixTextRendering?Math.round(le/4):Math.round(le/2),Pt=Se,yn=xe+_e+xt;de.moveTo(Pt,yn),it=Me.split(" ").length-1,Mt=J===v&&!lt?ue-Pe*2:He,de.lineTo(Pt+Math.round(Mt),yn),de.lineWidth=le/15;const dn=this._getLinearGradient();de.strokeStyle=dn||fe,de.stroke(),de.restore()}if(ae){de.save(),de.beginPath();const xt=r.Konva._fixTextRendering?-Math.round(le/4):0;de.moveTo(Se,xe+_e+xt),it=Me.split(" ").length-1,Mt=J===v&&!lt?ue-Pe*2:He,de.lineTo(Se+Math.round(Mt),xe+_e+xt),de.lineWidth=le/15;const Pt=this._getLinearGradient();de.strokeStyle=Pt||fe,de.stroke(),de.restore()}if(Ce!==R&&(U!==0||J===v)){it=Me.split(" ").length-1;const xt=c(Me);for(let Pt=0;Pt<xt.length;Pt++){const yn=xt[Pt];yn===" "&&!lt&&J===v&&(Se+=(ue-Pe*2-He)/it),this._partialTextX=Se,this._partialTextY=xe+_e,this._partialText=yn,de.fillStrokeShape(this),Se+=this.measureSize(yn).width+U}}else U!==0&&de.setAttr("letterSpacing",`${U}px`),this._partialTextX=Se,this._partialTextY=xe+_e,this._partialText=Me,de.fillStrokeShape(this);de.restore(),ye>1&&(xe+=pe)}}_hitFunc(de){const ve=this.getWidth(),ye=this.getHeight();de.beginPath(),de.rect(0,0,ve,ye),de.closePath(),de.fillStrokeShape(this)}setText(de){const ve=e.Util._isString(de)?de:de==null?"":de+"";return this._setAttr(w,ve),this}getWidth(){return this.attrs.width===d||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===d||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(de){var ve,ye,Pe,le,pe,Ae,Ce,Le,J,ue,U;let fe=Y(),ge=this.fontSize(),ne;fe.save(),fe.font=this._getContextFont(),ne=fe.measureText(de),fe.restore();const ae=ge/100;return{actualBoundingBoxAscent:(ve=ne.actualBoundingBoxAscent)!==null&&ve!==void 0?ve:71.58203125*ae,actualBoundingBoxDescent:(ye=ne.actualBoundingBoxDescent)!==null&&ye!==void 0?ye:0,actualBoundingBoxLeft:(Pe=ne.actualBoundingBoxLeft)!==null&&Pe!==void 0?Pe:-7.421875*ae,actualBoundingBoxRight:(le=ne.actualBoundingBoxRight)!==null&&le!==void 0?le:75.732421875*ae,alphabeticBaseline:(pe=ne.alphabeticBaseline)!==null&&pe!==void 0?pe:0,emHeightAscent:(Ae=ne.emHeightAscent)!==null&&Ae!==void 0?Ae:100*ae,emHeightDescent:(Ce=ne.emHeightDescent)!==null&&Ce!==void 0?Ce:-20*ae,fontBoundingBoxAscent:(Le=ne.fontBoundingBoxAscent)!==null&&Le!==void 0?Le:91*ae,fontBoundingBoxDescent:(J=ne.fontBoundingBoxDescent)!==null&&J!==void 0?J:21*ae,hangingBaseline:(ue=ne.hangingBaseline)!==null&&ue!==void 0?ue:72.80000305175781*ae,ideographicBaseline:(U=ne.ideographicBaseline)!==null&&U!==void 0?U:-21*ae,width:ne.width,height:ge}}_getContextFont(){return this.fontStyle()+F+this.fontVariant()+F+(this.fontSize()+O)+B(this.fontFamily())}_addTextLine(de){this.align()===v&&(de=de.trim());const ye=this._getTextWidth(de);return this.textArr.push({text:de,width:ye,lastInParagraph:!1})}_getTextWidth(de){const ve=this.letterSpacing(),ye=de.length;return Y().measureText(de).width+ve*ye}_setTextData(){let de=this.text().split(`
`),ve=+this.fontSize(),ye=0,Pe=this.lineHeight()*ve,le=this.attrs.width,pe=this.attrs.height,Ae=le!==d&&le!==void 0,Ce=pe!==d&&pe!==void 0,Le=this.padding(),J=le-Le*2,ue=pe-Le*2,U=0,fe=this.wrap(),ge=fe!==G,ne=fe!==N&&ge,ae=this.ellipsis();this.textArr=[],Y().font=this._getContextFont();const he=ae?this._getTextWidth(M):0;for(let xe=0,we=de.length;xe<we;++xe){let Se=de[xe],_e=this._getTextWidth(Se);if(Ae&&_e>J)for(;Se.length>0;){let Ve=0,Me=c(Se).length,He="",lt=0;for(;Ve<Me;){const it=Ve+Me>>>1,Mt=c(Se),jt=Mt.slice(0,it+1).join(""),Xt=this._getTextWidth(jt)+he;Xt<=J?(Ve=it+1,He=jt,lt=Xt):Me=it}if(He){if(ne){const jt=c(Se),Xt=c(He),xt=jt[Xt.length],Pt=xt===F||xt===S;let yn;if(Pt&&lt<=J)yn=Xt.length;else{const dn=Xt.lastIndexOf(F),on=Xt.lastIndexOf(S);yn=Math.max(dn,on)+1}yn>0&&(Ve=yn,He=jt.slice(0,Ve).join(""),lt=this._getTextWidth(He))}if(He=He.trimRight(),this._addTextLine(He),ye=Math.max(ye,lt),U+=Pe,this._shouldHandleEllipsis(U)){this._tryToAddEllipsisToLastLine();break}if(Se=c(Se).slice(Ve).join("").trimLeft(),Se.length>0&&(_e=this._getTextWidth(Se),_e<=J)){this._addTextLine(Se),U+=Pe,ye=Math.max(ye,_e);break}}else break}else this._addTextLine(Se),U+=Pe,ye=Math.max(ye,_e),this._shouldHandleEllipsis(U)&&xe<we-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),Ce&&U+Pe>ue)break}this.textHeight=ve,this.textWidth=ye}_shouldHandleEllipsis(de){const ve=+this.fontSize(),ye=this.lineHeight()*ve,Pe=this.attrs.height,le=Pe!==d&&Pe!==void 0,pe=this.padding(),Ae=Pe-pe*2;return!(this.wrap()!==G)||le&&de+ye>Ae}_tryToAddEllipsisToLastLine(){const de=this.attrs.width,ve=de!==d&&de!==void 0,ye=this.padding(),Pe=de-ye*2,le=this.ellipsis(),pe=this.textArr[this.textArr.length-1];!pe||!le||(ve&&(this._getTextWidth(pe.text+M)<Pe||(pe.text=pe.text.slice(0,pe.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(pe.text+M))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const de=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,ve=this.hasShadow();return de&&ve?!0:super._useBufferCanvas()}};return nh.Text=$,$.prototype._fillFunc=K,$.prototype._strokeFunc=ce,$.prototype.className=x,$.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,u._registerNode)($),n.Factory.overWriteSetter($,"width",(0,o.getNumberOrAutoValidator)()),n.Factory.overWriteSetter($,"height",(0,o.getNumberOrAutoValidator)()),n.Factory.addGetterSetter($,"direction",m),n.Factory.addGetterSetter($,"fontFamily","Arial"),n.Factory.addGetterSetter($,"fontSize",12,(0,o.getNumberValidator)()),n.Factory.addGetterSetter($,"fontStyle",A),n.Factory.addGetterSetter($,"fontVariant",A),n.Factory.addGetterSetter($,"padding",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter($,"align",y),n.Factory.addGetterSetter($,"verticalAlign",T),n.Factory.addGetterSetter($,"lineHeight",1,(0,o.getNumberValidator)()),n.Factory.addGetterSetter($,"wrap",E),n.Factory.addGetterSetter($,"ellipsis",!1,(0,o.getBooleanValidator)()),n.Factory.addGetterSetter($,"letterSpacing",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter($,"text","",(0,o.getStringValidator)()),n.Factory.addGetterSetter($,"textDecoration",""),nh}var G1={},XD;function SU(){if(XD)return G1;XD=1,Object.defineProperty(G1,"__esModule",{value:!0}),G1.TextPath=void 0;const e=Hn(),n=Ft(),i=Li(),r=D5(),o=cI(),u=qt(),c=_t(),d="",h="normal";function m(b){b.fillText(this.partialText,0,0)}function v(b){b.strokeText(this.partialText,0,0)}let p=class extends i.Shape{constructor(S){super(S),this.dummyCanvas=e.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return r.Path.getPathLength(this.dataArray)}_getPointAtLength(S){if(!this.attrs.data)return null;const y=this.pathLength;return S-1>y?null:r.Path.getPointAtLengthOfDataArray(S,this.dataArray)}_readDataAttribute(){this.dataArray=r.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(S){S.setAttr("font",this._getContextFont()),S.setAttr("textBaseline",this.textBaseline()),S.setAttr("textAlign","left"),S.save();const y=this.textDecoration(),w=this.fill(),x=this.fontSize(),T=this.glyphInfo;y==="underline"&&S.beginPath();for(let D=0;D<T.length;D++){S.save();const P=T[D].p0;S.translate(P.x,P.y),S.rotate(T[D].rotation),this.partialText=T[D].text,S.fillStrokeShape(this),y==="underline"&&(D===0&&S.moveTo(0,x/2+1),S.lineTo(x,x/2+1)),S.restore()}y==="underline"&&(S.strokeStyle=w,S.lineWidth=x/20,S.stroke()),S.restore()}_hitFunc(S){S.beginPath();const y=this.glyphInfo;if(y.length>=1){const w=y[0].p0;S.moveTo(w.x,w.y)}for(let w=0;w<y.length;w++){const x=y[w].p1;S.lineTo(x.x,x.y)}S.setAttr("lineWidth",this.fontSize()),S.setAttr("strokeStyle",this.colorKey),S.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(S){return o.Text.prototype.setText.call(this,S)}_getContextFont(){return o.Text.prototype._getContextFont.call(this)}_getTextSize(S){const w=this.dummyCanvas.getContext("2d");w.save(),w.font=this._getContextFont();const x=w.measureText(S);return w.restore(),{width:x.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:S,height:y}=this._getTextSize(this.attrs.text);if(this.textWidth=S,this.textHeight=y,this.glyphInfo=[],!this.attrs.data)return null;const w=this.letterSpacing(),x=this.align(),T=this.kerningFunc(),D=Math.max(this.textWidth+((this.attrs.text||"").length-1)*w,0);let P=0;x==="center"&&(P=Math.max(0,this.pathLength/2-D/2)),x==="right"&&(P=Math.max(0,this.pathLength-D));const A=(0,o.stringToArray)(this.text());let O=P;for(let F=0;F<A.length;F++){const q=this._getPointAtLength(O);if(!q)return;let R=this._getTextSize(A[F]).width+w;if(A[F]===" "&&x==="justify"){const I=this.text().split(" ").length-1;R+=(this.pathLength-D)/I}const E=this._getPointAtLength(O+R);if(!E)return;const N=r.Path.getLineLength(q.x,q.y,E.x,E.y);let G=0;if(T)try{G=T(A[F-1],A[F])*this.fontSize()}catch{G=0}q.x+=G,E.x+=G,this.textWidth+=G;const M=r.Path.getPointOnLine(G+N/2,q.x,q.y,E.x,E.y),_=Math.atan2(E.y-q.y,E.x-q.x);this.glyphInfo.push({transposeX:M.x,transposeY:M.y,text:A[F],rotation:_,p0:q,p1:E}),O+=R}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const S=[];this.glyphInfo.forEach(function(O){S.push(O.p0.x),S.push(O.p0.y),S.push(O.p1.x),S.push(O.p1.y)});let y=S[0]||0,w=S[0]||0,x=S[1]||0,T=S[1]||0,D,P;for(let O=0;O<S.length/2;O++)D=S[O*2],P=S[O*2+1],y=Math.min(y,D),w=Math.max(w,D),x=Math.min(x,P),T=Math.max(T,P);const A=this.fontSize();return{x:y-A/2,y:x-A/2,width:w-y+A,height:T-x+A}}destroy(){return e.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return G1.TextPath=p,p.prototype._fillFunc=m,p.prototype._strokeFunc=v,p.prototype._fillFuncHit=m,p.prototype._strokeFuncHit=v,p.prototype.className="TextPath",p.prototype._attrsAffectingSize=["text","fontSize","data"],(0,c._registerNode)(p),n.Factory.addGetterSetter(p,"data"),n.Factory.addGetterSetter(p,"fontFamily","Arial"),n.Factory.addGetterSetter(p,"fontSize",12,(0,u.getNumberValidator)()),n.Factory.addGetterSetter(p,"fontStyle",h),n.Factory.addGetterSetter(p,"align","left"),n.Factory.addGetterSetter(p,"letterSpacing",0,(0,u.getNumberValidator)()),n.Factory.addGetterSetter(p,"textBaseline","middle"),n.Factory.addGetterSetter(p,"fontVariant",h),n.Factory.addGetterSetter(p,"text",d),n.Factory.addGetterSetter(p,"textDecoration",""),n.Factory.addGetterSetter(p,"kerningFunc",void 0),G1}var Q1={},KD;function pU(){if(KD)return Q1;KD=1,Object.defineProperty(Q1,"__esModule",{value:!0}),Q1.Transformer=void 0;const e=Hn(),n=Ft(),i=ai(),r=Li(),o=uI(),u=C5(),c=_t(),d=qt(),h=_t(),m="tr-konva",v=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(R=>R+`.${m}`).join(" "),p="nodesRect",b=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],S={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},y="ontouchstart"in c.Konva._global;function w(R,E,N){if(R==="rotater")return N;E+=e.Util.degToRad(S[R]||0);const G=(e.Util.radToDeg(E)%360+360)%360;return e.Util._inRange(G,315+22.5,360)||e.Util._inRange(G,0,22.5)?"ns-resize":e.Util._inRange(G,45-22.5,45+22.5)?"nesw-resize":e.Util._inRange(G,90-22.5,90+22.5)?"ew-resize":e.Util._inRange(G,135-22.5,135+22.5)?"nwse-resize":e.Util._inRange(G,180-22.5,180+22.5)?"ns-resize":e.Util._inRange(G,225-22.5,225+22.5)?"nesw-resize":e.Util._inRange(G,270-22.5,270+22.5)?"ew-resize":e.Util._inRange(G,315-22.5,315+22.5)?"nwse-resize":(e.Util.error("Transformer has unknown angle for cursor detection: "+G),"pointer")}const x=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function T(R){return{x:R.x+R.width/2*Math.cos(R.rotation)+R.height/2*Math.sin(-R.rotation),y:R.y+R.height/2*Math.cos(R.rotation)+R.width/2*Math.sin(R.rotation)}}function D(R,E,N){const G=N.x+(R.x-N.x)*Math.cos(E)-(R.y-N.y)*Math.sin(E),M=N.y+(R.x-N.x)*Math.sin(E)+(R.y-N.y)*Math.cos(E);return{...R,rotation:R.rotation+E,x:G,y:M}}function P(R,E){const N=T(R);return D(R,E,N)}function A(R,E,N){let G=E;for(let M=0;M<R.length;M++){const _=c.Konva.getAngle(R[M]),I=Math.abs(_-E)%(Math.PI*2);Math.min(I,Math.PI*2-I)<N&&(G=_)}return G}let O=0,F=class extends u.Group{constructor(E){super(E),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(v,this.update),this.getNode()&&this.update()}attachTo(E){return this.setNode(E),this}setNode(E){return e.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([E])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return m+this._id}setNodes(E=[]){this._nodes&&this._nodes.length&&this.detach();const N=E.filter(M=>M.isAncestorOf(this)?(e.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=E=N,E.length===1&&this.useSingleNodeRotation()?this.rotation(E[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(M=>{const _=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(M._attrsAffectingSize.length){const I=M._attrsAffectingSize.map(B=>B+"Change."+this._getEventNamespace()).join(" ");M.on(I,_)}M.on(b.map(I=>I+`.${this._getEventNamespace()}`).join(" "),_),M.on(`absoluteTransformChange.${this._getEventNamespace()}`,_),this._proxyDrag(M)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(E){let N;E.on(`dragstart.${this._getEventNamespace()}`,G=>{N=E.getAbsolutePosition(),!this.isDragging()&&E!==this.findOne(".back")&&this.startDrag(G,!1)}),E.on(`dragmove.${this._getEventNamespace()}`,G=>{if(!N)return;const M=E.getAbsolutePosition(),_=M.x-N.x,I=M.y-N.y;this.nodes().forEach(B=>{if(B===E||B.isDragging())return;const H=B.getAbsolutePosition();B.setAbsolutePosition({x:H.x+_,y:H.y+I}),B.startDrag(G)}),N=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(E=>{E.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(p),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(p,this.__getNodeRect)}__getNodeShape(E,N=this.rotation(),G){const M=E.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),_=E.getAbsoluteScale(G),I=E.getAbsolutePosition(G),B=M.x*_.x-E.offsetX()*_.x,H=M.y*_.y-E.offsetY()*_.y,Y=(c.Konva.getAngle(E.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),K={x:I.x+B*Math.cos(Y)+H*Math.sin(-Y),y:I.y+H*Math.cos(Y)+B*Math.sin(Y),width:M.width*_.x,height:M.height*_.y,rotation:Y};return D(K,-c.Konva.getAngle(N),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const N=[];this.nodes().map(Y=>{const K=Y.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),ce=[{x:K.x,y:K.y},{x:K.x+K.width,y:K.y},{x:K.x+K.width,y:K.y+K.height},{x:K.x,y:K.y+K.height}],re=Y.getAbsoluteTransform();ce.forEach(function($){const j=re.point($);N.push(j)})});const G=new e.Transform;G.rotate(-c.Konva.getAngle(this.rotation()));let M=1/0,_=1/0,I=-1/0,B=-1/0;N.forEach(function(Y){const K=G.point(Y);M===void 0&&(M=I=K.x,_=B=K.y),M=Math.min(M,K.x),_=Math.min(_,K.y),I=Math.max(I,K.x),B=Math.max(B,K.y)}),G.invert();const H=G.point({x:M,y:_});return{x:H.x,y:H.y,width:I-M,height:B-_,rotation:c.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),x.forEach(E=>{this._createAnchor(E)}),this._createAnchor("rotater")}_createAnchor(E){const N=new o.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:E+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:y?10:"auto"}),G=this;N.on("mousedown touchstart",function(M){G._handleMouseDown(M)}),N.on("dragstart",M=>{N.stopDrag(),M.cancelBubble=!0}),N.on("dragend",M=>{M.cancelBubble=!0}),N.on("mouseenter",()=>{const M=c.Konva.getAngle(this.rotation()),_=this.rotateAnchorCursor(),I=w(E,M,_);N.getStage().content&&(N.getStage().content.style.cursor=I),this._cursorChange=!0}),N.on("mouseout",()=>{N.getStage().content&&(N.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(N)}_createBack(){const E=new r.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(N,G){const M=G.getParent(),_=M.padding();N.beginPath(),N.rect(-_,-_,G.width()+_*2,G.height()+_*2),N.moveTo(G.width()/2,-_),M.rotateEnabled()&&M.rotateLineVisible()&&N.lineTo(G.width()/2,-M.rotateAnchorOffset()*e.Util._sign(G.height())-_),N.fillStrokeShape(G)},hitFunc:(N,G)=>{if(!this.shouldOverdrawWholeArea())return;const M=this.padding();N.beginPath(),N.rect(-M,-M,G.width()+M*2,G.height()+M*2),N.fillStrokeShape(G)}});this.add(E),this._proxyDrag(E),E.on("dragstart",N=>{N.cancelBubble=!0}),E.on("dragmove",N=>{N.cancelBubble=!0}),E.on("dragend",N=>{N.cancelBubble=!0}),this.on("dragmove",N=>{this.update()})}_handleMouseDown(E){if(this._transforming)return;this._movingAnchorName=E.target.name().split(" ")[0];const N=this._getNodeRect(),G=N.width,M=N.height,_=Math.sqrt(Math.pow(G,2)+Math.pow(M,2));this.sin=Math.abs(M/_),this.cos=Math.abs(G/_),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const I=E.target.getAbsolutePosition(),B=E.target.getStage().getPointerPosition();this._anchorDragOffset={x:B.x-I.x,y:B.y-I.y},O++,this._fire("transformstart",{evt:E.evt,target:this.getNode()}),this._nodes.forEach(H=>{H._fire("transformstart",{evt:E.evt,target:H})})}_handleMouseMove(E){let N,G,M;const _=this.findOne("."+this._movingAnchorName),I=_.getStage();I.setPointersPositions(E);const B=I.getPointerPosition();let H={x:B.x-this._anchorDragOffset.x,y:B.y-this._anchorDragOffset.y};const Y=_.getAbsolutePosition();this.anchorDragBoundFunc()&&(H=this.anchorDragBoundFunc()(Y,H,E)),_.setAbsolutePosition(H);const K=_.getAbsolutePosition();if(Y.x===K.x&&Y.y===K.y)return;if(this._movingAnchorName==="rotater"){const Ae=this._getNodeRect();N=_.x()-Ae.width/2,G=-_.y()+Ae.height/2;let Ce=Math.atan2(-G,N)+Math.PI/2;Ae.height<0&&(Ce-=Math.PI);const J=c.Konva.getAngle(this.rotation())+Ce,ue=c.Konva.getAngle(this.rotationSnapTolerance()),fe=A(this.rotationSnaps(),J,ue)-Ae.rotation,ge=P(Ae,fe);this._fitNodesInto(ge,E);return}const ce=this.shiftBehavior();let re;ce==="inverted"?re=this.keepRatio()&&!E.shiftKey:ce==="none"?re=this.keepRatio():re=this.keepRatio()||E.shiftKey;var ye=this.centeredScaling()||E.altKey;if(this._movingAnchorName==="top-left"){if(re){var $=ye?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};M=Math.sqrt(Math.pow($.x-_.x(),2)+Math.pow($.y-_.y(),2));var j=this.findOne(".top-left").x()>$.x?-1:1,de=this.findOne(".top-left").y()>$.y?-1:1;N=M*this.cos*j,G=M*this.sin*de,this.findOne(".top-left").x($.x-N),this.findOne(".top-left").y($.y-G)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(_.y());else if(this._movingAnchorName==="top-right"){if(re){var $=ye?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};M=Math.sqrt(Math.pow(_.x()-$.x,2)+Math.pow($.y-_.y(),2));var j=this.findOne(".top-right").x()<$.x?-1:1,de=this.findOne(".top-right").y()>$.y?-1:1;N=M*this.cos*j,G=M*this.sin*de,this.findOne(".top-right").x($.x+N),this.findOne(".top-right").y($.y-G)}var ve=_.position();this.findOne(".top-left").y(ve.y),this.findOne(".bottom-right").x(ve.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(_.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(_.x());else if(this._movingAnchorName==="bottom-left"){if(re){var $=ye?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};M=Math.sqrt(Math.pow($.x-_.x(),2)+Math.pow(_.y()-$.y,2));var j=$.x<_.x()?-1:1,de=_.y()<$.y?-1:1;N=M*this.cos*j,G=M*this.sin*de,_.x($.x-N),_.y($.y+G)}ve=_.position(),this.findOne(".top-left").x(ve.x),this.findOne(".bottom-right").y(ve.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(_.y());else if(this._movingAnchorName==="bottom-right"){if(re){var $=ye?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};M=Math.sqrt(Math.pow(_.x()-$.x,2)+Math.pow(_.y()-$.y,2));var j=this.findOne(".bottom-right").x()<$.x?-1:1,de=this.findOne(".bottom-right").y()<$.y?-1:1;N=M*this.cos*j,G=M*this.sin*de,this.findOne(".bottom-right").x($.x+N),this.findOne(".bottom-right").y($.y+G)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var ye=this.centeredScaling()||E.altKey;if(ye){const Ae=this.findOne(".top-left"),Ce=this.findOne(".bottom-right"),Le=Ae.x(),J=Ae.y(),ue=this.getWidth()-Ce.x(),U=this.getHeight()-Ce.y();Ce.move({x:-Le,y:-J}),Ae.move({x:ue,y:U})}const Pe=this.findOne(".top-left").getAbsolutePosition();N=Pe.x,G=Pe.y;const le=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),pe=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:N,y:G,width:le,height:pe,rotation:c.Konva.getAngle(this.rotation())},E)}_handleMouseUp(E){this._removeEvents(E)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(E){var N;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const G=this.getNode();O--,this._fire("transformend",{evt:E,target:G}),(N=this.getLayer())===null||N===void 0||N.batchDraw(),G&&this._nodes.forEach(M=>{var _;M._fire("transformend",{evt:E,target:M}),(_=M.getLayer())===null||_===void 0||_.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(E,N){const G=this._getNodeRect(),M=1;if(e.Util._inRange(E.width,-this.padding()*2-M,M)){this.update();return}if(e.Util._inRange(E.height,-this.padding()*2-M,M)){this.update();return}const _=new e.Transform;if(_.rotate(c.Konva.getAngle(this.rotation())),this._movingAnchorName&&E.width<0&&this._movingAnchorName.indexOf("left")>=0){const re=_.point({x:-this.padding()*2,y:0});E.x+=re.x,E.y+=re.y,E.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=re.x,this._anchorDragOffset.y-=re.y}else if(this._movingAnchorName&&E.width<0&&this._movingAnchorName.indexOf("right")>=0){const re=_.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=re.x,this._anchorDragOffset.y-=re.y,E.width+=this.padding()*2}if(this._movingAnchorName&&E.height<0&&this._movingAnchorName.indexOf("top")>=0){const re=_.point({x:0,y:-this.padding()*2});E.x+=re.x,E.y+=re.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=re.x,this._anchorDragOffset.y-=re.y,E.height+=this.padding()*2}else if(this._movingAnchorName&&E.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const re=_.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=re.x,this._anchorDragOffset.y-=re.y,E.height+=this.padding()*2}if(this.boundBoxFunc()){const re=this.boundBoxFunc()(G,E);re?E=re:e.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const I=1e7,B=new e.Transform;B.translate(G.x,G.y),B.rotate(G.rotation),B.scale(G.width/I,G.height/I);const H=new e.Transform,Y=E.width/I,K=E.height/I;this.flipEnabled()===!1?(H.translate(E.x,E.y),H.rotate(E.rotation),H.translate(E.width<0?E.width:0,E.height<0?E.height:0),H.scale(Math.abs(Y),Math.abs(K))):(H.translate(E.x,E.y),H.rotate(E.rotation),H.scale(Y,K));const ce=H.multiply(B.invert());this._nodes.forEach(re=>{var $;const j=re.getParent().getAbsoluteTransform(),de=re.getTransform().copy();de.translate(re.offsetX(),re.offsetY());const ve=new e.Transform;ve.multiply(j.copy().invert()).multiply(ce).multiply(j).multiply(de);const ye=ve.decompose();re.setAttrs(ye),($=re.getLayer())===null||$===void 0||$.batchDraw()}),this.rotation(e.Util._getRotation(E.rotation)),this._nodes.forEach(re=>{this._fire("transform",{evt:N,target:re}),re._fire("transform",{evt:N,target:re})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(E,N){this.findOne(E).setAttrs(N)}update(){var E;const N=this._getNodeRect();this.rotation(e.Util._getRotation(N.rotation));const G=N.width,M=N.height,_=this.enabledAnchors(),I=this.resizeEnabled(),B=this.padding(),H=this.anchorSize(),Y=this.find("._anchor");Y.forEach(ce=>{ce.setAttrs({width:H,height:H,offsetX:H/2,offsetY:H/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:H/2+B,offsetY:H/2+B,visible:I&&_.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:G/2,y:0,offsetY:H/2+B,visible:I&&_.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:G,y:0,offsetX:H/2-B,offsetY:H/2+B,visible:I&&_.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:M/2,offsetX:H/2+B,visible:I&&_.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:G,y:M/2,offsetX:H/2-B,visible:I&&_.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:M,offsetX:H/2+B,offsetY:H/2-B,visible:I&&_.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:G/2,y:M,offsetY:H/2-B,visible:I&&_.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:G,y:M,offsetX:H/2-B,offsetY:H/2-B,visible:I&&_.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:G/2,y:-this.rotateAnchorOffset()*e.Util._sign(M)-B,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:G,height:M,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const K=this.anchorStyleFunc();K&&Y.forEach(ce=>{K(ce)}),(E=this.getLayer())===null||E===void 0||E.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const E=this.findOne("."+this._movingAnchorName);E&&E.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),u.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return i.Node.prototype.toObject.call(this)}clone(E){return i.Node.prototype.clone.call(this,E)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Q1.Transformer=F,F.isTransforming=()=>O>0;function q(R){return R instanceof Array||e.Util.warn("enabledAnchors value should be an array"),R instanceof Array&&R.forEach(function(E){x.indexOf(E)===-1&&e.Util.warn("Unknown anchor name: "+E+". Available names are: "+x.join(", "))}),R||[]}return F.prototype.className="Transformer",(0,h._registerNode)(F),n.Factory.addGetterSetter(F,"enabledAnchors",x,q),n.Factory.addGetterSetter(F,"flipEnabled",!0,(0,d.getBooleanValidator)()),n.Factory.addGetterSetter(F,"resizeEnabled",!0),n.Factory.addGetterSetter(F,"anchorSize",10,(0,d.getNumberValidator)()),n.Factory.addGetterSetter(F,"rotateEnabled",!0),n.Factory.addGetterSetter(F,"rotateLineVisible",!0),n.Factory.addGetterSetter(F,"rotationSnaps",[]),n.Factory.addGetterSetter(F,"rotateAnchorOffset",50,(0,d.getNumberValidator)()),n.Factory.addGetterSetter(F,"rotateAnchorCursor","crosshair"),n.Factory.addGetterSetter(F,"rotationSnapTolerance",5,(0,d.getNumberValidator)()),n.Factory.addGetterSetter(F,"borderEnabled",!0),n.Factory.addGetterSetter(F,"anchorStroke","rgb(0, 161, 255)"),n.Factory.addGetterSetter(F,"anchorStrokeWidth",1,(0,d.getNumberValidator)()),n.Factory.addGetterSetter(F,"anchorFill","white"),n.Factory.addGetterSetter(F,"anchorCornerRadius",0,(0,d.getNumberValidator)()),n.Factory.addGetterSetter(F,"borderStroke","rgb(0, 161, 255)"),n.Factory.addGetterSetter(F,"borderStrokeWidth",1,(0,d.getNumberValidator)()),n.Factory.addGetterSetter(F,"borderDash"),n.Factory.addGetterSetter(F,"keepRatio",!0),n.Factory.addGetterSetter(F,"shiftBehavior","default"),n.Factory.addGetterSetter(F,"centeredScaling",!1),n.Factory.addGetterSetter(F,"ignoreStroke",!1),n.Factory.addGetterSetter(F,"padding",0,(0,d.getNumberValidator)()),n.Factory.addGetterSetter(F,"nodes"),n.Factory.addGetterSetter(F,"node"),n.Factory.addGetterSetter(F,"boundBoxFunc"),n.Factory.addGetterSetter(F,"anchorDragBoundFunc"),n.Factory.addGetterSetter(F,"anchorStyleFunc"),n.Factory.addGetterSetter(F,"shouldOverdrawWholeArea",!1),n.Factory.addGetterSetter(F,"useSingleNodeRotation",!0),n.Factory.backCompat(F,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Q1}var z1={},ZD;function yU(){if(ZD)return z1;ZD=1,Object.defineProperty(z1,"__esModule",{value:!0}),z1.Wedge=void 0;const e=Ft(),n=Li(),i=_t(),r=qt(),o=_t();let u=class extends n.Shape{_sceneFunc(d){d.beginPath(),d.arc(0,0,this.radius(),0,i.Konva.getAngle(this.angle()),this.clockwise()),d.lineTo(0,0),d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(d){this.radius(d/2)}setHeight(d){this.radius(d/2)}};return z1.Wedge=u,u.prototype.className="Wedge",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radius"],(0,o._registerNode)(u),e.Factory.addGetterSetter(u,"radius",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(u,"angle",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(u,"clockwise",!1),e.Factory.backCompat(u,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),z1}var H1={},JD;function bU(){if(JD)return H1;JD=1,Object.defineProperty(H1,"__esModule",{value:!0}),H1.Blur=void 0;const e=Ft(),n=ai(),i=qt();function r(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const o=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],u=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function c(h,m){const v=h.data,p=h.width,b=h.height;let S,y,w,x,T,D,P,A,O,F,q,R,E,N,G,M,_,I,B,H,Y,K,ce,re;const $=m+m+1,j=p-1,de=b-1,ve=m+1,ye=ve*(ve+1)/2,Pe=new r,le=o[m],pe=u[m];let Ae=null,Ce=Pe,Le=null,J=null;for(w=1;w<$;w++)Ce=Ce.next=new r,w===ve&&(Ae=Ce);for(Ce.next=Pe,P=D=0,y=0;y<b;y++){for(M=_=I=B=A=O=F=q=0,R=ve*(H=v[D]),E=ve*(Y=v[D+1]),N=ve*(K=v[D+2]),G=ve*(ce=v[D+3]),A+=ye*H,O+=ye*Y,F+=ye*K,q+=ye*ce,Ce=Pe,w=0;w<ve;w++)Ce.r=H,Ce.g=Y,Ce.b=K,Ce.a=ce,Ce=Ce.next;for(w=1;w<ve;w++)x=D+((j<w?j:w)<<2),A+=(Ce.r=H=v[x])*(re=ve-w),O+=(Ce.g=Y=v[x+1])*re,F+=(Ce.b=K=v[x+2])*re,q+=(Ce.a=ce=v[x+3])*re,M+=H,_+=Y,I+=K,B+=ce,Ce=Ce.next;for(Le=Pe,J=Ae,S=0;S<p;S++)v[D+3]=ce=q*le>>pe,ce!==0?(ce=255/ce,v[D]=(A*le>>pe)*ce,v[D+1]=(O*le>>pe)*ce,v[D+2]=(F*le>>pe)*ce):v[D]=v[D+1]=v[D+2]=0,A-=R,O-=E,F-=N,q-=G,R-=Le.r,E-=Le.g,N-=Le.b,G-=Le.a,x=P+((x=S+m+1)<j?x:j)<<2,M+=Le.r=v[x],_+=Le.g=v[x+1],I+=Le.b=v[x+2],B+=Le.a=v[x+3],A+=M,O+=_,F+=I,q+=B,Le=Le.next,R+=H=J.r,E+=Y=J.g,N+=K=J.b,G+=ce=J.a,M-=H,_-=Y,I-=K,B-=ce,J=J.next,D+=4;P+=p}for(S=0;S<p;S++){for(_=I=B=M=O=F=q=A=0,D=S<<2,R=ve*(H=v[D]),E=ve*(Y=v[D+1]),N=ve*(K=v[D+2]),G=ve*(ce=v[D+3]),A+=ye*H,O+=ye*Y,F+=ye*K,q+=ye*ce,Ce=Pe,w=0;w<ve;w++)Ce.r=H,Ce.g=Y,Ce.b=K,Ce.a=ce,Ce=Ce.next;for(T=p,w=1;w<=m;w++)D=T+S<<2,A+=(Ce.r=H=v[D])*(re=ve-w),O+=(Ce.g=Y=v[D+1])*re,F+=(Ce.b=K=v[D+2])*re,q+=(Ce.a=ce=v[D+3])*re,M+=H,_+=Y,I+=K,B+=ce,Ce=Ce.next,w<de&&(T+=p);for(D=S,Le=Pe,J=Ae,y=0;y<b;y++)x=D<<2,v[x+3]=ce=q*le>>pe,ce>0?(ce=255/ce,v[x]=(A*le>>pe)*ce,v[x+1]=(O*le>>pe)*ce,v[x+2]=(F*le>>pe)*ce):v[x]=v[x+1]=v[x+2]=0,A-=R,O-=E,F-=N,q-=G,R-=Le.r,E-=Le.g,N-=Le.b,G-=Le.a,x=S+((x=y+ve)<de?x:de)*p<<2,A+=M+=Le.r=v[x],O+=_+=Le.g=v[x+1],F+=I+=Le.b=v[x+2],q+=B+=Le.a=v[x+3],Le=Le.next,R+=H=J.r,E+=Y=J.g,N+=K=J.b,G+=ce=J.a,M-=H,_-=Y,I-=K,B-=ce,J=J.next,D+=p}}const d=function(m){const v=Math.round(this.blurRadius());v>0&&c(m,v)};return H1.Blur=d,e.Factory.addGetterSetter(n.Node,"blurRadius",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),H1}var W1={},e6;function CU(){if(e6)return W1;e6=1,Object.defineProperty(W1,"__esModule",{value:!0}),W1.Brighten=void 0;const e=Ft(),n=ai(),i=qt(),r=function(o){const u=this.brightness()*255,c=o.data,d=c.length;for(let h=0;h<d;h+=4)c[h]+=u,c[h+1]+=u,c[h+2]+=u};return W1.Brighten=r,e.Factory.addGetterSetter(n.Node,"brightness",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),W1}var Y1={},t6;function wU(){if(t6)return Y1;t6=1,Object.defineProperty(Y1,"__esModule",{value:!0}),Y1.Contrast=void 0;const e=Ft(),n=ai(),i=qt(),r=function(o){const u=Math.pow((this.contrast()+100)/100,2),c=o.data,d=c.length;let h=150,m=150,v=150;for(let p=0;p<d;p+=4)h=c[p],m=c[p+1],v=c[p+2],h/=255,h-=.5,h*=u,h+=.5,h*=255,m/=255,m-=.5,m*=u,m+=.5,m*=255,v/=255,v-=.5,v*=u,v+=.5,v*=255,h=h<0?0:h>255?255:h,m=m<0?0:m>255?255:m,v=v<0?0:v>255?255:v,c[p]=h,c[p+1]=m,c[p+2]=v};return Y1.Contrast=r,e.Factory.addGetterSetter(n.Node,"contrast",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),Y1}var $1={},n6;function DU(){if(n6)return $1;n6=1,Object.defineProperty($1,"__esModule",{value:!0}),$1.Emboss=void 0;const e=Ft(),n=ai(),i=Hn(),r=qt(),o=function(u){const c=this.embossStrength()*10,d=this.embossWhiteLevel()*255,h=this.embossDirection(),m=this.embossBlend(),v=u.data,p=u.width,b=u.height,S=p*4;let y=0,w=0,x=b;switch(h){case"top-left":y=-1,w=-1;break;case"top":y=-1,w=0;break;case"top-right":y=-1,w=1;break;case"right":y=0,w=1;break;case"bottom-right":y=1,w=1;break;case"bottom":y=1,w=0;break;case"bottom-left":y=1,w=-1;break;case"left":y=0,w=-1;break;default:i.Util.error("Unknown emboss direction: "+h)}do{const T=(x-1)*S;let D=y;x+D<1&&(D=0),x+D>b&&(D=0);const P=(x-1+D)*p*4;let A=p;do{const O=T+(A-1)*4;let F=w;A+F<1&&(F=0),A+F>p&&(F=0);const q=P+(A-1+F)*4,R=v[O]-v[q],E=v[O+1]-v[q+1],N=v[O+2]-v[q+2];let G=R;const M=G>0?G:-G,_=E>0?E:-E,I=N>0?N:-N;if(_>M&&(G=E),I>M&&(G=N),G*=c,m){const B=v[O]+G,H=v[O+1]+G,Y=v[O+2]+G;v[O]=B>255?255:B<0?0:B,v[O+1]=H>255?255:H<0?0:H,v[O+2]=Y>255?255:Y<0?0:Y}else{let B=d-G;B<0?B=0:B>255&&(B=255),v[O]=v[O+1]=v[O+2]=B}}while(--A)}while(--x)};return $1.Emboss=o,e.Factory.addGetterSetter(n.Node,"embossStrength",.5,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(n.Node,"embossWhiteLevel",.5,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(n.Node,"embossDirection","top-left",void 0,e.Factory.afterSetFilter),e.Factory.addGetterSetter(n.Node,"embossBlend",!1,void 0,e.Factory.afterSetFilter),$1}var j1={},i6;function xU(){if(i6)return j1;i6=1,Object.defineProperty(j1,"__esModule",{value:!0}),j1.Enhance=void 0;const e=Ft(),n=ai(),i=qt();function r(u,c,d,h,m){const v=d-c,p=m-h;if(v===0)return h+p/2;if(p===0)return h;let b=(u-c)/v;return b=p*b+h,b}const o=function(u){const c=u.data,d=c.length;let h=c[0],m=h,v,p=c[1],b=p,S,y=c[2],w=y,x;const T=this.enhance();if(T===0)return;for(let G=0;G<d;G+=4)v=c[G+0],v<h?h=v:v>m&&(m=v),S=c[G+1],S<p?p=S:S>b&&(b=S),x=c[G+2],x<y?y=x:x>w&&(w=x);m===h&&(m=255,h=0),b===p&&(b=255,p=0),w===y&&(w=255,y=0);let D,P,A,O,F,q,R,E,N;T>0?(P=m+T*(255-m),A=h-T*(h-0),F=b+T*(255-b),q=p-T*(p-0),E=w+T*(255-w),N=y-T*(y-0)):(D=(m+h)*.5,P=m+T*(m-D),A=h+T*(h-D),O=(b+p)*.5,F=b+T*(b-O),q=p+T*(p-O),R=(w+y)*.5,E=w+T*(w-R),N=y+T*(y-R));for(let G=0;G<d;G+=4)c[G+0]=r(c[G+0],h,m,A,P),c[G+1]=r(c[G+1],p,b,q,F),c[G+2]=r(c[G+2],y,w,N,E)};return j1.Enhance=o,e.Factory.addGetterSetter(n.Node,"enhance",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),j1}var X1={},a6;function TU(){if(a6)return X1;a6=1,Object.defineProperty(X1,"__esModule",{value:!0}),X1.Grayscale=void 0;const e=function(n){const i=n.data,r=i.length;for(let o=0;o<r;o+=4){const u=.34*i[o]+.5*i[o+1]+.16*i[o+2];i[o]=u,i[o+1]=u,i[o+2]=u}};return X1.Grayscale=e,X1}var K1={},r6;function PU(){if(r6)return K1;r6=1,Object.defineProperty(K1,"__esModule",{value:!0}),K1.HSL=void 0;const e=Ft(),n=ai(),i=qt();e.Factory.addGetterSetter(n.Node,"hue",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(n.Node,"saturation",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(n.Node,"luminance",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter);const r=function(o){const u=o.data,c=u.length,d=1,h=Math.pow(2,this.saturation()),m=Math.abs(this.hue()+360)%360,v=this.luminance()*127,p=d*h*Math.cos(m*Math.PI/180),b=d*h*Math.sin(m*Math.PI/180),S=.299*d+.701*p+.167*b,y=.587*d-.587*p+.33*b,w=.114*d-.114*p-.497*b,x=.299*d-.299*p-.328*b,T=.587*d+.413*p+.035*b,D=.114*d-.114*p+.293*b,P=.299*d-.3*p+1.25*b,A=.587*d-.586*p-1.05*b,O=.114*d+.886*p-.2*b;let F,q,R,E;for(let N=0;N<c;N+=4)F=u[N+0],q=u[N+1],R=u[N+2],E=u[N+3],u[N+0]=S*F+y*q+w*R+v,u[N+1]=x*F+T*q+D*R+v,u[N+2]=P*F+A*q+O*R+v,u[N+3]=E};return K1.HSL=r,K1}var Z1={},o6;function IU(){if(o6)return Z1;o6=1,Object.defineProperty(Z1,"__esModule",{value:!0}),Z1.HSV=void 0;const e=Ft(),n=ai(),i=qt(),r=function(o){const u=o.data,c=u.length,d=Math.pow(2,this.value()),h=Math.pow(2,this.saturation()),m=Math.abs(this.hue()+360)%360,v=d*h*Math.cos(m*Math.PI/180),p=d*h*Math.sin(m*Math.PI/180),b=.299*d+.701*v+.167*p,S=.587*d-.587*v+.33*p,y=.114*d-.114*v-.497*p,w=.299*d-.299*v-.328*p,x=.587*d+.413*v+.035*p,T=.114*d-.114*v+.293*p,D=.299*d-.3*v+1.25*p,P=.587*d-.586*v-1.05*p,A=.114*d+.886*v-.2*p;let O,F,q,R;for(let E=0;E<c;E+=4)O=u[E+0],F=u[E+1],q=u[E+2],R=u[E+3],u[E+0]=b*O+S*F+y*q,u[E+1]=w*O+x*F+T*q,u[E+2]=D*O+P*F+A*q,u[E+3]=R};return Z1.HSV=r,e.Factory.addGetterSetter(n.Node,"hue",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(n.Node,"saturation",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(n.Node,"value",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),Z1}var J1={},s6;function AU(){if(s6)return J1;s6=1,Object.defineProperty(J1,"__esModule",{value:!0}),J1.Invert=void 0;const e=function(n){const i=n.data,r=i.length;for(let o=0;o<r;o+=4)i[o]=255-i[o],i[o+1]=255-i[o+1],i[o+2]=255-i[o+2]};return J1.Invert=e,J1}var eg={},l6;function _U(){if(l6)return eg;l6=1,Object.defineProperty(eg,"__esModule",{value:!0}),eg.Kaleidoscope=void 0;const e=Ft(),n=ai(),i=Hn(),r=qt(),o=function(d,h,m){const v=d.data,p=h.data,b=d.width,S=d.height,y=m.polarCenterX||b/2,w=m.polarCenterY||S/2;let x=Math.sqrt(y*y+w*w),T=b-y,D=S-w;const P=Math.sqrt(T*T+D*D);x=P>x?P:x;const A=S,O=b,F=360/O*Math.PI/180;for(let q=0;q<O;q+=1){const R=Math.sin(q*F),E=Math.cos(q*F);for(let N=0;N<A;N+=1){T=Math.floor(y+x*N/A*E),D=Math.floor(w+x*N/A*R);let G=(D*b+T)*4;const M=v[G+0],_=v[G+1],I=v[G+2],B=v[G+3];G=(q+N*b)*4,p[G+0]=M,p[G+1]=_,p[G+2]=I,p[G+3]=B}}},u=function(d,h,m){const v=d.data,p=h.data,b=d.width,S=d.height,y=m.polarCenterX||b/2,w=m.polarCenterY||S/2;let x=Math.sqrt(y*y+w*w),T=b-y,D=S-w;const P=Math.sqrt(T*T+D*D);x=P>x?P:x;const A=S,O=b,F=0;let q,R;for(T=0;T<b;T+=1)for(D=0;D<S;D+=1){const E=T-y,N=D-w,G=Math.sqrt(E*E+N*N)*A/x;let M=(Math.atan2(N,E)*180/Math.PI+360+F)%360;M=M*O/360,q=Math.floor(M),R=Math.floor(G);let _=(R*b+q)*4;const I=v[_+0],B=v[_+1],H=v[_+2],Y=v[_+3];_=(D*b+T)*4,p[_+0]=I,p[_+1]=B,p[_+2]=H,p[_+3]=Y}},c=function(d){const h=d.width,m=d.height;let v,p,b,S,y,w,x,T,D,P,A=Math.round(this.kaleidoscopePower());const O=Math.round(this.kaleidoscopeAngle()),F=Math.floor(h*(O%360)/360);if(A<1)return;const q=i.Util.createCanvasElement();q.width=h,q.height=m;const R=q.getContext("2d").getImageData(0,0,h,m);i.Util.releaseCanvas(q),o(d,R,{polarCenterX:h/2,polarCenterY:m/2});let E=h/Math.pow(2,A);for(;E<=8;)E=E*2,A-=1;E=Math.ceil(E);let N=E,G=0,M=N,_=1;for(F+E>h&&(G=N,M=0,_=-1),p=0;p<m;p+=1)for(v=G;v!==M;v+=_)b=Math.round(v+F)%h,D=(h*p+b)*4,y=R.data[D+0],w=R.data[D+1],x=R.data[D+2],T=R.data[D+3],P=(h*p+v)*4,R.data[P+0]=y,R.data[P+1]=w,R.data[P+2]=x,R.data[P+3]=T;for(p=0;p<m;p+=1)for(N=Math.floor(E),S=0;S<A;S+=1){for(v=0;v<N+1;v+=1)D=(h*p+v)*4,y=R.data[D+0],w=R.data[D+1],x=R.data[D+2],T=R.data[D+3],P=(h*p+N*2-v-1)*4,R.data[P+0]=y,R.data[P+1]=w,R.data[P+2]=x,R.data[P+3]=T;N*=2}u(R,d,{})};return eg.Kaleidoscope=c,e.Factory.addGetterSetter(n.Node,"kaleidoscopePower",2,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(n.Node,"kaleidoscopeAngle",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),eg}var tg={},u6;function LU(){if(u6)return tg;u6=1,Object.defineProperty(tg,"__esModule",{value:!0}),tg.Mask=void 0;const e=Ft(),n=ai(),i=qt();function r(b,S,y){let w=(y*b.width+S)*4;const x=[];return x.push(b.data[w++],b.data[w++],b.data[w++],b.data[w++]),x}function o(b,S){return Math.sqrt(Math.pow(b[0]-S[0],2)+Math.pow(b[1]-S[1],2)+Math.pow(b[2]-S[2],2))}function u(b){const S=[0,0,0];for(let y=0;y<b.length;y++)S[0]+=b[y][0],S[1]+=b[y][1],S[2]+=b[y][2];return S[0]/=b.length,S[1]/=b.length,S[2]/=b.length,S}function c(b,S){const y=r(b,0,0),w=r(b,b.width-1,0),x=r(b,0,b.height-1),T=r(b,b.width-1,b.height-1),D=S||10;if(o(y,w)<D&&o(w,T)<D&&o(T,x)<D&&o(x,y)<D){const P=u([w,y,T,x]),A=[];for(let O=0;O<b.width*b.height;O++){const F=o(P,[b.data[O*4],b.data[O*4+1],b.data[O*4+2]]);A[O]=F<D?0:255}return A}}function d(b,S){for(let y=0;y<b.width*b.height;y++)b.data[4*y+3]=S[y]}function h(b,S,y){const w=[1,1,1,1,0,1,1,1,1],x=Math.round(Math.sqrt(w.length)),T=Math.floor(x/2),D=[];for(let P=0;P<y;P++)for(let A=0;A<S;A++){const O=P*S+A;let F=0;for(let q=0;q<x;q++)for(let R=0;R<x;R++){const E=P+q-T,N=A+R-T;if(E>=0&&E<y&&N>=0&&N<S){const G=E*S+N,M=w[q*x+R];F+=b[G]*M}}D[O]=F===255*8?255:0}return D}function m(b,S,y){const w=[1,1,1,1,1,1,1,1,1],x=Math.round(Math.sqrt(w.length)),T=Math.floor(x/2),D=[];for(let P=0;P<y;P++)for(let A=0;A<S;A++){const O=P*S+A;let F=0;for(let q=0;q<x;q++)for(let R=0;R<x;R++){const E=P+q-T,N=A+R-T;if(E>=0&&E<y&&N>=0&&N<S){const G=E*S+N,M=w[q*x+R];F+=b[G]*M}}D[O]=F>=255*4?255:0}return D}function v(b,S,y){const w=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],x=Math.round(Math.sqrt(w.length)),T=Math.floor(x/2),D=[];for(let P=0;P<y;P++)for(let A=0;A<S;A++){const O=P*S+A;let F=0;for(let q=0;q<x;q++)for(let R=0;R<x;R++){const E=P+q-T,N=A+R-T;if(E>=0&&E<y&&N>=0&&N<S){const G=E*S+N,M=w[q*x+R];F+=b[G]*M}}D[O]=F}return D}const p=function(b){const S=this.threshold();let y=c(b,S);return y&&(y=h(y,b.width,b.height),y=m(y,b.width,b.height),y=v(y,b.width,b.height),d(b,y)),b};return tg.Mask=p,e.Factory.addGetterSetter(n.Node,"threshold",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),tg}var ng={},c6;function OU(){if(c6)return ng;c6=1,Object.defineProperty(ng,"__esModule",{value:!0}),ng.Noise=void 0;const e=Ft(),n=ai(),i=qt(),r=function(o){const u=this.noise()*255,c=o.data,d=c.length,h=u/2;for(let m=0;m<d;m+=4)c[m+0]+=h-2*h*Math.random(),c[m+1]+=h-2*h*Math.random(),c[m+2]+=h-2*h*Math.random()};return ng.Noise=r,e.Factory.addGetterSetter(n.Node,"noise",.2,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),ng}var ig={},d6;function kU(){if(d6)return ig;d6=1,Object.defineProperty(ig,"__esModule",{value:!0}),ig.Pixelate=void 0;const e=Ft(),n=Hn(),i=ai(),r=qt(),o=function(u){let c=Math.ceil(this.pixelSize()),d=u.width,h=u.height,m,v,p,b,S,y,w,x=Math.ceil(d/c),T=Math.ceil(h/c),D,P,A,O,F,q,R,E=u.data;if(c<=0){n.Util.error("pixelSize value can not be <= 0");return}for(F=0;F<x;F+=1)for(q=0;q<T;q+=1){for(b=0,S=0,y=0,w=0,D=F*c,P=D+c,A=q*c,O=A+c,R=0,m=D;m<P;m+=1)if(!(m>=d))for(v=A;v<O;v+=1)v>=h||(p=(d*v+m)*4,b+=E[p+0],S+=E[p+1],y+=E[p+2],w+=E[p+3],R+=1);for(b=b/R,S=S/R,y=y/R,w=w/R,m=D;m<P;m+=1)if(!(m>=d))for(v=A;v<O;v+=1)v>=h||(p=(d*v+m)*4,E[p+0]=b,E[p+1]=S,E[p+2]=y,E[p+3]=w)}};return ig.Pixelate=o,e.Factory.addGetterSetter(i.Node,"pixelSize",8,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),ig}var ag={},h6;function RU(){if(h6)return ag;h6=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.Posterize=void 0;const e=Ft(),n=ai(),i=qt(),r=function(o){const u=Math.round(this.levels()*254)+1,c=o.data,d=c.length,h=255/u;for(let m=0;m<d;m+=1)c[m]=Math.floor(c[m]/h)*h};return ag.Posterize=r,e.Factory.addGetterSetter(n.Node,"levels",.5,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),ag}var rg={},f6;function EU(){if(f6)return rg;f6=1,Object.defineProperty(rg,"__esModule",{value:!0}),rg.RGB=void 0;const e=Ft(),n=ai(),i=qt(),r=function(o){const u=o.data,c=u.length,d=this.red(),h=this.green(),m=this.blue();for(let v=0;v<c;v+=4){const p=(.34*u[v]+.5*u[v+1]+.16*u[v+2])/255;u[v]=p*d,u[v+1]=p*h,u[v+2]=p*m,u[v+3]=u[v+3]}};return rg.RGB=r,e.Factory.addGetterSetter(n.Node,"red",0,function(o){return this._filterUpToDate=!1,o>255?255:o<0?0:Math.round(o)}),e.Factory.addGetterSetter(n.Node,"green",0,function(o){return this._filterUpToDate=!1,o>255?255:o<0?0:Math.round(o)}),e.Factory.addGetterSetter(n.Node,"blue",0,i.RGBComponent,e.Factory.afterSetFilter),rg}var og={},g6;function FU(){if(g6)return og;g6=1,Object.defineProperty(og,"__esModule",{value:!0}),og.RGBA=void 0;const e=Ft(),n=ai(),i=qt(),r=function(o){const u=o.data,c=u.length,d=this.red(),h=this.green(),m=this.blue(),v=this.alpha();for(let p=0;p<c;p+=4){const b=1-v;u[p]=d*v+u[p]*b,u[p+1]=h*v+u[p+1]*b,u[p+2]=m*v+u[p+2]*b}};return og.RGBA=r,e.Factory.addGetterSetter(n.Node,"red",0,function(o){return this._filterUpToDate=!1,o>255?255:o<0?0:Math.round(o)}),e.Factory.addGetterSetter(n.Node,"green",0,function(o){return this._filterUpToDate=!1,o>255?255:o<0?0:Math.round(o)}),e.Factory.addGetterSetter(n.Node,"blue",0,i.RGBComponent,e.Factory.afterSetFilter),e.Factory.addGetterSetter(n.Node,"alpha",1,function(o){return this._filterUpToDate=!1,o>1?1:o<0?0:o}),og}var sg={},m6;function MU(){if(m6)return sg;m6=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.Sepia=void 0;const e=function(n){const i=n.data,r=i.length;for(let o=0;o<r;o+=4){const u=i[o+0],c=i[o+1],d=i[o+2];i[o+0]=Math.min(255,u*.393+c*.769+d*.189),i[o+1]=Math.min(255,u*.349+c*.686+d*.168),i[o+2]=Math.min(255,u*.272+c*.534+d*.131)}};return sg.Sepia=e,sg}var lg={},v6;function VU(){if(v6)return lg;v6=1,Object.defineProperty(lg,"__esModule",{value:!0}),lg.Solarize=void 0;const e=function(n){const i=n.data,r=n.width,o=n.height,u=r*4;let c=o;do{const d=(c-1)*u;let h=r;do{const m=d+(h-1)*4;let v=i[m],p=i[m+1],b=i[m+2];v>127&&(v=255-v),p>127&&(p=255-p),b>127&&(b=255-b),i[m]=v,i[m+1]=p,i[m+2]=b}while(--h)}while(--c)};return lg.Solarize=e,lg}var ug={},S6;function BU(){if(S6)return ug;S6=1,Object.defineProperty(ug,"__esModule",{value:!0}),ug.Threshold=void 0;const e=Ft(),n=ai(),i=qt(),r=function(o){const u=this.threshold()*255,c=o.data,d=c.length;for(let h=0;h<d;h+=1)c[h]=c[h]<u?0:255};return ug.Threshold=r,e.Factory.addGetterSetter(n.Node,"threshold",.5,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),ug}var p6;function NU(){if(p6)return D1;p6=1,Object.defineProperty(D1,"__esModule",{value:!0}),D1.Konva=void 0;const e=rU(),n=oU(),i=lU(),r=uU(),o=cU(),u=dU(),c=hU(),d=lI(),h=D5(),m=uI(),v=fU(),p=gU(),b=mU(),S=vU(),y=cI(),w=SU(),x=pU(),T=yU(),D=bU(),P=CU(),A=wU(),O=DU(),F=xU(),q=TU(),R=PU(),E=IU(),N=AU(),G=_U(),M=LU(),_=OU(),I=kU(),B=RU(),H=EU(),Y=FU(),K=MU(),ce=VU(),re=BU();return D1.Konva=e.Konva.Util._assign(e.Konva,{Arc:n.Arc,Arrow:i.Arrow,Circle:r.Circle,Ellipse:o.Ellipse,Image:u.Image,Label:c.Label,Tag:c.Tag,Line:d.Line,Path:h.Path,Rect:m.Rect,RegularPolygon:v.RegularPolygon,Ring:p.Ring,Sprite:b.Sprite,Star:S.Star,Text:y.Text,TextPath:w.TextPath,Transformer:x.Transformer,Wedge:T.Wedge,Filters:{Blur:D.Blur,Brighten:P.Brighten,Contrast:A.Contrast,Emboss:O.Emboss,Enhance:F.Enhance,Grayscale:q.Grayscale,HSL:R.HSL,HSV:E.HSV,Invert:N.Invert,Kaleidoscope:G.Kaleidoscope,Mask:M.Mask,Noise:_.Noise,Pixelate:I.Pixelate,Posterize:B.Posterize,RGB:H.RGB,RGBA:Y.RGBA,Sepia:K.Sepia,Solarize:ce.Solarize,Threshold:re.Threshold}}),D1}var UU=Nv.exports,y6;function qU(){if(y6)return Nv.exports;y6=1,Object.defineProperty(UU,"__esModule",{value:!0});const e=NU();return Nv.exports=e.Konva,Nv.exports}var Vy={exports:{}};/*
 Magic wand tool (fuzzy selection) by color

 @package magic-wand-tool
 @author Ryasnoy Paul <ryasnoypaul@gmail.com>
 @version 1.1.7
 @license MIT
 @copyright (c) 2014-2020, Ryasnoy Paul <ryasnoypaul@gmail.com>

*/var b6;function GU(){return b6||(b6=1,function(e){var n=function(){var i={};i.floodFill=function(d,h,m,v,p,b){return b?o(d,h,m,v,p):r(d,h,m,v,p)};function r(d,h,m,v,p){var b,S,y,w,x,T,D,P,A,O,F=d.data,q=d.width,R=d.height,E=d.bytes,N=-1,G=q+1,M=-1,_=R+1,I=m*q+h,B=new Uint8Array(q*R),H=new Uint8Array(p||q*R);if(H[I]===1)return null;I=I*E;var Y=[F[I],F[I+1],F[I+2],F[I+3]],K=[{y:m,left:h-1,right:h+1,dir:1}];do{for(w=K.shift(),O=!1,S=w.left+1;S<w.right;S++)if(D=w.y*q,I=(D+S)*E,H[D+S]!==1&&(b=F[I]-Y[0],!(b>v||b<-v)&&(b=F[I+1]-Y[1],!(b>v||b<-v)&&(b=F[I+2]-Y[2],!(b>v||b<-v))))){for(O=!0,B[D+S]=1,H[D+S]=1,T=S-1;T>-1&&(P=D+T,I=P*E,!(H[P]===1||(b=F[I]-Y[0],b>v||b<-v)||(b=F[I+1]-Y[1],b>v||b<-v)||(b=F[I+2]-Y[2],b>v||b<-v)));)B[P]=1,H[P]=1,T--;for(x=S+1;x<q&&(A=D+x,I=A*E,!(H[A]===1||(b=F[I]-Y[0],b>v||b<-v)||(b=F[I+1]-Y[1],b>v||b<-v)||(b=F[I+2]-Y[2],b>v||b<-v)));)B[A]=1,H[A]=1,x++;T<G&&(G=T+1),x>N&&(N=x-1),y=w.y-w.dir,y>=0&&y<R&&(T<w.left&&K.push({y,left:T,right:w.left,dir:-w.dir}),w.right<x&&K.push({y,left:w.right,right:x,dir:-w.dir})),y=w.y+w.dir,y>=0&&y<R&&T<x&&K.push({y,left:T,right:x,dir:w.dir})}O&&(w.y<_&&(_=w.y),w.y>M&&(M=w.y))}while(K.length>0);return{data:B,width:d.width,height:d.height,bounds:{minX:G,minY:_,maxX:N,maxY:M}}}function o(d,h,m,v,p){var b,S,y,w,x,T,D,P,A,O,F=d.data,q=d.width,R=d.height,E=d.bytes,N=-1,G=q+1,M=-1,_=R+1,I=m*q+h,B=new Uint8Array(q*R),H=new Uint8Array(p||q*R);if(H[I]===1)return null;I=I*E;var Y=[F[I],F[I+1],F[I+2],F[I+3]],K=[{y:m,left:h-1,right:h+1,dir:1}];do{for(w=K.shift(),O=!1,S=w.left+1;S<w.right;S++)if(D=w.y*q,I=(D+S)*E,H[D+S]!==1&&(O=!0,B[D+S]=1,H[D+S]=1,b=F[I]-Y[0],!(b>v||b<-v)&&(b=F[I+1]-Y[1],!(b>v||b<-v)&&(b=F[I+2]-Y[2],!(b>v||b<-v))))){for(T=S-1;T>-1&&(P=D+T,I=P*E,!(H[P]===1||(B[P]=1,H[P]=1,T--,b=F[I]-Y[0],b>v||b<-v)||(b=F[I+1]-Y[1],b>v||b<-v)||(b=F[I+2]-Y[2],b>v||b<-v))););for(x=S+1;x<q&&(A=D+x,I=A*E,!(H[A]===1||(B[A]=1,H[A]=1,x++,b=F[I]-Y[0],b>v||b<-v)||(b=F[I+1]-Y[1],b>v||b<-v)||(b=F[I+2]-Y[2],b>v||b<-v))););T<G&&(G=T+1),x>N&&(N=x-1),y=w.y-w.dir,y>=0&&y<R&&(T<w.left&&K.push({y,left:T,right:w.left,dir:-w.dir}),w.right<x&&K.push({y,left:w.right,right:x,dir:-w.dir})),y=w.y+w.dir,y>=0&&y<R&&T<x&&K.push({y,left:T,right:x,dir:w.dir})}O&&(w.y<_&&(_=w.y),w.y>M&&(M=w.y))}while(K.length>0);return{data:B,width:d.width,height:d.height,bounds:{minX:G,minY:_,maxX:N,maxY:M}}}i.gaussBlur=function(d,h){var m,v,p,b,S,y,w,x,T=h*2+1,D=h*h,P=new Float32Array(T),A=0,O=d.width,F=d.height,q=d.data,R=d.bounds.minX,E=d.bounds.maxX,N=d.bounds.minY,G=d.bounds.maxY;for(m=0;m<h;m++){var M=(h-m)*(h-m),_=Math.exp(-M/(2*D))/(2*Math.PI*D);P[h+m]=P[h-m]=_,A+=2*_}for(m=0;m<T;m++)P[m]/=A;var I=new Uint8Array(O*F),B=h+O,H=h+F;for(S=N;S<G+1;S++)for(b=R;b<E+1;b++){for(y=0,v=S*O+b,w=h-b>0?h-b:0,x=B-b<T?B-b:T,p=v-h,m=w;m<x;m++)y+=q[p+m]*P[m];for(w=h-S>0?h-S:0,x=H-S<T?H-S:T,p=v-h*O,m=w;m<x;m++)y+=q[p+m*O]*P[m];I[v]=y>.5?1:0}return{data:I,width:O,height:F,bounds:{minX:R,minY:N,maxX:E,maxY:G}}};function u(d,h,m){var v,p,b,S,y,w,x,T=d.width,D=d.height,P=d.data,A=new Uint8Array(P),O=d.bounds.minX,F=d.bounds.maxX,q=d.bounds.minY,R=d.bounds.maxY,E=T*D,N=new Uint8Array(E),G=[],M=Math.max(O,1),_=Math.min(F,T-2),I=Math.max(q,1),B=Math.min(R,D-2);if(m&&m.length>0)for(y=0;y<E;y++)m[y]===1&&(A[y]=1);for(S=I;S<B+1;S++)for(v=M;v<_+1;v++)y=S*T+v,P[y]!==0&&(w=y+T,x=y-T,(A[y+1]===0||A[y-1]===0||A[w]===0||A[w+1]===0||A[w-1]===0||A[x]===0||A[x+1]===0||A[x-1]===0)&&G.push(y));if(O==0)for(S=q;S<R+1;S++)P[S*T]===1&&G.push(S*T);if(F==T-1)for(S=q;S<R+1;S++)P[S*T+F]===1&&G.push(S*T+F);if(q==0)for(v=O;v<F+1;v++)P[v]===1&&G.push(v);if(R==D-1)for(v=O;v<F+1;v++)P[R*T+v]===1&&G.push(R*T+v);var H=[],Y,K,ce=h+T,re=h+D,$=h*2+1;for(E=G.length,b=0;b<E;b++){for(y=G[b],N[y]=1,H.push(y),v=y%T,S=(y-v)/T,Y=h-v>0?h-v:0,K=ce-v<$?ce-v:$,w=y-h,p=Y;p<K;p++)x=w+p,N[x]===0&&(N[x]=1,H.push(x));for(Y=h-S>0?h-S:0,K=re-S<$?re-S:$,w=y-h*T,p=Y;p<K;p++)x=w+p*T,N[x]===0&&(N[x]=1,H.push(x))}return H}i.gaussBlurOnlyBorder=function(d,h,m){var v=u(d,h,m),p,b,S,y,w,x,T,D,P,A,O,F=h*2+1,q=2*h*h,R=new Float32Array(F),E=0,N=d.width,G=d.height,M=d.data,_=d.bounds.minX,I=d.bounds.maxX,B=d.bounds.minY,H=d.bounds.maxY,Y=v.length;for(S=0;S<h;S++)b=(h-S)*(h-S),p=Math.exp(-b/q)/Math.PI,R[h+S]=R[h-S]=p,E+=2*p;for(S=0;S<F;S++)R[S]/=E;var K=new Uint8Array(M),ce=h+N,re=h+G;for(S=0;S<Y;S++){for(w=v[S],P=0,T=w%N,D=(w-T)/N,A=h-T>0?h-T:0,O=ce-T<F?ce-T:F,x=w-h,y=A;y<O;y++)P+=M[x+y]*R[y];if(P>.5){K[w]=1,T<_&&(_=T),T>I&&(I=T),D<B&&(B=D),D>H&&(H=D);continue}for(A=h-D>0?h-D:0,O=re-D<F?re-D:F,x=w-h*N,y=A;y<O;y++)P+=M[x+y*N]*R[y];P>.5?(K[w]=1,T<_&&(_=T),T>I&&(I=T),D<B&&(B=D),D>H&&(H=D)):K[w]=0}return{data:K,width:N,height:G,bounds:{minX:_,minY:B,maxX:I,maxY:H}}},i.createBorderMask=function(d){var h,m,v,p,b,S=d.width,y=d.height,w=d.data,x=d.bounds.minX,T=d.bounds.maxX,D=d.bounds.minY,P=d.bounds.maxY,A=T-x+1,O=P-D+1,F=new Uint8Array(A*O),q=Math.max(x,1),R=Math.min(T,S-2),E=Math.max(D,1),N=Math.min(P,y-2);for(m=E;m<N+1;m++)for(h=q;h<R+1;h++)v=m*S+h,w[v]!==0&&(p=v+S,b=v-S,(w[v+1]===0||w[v-1]===0||w[p]===0||w[p+1]===0||w[p-1]===0||w[b]===0||w[b+1]===0||w[b-1]===0)&&(F[(m-D)*A+(h-x)]=1));if(x==0)for(m=D;m<P+1;m++)w[m*S]===1&&(F[(m-D)*A]=1);if(T==S-1)for(m=D;m<P+1;m++)w[m*S+T]===1&&(F[(m-D)*A+(T-x)]=1);if(D==0)for(h=x;h<T+1;h++)w[h]===1&&(F[h-x]=1);if(P==y-1)for(h=x;h<T+1;h++)w[P*S+h]===1&&(F[(P-D)*A+(h-x)]=1);return{data:F,width:A,height:O,offset:{x,y:D}}},i.getBorderIndices=function(d){var h,m,v,p,b,S=d.width,y=d.height,w=d.data,x=[],T=S-1,D=y-1;for(m=1;m<D;m++)for(h=1;h<T;h++)v=m*S+h,w[v]!==0&&(p=v+S,b=v-S,(w[v+1]===0||w[v-1]===0||w[p]===0||w[p+1]===0||w[p-1]===0||w[b]===0||w[b+1]===0||w[b-1]===0)&&x.push(v));for(m=0;m<y;m++)w[m*S]===1&&x.push(m*S);for(h=0;h<S;h++)w[h]===1&&x.push(h);for(v=S-1,m=0;m<y;m++)w[m*S+v]===1&&x.push(m*S+v);for(v=(y-1)*S,h=0;h<S;h++)w[v+h]===1&&x.push(v+h);return x};function c(d){var h,m,v=d.width,p=d.data,b=d.bounds.minX,S=d.bounds.maxX,y=d.bounds.minY,w=d.bounds.maxY,x=S-b+3,T=w-y+3,D=new Uint8Array(x*T);for(m=y;m<w+1;m++)for(h=b;h<S+1;h++)p[m*v+h]===1&&(D[(m-y+1)*x+(h-b+1)]=1);return{data:D,width:x,height:T,offset:{x:b-1,y:y-1}}}return i.traceContours=function(d){var h=c(d),m=[],v=0,p=h.width,b=p*2,S=h.height,y=h.data,w=h.offset.x,x=h.offset.y,T=new Uint8Array(y),D,P,A,O,F,q,R,E,N,G,M,_,I,B,H,Y=[[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1],[1,-1]];for(O=1;O<S-1;O++)for(A=1;A<p-1;A++)if(F=O*p+A,y[F]===1){for(D=-p;D<b;D+=b)if(y[F+D]===0&&T[F+D]===0){for(E=D===p,v++,R=[],N=E?2:6,_=I=G={x:A,y:O},M=null;;){for(T[_.y*p+_.x]=v,P=0;P<8;P++){if(N=(N+1)%8,H=Y[N],B={x:_.x+H[0],y:_.y+H[1]},q=B.y*p+B.x,y[q]===1){T[q]=v;break}T[q]=-1,B=null}if(B===null)break;if(_=B,M){if(I.x===G.x&&I.y===G.y&&_.x===M.x&&_.y===M.y)break}else M=B;R.push({x:I.x+w,y:I.y+x}),I=_,N=(N+4)%8}B!=null&&(R.push({x:G.x+w,y:G.y+x}),m.push({inner:E,label:v,points:R}))}}return m},i.simplifyContours=function(d,h,m){var v=d.length,p=[],b,S,y,w,x,T,D,P,A,O,F,q,R,E,N,G,M,_,I,B,H;for(S=0;S<v;S++){if(w=d[S],x=w.points,T=w.points.length,T<m){for(D=[],y=0;y<T;y++)D.push({x:x[y].x,y:x[y].y});p.push({inner:w.inner,label:w.label,points:D,initialCount:T});continue}P=[0,T-1],A=[{first:0,last:T-1}];do if(O=A.shift(),!(O.last<=O.first+1)){for(F=-1,q=O.first,b=O.first+1;b<O.last;b++)I=x[b],B=x[O.first],H=x[O.last],M=I.x-B.x,_=I.y-B.y,E=Math.sqrt(M*M+_*_),M=I.x-H.x,_=I.y-H.y,N=Math.sqrt(M*M+_*_),M=B.x-H.x,_=B.y-H.y,G=Math.sqrt(M*M+_*_),E>=Math.sqrt(N*N+G*G)?R=N:N>=Math.sqrt(E*E+G*G)?R=E:R=Math.abs((_*I.x-M*I.y+B.x*H.y-H.x*B.y)/G),R>F&&(q=b,F=R);F>h&&(P.push(q),A.push({first:O.first,last:q}),A.push({first:q,last:O.last}))}while(A.length>0);for(D=[],T=P.length,P.sort(function(Y,K){return Y-K}),y=0;y<T;y++)D.push({x:x[P[y]].x,y:x[P[y]].y});p.push({inner:w.inner,label:w.label,points:D,initialCount:w.points.length})}return p},i}();e!==null&&(e.exports=n),typeof window<"u"&&window!==null&&(window.MagicWand=n)}(Vy)),Vy.exports}function _v(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var By={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var C6;function QU(){return C6||(C6=1,function(e,n){(function(i){e.exports=i()})(function(){return function i(r,o,u){function c(m,v){if(!o[m]){if(!r[m]){var p=typeof _v=="function"&&_v;if(!v&&p)return p(m,!0);if(d)return d(m,!0);var b=new Error("Cannot find module '"+m+"'");throw b.code="MODULE_NOT_FOUND",b}var S=o[m]={exports:{}};r[m][0].call(S.exports,function(y){var w=r[m][1][y];return c(w||y)},S,S.exports,i,r,o,u)}return o[m].exports}for(var d=typeof _v=="function"&&_v,h=0;h<u.length;h++)c(u[h]);return c}({1:[function(i,r,o){var u=i("./utils"),c=i("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(h){for(var m,v,p,b,S,y,w,x=[],T=0,D=h.length,P=D,A=u.getTypeOf(h)!=="string";T<h.length;)P=D-T,p=A?(m=h[T++],v=T<D?h[T++]:0,T<D?h[T++]:0):(m=h.charCodeAt(T++),v=T<D?h.charCodeAt(T++):0,T<D?h.charCodeAt(T++):0),b=m>>2,S=(3&m)<<4|v>>4,y=1<P?(15&v)<<2|p>>6:64,w=2<P?63&p:64,x.push(d.charAt(b)+d.charAt(S)+d.charAt(y)+d.charAt(w));return x.join("")},o.decode=function(h){var m,v,p,b,S,y,w=0,x=0,T="data:";if(h.substr(0,T.length)===T)throw new Error("Invalid base64 input, it looks like a data url.");var D,P=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===d.charAt(64)&&P--,h.charAt(h.length-2)===d.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(D=c.uint8array?new Uint8Array(0|P):new Array(0|P);w<h.length;)m=d.indexOf(h.charAt(w++))<<2|(b=d.indexOf(h.charAt(w++)))>>4,v=(15&b)<<4|(S=d.indexOf(h.charAt(w++)))>>2,p=(3&S)<<6|(y=d.indexOf(h.charAt(w++))),D[x++]=m,S!==64&&(D[x++]=v),y!==64&&(D[x++]=p);return D}},{"./support":30,"./utils":32}],2:[function(i,r,o){var u=i("./external"),c=i("./stream/DataWorker"),d=i("./stream/Crc32Probe"),h=i("./stream/DataLengthProbe");function m(v,p,b,S,y){this.compressedSize=v,this.uncompressedSize=p,this.crc32=b,this.compression=S,this.compressedContent=y}m.prototype={getContentWorker:function(){var v=new c(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),p=this;return v.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new c(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(v,p,b){return v.pipe(new d).pipe(new h("uncompressedSize")).pipe(p.compressWorker(b)).pipe(new h("compressedSize")).withStreamInfo("compression",p)},r.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,r,o){var u=i("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},o.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,r,o){var u=i("./utils"),c=function(){for(var d,h=[],m=0;m<256;m++){d=m;for(var v=0;v<8;v++)d=1&d?3988292384^d>>>1:d>>>1;h[m]=d}return h}();r.exports=function(d,h){return d!==void 0&&d.length?u.getTypeOf(d)!=="string"?function(m,v,p,b){var S=c,y=b+p;m^=-1;for(var w=b;w<y;w++)m=m>>>8^S[255&(m^v[w])];return-1^m}(0|h,d,d.length,0):function(m,v,p,b){var S=c,y=b+p;m^=-1;for(var w=b;w<y;w++)m=m>>>8^S[255&(m^v.charCodeAt(w))];return-1^m}(0|h,d,d.length,0):0}},{"./utils":32}],5:[function(i,r,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(i,r,o){var u=null;u=typeof Promise<"u"?Promise:i("lie"),r.exports={Promise:u}},{lie:37}],7:[function(i,r,o){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=i("pako"),d=i("./utils"),h=i("./stream/GenericWorker"),m=u?"uint8array":"array";function v(p,b){h.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=b,this.meta={}}o.magic="\b\0",d.inherits(v,h),v.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(m,p.data),!1)},v.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(b){p.push({data:b,meta:p.meta})}},o.compressWorker=function(p){return new v("Deflate",p)},o.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,r,o){function u(S,y){var w,x="";for(w=0;w<y;w++)x+=String.fromCharCode(255&S),S>>>=8;return x}function c(S,y,w,x,T,D){var P,A,O=S.file,F=S.compression,q=D!==m.utf8encode,R=d.transformTo("string",D(O.name)),E=d.transformTo("string",m.utf8encode(O.name)),N=O.comment,G=d.transformTo("string",D(N)),M=d.transformTo("string",m.utf8encode(N)),_=E.length!==O.name.length,I=M.length!==N.length,B="",H="",Y="",K=O.dir,ce=O.date,re={crc32:0,compressedSize:0,uncompressedSize:0};y&&!w||(re.crc32=S.crc32,re.compressedSize=S.compressedSize,re.uncompressedSize=S.uncompressedSize);var $=0;y&&($|=8),q||!_&&!I||($|=2048);var j=0,de=0;K&&(j|=16),T==="UNIX"?(de=798,j|=function(ye,Pe){var le=ye;return ye||(le=Pe?16893:33204),(65535&le)<<16}(O.unixPermissions,K)):(de=20,j|=function(ye){return 63&(ye||0)}(O.dosPermissions)),P=ce.getUTCHours(),P<<=6,P|=ce.getUTCMinutes(),P<<=5,P|=ce.getUTCSeconds()/2,A=ce.getUTCFullYear()-1980,A<<=4,A|=ce.getUTCMonth()+1,A<<=5,A|=ce.getUTCDate(),_&&(H=u(1,1)+u(v(R),4)+E,B+="up"+u(H.length,2)+H),I&&(Y=u(1,1)+u(v(G),4)+M,B+="uc"+u(Y.length,2)+Y);var ve="";return ve+=`
\0`,ve+=u($,2),ve+=F.magic,ve+=u(P,2),ve+=u(A,2),ve+=u(re.crc32,4),ve+=u(re.compressedSize,4),ve+=u(re.uncompressedSize,4),ve+=u(R.length,2),ve+=u(B.length,2),{fileRecord:p.LOCAL_FILE_HEADER+ve+R+B,dirRecord:p.CENTRAL_FILE_HEADER+u(de,2)+ve+u(G.length,2)+"\0\0\0\0"+u(j,4)+u(x,4)+R+B+G}}var d=i("../utils"),h=i("../stream/GenericWorker"),m=i("../utf8"),v=i("../crc32"),p=i("../signature");function b(S,y,w,x){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=w,this.encodeFileName=x,this.streamFiles=S,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(b,h),b.prototype.push=function(S){var y=S.meta.percent||0,w=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(S):(this.bytesWritten+=S.data.length,h.prototype.push.call(this,{data:S.data,meta:{currentFile:this.currentFile,percent:w?(y+100*(w-x-1))/w:100}}))},b.prototype.openedSource=function(S){this.currentSourceOffset=this.bytesWritten,this.currentFile=S.file.name;var y=this.streamFiles&&!S.file.dir;if(y){var w=c(S,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(S){this.accumulate=!1;var y=this.streamFiles&&!S.file.dir,w=c(S,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),y)this.push({data:function(x){return p.DATA_DESCRIPTOR+u(x.crc32,4)+u(x.compressedSize,4)+u(x.uncompressedSize,4)}(S),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var S=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var w=this.bytesWritten-S,x=function(T,D,P,A,O){var F=d.transformTo("string",O(A));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(T,2)+u(T,2)+u(D,4)+u(P,4)+u(F.length,2)+F}(this.dirRecords.length,w,S,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(S){this._sources.push(S);var y=this;return S.on("data",function(w){y.processChunk(w)}),S.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),S.on("error",function(w){y.error(w)}),this},b.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(S){var y=this._sources;if(!h.prototype.error.call(this,S))return!1;for(var w=0;w<y.length;w++)try{y[w].error(S)}catch{}return!0},b.prototype.lock=function(){h.prototype.lock.call(this);for(var S=this._sources,y=0;y<S.length;y++)S[y].lock()},r.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,r,o){var u=i("../compressions"),c=i("./ZipFileWorker");o.generateWorker=function(d,h,m){var v=new c(h.streamFiles,m,h.platform,h.encodeFileName),p=0;try{d.forEach(function(b,S){p++;var y=function(D,P){var A=D||P,O=u[A];if(!O)throw new Error(A+" is not a valid compression method !");return O}(S.options.compression,h.compression),w=S.options.compressionOptions||h.compressionOptions||{},x=S.dir,T=S.date;S._compressWorker(y,w).withStreamInfo("file",{name:b,dir:x,date:T,comment:S.comment||"",unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions}).pipe(v)}),v.entriesCount=p}catch(b){v.error(b)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,r,o){function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new u;for(var d in this)typeof this[d]!="function"&&(c[d]=this[d]);return c}}(u.prototype=i("./object")).loadAsync=i("./load"),u.support=i("./support"),u.defaults=i("./defaults"),u.version="3.10.1",u.loadAsync=function(c,d){return new u().loadAsync(c,d)},u.external=i("./external"),r.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,r,o){var u=i("./utils"),c=i("./external"),d=i("./utf8"),h=i("./zipEntries"),m=i("./stream/Crc32Probe"),v=i("./nodejsUtils");function p(b){return new c.Promise(function(S,y){var w=b.decompressed.getContentWorker().pipe(new m);w.on("error",function(x){y(x)}).on("end",function(){w.streamInfo.crc32!==b.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):S()}).resume()})}r.exports=function(b,S){var y=this;return S=u.extend(S||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),v.isNode&&v.isStream(b)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",b,!0,S.optimizedBinaryString,S.base64).then(function(w){var x=new h(S);return x.load(w),x}).then(function(w){var x=[c.Promise.resolve(w)],T=w.files;if(S.checkCRC32)for(var D=0;D<T.length;D++)x.push(p(T[D]));return c.Promise.all(x)}).then(function(w){for(var x=w.shift(),T=x.files,D=0;D<T.length;D++){var P=T[D],A=P.fileNameStr,O=u.resolve(P.fileNameStr);y.file(O,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:S.createFolders}),P.dir||(y.file(O).unsafeOriginalName=A)}return x.zipComment.length&&(y.comment=x.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,r,o){var u=i("../utils"),c=i("../stream/GenericWorker");function d(h,m){c.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(m)}u.inherits(d,c),d.prototype._bindStream=function(h){var m=this;(this._stream=h).pause(),h.on("data",function(v){m.push({data:v,meta:{percent:0}})}).on("error",function(v){m.isPaused?this.generatedError=v:m.error(v)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},d.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,r,o){var u=i("readable-stream").Readable;function c(d,h,m){u.call(this,h),this._helper=d;var v=this;d.on("data",function(p,b){v.push(p)||v._helper.pause(),m&&m(b)}).on("error",function(p){v.emit("error",p)}).on("end",function(){v.push(null)})}i("../utils").inherits(c,u),c.prototype._read=function(){this._helper.resume()},r.exports=c},{"../utils":32,"readable-stream":16}],14:[function(i,r,o){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(u,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(u,c);if(typeof u=="number")throw new Error('The "data" argument must not be a number');return new Buffer(u,c)},allocBuffer:function(u){if(Buffer.alloc)return Buffer.alloc(u);var c=new Buffer(u);return c.fill(0),c},isBuffer:function(u){return Buffer.isBuffer(u)},isStream:function(u){return u&&typeof u.on=="function"&&typeof u.pause=="function"&&typeof u.resume=="function"}}},{}],15:[function(i,r,o){function u(O,F,q){var R,E=d.getTypeOf(F),N=d.extend(q||{},v);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(O=T(O)),N.createFolders&&(R=x(O))&&D.call(this,R,!0);var G=E==="string"&&N.binary===!1&&N.base64===!1;q&&q.binary!==void 0||(N.binary=!G),(F instanceof p&&F.uncompressedSize===0||N.dir||!F||F.length===0)&&(N.base64=!1,N.binary=!0,F="",N.compression="STORE",E="string");var M=null;M=F instanceof p||F instanceof h?F:y.isNode&&y.isStream(F)?new w(O,F):d.prepareContent(O,F,N.binary,N.optimizedBinaryString,N.base64);var _=new b(O,M,N);this.files[O]=_}var c=i("./utf8"),d=i("./utils"),h=i("./stream/GenericWorker"),m=i("./stream/StreamHelper"),v=i("./defaults"),p=i("./compressedObject"),b=i("./zipObject"),S=i("./generate"),y=i("./nodejsUtils"),w=i("./nodejs/NodejsStreamInputAdapter"),x=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var F=O.lastIndexOf("/");return 0<F?O.substring(0,F):""},T=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},D=function(O,F){return F=F!==void 0?F:v.createFolders,O=T(O),this.files[O]||u.call(this,O,null,{dir:!0,createFolders:F}),this.files[O]};function P(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var F,q,R;for(F in this.files)R=this.files[F],(q=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&O(q,R)},filter:function(O){var F=[];return this.forEach(function(q,R){O(q,R)&&F.push(R)}),F},file:function(O,F,q){if(arguments.length!==1)return O=this.root+O,u.call(this,O,F,q),this;if(P(O)){var R=O;return this.filter(function(N,G){return!G.dir&&R.test(N)})}var E=this.files[this.root+O];return E&&!E.dir?E:null},folder:function(O){if(!O)return this;if(P(O))return this.filter(function(E,N){return N.dir&&O.test(E)});var F=this.root+O,q=D.call(this,F),R=this.clone();return R.root=q.name,R},remove:function(O){O=this.root+O;var F=this.files[O];if(F||(O.slice(-1)!=="/"&&(O+="/"),F=this.files[O]),F&&!F.dir)delete this.files[O];else for(var q=this.filter(function(E,N){return N.name.slice(0,O.length)===O}),R=0;R<q.length;R++)delete this.files[q[R].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var F,q={};try{if((q=d.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=q.type.toLowerCase(),q.compression=q.compression.toUpperCase(),q.type==="binarystring"&&(q.type="string"),!q.type)throw new Error("No output type specified.");d.checkSupport(q.type),q.platform!=="darwin"&&q.platform!=="freebsd"&&q.platform!=="linux"&&q.platform!=="sunos"||(q.platform="UNIX"),q.platform==="win32"&&(q.platform="DOS");var R=q.comment||this.comment||"";F=S.generateWorker(this,q,R)}catch(E){(F=new h("error")).error(E)}return new m(F,q.type||"string",q.mimeType)},generateAsync:function(O,F){return this.generateInternalStream(O).accumulate(F)},generateNodeStream:function(O,F){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(F)}};r.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,r,o){r.exports=i("stream")},{stream:void 0}],17:[function(i,r,o){var u=i("./DataReader");function c(d){u.call(this,d);for(var h=0;h<this.data.length;h++)d[h]=255&d[h]}i("../utils").inherits(c,u),c.prototype.byteAt=function(d){return this.data[this.zero+d]},c.prototype.lastIndexOfSignature=function(d){for(var h=d.charCodeAt(0),m=d.charCodeAt(1),v=d.charCodeAt(2),p=d.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===h&&this.data[b+1]===m&&this.data[b+2]===v&&this.data[b+3]===p)return b-this.zero;return-1},c.prototype.readAndCheckSignature=function(d){var h=d.charCodeAt(0),m=d.charCodeAt(1),v=d.charCodeAt(2),p=d.charCodeAt(3),b=this.readData(4);return h===b[0]&&m===b[1]&&v===b[2]&&p===b[3]},c.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,h},r.exports=c},{"../utils":32,"./DataReader":18}],18:[function(i,r,o){var u=i("../utils");function c(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var h,m=0;for(this.checkOffset(d),h=this.index+d-1;h>=this.index;h--)m=(m<<8)+this.byteAt(h);return this.index+=d,m},readString:function(d){return u.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},r.exports=c},{"../utils":32}],19:[function(i,r,o){var u=i("./Uint8ArrayReader");function c(d){u.call(this,d)}i("../utils").inherits(c,u),c.prototype.readData=function(d){this.checkOffset(d);var h=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,h},r.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,r,o){var u=i("./DataReader");function c(d){u.call(this,d)}i("../utils").inherits(c,u),c.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},c.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},c.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},c.prototype.readData=function(d){this.checkOffset(d);var h=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,h},r.exports=c},{"../utils":32,"./DataReader":18}],21:[function(i,r,o){var u=i("./ArrayReader");function c(d){u.call(this,d)}i("../utils").inherits(c,u),c.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,h},r.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(i,r,o){var u=i("../utils"),c=i("../support"),d=i("./ArrayReader"),h=i("./StringReader"),m=i("./NodeBufferReader"),v=i("./Uint8ArrayReader");r.exports=function(p){var b=u.getTypeOf(p);return u.checkSupport(b),b!=="string"||c.uint8array?b==="nodebuffer"?new m(p):c.uint8array?new v(u.transformTo("uint8array",p)):new d(u.transformTo("array",p)):new h(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,r,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,r,o){var u=i("./GenericWorker"),c=i("../utils");function d(h){u.call(this,"ConvertWorker to "+h),this.destType=h}c.inherits(d,u),d.prototype.processChunk=function(h){this.push({data:c.transformTo(this.destType,h.data),meta:h.meta})},r.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(i,r,o){var u=i("./GenericWorker"),c=i("../crc32");function d(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("../utils").inherits(d,u),d.prototype.processChunk=function(h){this.streamInfo.crc32=c(h.data,this.streamInfo.crc32||0),this.push(h)},r.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,r,o){var u=i("../utils"),c=i("./GenericWorker");function d(h){c.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}u.inherits(d,c),d.prototype.processChunk=function(h){if(h){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+h.data.length}c.prototype.processChunk.call(this,h)},r.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(i,r,o){var u=i("../utils"),c=i("./GenericWorker");function d(h){c.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(v){m.dataIsReady=!0,m.data=v,m.max=v&&v.length||0,m.type=u.getTypeOf(v),m.isPaused||m._tickAndRepeat()},function(v){m.error(v)})}u.inherits(d,c),d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,m);break;case"uint8array":h=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":h=this.data.slice(this.index,m)}return this.index=m,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(i,r,o){function u(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,d){return this._listeners[c].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,d){if(this._listeners[c])for(var h=0;h<this._listeners[c].length;h++)this._listeners[c][h].call(this,d)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var d=this;return c.on("data",function(h){d.processChunk(h)}),c.on("end",function(){d.end()}),c.on("error",function(h){d.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,d){return this.extraStreamInfo[c]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},r.exports=u},{}],29:[function(i,r,o){var u=i("../utils"),c=i("./ConvertWorker"),d=i("./GenericWorker"),h=i("../base64"),m=i("../support"),v=i("../external"),p=null;if(m.nodestream)try{p=i("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(y,w){return new v.Promise(function(x,T){var D=[],P=y._internalType,A=y._outputType,O=y._mimeType;y.on("data",function(F,q){D.push(F),w&&w(q)}).on("error",function(F){D=[],T(F)}).on("end",function(){try{var F=function(q,R,E){switch(q){case"blob":return u.newBlob(u.transformTo("arraybuffer",R),E);case"base64":return h.encode(R);default:return u.transformTo(q,R)}}(A,function(q,R){var E,N=0,G=null,M=0;for(E=0;E<R.length;E++)M+=R[E].length;switch(q){case"string":return R.join("");case"array":return Array.prototype.concat.apply([],R);case"uint8array":for(G=new Uint8Array(M),E=0;E<R.length;E++)G.set(R[E],N),N+=R[E].length;return G;case"nodebuffer":return Buffer.concat(R);default:throw new Error("concat : unsupported type '"+q+"'")}}(P,D),O);x(F)}catch(q){T(q)}D=[]}).resume()})}function S(y,w,x){var T=w;switch(w){case"blob":case"arraybuffer":T="uint8array";break;case"base64":T="string"}try{this._internalType=T,this._outputType=w,this._mimeType=x,u.checkSupport(T),this._worker=y.pipe(new c(T)),y.lock()}catch(D){this._worker=new d("error"),this._worker.error(D)}}S.prototype={accumulate:function(y){return b(this,y)},on:function(y,w){var x=this;return y==="data"?this._worker.on(y,function(T){w.call(x,T.data,T.meta)}):this._worker.on(y,function(){u.delay(w,arguments,x)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(u.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},y)}},r.exports=S},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,r,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var u=new ArrayBuffer(0);try{o.blob=new Blob([u],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(u),o.blob=c.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!i("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(i,r,o){for(var u=i("./utils"),c=i("./support"),d=i("./nodejsUtils"),h=i("./stream/GenericWorker"),m=new Array(256),v=0;v<256;v++)m[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;m[254]=m[254]=1;function p(){h.call(this,"utf-8 decode"),this.leftOver=null}function b(){h.call(this,"utf-8 encode")}o.utf8encode=function(S){return c.nodebuffer?d.newBufferFrom(S,"utf-8"):function(y){var w,x,T,D,P,A=y.length,O=0;for(D=0;D<A;D++)(64512&(x=y.charCodeAt(D)))==55296&&D+1<A&&(64512&(T=y.charCodeAt(D+1)))==56320&&(x=65536+(x-55296<<10)+(T-56320),D++),O+=x<128?1:x<2048?2:x<65536?3:4;for(w=c.uint8array?new Uint8Array(O):new Array(O),D=P=0;P<O;D++)(64512&(x=y.charCodeAt(D)))==55296&&D+1<A&&(64512&(T=y.charCodeAt(D+1)))==56320&&(x=65536+(x-55296<<10)+(T-56320),D++),x<128?w[P++]=x:(x<2048?w[P++]=192|x>>>6:(x<65536?w[P++]=224|x>>>12:(w[P++]=240|x>>>18,w[P++]=128|x>>>12&63),w[P++]=128|x>>>6&63),w[P++]=128|63&x);return w}(S)},o.utf8decode=function(S){return c.nodebuffer?u.transformTo("nodebuffer",S).toString("utf-8"):function(y){var w,x,T,D,P=y.length,A=new Array(2*P);for(w=x=0;w<P;)if((T=y[w++])<128)A[x++]=T;else if(4<(D=m[T]))A[x++]=65533,w+=D-1;else{for(T&=D===2?31:D===3?15:7;1<D&&w<P;)T=T<<6|63&y[w++],D--;1<D?A[x++]=65533:T<65536?A[x++]=T:(T-=65536,A[x++]=55296|T>>10&1023,A[x++]=56320|1023&T)}return A.length!==x&&(A.subarray?A=A.subarray(0,x):A.length=x),u.applyFromCharCode(A)}(S=u.transformTo(c.uint8array?"uint8array":"array",S))},u.inherits(p,h),p.prototype.processChunk=function(S){var y=u.transformTo(c.uint8array?"uint8array":"array",S.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var w=y;(y=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),y.set(w,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var x=function(D,P){var A;for((P=P||D.length)>D.length&&(P=D.length),A=P-1;0<=A&&(192&D[A])==128;)A--;return A<0||A===0?P:A+m[D[A]]>P?A:P}(y),T=y;x!==y.length&&(c.uint8array?(T=y.subarray(0,x),this.leftOver=y.subarray(x,y.length)):(T=y.slice(0,x),this.leftOver=y.slice(x,y.length))),this.push({data:o.utf8decode(T),meta:S.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=p,u.inherits(b,h),b.prototype.processChunk=function(S){this.push({data:o.utf8encode(S.data),meta:S.meta})},o.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,r,o){var u=i("./support"),c=i("./base64"),d=i("./nodejsUtils"),h=i("./external");function m(w){return w}function v(w,x){for(var T=0;T<w.length;++T)x[T]=255&w.charCodeAt(T);return x}i("setimmediate"),o.newBlob=function(w,x){o.checkSupport("blob");try{return new Blob([w],{type:x})}catch{try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return T.append(w),T.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(w,x,T){var D=[],P=0,A=w.length;if(A<=T)return String.fromCharCode.apply(null,w);for(;P<A;)x==="array"||x==="nodebuffer"?D.push(String.fromCharCode.apply(null,w.slice(P,Math.min(P+T,A)))):D.push(String.fromCharCode.apply(null,w.subarray(P,Math.min(P+T,A)))),P+=T;return D.join("")},stringifyByChar:function(w){for(var x="",T=0;T<w.length;T++)x+=String.fromCharCode(w[T]);return x},applyCanBeUsed:{uint8array:function(){try{return u.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return u.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch{return!1}}()}};function b(w){var x=65536,T=o.getTypeOf(w),D=!0;if(T==="uint8array"?D=p.applyCanBeUsed.uint8array:T==="nodebuffer"&&(D=p.applyCanBeUsed.nodebuffer),D)for(;1<x;)try{return p.stringifyByChunk(w,T,x)}catch{x=Math.floor(x/2)}return p.stringifyByChar(w)}function S(w,x){for(var T=0;T<w.length;T++)x[T]=w[T];return x}o.applyFromCharCode=b;var y={};y.string={string:m,array:function(w){return v(w,new Array(w.length))},arraybuffer:function(w){return y.string.uint8array(w).buffer},uint8array:function(w){return v(w,new Uint8Array(w.length))},nodebuffer:function(w){return v(w,d.allocBuffer(w.length))}},y.array={string:b,array:m,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return d.newBufferFrom(w)}},y.arraybuffer={string:function(w){return b(new Uint8Array(w))},array:function(w){return S(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:m,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return d.newBufferFrom(new Uint8Array(w))}},y.uint8array={string:b,array:function(w){return S(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:m,nodebuffer:function(w){return d.newBufferFrom(w)}},y.nodebuffer={string:b,array:function(w){return S(w,new Array(w.length))},arraybuffer:function(w){return y.nodebuffer.uint8array(w).buffer},uint8array:function(w){return S(w,new Uint8Array(w.length))},nodebuffer:m},o.transformTo=function(w,x){if(x=x||"",!w)return x;o.checkSupport(w);var T=o.getTypeOf(x);return y[T][w](x)},o.resolve=function(w){for(var x=w.split("/"),T=[],D=0;D<x.length;D++){var P=x[D];P==="."||P===""&&D!==0&&D!==x.length-1||(P===".."?T.pop():T.push(P))}return T.join("/")},o.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":u.nodebuffer&&d.isBuffer(w)?"nodebuffer":u.uint8array&&w instanceof Uint8Array?"uint8array":u.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(w){if(!u[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(w){var x,T,D="";for(T=0;T<(w||"").length;T++)D+="\\x"+((x=w.charCodeAt(T))<16?"0":"")+x.toString(16).toUpperCase();return D},o.delay=function(w,x,T){setImmediate(function(){w.apply(T||null,x||[])})},o.inherits=function(w,x){function T(){}T.prototype=x.prototype,w.prototype=new T},o.extend=function(){var w,x,T={};for(w=0;w<arguments.length;w++)for(x in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],x)&&T[x]===void 0&&(T[x]=arguments[w][x]);return T},o.prepareContent=function(w,x,T,D,P){return h.Promise.resolve(x).then(function(A){return u.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new h.Promise(function(O,F){var q=new FileReader;q.onload=function(R){O(R.target.result)},q.onerror=function(R){F(R.target.error)},q.readAsArrayBuffer(A)}):A}).then(function(A){var O=o.getTypeOf(A);return O?(O==="arraybuffer"?A=o.transformTo("uint8array",A):O==="string"&&(P?A=c.decode(A):T&&D!==!0&&(A=function(F){return v(F,u.uint8array?new Uint8Array(F.length):new Array(F.length))}(A))),A):h.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(i,r,o){var u=i("./reader/readerFor"),c=i("./utils"),d=i("./signature"),h=i("./zipEntry"),m=i("./support");function v(p){this.files=[],this.loadOptions=p}v.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(b)+", expected "+c.pretty(p)+")")}},isSignature:function(p,b){var S=this.reader.index;this.reader.setIndex(p);var y=this.reader.readString(4)===b;return this.reader.setIndex(S),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),b=m.uint8array?"uint8array":"array",S=c.transformTo(b,p);this.zipComment=this.loadOptions.decodeFileName(S)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,b,S,y=this.zip64EndOfCentralSize-44;0<y;)p=this.reader.readInt(2),b=this.reader.readInt(4),S=this.reader.readData(b),this.zip64ExtensibleData[p]={id:p,length:b,value:S}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,b;for(p=0;p<this.files.length;p++)b=this.files[p],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(p=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var b=p;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var S=this.centralDirOffset+this.centralDirSize;this.zip64&&(S+=20,S+=12+this.zip64EndOfCentralSize);var y=b-S;if(0<y)this.isSignature(b,d.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(p){this.reader=u(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(i,r,o){var u=i("./reader/readerFor"),c=i("./utils"),d=i("./compressedObject"),h=i("./crc32"),m=i("./utf8"),v=i("./compressions"),p=i("./support");function b(S,y){this.options=S,this.loadOptions=y}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(S){var y,w;if(S.skip(22),this.fileNameLength=S.readInt(2),w=S.readInt(2),this.fileName=S.readData(this.fileNameLength),S.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(x){for(var T in v)if(Object.prototype.hasOwnProperty.call(v,T)&&v[T].magic===x)return v[T];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,y,S.readData(this.compressedSize))},readCentralPart:function(S){this.versionMadeBy=S.readInt(2),S.skip(2),this.bitFlag=S.readInt(2),this.compressionMethod=S.readString(2),this.date=S.readDate(),this.crc32=S.readInt(4),this.compressedSize=S.readInt(4),this.uncompressedSize=S.readInt(4);var y=S.readInt(2);if(this.extraFieldsLength=S.readInt(2),this.fileCommentLength=S.readInt(2),this.diskNumberStart=S.readInt(2),this.internalFileAttributes=S.readInt(2),this.externalFileAttributes=S.readInt(4),this.localHeaderOffset=S.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");S.skip(y),this.readExtraFields(S),this.parseZIP64ExtraField(S),this.fileComment=S.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var S=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),S==0&&(this.dosPermissions=63&this.externalFileAttributes),S==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var S=u(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=S.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=S.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=S.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=S.readInt(4))}},readExtraFields:function(S){var y,w,x,T=S.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});S.index+4<T;)y=S.readInt(2),w=S.readInt(2),x=S.readData(w),this.extraFields[y]={id:y,length:w,value:x};S.setIndex(T)},handleUTF8:function(){var S=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var w=c.transformTo(S,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var T=c.transformTo(S,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(T)}}},findExtraFieldUnicodePath:function(){var S=this.extraFields[28789];if(S){var y=u(S.value);return y.readInt(1)!==1||h(this.fileName)!==y.readInt(4)?null:m.utf8decode(y.readData(S.length-5))}return null},findExtraFieldUnicodeComment:function(){var S=this.extraFields[25461];if(S){var y=u(S.value);return y.readInt(1)!==1||h(this.fileComment)!==y.readInt(4)?null:m.utf8decode(y.readData(S.length-5))}return null}},r.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,r,o){function u(y,w,x){this.name=y,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=w,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var c=i("./stream/StreamHelper"),d=i("./stream/DataWorker"),h=i("./utf8"),m=i("./compressedObject"),v=i("./stream/GenericWorker");u.prototype={internalStream:function(y){var w=null,x="string";try{if(!y)throw new Error("No output type specified.");var T=(x=y.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),w=this._decompressWorker();var D=!this._dataBinary;D&&!T&&(w=w.pipe(new h.Utf8EncodeWorker)),!D&&T&&(w=w.pipe(new h.Utf8DecodeWorker))}catch(P){(w=new v("error")).error(P)}return new c(w,x,"")},async:function(y,w){return this.internalStream(y).accumulate(w)},nodeStream:function(y,w){return this.internalStream(y||"nodebuffer").toNodejsStream(w)},_compressWorker:function(y,w){if(this._data instanceof m&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new h.Utf8EncodeWorker)),m.createWorkerFrom(x,y,w)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof v?this._data:new d(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},S=0;S<p.length;S++)u.prototype[p[S]]=b;r.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,r,o){(function(u){var c,d,h=u.MutationObserver||u.WebKitMutationObserver;if(h){var m=0,v=new h(y),p=u.document.createTextNode("");v.observe(p,{characterData:!0}),c=function(){p.data=m=++m%2}}else if(u.setImmediate||u.MessageChannel===void 0)c="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var w=u.document.createElement("script");w.onreadystatechange=function(){y(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},u.document.documentElement.appendChild(w)}:function(){setTimeout(y,0)};else{var b=new u.MessageChannel;b.port1.onmessage=y,c=function(){b.port2.postMessage(0)}}var S=[];function y(){var w,x;d=!0;for(var T=S.length;T;){for(x=S,S=[],w=-1;++w<T;)x[w]();T=S.length}d=!1}r.exports=function(w){S.push(w)!==1||d||c()}}).call(this,typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(i,r,o){var u=i("immediate");function c(){}var d={},h=["REJECTED"],m=["FULFILLED"],v=["PENDING"];function p(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,T!==c&&w(this,T)}function b(T,D,P){this.promise=T,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function S(T,D,P){u(function(){var A;try{A=D(P)}catch(O){return d.reject(T,O)}A===T?d.reject(T,new TypeError("Cannot resolve promise with itself")):d.resolve(T,A)})}function y(T){var D=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof D=="function")return function(){D.apply(T,arguments)}}function w(T,D){var P=!1;function A(q){P||(P=!0,d.reject(T,q))}function O(q){P||(P=!0,d.resolve(T,q))}var F=x(function(){D(O,A)});F.status==="error"&&A(F.value)}function x(T,D){var P={};try{P.value=T(D),P.status="success"}catch(A){P.status="error",P.value=A}return P}(r.exports=p).prototype.finally=function(T){if(typeof T!="function")return this;var D=this.constructor;return this.then(function(P){return D.resolve(T()).then(function(){return P})},function(P){return D.resolve(T()).then(function(){throw P})})},p.prototype.catch=function(T){return this.then(null,T)},p.prototype.then=function(T,D){if(typeof T!="function"&&this.state===m||typeof D!="function"&&this.state===h)return this;var P=new this.constructor(c);return this.state!==v?S(P,this.state===m?T:D,this.outcome):this.queue.push(new b(P,T,D)),P},b.prototype.callFulfilled=function(T){d.resolve(this.promise,T)},b.prototype.otherCallFulfilled=function(T){S(this.promise,this.onFulfilled,T)},b.prototype.callRejected=function(T){d.reject(this.promise,T)},b.prototype.otherCallRejected=function(T){S(this.promise,this.onRejected,T)},d.resolve=function(T,D){var P=x(y,D);if(P.status==="error")return d.reject(T,P.value);var A=P.value;if(A)w(T,A);else{T.state=m,T.outcome=D;for(var O=-1,F=T.queue.length;++O<F;)T.queue[O].callFulfilled(D)}return T},d.reject=function(T,D){T.state=h,T.outcome=D;for(var P=-1,A=T.queue.length;++P<A;)T.queue[P].callRejected(D);return T},p.resolve=function(T){return T instanceof this?T:d.resolve(new this(c),T)},p.reject=function(T){var D=new this(c);return d.reject(D,T)},p.all=function(T){var D=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=T.length,A=!1;if(!P)return this.resolve([]);for(var O=new Array(P),F=0,q=-1,R=new this(c);++q<P;)E(T[q],q);return R;function E(N,G){D.resolve(N).then(function(M){O[G]=M,++F!==P||A||(A=!0,d.resolve(R,O))},function(M){A||(A=!0,d.reject(R,M))})}},p.race=function(T){var D=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=T.length,A=!1;if(!P)return this.resolve([]);for(var O=-1,F=new this(c);++O<P;)q=T[O],D.resolve(q).then(function(R){A||(A=!0,d.resolve(F,R))},function(R){A||(A=!0,d.reject(F,R))});var q;return F}},{immediate:36}],38:[function(i,r,o){var u={};(0,i("./lib/utils/common").assign)(u,i("./lib/deflate"),i("./lib/inflate"),i("./lib/zlib/constants")),r.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,r,o){var u=i("./zlib/deflate"),c=i("./utils/common"),d=i("./utils/strings"),h=i("./zlib/messages"),m=i("./zlib/zstream"),v=Object.prototype.toString,p=0,b=-1,S=0,y=8;function w(T){if(!(this instanceof w))return new w(T);this.options=c.assign({level:b,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:S,to:""},T||{});var D=this.options;D.raw&&0<D.windowBits?D.windowBits=-D.windowBits:D.gzip&&0<D.windowBits&&D.windowBits<16&&(D.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var P=u.deflateInit2(this.strm,D.level,D.method,D.windowBits,D.memLevel,D.strategy);if(P!==p)throw new Error(h[P]);if(D.header&&u.deflateSetHeader(this.strm,D.header),D.dictionary){var A;if(A=typeof D.dictionary=="string"?d.string2buf(D.dictionary):v.call(D.dictionary)==="[object ArrayBuffer]"?new Uint8Array(D.dictionary):D.dictionary,(P=u.deflateSetDictionary(this.strm,A))!==p)throw new Error(h[P]);this._dict_set=!0}}function x(T,D){var P=new w(D);if(P.push(T,!0),P.err)throw P.msg||h[P.err];return P.result}w.prototype.push=function(T,D){var P,A,O=this.strm,F=this.options.chunkSize;if(this.ended)return!1;A=D===~~D?D:D===!0?4:0,typeof T=="string"?O.input=d.string2buf(T):v.call(T)==="[object ArrayBuffer]"?O.input=new Uint8Array(T):O.input=T,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new c.Buf8(F),O.next_out=0,O.avail_out=F),(P=u.deflate(O,A))!==1&&P!==p)return this.onEnd(P),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(c.shrinkBuf(O.output,O.next_out))):this.onData(c.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&P!==1);return A===4?(P=u.deflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===p):A!==2||(this.onEnd(p),!(O.avail_out=0))},w.prototype.onData=function(T){this.chunks.push(T)},w.prototype.onEnd=function(T){T===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},o.Deflate=w,o.deflate=x,o.deflateRaw=function(T,D){return(D=D||{}).raw=!0,x(T,D)},o.gzip=function(T,D){return(D=D||{}).gzip=!0,x(T,D)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,r,o){var u=i("./zlib/inflate"),c=i("./utils/common"),d=i("./utils/strings"),h=i("./zlib/constants"),m=i("./zlib/messages"),v=i("./zlib/zstream"),p=i("./zlib/gzheader"),b=Object.prototype.toString;function S(w){if(!(this instanceof S))return new S(w);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},w||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||w&&w.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&(15&x.windowBits)==0&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var T=u.inflateInit2(this.strm,x.windowBits);if(T!==h.Z_OK)throw new Error(m[T]);this.header=new p,u.inflateGetHeader(this.strm,this.header)}function y(w,x){var T=new S(x);if(T.push(w,!0),T.err)throw T.msg||m[T.err];return T.result}S.prototype.push=function(w,x){var T,D,P,A,O,F,q=this.strm,R=this.options.chunkSize,E=this.options.dictionary,N=!1;if(this.ended)return!1;D=x===~~x?x:x===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof w=="string"?q.input=d.binstring2buf(w):b.call(w)==="[object ArrayBuffer]"?q.input=new Uint8Array(w):q.input=w,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new c.Buf8(R),q.next_out=0,q.avail_out=R),(T=u.inflate(q,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&E&&(F=typeof E=="string"?d.string2buf(E):b.call(E)==="[object ArrayBuffer]"?new Uint8Array(E):E,T=u.inflateSetDictionary(this.strm,F)),T===h.Z_BUF_ERROR&&N===!0&&(T=h.Z_OK,N=!1),T!==h.Z_STREAM_END&&T!==h.Z_OK)return this.onEnd(T),!(this.ended=!0);q.next_out&&(q.avail_out!==0&&T!==h.Z_STREAM_END&&(q.avail_in!==0||D!==h.Z_FINISH&&D!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=d.utf8border(q.output,q.next_out),A=q.next_out-P,O=d.buf2string(q.output,P),q.next_out=A,q.avail_out=R-A,A&&c.arraySet(q.output,q.output,P,A,0),this.onData(O)):this.onData(c.shrinkBuf(q.output,q.next_out)))),q.avail_in===0&&q.avail_out===0&&(N=!0)}while((0<q.avail_in||q.avail_out===0)&&T!==h.Z_STREAM_END);return T===h.Z_STREAM_END&&(D=h.Z_FINISH),D===h.Z_FINISH?(T=u.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===h.Z_OK):D!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(q.avail_out=0))},S.prototype.onData=function(w){this.chunks.push(w)},S.prototype.onEnd=function(w){w===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},o.Inflate=S,o.inflate=y,o.inflateRaw=function(w,x){return(x=x||{}).raw=!0,y(w,x)},o.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,r,o){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(h){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var v=m.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var p in v)v.hasOwnProperty(p)&&(h[p]=v[p])}}return h},o.shrinkBuf=function(h,m){return h.length===m?h:h.subarray?h.subarray(0,m):(h.length=m,h)};var c={arraySet:function(h,m,v,p,b){if(m.subarray&&h.subarray)h.set(m.subarray(v,v+p),b);else for(var S=0;S<p;S++)h[b+S]=m[v+S]},flattenChunks:function(h){var m,v,p,b,S,y;for(m=p=0,v=h.length;m<v;m++)p+=h[m].length;for(y=new Uint8Array(p),m=b=0,v=h.length;m<v;m++)S=h[m],y.set(S,b),b+=S.length;return y}},d={arraySet:function(h,m,v,p,b){for(var S=0;S<p;S++)h[b+S]=m[v+S]},flattenChunks:function(h){return[].concat.apply([],h)}};o.setTyped=function(h){h?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,c)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,d))},o.setTyped(u)},{}],42:[function(i,r,o){var u=i("./common"),c=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var h=new u.Buf8(256),m=0;m<256;m++)h[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function v(p,b){if(b<65537&&(p.subarray&&d||!p.subarray&&c))return String.fromCharCode.apply(null,u.shrinkBuf(p,b));for(var S="",y=0;y<b;y++)S+=String.fromCharCode(p[y]);return S}h[254]=h[254]=1,o.string2buf=function(p){var b,S,y,w,x,T=p.length,D=0;for(w=0;w<T;w++)(64512&(S=p.charCodeAt(w)))==55296&&w+1<T&&(64512&(y=p.charCodeAt(w+1)))==56320&&(S=65536+(S-55296<<10)+(y-56320),w++),D+=S<128?1:S<2048?2:S<65536?3:4;for(b=new u.Buf8(D),w=x=0;x<D;w++)(64512&(S=p.charCodeAt(w)))==55296&&w+1<T&&(64512&(y=p.charCodeAt(w+1)))==56320&&(S=65536+(S-55296<<10)+(y-56320),w++),S<128?b[x++]=S:(S<2048?b[x++]=192|S>>>6:(S<65536?b[x++]=224|S>>>12:(b[x++]=240|S>>>18,b[x++]=128|S>>>12&63),b[x++]=128|S>>>6&63),b[x++]=128|63&S);return b},o.buf2binstring=function(p){return v(p,p.length)},o.binstring2buf=function(p){for(var b=new u.Buf8(p.length),S=0,y=b.length;S<y;S++)b[S]=p.charCodeAt(S);return b},o.buf2string=function(p,b){var S,y,w,x,T=b||p.length,D=new Array(2*T);for(S=y=0;S<T;)if((w=p[S++])<128)D[y++]=w;else if(4<(x=h[w]))D[y++]=65533,S+=x-1;else{for(w&=x===2?31:x===3?15:7;1<x&&S<T;)w=w<<6|63&p[S++],x--;1<x?D[y++]=65533:w<65536?D[y++]=w:(w-=65536,D[y++]=55296|w>>10&1023,D[y++]=56320|1023&w)}return v(D,y)},o.utf8border=function(p,b){var S;for((b=b||p.length)>p.length&&(b=p.length),S=b-1;0<=S&&(192&p[S])==128;)S--;return S<0||S===0?b:S+h[p[S]]>b?S:b}},{"./common":41}],43:[function(i,r,o){r.exports=function(u,c,d,h){for(var m=65535&u|0,v=u>>>16&65535|0,p=0;d!==0;){for(d-=p=2e3<d?2e3:d;v=v+(m=m+c[h++]|0)|0,--p;);m%=65521,v%=65521}return m|v<<16|0}},{}],44:[function(i,r,o){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,r,o){var u=function(){for(var c,d=[],h=0;h<256;h++){c=h;for(var m=0;m<8;m++)c=1&c?3988292384^c>>>1:c>>>1;d[h]=c}return d}();r.exports=function(c,d,h,m){var v=u,p=m+h;c^=-1;for(var b=m;b<p;b++)c=c>>>8^v[255&(c^d[b])];return-1^c}},{}],46:[function(i,r,o){var u,c=i("../utils/common"),d=i("./trees"),h=i("./adler32"),m=i("./crc32"),v=i("./messages"),p=0,b=4,S=0,y=-2,w=-1,x=4,T=2,D=8,P=9,A=286,O=30,F=19,q=2*A+1,R=15,E=3,N=258,G=N+E+1,M=42,_=113,I=1,B=2,H=3,Y=4;function K(U,fe){return U.msg=v[fe],fe}function ce(U){return(U<<1)-(4<U?9:0)}function re(U){for(var fe=U.length;0<=--fe;)U[fe]=0}function $(U){var fe=U.state,ge=fe.pending;ge>U.avail_out&&(ge=U.avail_out),ge!==0&&(c.arraySet(U.output,fe.pending_buf,fe.pending_out,ge,U.next_out),U.next_out+=ge,fe.pending_out+=ge,U.total_out+=ge,U.avail_out-=ge,fe.pending-=ge,fe.pending===0&&(fe.pending_out=0))}function j(U,fe){d._tr_flush_block(U,0<=U.block_start?U.block_start:-1,U.strstart-U.block_start,fe),U.block_start=U.strstart,$(U.strm)}function de(U,fe){U.pending_buf[U.pending++]=fe}function ve(U,fe){U.pending_buf[U.pending++]=fe>>>8&255,U.pending_buf[U.pending++]=255&fe}function ye(U,fe){var ge,ne,ae=U.max_chain_length,he=U.strstart,xe=U.prev_length,we=U.nice_match,Se=U.strstart>U.w_size-G?U.strstart-(U.w_size-G):0,_e=U.window,Ve=U.w_mask,Me=U.prev,He=U.strstart+N,lt=_e[he+xe-1],it=_e[he+xe];U.prev_length>=U.good_match&&(ae>>=2),we>U.lookahead&&(we=U.lookahead);do if(_e[(ge=fe)+xe]===it&&_e[ge+xe-1]===lt&&_e[ge]===_e[he]&&_e[++ge]===_e[he+1]){he+=2,ge++;do;while(_e[++he]===_e[++ge]&&_e[++he]===_e[++ge]&&_e[++he]===_e[++ge]&&_e[++he]===_e[++ge]&&_e[++he]===_e[++ge]&&_e[++he]===_e[++ge]&&_e[++he]===_e[++ge]&&_e[++he]===_e[++ge]&&he<He);if(ne=N-(He-he),he=He-N,xe<ne){if(U.match_start=fe,we<=(xe=ne))break;lt=_e[he+xe-1],it=_e[he+xe]}}while((fe=Me[fe&Ve])>Se&&--ae!=0);return xe<=U.lookahead?xe:U.lookahead}function Pe(U){var fe,ge,ne,ae,he,xe,we,Se,_e,Ve,Me=U.w_size;do{if(ae=U.window_size-U.lookahead-U.strstart,U.strstart>=Me+(Me-G)){for(c.arraySet(U.window,U.window,Me,Me,0),U.match_start-=Me,U.strstart-=Me,U.block_start-=Me,fe=ge=U.hash_size;ne=U.head[--fe],U.head[fe]=Me<=ne?ne-Me:0,--ge;);for(fe=ge=Me;ne=U.prev[--fe],U.prev[fe]=Me<=ne?ne-Me:0,--ge;);ae+=Me}if(U.strm.avail_in===0)break;if(xe=U.strm,we=U.window,Se=U.strstart+U.lookahead,_e=ae,Ve=void 0,Ve=xe.avail_in,_e<Ve&&(Ve=_e),ge=Ve===0?0:(xe.avail_in-=Ve,c.arraySet(we,xe.input,xe.next_in,Ve,Se),xe.state.wrap===1?xe.adler=h(xe.adler,we,Ve,Se):xe.state.wrap===2&&(xe.adler=m(xe.adler,we,Ve,Se)),xe.next_in+=Ve,xe.total_in+=Ve,Ve),U.lookahead+=ge,U.lookahead+U.insert>=E)for(he=U.strstart-U.insert,U.ins_h=U.window[he],U.ins_h=(U.ins_h<<U.hash_shift^U.window[he+1])&U.hash_mask;U.insert&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[he+E-1])&U.hash_mask,U.prev[he&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=he,he++,U.insert--,!(U.lookahead+U.insert<E)););}while(U.lookahead<G&&U.strm.avail_in!==0)}function le(U,fe){for(var ge,ne;;){if(U.lookahead<G){if(Pe(U),U.lookahead<G&&fe===p)return I;if(U.lookahead===0)break}if(ge=0,U.lookahead>=E&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+E-1])&U.hash_mask,ge=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),ge!==0&&U.strstart-ge<=U.w_size-G&&(U.match_length=ye(U,ge)),U.match_length>=E)if(ne=d._tr_tally(U,U.strstart-U.match_start,U.match_length-E),U.lookahead-=U.match_length,U.match_length<=U.max_lazy_match&&U.lookahead>=E){for(U.match_length--;U.strstart++,U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+E-1])&U.hash_mask,ge=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart,--U.match_length!=0;);U.strstart++}else U.strstart+=U.match_length,U.match_length=0,U.ins_h=U.window[U.strstart],U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+1])&U.hash_mask;else ne=d._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++;if(ne&&(j(U,!1),U.strm.avail_out===0))return I}return U.insert=U.strstart<E-1?U.strstart:E-1,fe===b?(j(U,!0),U.strm.avail_out===0?H:Y):U.last_lit&&(j(U,!1),U.strm.avail_out===0)?I:B}function pe(U,fe){for(var ge,ne,ae;;){if(U.lookahead<G){if(Pe(U),U.lookahead<G&&fe===p)return I;if(U.lookahead===0)break}if(ge=0,U.lookahead>=E&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+E-1])&U.hash_mask,ge=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),U.prev_length=U.match_length,U.prev_match=U.match_start,U.match_length=E-1,ge!==0&&U.prev_length<U.max_lazy_match&&U.strstart-ge<=U.w_size-G&&(U.match_length=ye(U,ge),U.match_length<=5&&(U.strategy===1||U.match_length===E&&4096<U.strstart-U.match_start)&&(U.match_length=E-1)),U.prev_length>=E&&U.match_length<=U.prev_length){for(ae=U.strstart+U.lookahead-E,ne=d._tr_tally(U,U.strstart-1-U.prev_match,U.prev_length-E),U.lookahead-=U.prev_length-1,U.prev_length-=2;++U.strstart<=ae&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+E-1])&U.hash_mask,ge=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),--U.prev_length!=0;);if(U.match_available=0,U.match_length=E-1,U.strstart++,ne&&(j(U,!1),U.strm.avail_out===0))return I}else if(U.match_available){if((ne=d._tr_tally(U,0,U.window[U.strstart-1]))&&j(U,!1),U.strstart++,U.lookahead--,U.strm.avail_out===0)return I}else U.match_available=1,U.strstart++,U.lookahead--}return U.match_available&&(ne=d._tr_tally(U,0,U.window[U.strstart-1]),U.match_available=0),U.insert=U.strstart<E-1?U.strstart:E-1,fe===b?(j(U,!0),U.strm.avail_out===0?H:Y):U.last_lit&&(j(U,!1),U.strm.avail_out===0)?I:B}function Ae(U,fe,ge,ne,ae){this.good_length=U,this.max_lazy=fe,this.nice_length=ge,this.max_chain=ne,this.func=ae}function Ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=D,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*q),this.dyn_dtree=new c.Buf16(2*(2*O+1)),this.bl_tree=new c.Buf16(2*(2*F+1)),re(this.dyn_ltree),re(this.dyn_dtree),re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(R+1),this.heap=new c.Buf16(2*A+1),re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*A+1),re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Le(U){var fe;return U&&U.state?(U.total_in=U.total_out=0,U.data_type=T,(fe=U.state).pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?M:_,U.adler=fe.wrap===2?0:1,fe.last_flush=p,d._tr_init(fe),S):K(U,y)}function J(U){var fe=Le(U);return fe===S&&function(ge){ge.window_size=2*ge.w_size,re(ge.head),ge.max_lazy_match=u[ge.level].max_lazy,ge.good_match=u[ge.level].good_length,ge.nice_match=u[ge.level].nice_length,ge.max_chain_length=u[ge.level].max_chain,ge.strstart=0,ge.block_start=0,ge.lookahead=0,ge.insert=0,ge.match_length=ge.prev_length=E-1,ge.match_available=0,ge.ins_h=0}(U.state),fe}function ue(U,fe,ge,ne,ae,he){if(!U)return y;var xe=1;if(fe===w&&(fe=6),ne<0?(xe=0,ne=-ne):15<ne&&(xe=2,ne-=16),ae<1||P<ae||ge!==D||ne<8||15<ne||fe<0||9<fe||he<0||x<he)return K(U,y);ne===8&&(ne=9);var we=new Ce;return(U.state=we).strm=U,we.wrap=xe,we.gzhead=null,we.w_bits=ne,we.w_size=1<<we.w_bits,we.w_mask=we.w_size-1,we.hash_bits=ae+7,we.hash_size=1<<we.hash_bits,we.hash_mask=we.hash_size-1,we.hash_shift=~~((we.hash_bits+E-1)/E),we.window=new c.Buf8(2*we.w_size),we.head=new c.Buf16(we.hash_size),we.prev=new c.Buf16(we.w_size),we.lit_bufsize=1<<ae+6,we.pending_buf_size=4*we.lit_bufsize,we.pending_buf=new c.Buf8(we.pending_buf_size),we.d_buf=1*we.lit_bufsize,we.l_buf=3*we.lit_bufsize,we.level=fe,we.strategy=he,we.method=ge,J(U)}u=[new Ae(0,0,0,0,function(U,fe){var ge=65535;for(ge>U.pending_buf_size-5&&(ge=U.pending_buf_size-5);;){if(U.lookahead<=1){if(Pe(U),U.lookahead===0&&fe===p)return I;if(U.lookahead===0)break}U.strstart+=U.lookahead,U.lookahead=0;var ne=U.block_start+ge;if((U.strstart===0||U.strstart>=ne)&&(U.lookahead=U.strstart-ne,U.strstart=ne,j(U,!1),U.strm.avail_out===0)||U.strstart-U.block_start>=U.w_size-G&&(j(U,!1),U.strm.avail_out===0))return I}return U.insert=0,fe===b?(j(U,!0),U.strm.avail_out===0?H:Y):(U.strstart>U.block_start&&(j(U,!1),U.strm.avail_out),I)}),new Ae(4,4,8,4,le),new Ae(4,5,16,8,le),new Ae(4,6,32,32,le),new Ae(4,4,16,16,pe),new Ae(8,16,32,32,pe),new Ae(8,16,128,128,pe),new Ae(8,32,128,256,pe),new Ae(32,128,258,1024,pe),new Ae(32,258,258,4096,pe)],o.deflateInit=function(U,fe){return ue(U,fe,D,15,8,0)},o.deflateInit2=ue,o.deflateReset=J,o.deflateResetKeep=Le,o.deflateSetHeader=function(U,fe){return U&&U.state?U.state.wrap!==2?y:(U.state.gzhead=fe,S):y},o.deflate=function(U,fe){var ge,ne,ae,he;if(!U||!U.state||5<fe||fe<0)return U?K(U,y):y;if(ne=U.state,!U.output||!U.input&&U.avail_in!==0||ne.status===666&&fe!==b)return K(U,U.avail_out===0?-5:y);if(ne.strm=U,ge=ne.last_flush,ne.last_flush=fe,ne.status===M)if(ne.wrap===2)U.adler=0,de(ne,31),de(ne,139),de(ne,8),ne.gzhead?(de(ne,(ne.gzhead.text?1:0)+(ne.gzhead.hcrc?2:0)+(ne.gzhead.extra?4:0)+(ne.gzhead.name?8:0)+(ne.gzhead.comment?16:0)),de(ne,255&ne.gzhead.time),de(ne,ne.gzhead.time>>8&255),de(ne,ne.gzhead.time>>16&255),de(ne,ne.gzhead.time>>24&255),de(ne,ne.level===9?2:2<=ne.strategy||ne.level<2?4:0),de(ne,255&ne.gzhead.os),ne.gzhead.extra&&ne.gzhead.extra.length&&(de(ne,255&ne.gzhead.extra.length),de(ne,ne.gzhead.extra.length>>8&255)),ne.gzhead.hcrc&&(U.adler=m(U.adler,ne.pending_buf,ne.pending,0)),ne.gzindex=0,ne.status=69):(de(ne,0),de(ne,0),de(ne,0),de(ne,0),de(ne,0),de(ne,ne.level===9?2:2<=ne.strategy||ne.level<2?4:0),de(ne,3),ne.status=_);else{var xe=D+(ne.w_bits-8<<4)<<8;xe|=(2<=ne.strategy||ne.level<2?0:ne.level<6?1:ne.level===6?2:3)<<6,ne.strstart!==0&&(xe|=32),xe+=31-xe%31,ne.status=_,ve(ne,xe),ne.strstart!==0&&(ve(ne,U.adler>>>16),ve(ne,65535&U.adler)),U.adler=1}if(ne.status===69)if(ne.gzhead.extra){for(ae=ne.pending;ne.gzindex<(65535&ne.gzhead.extra.length)&&(ne.pending!==ne.pending_buf_size||(ne.gzhead.hcrc&&ne.pending>ae&&(U.adler=m(U.adler,ne.pending_buf,ne.pending-ae,ae)),$(U),ae=ne.pending,ne.pending!==ne.pending_buf_size));)de(ne,255&ne.gzhead.extra[ne.gzindex]),ne.gzindex++;ne.gzhead.hcrc&&ne.pending>ae&&(U.adler=m(U.adler,ne.pending_buf,ne.pending-ae,ae)),ne.gzindex===ne.gzhead.extra.length&&(ne.gzindex=0,ne.status=73)}else ne.status=73;if(ne.status===73)if(ne.gzhead.name){ae=ne.pending;do{if(ne.pending===ne.pending_buf_size&&(ne.gzhead.hcrc&&ne.pending>ae&&(U.adler=m(U.adler,ne.pending_buf,ne.pending-ae,ae)),$(U),ae=ne.pending,ne.pending===ne.pending_buf_size)){he=1;break}he=ne.gzindex<ne.gzhead.name.length?255&ne.gzhead.name.charCodeAt(ne.gzindex++):0,de(ne,he)}while(he!==0);ne.gzhead.hcrc&&ne.pending>ae&&(U.adler=m(U.adler,ne.pending_buf,ne.pending-ae,ae)),he===0&&(ne.gzindex=0,ne.status=91)}else ne.status=91;if(ne.status===91)if(ne.gzhead.comment){ae=ne.pending;do{if(ne.pending===ne.pending_buf_size&&(ne.gzhead.hcrc&&ne.pending>ae&&(U.adler=m(U.adler,ne.pending_buf,ne.pending-ae,ae)),$(U),ae=ne.pending,ne.pending===ne.pending_buf_size)){he=1;break}he=ne.gzindex<ne.gzhead.comment.length?255&ne.gzhead.comment.charCodeAt(ne.gzindex++):0,de(ne,he)}while(he!==0);ne.gzhead.hcrc&&ne.pending>ae&&(U.adler=m(U.adler,ne.pending_buf,ne.pending-ae,ae)),he===0&&(ne.status=103)}else ne.status=103;if(ne.status===103&&(ne.gzhead.hcrc?(ne.pending+2>ne.pending_buf_size&&$(U),ne.pending+2<=ne.pending_buf_size&&(de(ne,255&U.adler),de(ne,U.adler>>8&255),U.adler=0,ne.status=_)):ne.status=_),ne.pending!==0){if($(U),U.avail_out===0)return ne.last_flush=-1,S}else if(U.avail_in===0&&ce(fe)<=ce(ge)&&fe!==b)return K(U,-5);if(ne.status===666&&U.avail_in!==0)return K(U,-5);if(U.avail_in!==0||ne.lookahead!==0||fe!==p&&ne.status!==666){var we=ne.strategy===2?function(Se,_e){for(var Ve;;){if(Se.lookahead===0&&(Pe(Se),Se.lookahead===0)){if(_e===p)return I;break}if(Se.match_length=0,Ve=d._tr_tally(Se,0,Se.window[Se.strstart]),Se.lookahead--,Se.strstart++,Ve&&(j(Se,!1),Se.strm.avail_out===0))return I}return Se.insert=0,_e===b?(j(Se,!0),Se.strm.avail_out===0?H:Y):Se.last_lit&&(j(Se,!1),Se.strm.avail_out===0)?I:B}(ne,fe):ne.strategy===3?function(Se,_e){for(var Ve,Me,He,lt,it=Se.window;;){if(Se.lookahead<=N){if(Pe(Se),Se.lookahead<=N&&_e===p)return I;if(Se.lookahead===0)break}if(Se.match_length=0,Se.lookahead>=E&&0<Se.strstart&&(Me=it[He=Se.strstart-1])===it[++He]&&Me===it[++He]&&Me===it[++He]){lt=Se.strstart+N;do;while(Me===it[++He]&&Me===it[++He]&&Me===it[++He]&&Me===it[++He]&&Me===it[++He]&&Me===it[++He]&&Me===it[++He]&&Me===it[++He]&&He<lt);Se.match_length=N-(lt-He),Se.match_length>Se.lookahead&&(Se.match_length=Se.lookahead)}if(Se.match_length>=E?(Ve=d._tr_tally(Se,1,Se.match_length-E),Se.lookahead-=Se.match_length,Se.strstart+=Se.match_length,Se.match_length=0):(Ve=d._tr_tally(Se,0,Se.window[Se.strstart]),Se.lookahead--,Se.strstart++),Ve&&(j(Se,!1),Se.strm.avail_out===0))return I}return Se.insert=0,_e===b?(j(Se,!0),Se.strm.avail_out===0?H:Y):Se.last_lit&&(j(Se,!1),Se.strm.avail_out===0)?I:B}(ne,fe):u[ne.level].func(ne,fe);if(we!==H&&we!==Y||(ne.status=666),we===I||we===H)return U.avail_out===0&&(ne.last_flush=-1),S;if(we===B&&(fe===1?d._tr_align(ne):fe!==5&&(d._tr_stored_block(ne,0,0,!1),fe===3&&(re(ne.head),ne.lookahead===0&&(ne.strstart=0,ne.block_start=0,ne.insert=0))),$(U),U.avail_out===0))return ne.last_flush=-1,S}return fe!==b?S:ne.wrap<=0?1:(ne.wrap===2?(de(ne,255&U.adler),de(ne,U.adler>>8&255),de(ne,U.adler>>16&255),de(ne,U.adler>>24&255),de(ne,255&U.total_in),de(ne,U.total_in>>8&255),de(ne,U.total_in>>16&255),de(ne,U.total_in>>24&255)):(ve(ne,U.adler>>>16),ve(ne,65535&U.adler)),$(U),0<ne.wrap&&(ne.wrap=-ne.wrap),ne.pending!==0?S:1)},o.deflateEnd=function(U){var fe;return U&&U.state?(fe=U.state.status)!==M&&fe!==69&&fe!==73&&fe!==91&&fe!==103&&fe!==_&&fe!==666?K(U,y):(U.state=null,fe===_?K(U,-3):S):y},o.deflateSetDictionary=function(U,fe){var ge,ne,ae,he,xe,we,Se,_e,Ve=fe.length;if(!U||!U.state||(he=(ge=U.state).wrap)===2||he===1&&ge.status!==M||ge.lookahead)return y;for(he===1&&(U.adler=h(U.adler,fe,Ve,0)),ge.wrap=0,Ve>=ge.w_size&&(he===0&&(re(ge.head),ge.strstart=0,ge.block_start=0,ge.insert=0),_e=new c.Buf8(ge.w_size),c.arraySet(_e,fe,Ve-ge.w_size,ge.w_size,0),fe=_e,Ve=ge.w_size),xe=U.avail_in,we=U.next_in,Se=U.input,U.avail_in=Ve,U.next_in=0,U.input=fe,Pe(ge);ge.lookahead>=E;){for(ne=ge.strstart,ae=ge.lookahead-(E-1);ge.ins_h=(ge.ins_h<<ge.hash_shift^ge.window[ne+E-1])&ge.hash_mask,ge.prev[ne&ge.w_mask]=ge.head[ge.ins_h],ge.head[ge.ins_h]=ne,ne++,--ae;);ge.strstart=ne,ge.lookahead=E-1,Pe(ge)}return ge.strstart+=ge.lookahead,ge.block_start=ge.strstart,ge.insert=ge.lookahead,ge.lookahead=0,ge.match_length=ge.prev_length=E-1,ge.match_available=0,U.next_in=we,U.input=Se,U.avail_in=xe,ge.wrap=he,S},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,r,o){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(i,r,o){r.exports=function(u,c){var d,h,m,v,p,b,S,y,w,x,T,D,P,A,O,F,q,R,E,N,G,M,_,I,B;d=u.state,h=u.next_in,I=u.input,m=h+(u.avail_in-5),v=u.next_out,B=u.output,p=v-(c-u.avail_out),b=v+(u.avail_out-257),S=d.dmax,y=d.wsize,w=d.whave,x=d.wnext,T=d.window,D=d.hold,P=d.bits,A=d.lencode,O=d.distcode,F=(1<<d.lenbits)-1,q=(1<<d.distbits)-1;e:do{P<15&&(D+=I[h++]<<P,P+=8,D+=I[h++]<<P,P+=8),R=A[D&F];t:for(;;){if(D>>>=E=R>>>24,P-=E,(E=R>>>16&255)===0)B[v++]=65535&R;else{if(!(16&E)){if((64&E)==0){R=A[(65535&R)+(D&(1<<E)-1)];continue t}if(32&E){d.mode=12;break e}u.msg="invalid literal/length code",d.mode=30;break e}N=65535&R,(E&=15)&&(P<E&&(D+=I[h++]<<P,P+=8),N+=D&(1<<E)-1,D>>>=E,P-=E),P<15&&(D+=I[h++]<<P,P+=8,D+=I[h++]<<P,P+=8),R=O[D&q];n:for(;;){if(D>>>=E=R>>>24,P-=E,!(16&(E=R>>>16&255))){if((64&E)==0){R=O[(65535&R)+(D&(1<<E)-1)];continue n}u.msg="invalid distance code",d.mode=30;break e}if(G=65535&R,P<(E&=15)&&(D+=I[h++]<<P,(P+=8)<E&&(D+=I[h++]<<P,P+=8)),S<(G+=D&(1<<E)-1)){u.msg="invalid distance too far back",d.mode=30;break e}if(D>>>=E,P-=E,(E=v-p)<G){if(w<(E=G-E)&&d.sane){u.msg="invalid distance too far back",d.mode=30;break e}if(_=T,(M=0)===x){if(M+=y-E,E<N){for(N-=E;B[v++]=T[M++],--E;);M=v-G,_=B}}else if(x<E){if(M+=y+x-E,(E-=x)<N){for(N-=E;B[v++]=T[M++],--E;);if(M=0,x<N){for(N-=E=x;B[v++]=T[M++],--E;);M=v-G,_=B}}}else if(M+=x-E,E<N){for(N-=E;B[v++]=T[M++],--E;);M=v-G,_=B}for(;2<N;)B[v++]=_[M++],B[v++]=_[M++],B[v++]=_[M++],N-=3;N&&(B[v++]=_[M++],1<N&&(B[v++]=_[M++]))}else{for(M=v-G;B[v++]=B[M++],B[v++]=B[M++],B[v++]=B[M++],2<(N-=3););N&&(B[v++]=B[M++],1<N&&(B[v++]=B[M++]))}break}}break}}while(h<m&&v<b);h-=N=P>>3,D&=(1<<(P-=N<<3))-1,u.next_in=h,u.next_out=v,u.avail_in=h<m?m-h+5:5-(h-m),u.avail_out=v<b?b-v+257:257-(v-b),d.hold=D,d.bits=P}},{}],49:[function(i,r,o){var u=i("../utils/common"),c=i("./adler32"),d=i("./crc32"),h=i("./inffast"),m=i("./inftrees"),v=1,p=2,b=0,S=-2,y=1,w=852,x=592;function T(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function D(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(M){var _;return M&&M.state?(_=M.state,M.total_in=M.total_out=_.total=0,M.msg="",_.wrap&&(M.adler=1&_.wrap),_.mode=y,_.last=0,_.havedict=0,_.dmax=32768,_.head=null,_.hold=0,_.bits=0,_.lencode=_.lendyn=new u.Buf32(w),_.distcode=_.distdyn=new u.Buf32(x),_.sane=1,_.back=-1,b):S}function A(M){var _;return M&&M.state?((_=M.state).wsize=0,_.whave=0,_.wnext=0,P(M)):S}function O(M,_){var I,B;return M&&M.state?(B=M.state,_<0?(I=0,_=-_):(I=1+(_>>4),_<48&&(_&=15)),_&&(_<8||15<_)?S:(B.window!==null&&B.wbits!==_&&(B.window=null),B.wrap=I,B.wbits=_,A(M))):S}function F(M,_){var I,B;return M?(B=new D,(M.state=B).window=null,(I=O(M,_))!==b&&(M.state=null),I):S}var q,R,E=!0;function N(M){if(E){var _;for(q=new u.Buf32(512),R=new u.Buf32(32),_=0;_<144;)M.lens[_++]=8;for(;_<256;)M.lens[_++]=9;for(;_<280;)M.lens[_++]=7;for(;_<288;)M.lens[_++]=8;for(m(v,M.lens,0,288,q,0,M.work,{bits:9}),_=0;_<32;)M.lens[_++]=5;m(p,M.lens,0,32,R,0,M.work,{bits:5}),E=!1}M.lencode=q,M.lenbits=9,M.distcode=R,M.distbits=5}function G(M,_,I,B){var H,Y=M.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new u.Buf8(Y.wsize)),B>=Y.wsize?(u.arraySet(Y.window,_,I-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(B<(H=Y.wsize-Y.wnext)&&(H=B),u.arraySet(Y.window,_,I-B,H,Y.wnext),(B-=H)?(u.arraySet(Y.window,_,I-B,B,0),Y.wnext=B,Y.whave=Y.wsize):(Y.wnext+=H,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=H))),0}o.inflateReset=A,o.inflateReset2=O,o.inflateResetKeep=P,o.inflateInit=function(M){return F(M,15)},o.inflateInit2=F,o.inflate=function(M,_){var I,B,H,Y,K,ce,re,$,j,de,ve,ye,Pe,le,pe,Ae,Ce,Le,J,ue,U,fe,ge,ne,ae=0,he=new u.Buf8(4),xe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return S;(I=M.state).mode===12&&(I.mode=13),K=M.next_out,H=M.output,re=M.avail_out,Y=M.next_in,B=M.input,ce=M.avail_in,$=I.hold,j=I.bits,de=ce,ve=re,fe=b;e:for(;;)switch(I.mode){case y:if(I.wrap===0){I.mode=13;break}for(;j<16;){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}if(2&I.wrap&&$===35615){he[I.check=0]=255&$,he[1]=$>>>8&255,I.check=d(I.check,he,2,0),j=$=0,I.mode=2;break}if(I.flags=0,I.head&&(I.head.done=!1),!(1&I.wrap)||(((255&$)<<8)+($>>8))%31){M.msg="incorrect header check",I.mode=30;break}if((15&$)!=8){M.msg="unknown compression method",I.mode=30;break}if(j-=4,U=8+(15&($>>>=4)),I.wbits===0)I.wbits=U;else if(U>I.wbits){M.msg="invalid window size",I.mode=30;break}I.dmax=1<<U,M.adler=I.check=1,I.mode=512&$?10:12,j=$=0;break;case 2:for(;j<16;){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}if(I.flags=$,(255&I.flags)!=8){M.msg="unknown compression method",I.mode=30;break}if(57344&I.flags){M.msg="unknown header flags set",I.mode=30;break}I.head&&(I.head.text=$>>8&1),512&I.flags&&(he[0]=255&$,he[1]=$>>>8&255,I.check=d(I.check,he,2,0)),j=$=0,I.mode=3;case 3:for(;j<32;){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}I.head&&(I.head.time=$),512&I.flags&&(he[0]=255&$,he[1]=$>>>8&255,he[2]=$>>>16&255,he[3]=$>>>24&255,I.check=d(I.check,he,4,0)),j=$=0,I.mode=4;case 4:for(;j<16;){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}I.head&&(I.head.xflags=255&$,I.head.os=$>>8),512&I.flags&&(he[0]=255&$,he[1]=$>>>8&255,I.check=d(I.check,he,2,0)),j=$=0,I.mode=5;case 5:if(1024&I.flags){for(;j<16;){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}I.length=$,I.head&&(I.head.extra_len=$),512&I.flags&&(he[0]=255&$,he[1]=$>>>8&255,I.check=d(I.check,he,2,0)),j=$=0}else I.head&&(I.head.extra=null);I.mode=6;case 6:if(1024&I.flags&&(ce<(ye=I.length)&&(ye=ce),ye&&(I.head&&(U=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),u.arraySet(I.head.extra,B,Y,ye,U)),512&I.flags&&(I.check=d(I.check,B,ye,Y)),ce-=ye,Y+=ye,I.length-=ye),I.length))break e;I.length=0,I.mode=7;case 7:if(2048&I.flags){if(ce===0)break e;for(ye=0;U=B[Y+ye++],I.head&&U&&I.length<65536&&(I.head.name+=String.fromCharCode(U)),U&&ye<ce;);if(512&I.flags&&(I.check=d(I.check,B,ye,Y)),ce-=ye,Y+=ye,U)break e}else I.head&&(I.head.name=null);I.length=0,I.mode=8;case 8:if(4096&I.flags){if(ce===0)break e;for(ye=0;U=B[Y+ye++],I.head&&U&&I.length<65536&&(I.head.comment+=String.fromCharCode(U)),U&&ye<ce;);if(512&I.flags&&(I.check=d(I.check,B,ye,Y)),ce-=ye,Y+=ye,U)break e}else I.head&&(I.head.comment=null);I.mode=9;case 9:if(512&I.flags){for(;j<16;){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}if($!==(65535&I.check)){M.msg="header crc mismatch",I.mode=30;break}j=$=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),M.adler=I.check=0,I.mode=12;break;case 10:for(;j<32;){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}M.adler=I.check=T($),j=$=0,I.mode=11;case 11:if(I.havedict===0)return M.next_out=K,M.avail_out=re,M.next_in=Y,M.avail_in=ce,I.hold=$,I.bits=j,2;M.adler=I.check=1,I.mode=12;case 12:if(_===5||_===6)break e;case 13:if(I.last){$>>>=7&j,j-=7&j,I.mode=27;break}for(;j<3;){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}switch(I.last=1&$,j-=1,3&($>>>=1)){case 0:I.mode=14;break;case 1:if(N(I),I.mode=20,_!==6)break;$>>>=2,j-=2;break e;case 2:I.mode=17;break;case 3:M.msg="invalid block type",I.mode=30}$>>>=2,j-=2;break;case 14:for($>>>=7&j,j-=7&j;j<32;){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}if((65535&$)!=($>>>16^65535)){M.msg="invalid stored block lengths",I.mode=30;break}if(I.length=65535&$,j=$=0,I.mode=15,_===6)break e;case 15:I.mode=16;case 16:if(ye=I.length){if(ce<ye&&(ye=ce),re<ye&&(ye=re),ye===0)break e;u.arraySet(H,B,Y,ye,K),ce-=ye,Y+=ye,re-=ye,K+=ye,I.length-=ye;break}I.mode=12;break;case 17:for(;j<14;){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}if(I.nlen=257+(31&$),$>>>=5,j-=5,I.ndist=1+(31&$),$>>>=5,j-=5,I.ncode=4+(15&$),$>>>=4,j-=4,286<I.nlen||30<I.ndist){M.msg="too many length or distance symbols",I.mode=30;break}I.have=0,I.mode=18;case 18:for(;I.have<I.ncode;){for(;j<3;){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}I.lens[xe[I.have++]]=7&$,$>>>=3,j-=3}for(;I.have<19;)I.lens[xe[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,ge={bits:I.lenbits},fe=m(0,I.lens,0,19,I.lencode,0,I.work,ge),I.lenbits=ge.bits,fe){M.msg="invalid code lengths set",I.mode=30;break}I.have=0,I.mode=19;case 19:for(;I.have<I.nlen+I.ndist;){for(;Ae=(ae=I.lencode[$&(1<<I.lenbits)-1])>>>16&255,Ce=65535&ae,!((pe=ae>>>24)<=j);){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}if(Ce<16)$>>>=pe,j-=pe,I.lens[I.have++]=Ce;else{if(Ce===16){for(ne=pe+2;j<ne;){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}if($>>>=pe,j-=pe,I.have===0){M.msg="invalid bit length repeat",I.mode=30;break}U=I.lens[I.have-1],ye=3+(3&$),$>>>=2,j-=2}else if(Ce===17){for(ne=pe+3;j<ne;){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}j-=pe,U=0,ye=3+(7&($>>>=pe)),$>>>=3,j-=3}else{for(ne=pe+7;j<ne;){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}j-=pe,U=0,ye=11+(127&($>>>=pe)),$>>>=7,j-=7}if(I.have+ye>I.nlen+I.ndist){M.msg="invalid bit length repeat",I.mode=30;break}for(;ye--;)I.lens[I.have++]=U}}if(I.mode===30)break;if(I.lens[256]===0){M.msg="invalid code -- missing end-of-block",I.mode=30;break}if(I.lenbits=9,ge={bits:I.lenbits},fe=m(v,I.lens,0,I.nlen,I.lencode,0,I.work,ge),I.lenbits=ge.bits,fe){M.msg="invalid literal/lengths set",I.mode=30;break}if(I.distbits=6,I.distcode=I.distdyn,ge={bits:I.distbits},fe=m(p,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,ge),I.distbits=ge.bits,fe){M.msg="invalid distances set",I.mode=30;break}if(I.mode=20,_===6)break e;case 20:I.mode=21;case 21:if(6<=ce&&258<=re){M.next_out=K,M.avail_out=re,M.next_in=Y,M.avail_in=ce,I.hold=$,I.bits=j,h(M,ve),K=M.next_out,H=M.output,re=M.avail_out,Y=M.next_in,B=M.input,ce=M.avail_in,$=I.hold,j=I.bits,I.mode===12&&(I.back=-1);break}for(I.back=0;Ae=(ae=I.lencode[$&(1<<I.lenbits)-1])>>>16&255,Ce=65535&ae,!((pe=ae>>>24)<=j);){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}if(Ae&&(240&Ae)==0){for(Le=pe,J=Ae,ue=Ce;Ae=(ae=I.lencode[ue+(($&(1<<Le+J)-1)>>Le)])>>>16&255,Ce=65535&ae,!(Le+(pe=ae>>>24)<=j);){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}$>>>=Le,j-=Le,I.back+=Le}if($>>>=pe,j-=pe,I.back+=pe,I.length=Ce,Ae===0){I.mode=26;break}if(32&Ae){I.back=-1,I.mode=12;break}if(64&Ae){M.msg="invalid literal/length code",I.mode=30;break}I.extra=15&Ae,I.mode=22;case 22:if(I.extra){for(ne=I.extra;j<ne;){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}I.length+=$&(1<<I.extra)-1,$>>>=I.extra,j-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=23;case 23:for(;Ae=(ae=I.distcode[$&(1<<I.distbits)-1])>>>16&255,Ce=65535&ae,!((pe=ae>>>24)<=j);){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}if((240&Ae)==0){for(Le=pe,J=Ae,ue=Ce;Ae=(ae=I.distcode[ue+(($&(1<<Le+J)-1)>>Le)])>>>16&255,Ce=65535&ae,!(Le+(pe=ae>>>24)<=j);){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}$>>>=Le,j-=Le,I.back+=Le}if($>>>=pe,j-=pe,I.back+=pe,64&Ae){M.msg="invalid distance code",I.mode=30;break}I.offset=Ce,I.extra=15&Ae,I.mode=24;case 24:if(I.extra){for(ne=I.extra;j<ne;){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}I.offset+=$&(1<<I.extra)-1,$>>>=I.extra,j-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){M.msg="invalid distance too far back",I.mode=30;break}I.mode=25;case 25:if(re===0)break e;if(ye=ve-re,I.offset>ye){if((ye=I.offset-ye)>I.whave&&I.sane){M.msg="invalid distance too far back",I.mode=30;break}Pe=ye>I.wnext?(ye-=I.wnext,I.wsize-ye):I.wnext-ye,ye>I.length&&(ye=I.length),le=I.window}else le=H,Pe=K-I.offset,ye=I.length;for(re<ye&&(ye=re),re-=ye,I.length-=ye;H[K++]=le[Pe++],--ye;);I.length===0&&(I.mode=21);break;case 26:if(re===0)break e;H[K++]=I.length,re--,I.mode=21;break;case 27:if(I.wrap){for(;j<32;){if(ce===0)break e;ce--,$|=B[Y++]<<j,j+=8}if(ve-=re,M.total_out+=ve,I.total+=ve,ve&&(M.adler=I.check=I.flags?d(I.check,H,ve,K-ve):c(I.check,H,ve,K-ve)),ve=re,(I.flags?$:T($))!==I.check){M.msg="incorrect data check",I.mode=30;break}j=$=0}I.mode=28;case 28:if(I.wrap&&I.flags){for(;j<32;){if(ce===0)break e;ce--,$+=B[Y++]<<j,j+=8}if($!==(4294967295&I.total)){M.msg="incorrect length check",I.mode=30;break}j=$=0}I.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;case 32:default:return S}return M.next_out=K,M.avail_out=re,M.next_in=Y,M.avail_in=ce,I.hold=$,I.bits=j,(I.wsize||ve!==M.avail_out&&I.mode<30&&(I.mode<27||_!==4))&&G(M,M.output,M.next_out,ve-M.avail_out)?(I.mode=31,-4):(de-=M.avail_in,ve-=M.avail_out,M.total_in+=de,M.total_out+=ve,I.total+=ve,I.wrap&&ve&&(M.adler=I.check=I.flags?d(I.check,H,ve,M.next_out-ve):c(I.check,H,ve,M.next_out-ve)),M.data_type=I.bits+(I.last?64:0)+(I.mode===12?128:0)+(I.mode===20||I.mode===15?256:0),(de==0&&ve===0||_===4)&&fe===b&&(fe=-5),fe)},o.inflateEnd=function(M){if(!M||!M.state)return S;var _=M.state;return _.window&&(_.window=null),M.state=null,b},o.inflateGetHeader=function(M,_){var I;return M&&M.state?(2&(I=M.state).wrap)==0?S:((I.head=_).done=!1,b):S},o.inflateSetDictionary=function(M,_){var I,B=_.length;return M&&M.state?(I=M.state).wrap!==0&&I.mode!==11?S:I.mode===11&&c(1,_,B,0)!==I.check?-3:G(M,_,B,B)?(I.mode=31,-4):(I.havedict=1,b):S},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,r,o){var u=i("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(v,p,b,S,y,w,x,T){var D,P,A,O,F,q,R,E,N,G=T.bits,M=0,_=0,I=0,B=0,H=0,Y=0,K=0,ce=0,re=0,$=0,j=null,de=0,ve=new u.Buf16(16),ye=new u.Buf16(16),Pe=null,le=0;for(M=0;M<=15;M++)ve[M]=0;for(_=0;_<S;_++)ve[p[b+_]]++;for(H=G,B=15;1<=B&&ve[B]===0;B--);if(B<H&&(H=B),B===0)return y[w++]=20971520,y[w++]=20971520,T.bits=1,0;for(I=1;I<B&&ve[I]===0;I++);for(H<I&&(H=I),M=ce=1;M<=15;M++)if(ce<<=1,(ce-=ve[M])<0)return-1;if(0<ce&&(v===0||B!==1))return-1;for(ye[1]=0,M=1;M<15;M++)ye[M+1]=ye[M]+ve[M];for(_=0;_<S;_++)p[b+_]!==0&&(x[ye[p[b+_]]++]=_);if(q=v===0?(j=Pe=x,19):v===1?(j=c,de-=257,Pe=d,le-=257,256):(j=h,Pe=m,-1),M=I,F=w,K=_=$=0,A=-1,O=(re=1<<(Y=H))-1,v===1&&852<re||v===2&&592<re)return 1;for(;;){for(R=M-K,N=x[_]<q?(E=0,x[_]):x[_]>q?(E=Pe[le+x[_]],j[de+x[_]]):(E=96,0),D=1<<M-K,I=P=1<<Y;y[F+($>>K)+(P-=D)]=R<<24|E<<16|N|0,P!==0;);for(D=1<<M-1;$&D;)D>>=1;if(D!==0?($&=D-1,$+=D):$=0,_++,--ve[M]==0){if(M===B)break;M=p[b+x[_]]}if(H<M&&($&O)!==A){for(K===0&&(K=H),F+=I,ce=1<<(Y=M-K);Y+K<B&&!((ce-=ve[Y+K])<=0);)Y++,ce<<=1;if(re+=1<<Y,v===1&&852<re||v===2&&592<re)return 1;y[A=$&O]=H<<24|Y<<16|F-w|0}}return $!==0&&(y[F+$]=M-K<<24|64<<16|0),T.bits=H,0}},{"../utils/common":41}],51:[function(i,r,o){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,r,o){var u=i("../utils/common"),c=0,d=1;function h(ae){for(var he=ae.length;0<=--he;)ae[he]=0}var m=0,v=29,p=256,b=p+1+v,S=30,y=19,w=2*b+1,x=15,T=16,D=7,P=256,A=16,O=17,F=18,q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(b+2));h(G);var M=new Array(2*S);h(M);var _=new Array(512);h(_);var I=new Array(256);h(I);var B=new Array(v);h(B);var H,Y,K,ce=new Array(S);function re(ae,he,xe,we,Se){this.static_tree=ae,this.extra_bits=he,this.extra_base=xe,this.elems=we,this.max_length=Se,this.has_stree=ae&&ae.length}function $(ae,he){this.dyn_tree=ae,this.max_code=0,this.stat_desc=he}function j(ae){return ae<256?_[ae]:_[256+(ae>>>7)]}function de(ae,he){ae.pending_buf[ae.pending++]=255&he,ae.pending_buf[ae.pending++]=he>>>8&255}function ve(ae,he,xe){ae.bi_valid>T-xe?(ae.bi_buf|=he<<ae.bi_valid&65535,de(ae,ae.bi_buf),ae.bi_buf=he>>T-ae.bi_valid,ae.bi_valid+=xe-T):(ae.bi_buf|=he<<ae.bi_valid&65535,ae.bi_valid+=xe)}function ye(ae,he,xe){ve(ae,xe[2*he],xe[2*he+1])}function Pe(ae,he){for(var xe=0;xe|=1&ae,ae>>>=1,xe<<=1,0<--he;);return xe>>>1}function le(ae,he,xe){var we,Se,_e=new Array(x+1),Ve=0;for(we=1;we<=x;we++)_e[we]=Ve=Ve+xe[we-1]<<1;for(Se=0;Se<=he;Se++){var Me=ae[2*Se+1];Me!==0&&(ae[2*Se]=Pe(_e[Me]++,Me))}}function pe(ae){var he;for(he=0;he<b;he++)ae.dyn_ltree[2*he]=0;for(he=0;he<S;he++)ae.dyn_dtree[2*he]=0;for(he=0;he<y;he++)ae.bl_tree[2*he]=0;ae.dyn_ltree[2*P]=1,ae.opt_len=ae.static_len=0,ae.last_lit=ae.matches=0}function Ae(ae){8<ae.bi_valid?de(ae,ae.bi_buf):0<ae.bi_valid&&(ae.pending_buf[ae.pending++]=ae.bi_buf),ae.bi_buf=0,ae.bi_valid=0}function Ce(ae,he,xe,we){var Se=2*he,_e=2*xe;return ae[Se]<ae[_e]||ae[Se]===ae[_e]&&we[he]<=we[xe]}function Le(ae,he,xe){for(var we=ae.heap[xe],Se=xe<<1;Se<=ae.heap_len&&(Se<ae.heap_len&&Ce(he,ae.heap[Se+1],ae.heap[Se],ae.depth)&&Se++,!Ce(he,we,ae.heap[Se],ae.depth));)ae.heap[xe]=ae.heap[Se],xe=Se,Se<<=1;ae.heap[xe]=we}function J(ae,he,xe){var we,Se,_e,Ve,Me=0;if(ae.last_lit!==0)for(;we=ae.pending_buf[ae.d_buf+2*Me]<<8|ae.pending_buf[ae.d_buf+2*Me+1],Se=ae.pending_buf[ae.l_buf+Me],Me++,we===0?ye(ae,Se,he):(ye(ae,(_e=I[Se])+p+1,he),(Ve=q[_e])!==0&&ve(ae,Se-=B[_e],Ve),ye(ae,_e=j(--we),xe),(Ve=R[_e])!==0&&ve(ae,we-=ce[_e],Ve)),Me<ae.last_lit;);ye(ae,P,he)}function ue(ae,he){var xe,we,Se,_e=he.dyn_tree,Ve=he.stat_desc.static_tree,Me=he.stat_desc.has_stree,He=he.stat_desc.elems,lt=-1;for(ae.heap_len=0,ae.heap_max=w,xe=0;xe<He;xe++)_e[2*xe]!==0?(ae.heap[++ae.heap_len]=lt=xe,ae.depth[xe]=0):_e[2*xe+1]=0;for(;ae.heap_len<2;)_e[2*(Se=ae.heap[++ae.heap_len]=lt<2?++lt:0)]=1,ae.depth[Se]=0,ae.opt_len--,Me&&(ae.static_len-=Ve[2*Se+1]);for(he.max_code=lt,xe=ae.heap_len>>1;1<=xe;xe--)Le(ae,_e,xe);for(Se=He;xe=ae.heap[1],ae.heap[1]=ae.heap[ae.heap_len--],Le(ae,_e,1),we=ae.heap[1],ae.heap[--ae.heap_max]=xe,ae.heap[--ae.heap_max]=we,_e[2*Se]=_e[2*xe]+_e[2*we],ae.depth[Se]=(ae.depth[xe]>=ae.depth[we]?ae.depth[xe]:ae.depth[we])+1,_e[2*xe+1]=_e[2*we+1]=Se,ae.heap[1]=Se++,Le(ae,_e,1),2<=ae.heap_len;);ae.heap[--ae.heap_max]=ae.heap[1],function(it,Mt){var jt,Xt,xt,Pt,yn,dn,on=Mt.dyn_tree,ll=Mt.max_code,um=Mt.stat_desc.static_tree,gp=Mt.stat_desc.has_stree,ul=Mt.stat_desc.extra_bits,md=Mt.stat_desc.extra_base,vi=Mt.stat_desc.max_length,Ua=0;for(Pt=0;Pt<=x;Pt++)it.bl_count[Pt]=0;for(on[2*it.heap[it.heap_max]+1]=0,jt=it.heap_max+1;jt<w;jt++)vi<(Pt=on[2*on[2*(Xt=it.heap[jt])+1]+1]+1)&&(Pt=vi,Ua++),on[2*Xt+1]=Pt,ll<Xt||(it.bl_count[Pt]++,yn=0,md<=Xt&&(yn=ul[Xt-md]),dn=on[2*Xt],it.opt_len+=dn*(Pt+yn),gp&&(it.static_len+=dn*(um[2*Xt+1]+yn)));if(Ua!==0){do{for(Pt=vi-1;it.bl_count[Pt]===0;)Pt--;it.bl_count[Pt]--,it.bl_count[Pt+1]+=2,it.bl_count[vi]--,Ua-=2}while(0<Ua);for(Pt=vi;Pt!==0;Pt--)for(Xt=it.bl_count[Pt];Xt!==0;)ll<(xt=it.heap[--jt])||(on[2*xt+1]!==Pt&&(it.opt_len+=(Pt-on[2*xt+1])*on[2*xt],on[2*xt+1]=Pt),Xt--)}}(ae,he),le(_e,lt,ae.bl_count)}function U(ae,he,xe){var we,Se,_e=-1,Ve=he[1],Me=0,He=7,lt=4;for(Ve===0&&(He=138,lt=3),he[2*(xe+1)+1]=65535,we=0;we<=xe;we++)Se=Ve,Ve=he[2*(we+1)+1],++Me<He&&Se===Ve||(Me<lt?ae.bl_tree[2*Se]+=Me:Se!==0?(Se!==_e&&ae.bl_tree[2*Se]++,ae.bl_tree[2*A]++):Me<=10?ae.bl_tree[2*O]++:ae.bl_tree[2*F]++,_e=Se,lt=(Me=0)===Ve?(He=138,3):Se===Ve?(He=6,3):(He=7,4))}function fe(ae,he,xe){var we,Se,_e=-1,Ve=he[1],Me=0,He=7,lt=4;for(Ve===0&&(He=138,lt=3),we=0;we<=xe;we++)if(Se=Ve,Ve=he[2*(we+1)+1],!(++Me<He&&Se===Ve)){if(Me<lt)for(;ye(ae,Se,ae.bl_tree),--Me!=0;);else Se!==0?(Se!==_e&&(ye(ae,Se,ae.bl_tree),Me--),ye(ae,A,ae.bl_tree),ve(ae,Me-3,2)):Me<=10?(ye(ae,O,ae.bl_tree),ve(ae,Me-3,3)):(ye(ae,F,ae.bl_tree),ve(ae,Me-11,7));_e=Se,lt=(Me=0)===Ve?(He=138,3):Se===Ve?(He=6,3):(He=7,4)}}h(ce);var ge=!1;function ne(ae,he,xe,we){ve(ae,(m<<1)+(we?1:0),3),function(Se,_e,Ve,Me){Ae(Se),de(Se,Ve),de(Se,~Ve),u.arraySet(Se.pending_buf,Se.window,_e,Ve,Se.pending),Se.pending+=Ve}(ae,he,xe)}o._tr_init=function(ae){ge||(function(){var he,xe,we,Se,_e,Ve=new Array(x+1);for(Se=we=0;Se<v-1;Se++)for(B[Se]=we,he=0;he<1<<q[Se];he++)I[we++]=Se;for(I[we-1]=Se,Se=_e=0;Se<16;Se++)for(ce[Se]=_e,he=0;he<1<<R[Se];he++)_[_e++]=Se;for(_e>>=7;Se<S;Se++)for(ce[Se]=_e<<7,he=0;he<1<<R[Se]-7;he++)_[256+_e++]=Se;for(xe=0;xe<=x;xe++)Ve[xe]=0;for(he=0;he<=143;)G[2*he+1]=8,he++,Ve[8]++;for(;he<=255;)G[2*he+1]=9,he++,Ve[9]++;for(;he<=279;)G[2*he+1]=7,he++,Ve[7]++;for(;he<=287;)G[2*he+1]=8,he++,Ve[8]++;for(le(G,b+1,Ve),he=0;he<S;he++)M[2*he+1]=5,M[2*he]=Pe(he,5);H=new re(G,q,p+1,b,x),Y=new re(M,R,0,S,x),K=new re(new Array(0),E,0,y,D)}(),ge=!0),ae.l_desc=new $(ae.dyn_ltree,H),ae.d_desc=new $(ae.dyn_dtree,Y),ae.bl_desc=new $(ae.bl_tree,K),ae.bi_buf=0,ae.bi_valid=0,pe(ae)},o._tr_stored_block=ne,o._tr_flush_block=function(ae,he,xe,we){var Se,_e,Ve=0;0<ae.level?(ae.strm.data_type===2&&(ae.strm.data_type=function(Me){var He,lt=4093624447;for(He=0;He<=31;He++,lt>>>=1)if(1&lt&&Me.dyn_ltree[2*He]!==0)return c;if(Me.dyn_ltree[18]!==0||Me.dyn_ltree[20]!==0||Me.dyn_ltree[26]!==0)return d;for(He=32;He<p;He++)if(Me.dyn_ltree[2*He]!==0)return d;return c}(ae)),ue(ae,ae.l_desc),ue(ae,ae.d_desc),Ve=function(Me){var He;for(U(Me,Me.dyn_ltree,Me.l_desc.max_code),U(Me,Me.dyn_dtree,Me.d_desc.max_code),ue(Me,Me.bl_desc),He=y-1;3<=He&&Me.bl_tree[2*N[He]+1]===0;He--);return Me.opt_len+=3*(He+1)+5+5+4,He}(ae),Se=ae.opt_len+3+7>>>3,(_e=ae.static_len+3+7>>>3)<=Se&&(Se=_e)):Se=_e=xe+5,xe+4<=Se&&he!==-1?ne(ae,he,xe,we):ae.strategy===4||_e===Se?(ve(ae,2+(we?1:0),3),J(ae,G,M)):(ve(ae,4+(we?1:0),3),function(Me,He,lt,it){var Mt;for(ve(Me,He-257,5),ve(Me,lt-1,5),ve(Me,it-4,4),Mt=0;Mt<it;Mt++)ve(Me,Me.bl_tree[2*N[Mt]+1],3);fe(Me,Me.dyn_ltree,He-1),fe(Me,Me.dyn_dtree,lt-1)}(ae,ae.l_desc.max_code+1,ae.d_desc.max_code+1,Ve+1),J(ae,ae.dyn_ltree,ae.dyn_dtree)),pe(ae),we&&Ae(ae)},o._tr_tally=function(ae,he,xe){return ae.pending_buf[ae.d_buf+2*ae.last_lit]=he>>>8&255,ae.pending_buf[ae.d_buf+2*ae.last_lit+1]=255&he,ae.pending_buf[ae.l_buf+ae.last_lit]=255&xe,ae.last_lit++,he===0?ae.dyn_ltree[2*xe]++:(ae.matches++,he--,ae.dyn_ltree[2*(I[xe]+p+1)]++,ae.dyn_dtree[2*j(he)]++),ae.last_lit===ae.lit_bufsize-1},o._tr_align=function(ae){ve(ae,2,3),ye(ae,P,G),function(he){he.bi_valid===16?(de(he,he.bi_buf),he.bi_buf=0,he.bi_valid=0):8<=he.bi_valid&&(he.pending_buf[he.pending++]=255&he.bi_buf,he.bi_buf>>=8,he.bi_valid-=8)}(ae)}},{"../utils/common":41}],53:[function(i,r,o){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(i,r,o){(function(u){(function(c,d){if(!c.setImmediate){var h,m,v,p,b=1,S={},y=!1,w=c.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(c);x=x&&x.setTimeout?x:c,h={}.toString.call(c.process)==="[object process]"?function(A){process.nextTick(function(){D(A)})}:function(){if(c.postMessage&&!c.importScripts){var A=!0,O=c.onmessage;return c.onmessage=function(){A=!1},c.postMessage("","*"),c.onmessage=O,A}}()?(p="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",P,!1):c.attachEvent("onmessage",P),function(A){c.postMessage(p+A,"*")}):c.MessageChannel?((v=new MessageChannel).port1.onmessage=function(A){D(A.data)},function(A){v.port2.postMessage(A)}):w&&"onreadystatechange"in w.createElement("script")?(m=w.documentElement,function(A){var O=w.createElement("script");O.onreadystatechange=function(){D(A),O.onreadystatechange=null,m.removeChild(O),O=null},m.appendChild(O)}):function(A){setTimeout(D,0,A)},x.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var O=new Array(arguments.length-1),F=0;F<O.length;F++)O[F]=arguments[F+1];var q={callback:A,args:O};return S[b]=q,h(b),b++},x.clearImmediate=T}function T(A){delete S[A]}function D(A){if(y)setTimeout(D,0,A);else{var O=S[A];if(O){y=!0;try{(function(F){var q=F.callback,R=F.args;switch(R.length){case 0:q();break;case 1:q(R[0]);break;case 2:q(R[0],R[1]);break;case 3:q(R[0],R[1],R[2]);break;default:q.apply(d,R)}})(O)}finally{T(A),y=!1}}}}function P(A){A.source===c&&typeof A.data=="string"&&A.data.indexOf(p)===0&&D(+A.data.slice(p.length))}})(typeof self>"u"?u===void 0?this:u:self)}).call(this,typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(By)),By.exports}var zU=Bv.exports,w6;function nq(){return w6||(w6=1,function(e,n){(function(i,r){e.exports=r(qU(),GU(),QU())})(zU,function(i,r,o){return function(){var Cl,Dd,xd,Vu,Td,Bu,Nh,Nu,Pd,Uh,qh,Gh,Qh,zh,B2,ls,wl,Id,Dl,Ad,br,Cr,wr,Hh,_d,us,cs,Jr,eo,to,Od,Uv,xl,qa,Dr,Wh,N2,aa,Ga,Mm,xr,Tr,Si,Uu,Yh,$h,Bt,qv,dI,hI,U2,fI,Ho,Hs,gI,Pr,kd,Rd,Tl,Pl,Qa,za,ba,Ha,Ed,ds,Fd,Vm,mI,qu,Md,Wa,ra,jh,Xh,Bm,Ca,Vd,Kh,Zh,Qt,hg,q2,G2,Q2,vI,fu,gu,Nm,pi,Nt,Ya,Il,wo,Bd,Nd,Ud,Jh,ri,ui,Al,_l,qd,Gd,Do,z2,SI,H2,Ll,bn,Gu,Qu,yi,Ir,Ol,Qd,kl,zd,Hd,ef,Rl,W2,Y2,xo,zu,To,Hu,qi,$a,rt,no,hs,tf,ci,$2,Gv,Qv,j2,X2,Wu,nf,Yu,af,rf,ja,$u,Wd,Yd,of,ju,wa,Um,qm,Gm,sf,$d,fs,Qm,zm,Hm,Wm,lf,uf,oa,Ar,jd,cf,df,Xd,hf,Xu,ff,Po,oi,El,Da,Kd,Yn,zv,Hv,K2,Z2,J2,pI,$n,gs,di,ms,gf,Ku,Fl,Zd,sa,eb,yI,bI,CI,wI,DI,xa,bt,Zu,Jd,_r,Lr,Or,Io,Ta,Gi,mf,Pa,e0,vf,Ju,io,Sf,t0,hn,tb,nb,xI,Wv,ib,TI,ab,PI,n0,II,ec,i0,tc,a0,vs,r0,o0,s0,Ym,pf,yf,bf,Cf,wf,Df,nc,Ao,Ml,Ss,ic,ac,xf,kr,rb,ob,Yv,i3,_o,rc,oc,Tf,Lo,Pf,sc,bi,sb,lb,$v,AI,jv,a3,ps,ys,bs,Cs,l0,u0,la,ub,$m,cb,jm,db,Xv,r3,c0,lc,d0,If,Rr,hb,fb,Kv,o3,jn,Af,Oo,Xa,h0,Er,Oi,_f,si,Ia,Lf,Of,Fr,f0,Ka,g0,m0,$t,gb,_I,LI,Zv,OI,kI,mb,vb,Sb,pb,yb,v0,s3,S0,ua,Vl,p0,uc,l3,Mr,Xm,Km,Zm,Bl,cc,ws,ko,dc,Za,ao,hc,y0,kf,Nl,Rf,Ef,hi,RI,fg,bb,Cb,Jv,u3,Vr,fc,b0,Ja,Ul,Ds,Ro,xs,Ff,Mf,Qi,wb,EI,Ts,Db,xb,Tb,c3,Vf,ql,Cn,Pb,FI,MI,VI,BI,eS,NI,UI,qI,HU,WU,d3,Bf,Ps,Tn,Ib,GI,QI,zI,Ab,_b,HI,WI,YI,YU,h3,Nf,Is,Pn,Lb,$I,jI,XI,Ob,kb,KI,ZI,JI,$U,f3,Uf,As,fn,Rb,eA,tA,nA,Eb,tS,iA,aA,rA,jU,XU,g3,qf,Gl,Mn,Fb,oA,sA,lA,uA,Mb,cA,dA,hA,KU,m3,Gf,_s,In,fA,Vb,gA,mA,Bb,nS,vA,SA,ZU,JU,v3,Qf,Ls,gn,Nb,pA,yA,bA,Ub,iS,CA,wA,DA,eq,tq,S3,gc,mc,C0,w0,zf,p3,vc,D0,Hf,y3,Sc,x0,Wf,b3,er,Aa,An,ki,Ql,ca,Os,pc,tr,T0,ks,Nn,_a,Br,an,zi,Eo,Hi,Wi,nr,Rs,P0,Yf,I0,A0,zl,aS,Es,xA,Jm,ev,tv,nv,Un,Dt,Nr,Fo,Ur,Fs,Mo,_0,yc,bc,Cc,$f,jf,wc,qn,TA,PA,IA,AA,qb,gg,rS,Xn,Ct,Ms,Xf,ro,qr,oo,Gb,Qb,zb,Kf,Gr,_A,LA,OA,kA,RA,La,da,L0,Dc,Hl,Vo,Wl,O0,Yi,Hb,EA,FA,MA,mg,Yl,xc,Zf,Tc,Wb,VA,$l,ir,jl,k0,R0,Pc,Jf,wn,BA,NA,UA,qA,GA,iv,Ic,oh,QA,Yb,zA,e1,$b,t1,so,n1,Xl,i1,a1,r1,ar,Kl,E0,HA,WA,Ci,o1,F0,Zl,ha,ur,Ac,Qr,_c,Jl,Vs,s1,wi,YA,oS,$A,jA,XA,KA,ZA,eu,tu,M0,V0,l1,nu,JA,e9,t9,av,rv,u1,iu,rr,C3,Lc,w3,Oc,D3,B0,ov,n9,x3,sv,i9,T3,kc,N0,Bo,No,c1,jb,P3,au,ru,ou,U0,q0,d1,Di,a9,r9,o9,s9,l9,lv,G0,sS,u9,Q0,Oa,_n,c9,d9,h9,f9,sh,mu,su,z0,lu,Bs,H0,Rc,Ns,W0,h1,Y0,uv,g9,Wt,Ot,$i,ji,ht,Gn,cv,Uo,$0,xi,Xb,Kb,kt,dv,hv,fv,gv,mv,vv,Sv,m9,v9,Zb,Jb,f1,qo,uu,lh,lo,or,g1,uo,j0,Go,Us,co,m1,Ec,Fc,Mc,v1,eC;var u={654:function(f){f.exports=o},944:function(f){f.exports=i},324:function(f){f.exports=r}},c={};function d(f){var t=c[f];if(t!==void 0)return t.exports;var a=c[f]={exports:{}};return u[f](a,a.exports,d),a.exports}d.n=function(f){var t=f&&f.__esModule?function(){return f.default}:function(){return f};return d.d(t,{a:t}),t},d.d=function(f,t){for(var a in t)d.o(t,a)&&!d.o(f,a)&&Object.defineProperty(f,a,{enumerable:!0,get:t[a]})},d.o=function(f,t){return Object.prototype.hasOwnProperty.call(f,t)},d.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})};var h={};d.r(h),d.d(h,{Annotation:function(){return Mu},AnnotationGroup:function(){return pm},AnnotationGroupFactory:function(){return km},App:function(){return L_},AppOptions:function(){return __},BLACK:function(){return F},ChangeSegmentColourCommand:function(){return k_},Circle:function(){return Sl},ColourMap:function(){return P},DataElement:function(){return vi},DeleteSegmentCommand:function(){return O_},DicomCode:function(){return kp},DicomData:function(){return Xp},DicomParser:function(){return yp},DicomSRContent:function(){return yr},DicomWriter:function(){return A9},DrawController:function(){return x4},DrawLayer:function(){return yd},DrawShapeHandler:function(){return I4},Ellipse:function(){return vl},Geometry:function(){return vd},Image:function(){return ku},Index:function(){return m},LayerGroup:function(){return R4},MaskFactory:function(){return Fp},MaskSegment:function(){return c4},MaskSegmentHelper:function(){return Jp},MaskSegmentViewHelper:function(){return R_},Matrix33:function(){return B},NumberRange:function(){return x9},Orientation:function(){return bo},OverlayData:function(){return t3},PlaneHelper:function(){return Mp},Point:function(){return re},Point2D:function(){return K},Point3D:function(){return ce},Protractor:function(){return ml},RGB:function(){return O},ROI:function(){return Sr},Rectangle:function(){return gl},RescaleSlopeAndIntercept:function(){return dm},Scalar2D:function(){return E_},Scalar3D:function(){return F_},ScrollWheel:function(){return Eh},Size:function(){return cl},Spacing:function(){return dl},Tag:function(){return xt},TagValueExtractor:function(){return W5},ToolConfig:function(){return A_},ToolboxController:function(){return B4},Vector3D:function(){return M},View:function(){return b4},ViewConfig:function(){return n3},ViewController:function(){return C4},ViewLayer:function(){return Ui},WindowLevel:function(){return b},WriterRule:function(){return T9},addTagsToDictionary:function(){return ge},buildMultipart:function(){return U},createImage:function(){return G9},createMaskImage:function(){return Q9},createView:function(){return z9},customUI:function(){return _4},decoderScripts:function(){return Pm},defaultPresets:function(){return S},defaults:function(){return pl},getDefaultDicomSegJson:function(){return p4},getDicomSRContentItem:function(){return jp},getDwvVersion:function(){return y9},getElementsFromJSONTags:function(){return mm},getEllipseIndices:function(){return $9},getLayerDetailsFromEvent:function(){return Gt},getMousePoint:function(){return Wn},getOrientationName:function(){return G5},getPixelDataTag:function(){return gp},getRectangleIndices:function(){return Y9},getReverseOrientation:function(){return mp},getSRContent:function(){return Om},getTagFromKey:function(){return yn},getTouchPoints:function(){return ia},getTypedArray:function(){return I5},getUID:function(){return X5},hasDicomPrefix:function(){return b9},i18n:function(){return $},isEqualRgb:function(){return q},labToUintLab:function(){return R},logger:function(){return p},luts:function(){return A},precisionRound:function(){return le},srgbToCielab:function(){return N},toolList:function(){return A4},toolOptions:function(){return Mh}});const Em=class Em{constructor(t){W(this,Cl);if(!t||t===void 0)throw new Error("Cannot create index with no values.");if(t.length===0)throw new Error("Cannot create index with empty values.");if(!t.every(function(a){return!isNaN(a)}))throw new Error("Cannot create index with non number values.");X(this,Cl,t)}get(t){return l(this,Cl)[t]}length(){return l(this,Cl).length}toString(){return"("+l(this,Cl).toString()+")"}getValues(){return l(this,Cl).slice()}canCompare(t){return!!t&&this.length()===t.length()}equals(t){if(!this.canCompare(t))return!1;for(let a=0,s=this.length();a<s;++a)if(this.get(a)!==t.get(a))return!1;return!0}compare(t){if(!this.canCompare(t))return null;const a=[];for(let s=0,g=this.length();s<g;++s)this.get(s)!==t.get(s)&&a.push(s);return a}add(t){if(!this.canCompare(t))return null;const a=[];for(let s=0,g=this.length();s<g;++s)a.push(this.get(s)+t.get(s));return new Em(a)}getWithNew2D(t,a){const s=[t,a];for(let g=2,C=this.length();g<C;++g)s.push(this.get(g));return new Em(s)}};Cl=new WeakMap;let m=Em;class v{constructor(t,a){W(this,Dd);W(this,xd);W(this,Vu);W(this,Td);if(X(this,Dd,t),X(this,xd,t.isID()),X(this,Vu,Math.pow(2,a)),!l(this,xd)){X(this,Td,new Float32Array(l(this,Vu)));for(let s=0;s<l(this,Vu);++s)l(this,Td)[s]=l(this,Dd).apply(s)}}getRSI(){return l(this,Dd)}getLength(){return l(this,Vu)}getValue(t){return l(this,xd)?t:l(this,Td)[t]}}Dd=new WeakMap,xd=new WeakMap,Vu=new WeakMap,Td=new WeakMap;const p={levels:{TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},level:3,trace:function(f){this.level<=this.levels.TRACE&&console.trace(f)},debug:function(f){this.level<=this.levels.DEBUG&&console.debug(f)},info:function(f){this.level<=this.levels.INFO&&console.info(f)},warn:function(f){this.level<=this.levels.WARN&&console.warn(f)},error:function(f){this.level<=this.levels.ERROR&&console.error(f)}};class b{constructor(t,a){Te(this,"center");Te(this,"width");a<1&&(p.warn("Using minimum window width since input is not valid: "+a),a=1),this.center=t,this.width=a}equals(t){return t!=null&&this.center===t.center&&this.width===t.width}}const S={CT:{mediastinum:new b(40,400),lung:new b(-500,1500),bone:new b(500,2e3),brain:new b(40,80),head:new b(90,350)}};class y{constructor(t){W(this,zh);W(this,Bu);W(this,Nh,0);W(this,Nu,0);W(this,Pd,255);W(this,Uh,null);W(this,qh,null);W(this,Gh,null);W(this,Qh,null);X(this,Bu,t),ie(this,zh,B2).call(this)}getWindowLevel(){return l(this,Bu)}setSignedOffset(t){X(this,Nh,t),ie(this,zh,B2).call(this)}apply(t){return t<=l(this,Uh)?l(this,Nu):t>l(this,qh)?l(this,Pd):t*l(this,Gh)+l(this,Qh)}}Bu=new WeakMap,Nh=new WeakMap,Nu=new WeakMap,Pd=new WeakMap,Uh=new WeakMap,qh=new WeakMap,Gh=new WeakMap,Qh=new WeakMap,zh=new WeakSet,B2=function(){const t=l(this,Bu).center,a=l(this,Bu).width,s=t+l(this,Nh);X(this,Uh,s-.5-(a-1)/2),X(this,qh,s-.5+(a-1)/2),X(this,Gh,(l(this,Pd)-l(this,Nu))/(a-1)),X(this,Qh,(-(s-.5)/(a-1)+.5)*(l(this,Pd)-l(this,Nu))+l(this,Nu))};class w{constructor(t,a,s){W(this,ls);W(this,wl);W(this,Id);W(this,Dl,0);W(this,Ad,!0);if(X(this,ls,t),a){const g=l(this,ls).getLength();X(this,Dl,g/2)}else X(this,Dl,0);X(this,Ad,s)}getVoiLut(){return l(this,wl)}getModalityLut(){return l(this,ls)}setVoiLut(t){if(X(this,wl,t),l(this,wl).setSignedOffset(l(this,ls).getRSI().getSlope()*l(this,Dl)),l(this,Ad)){const a=l(this,ls).getLength();X(this,Id,new Uint8ClampedArray(a));for(let s=0;s<a;++s)l(this,Id)[s]=l(this,wl).apply(l(this,ls).getValue(s))}}getValue(t){return l(this,Ad)?l(this,Id)[t+l(this,Dl)]:Math.floor(l(this,wl).apply(t+l(this,Dl)))}}ls=new WeakMap,wl=new WeakMap,Id=new WeakMap,Dl=new WeakMap,Ad=new WeakMap;function x(f){const t=[];for(let a=0;a<256;++a)t.push(f(a));return t}function T(f){return f}function D(f){return 255-f}class P{constructor(t,a,s){Te(this,"red");Te(this,"green");Te(this,"blue");this.red=t,this.green=a,this.blue=s}}const A={plain:{red:x(T),green:x(T),blue:x(T)},invPlain:{red:x(D),green:x(D),blue:x(D)},rainbow:{blue:[0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,247,239,231,223,215,207,199,191,183,175,167,159,151,143,135,127,119,111,103,95,87,79,71,63,55,47,39,31,23,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,16,24,32,40,48,56,64,72,80,88,96,104,112,120,128,136,144,152,160,168,176,184,192,200,208,216,224,232,240,248,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,251,249,247,245,243,241,239,237,235,233,231,229,227,225,223,221,219,217,215,213,211,209,207,205,203,201,199,197,195,193,192,189,186,183,180,177,174,171,168,165,162,159,156,153,150,147,144,141,138,135,132,129,126,123,120,117,114,111,108,105,102,99,96,93,90,87,84,81,78,75,72,69,66,63,60,57,54,51,48,45,42,39,36,33,30,27,24,21,18,15,12,9,6,3],red:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,62,60,58,56,54,52,50,48,46,44,42,40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6,4,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]},hot:{red:x(function(f){const t=3*f;return t>255?255:t}),green:x(function(f){const t=85.33333333333333;let a=0;return f>=t&&(a=3*(f-t),a>255)?255:a}),blue:x(function(f){const t=85.33333333333333;let a=0;return f>=2*t&&(a=3*(f-2*t),a>255)?255:a})},hot_iron:{red:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,255],blue:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255]},pet:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,171,173,175,177,179,181,183,185,187,189,191,193,195,197,199,201,203,205,207,209,211,213,215,217,219,221,223,225,227,229,231,233,235,237,239,241,243,245,247,249,251,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,128,126,124,122,120,118,116,114,112,110,108,106,104,102,100,98,96,94,92,90,88,86,84,82,80,78,76,74,72,70,68,66,64,63,61,59,57,55,53,51,49,47,45,43,41,39,37,35,33,31,29,27,25,23,21,19,17,15,13,11,9,7,5,3,1,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,255],blue:[0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,185,187,189,191,193,195,197,199,201,203,205,207,209,211,213,215,217,219,221,223,225,227,229,231,233,235,237,239,241,243,245,247,249,251,253,255,252,248,244,240,236,232,228,224,220,216,212,208,204,200,196,192,188,184,180,176,172,168,164,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,92,88,84,80,76,72,68,64,60,56,52,48,44,40,36,32,28,24,20,16,12,8,4,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,85,89,93,97,101,105,109,113,117,121,125,129,133,137,141,145,149,153,157,161,165,170,174,178,182,186,190,194,198,202,206,210,214,218,222,226,230,234,238,242,246,250,255]},hot_metal_blue:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,6,9,12,15,18,21,24,26,29,32,35,38,41,44,47,50,52,55,57,59,62,64,66,69,71,74,76,78,81,83,85,88,90,93,96,99,102,105,108,111,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,166,169,172,175,178,181,184,187,190,194,198,201,205,209,213,217,221,224,228,232,236,240,244,247,251,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,4,6,8,9,11,13,15,17,19,21,23,24,26,28,30,32,34,36,38,40,41,43,45,47,49,51,53,55,56,58,60,62,64,66,68,70,72,73,75,77,79,81,83,85,87,88,90,92,94,96,98,100,102,104,105,107,109,111,113,115,117,119,120,122,124,126,128,130,132,134,136,137,139,141,143,145,147,149,151,152,154,156,158,160,162,164,166,168,169,171,173,175,177,179,181,183,184,186,188,190,192,194,196,198,200,201,203,205,207,209,211,213,215,216,218,220,222,224,226,228,229,231,233,235,237,239,240,242,244,246,248,250,251,253,255],blue:[0,2,4,6,8,10,12,14,16,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,184,186,188,190,192,194,196,198,200,197,194,191,188,185,182,179,176,174,171,168,165,162,159,156,153,150,144,138,132,126,121,115,109,103,97,91,85,79,74,68,62,56,50,47,44,41,38,35,32,29,26,24,21,18,15,12,9,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,6,9,12,15,18,21,24,26,29,32,35,38,41,44,47,50,53,56,59,62,65,68,71,74,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,126,129,132,135,138,141,144,147,150,153,156,159,162,165,168,171,174,176,179,182,185,188,191,194,197,200,203,206,210,213,216,219,223,226,229,232,236,239,242,245,249,252,255]},pet_20step:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,96,96,96,96,96,96,96,96,96,96,96,96,96,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,112,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,64,64,64,64,64,64,64,64,64,64,64,64,224,224,224,224,224,224,224,224,224,224,224,224,224,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,192,192,192,192,192,192,192,192,192,192,192,192,192,176,176,176,176,176,176,176,176,176,176,176,176,176,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,112,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,96,96,96,96,96,96,96,96,96,96,96,96,96,144,144,144,144,144,144,144,144,144,144,144,144,144,192,192,192,192,192,192,192,192,192,192,192,192,192,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,208,208,208,208,208,208,208,208,208,208,208,208,208,176,176,176,176,176,176,176,176,176,176,176,176,176,144,144,144,144,144,144,144,144,144,144,144,144,96,96,96,96,96,96,96,96,96,96,96,96,96,48,48,48,48,48,48,48,48,48,48,48,48,48,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255],blue:[0,0,0,0,0,0,0,0,0,0,0,0,0,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,128,176,176,176,176,176,176,176,176,176,176,176,176,176,192,192,192,192,192,192,192,192,192,192,192,192,192,224,224,224,224,224,224,224,224,224,224,224,224,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,64,64,64,64,64,64,64,64,64,64,64,64,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255]}};class O{constructor(t,a,s){Te(this,"r");Te(this,"g");Te(this,"b");this.r=t,this.g=a,this.b=s}}const F={r:0,g:0,b:0};function q(f,t){return f!==null&&t!==null&&f!==void 0&&t!==void 0&&f.r===t.r&&f.g===t.g&&f.b===t.b}function R(f){return{l:655.35*f.l,a:257*f.a+32896,b:257*f.b+32896}}const E={x:95.0489,y:100,z:108.884};function N(f){return function(t){function a(C){let L=null;return L=C>.008856452?Math.pow(C,.333333333):7.787037037*C+.137931034,L}const s=E,g=a(t.y/s.y);return{l:116*g-16,a:500*(a(t.x/s.x)-g),b:200*(g-a(t.z/s.z))}}(function(t){function a(L){let k=null;return k=L<=.04045?L/12.92:Math.pow((L+.055)/1.055,2.4),k}const s=a(t.r/255),g=a(t.g/255),C=a(t.b/255);return{x:100*(.4124*s+.3576*g+.1805*C),y:100*(.2126*s+.7152*g+.0722*C),z:100*(.0193*s+.1192*g+.9505*C)}}(f))}function G(f){const t={Yellow:"#ffff00",Red:"#ff0000",White:"#ffffff",Green:"#008000",Blue:"#0000ff",Lime:"#00ff00",Fuchsia:"#ff00ff",Black:"#000000"};let a="#ffff00";return t[f]!==void 0&&(a=t[f]),a}const ey=class ey{constructor(t,a,s){W(this,br);W(this,Cr);W(this,wr);X(this,br,t),X(this,Cr,a),X(this,wr,s)}getX(){return l(this,br)}getY(){return l(this,Cr)}getZ(){return l(this,wr)}equals(t){return t!==null&&l(this,br)===t.getX()&&l(this,Cr)===t.getY()&&l(this,wr)===t.getZ()}toString(){return"("+l(this,br)+", "+l(this,Cr)+", "+l(this,wr)+")"}norm(){return Math.sqrt(l(this,br)*l(this,br)+l(this,Cr)*l(this,Cr)+l(this,wr)*l(this,wr))}crossProduct(t){return new ey(l(this,Cr)*t.getZ()-t.getY()*l(this,wr),l(this,wr)*t.getX()-t.getZ()*l(this,br),l(this,br)*t.getY()-t.getX()*l(this,Cr))}dotProduct(t){return l(this,br)*t.getX()+l(this,Cr)*t.getY()+l(this,wr)*t.getZ()}isCodirectional(t){return this.dotProduct(t)>0}};br=new WeakMap,Cr=new WeakMap,wr=new WeakMap;let M=ey;const _=1e-4;function I(f,t,a){return a===void 0&&(a=Number.EPSILON),Math.abs(f-t)<a}const Ld=class Ld{constructor(t){W(this,Hh);W(this,_d);X(this,Hh,t)}get(t,a){return l(this,Hh)[3*t+a]}getInverse(){return l(this,_d)===void 0&&X(this,_d,function(t){const a=t.get(0,0),s=t.get(0,1),g=t.get(0,2),C=t.get(1,0),L=t.get(1,1),k=t.get(1,2),V=t.get(2,0),z=t.get(2,1),Q=t.get(2,2),ee=L*Q-k*z,oe=k*V-C*Q,me=C*z-L*V;let De=a*ee+s*oe+g*me;if(De!==0)return De=1/De,new Ld([De*ee,De*(g*z-s*Q),De*(s*k-g*L),De*oe,De*(a*Q-g*V),De*(g*C-a*k),De*me,De*(s*V-a*z),De*(a*L-s*C)]);p.warn("Cannot invert 3*3 matrix with zero determinant.")}(this)),l(this,_d)}equals(t,a){for(let s=0;s<3;++s)for(let g=0;g<3;++g)if(!I(this.get(s,g),t.get(s,g),a))return!1;return!0}toString(){let t="[";for(let a=0;a<3;++a){a!==0&&(t+=`, 
 `);for(let s=0;s<3;++s)s!==0&&(t+=", "),t+=this.get(a,s)}return t+="]",t}multiply(t){const a=[];for(let s=0;s<3;++s)for(let g=0;g<3;++g){let C=0;for(let L=0;L<3;++L)C+=this.get(s,L)*t.get(L,g);a.push(C)}return new Ld(a)}getAbs(){const t=[];for(let a=0;a<3;++a)for(let s=0;s<3;++s)t.push(Math.abs(this.get(a,s)));return new Ld(t)}multiplyArray3D(t){if(t.length!==3)throw new Error("Cannot multiply 3x3 matrix with non 3D array: "+t.length);const a=[];for(let s=0;s<3;++s){let g=0;for(let C=0;C<3;++C)g+=this.get(s,C)*t[C];a.push(g)}return a}multiplyVector3D(t){const a=this.multiplyArray3D([t.getX(),t.getY(),t.getZ()]);return new M(a[0],a[1],a[2])}multiplyPoint3D(t){const a=this.multiplyArray3D([t.getX(),t.getY(),t.getZ()]);return new ce(a[0],a[1],a[2])}multiplyIndex3D(t){const a=this.multiplyArray3D(t.getValues());return new m(a)}getRowAbsMax(t){const a=[Math.abs(this.get(t,0)),Math.abs(this.get(t,1)),Math.abs(this.get(t,2))],s=Math.max.apply(null,a),g=a.indexOf(s);return{value:this.get(t,g),index:g}}getColAbsMax(t){const a=[Math.abs(this.get(0,t)),Math.abs(this.get(1,t)),Math.abs(this.get(2,t))],s=Math.max.apply(null,a),g=a.indexOf(s);return{value:this.get(g,t),index:g}}asOneAndZeros(){const t=[];for(let a=0;a<3;++a){const s=this.getRowAbsMax(a),g=s.value>0?1:-1;for(let C=0;C<3;++C)C===s.index?t.push(1*g):t.push(0)}return new Ld(t)}getThirdColMajorDirection(){return this.getColAbsMax(2).index}};Hh=new WeakMap,_d=new WeakMap;let B=Ld;function H(){return new B([1,0,0,0,1,0,0,0,1])}function Y(f){return f.equals(H())}class K{constructor(t,a){W(this,us);W(this,cs);X(this,us,t),X(this,cs,a)}getX(){return l(this,us)}getY(){return l(this,cs)}getValues(){return[l(this,us),l(this,cs)]}getCentroid(){return this}equals(t){return t!=null&&l(this,us)===t.getX()&&l(this,cs)===t.getY()}toString(){return"("+l(this,us)+", "+l(this,cs)+")"}getDistance(t){const a=l(this,us)-t.getX(),s=l(this,cs)-t.getY();return Math.sqrt(a*a+s*s)}}us=new WeakMap,cs=new WeakMap;class ce{constructor(t,a,s){W(this,Od);W(this,Jr);W(this,eo);W(this,to);X(this,Jr,t),X(this,eo,a),X(this,to,s)}getX(){return l(this,Jr)}getY(){return l(this,eo)}getZ(){return l(this,to)}getValues(){return[l(this,Jr),l(this,eo),l(this,to)]}equals(t){return t!==null&&l(this,Jr)===t.getX()&&l(this,eo)===t.getY()&&l(this,to)===t.getZ()}isSimilar(t,a){return t!==null&&I(l(this,Jr),t.getX(),a)&&I(l(this,eo),t.getY(),a)&&I(l(this,to),t.getZ(),a)}toString(){return"("+l(this,Jr)+", "+l(this,eo)+", "+l(this,to)+")"}getDistance(t){return Math.sqrt(ie(this,Od,Uv).call(this,t))}getClosest(t){let a=0,s=ie(this,Od,Uv).call(this,t[a]);for(let g=0;g<t.length;++g){const C=ie(this,Od,Uv).call(this,t[g]);C<s&&(a=g,s=C)}return a}minus(t){return new M(l(this,Jr)-t.getX(),l(this,eo)-t.getY(),l(this,to)-t.getZ())}}Jr=new WeakMap,eo=new WeakMap,to=new WeakMap,Od=new WeakSet,Uv=function(t){const a=l(this,Jr)-t.getX(),s=l(this,eo)-t.getY(),g=l(this,to)-t.getZ();return a*a+s*s+g*g};const Fm=class Fm{constructor(t){W(this,xl);if(!t||t===void 0)throw new Error("Cannot create point with no values.");if(t.length===0)throw new Error("Cannot create point with empty values.");if(!t.every(function(a){return!isNaN(a)}))throw new Error("Cannot create point with non number values.");X(this,xl,t)}get(t){return l(this,xl)[t]}length(){return l(this,xl).length}toString(){return"("+l(this,xl).toString()+")"}getValues(){return l(this,xl).slice()}canCompare(t){return!!t&&this.length()===t.length()}equals(t){if(!this.canCompare(t))return!1;for(let a=0,s=this.length();a<s;++a)if(this.get(a)!==t.get(a))return!1;return!0}compare(t){if(!this.canCompare(t))return null;const a=[];for(let s=0,g=this.length();s<g;++s)this.get(s)!==t.get(s)&&a.push(s);return a}get3D(){return new ce(this.get(0),this.get(1),this.get(2))}add(t){if(!this.canCompare(t))return null;const a=[],s=this.getValues(),g=t.getValues();for(let C=0;C<s.length;++C)a.push(s[C]+g[C]);return new Fm(a)}mergeWith3D(t){const a=this.getValues();return a[0]=t.getX(),a[1]=t.getY(),a[2]=t.getZ(),new Fm(a)}};xl=new WeakMap;let re=Fm;const $={t(f){let t=f;const a=f.split(".");return a.length===2&&a[0]==="unit"&&(t={mm:"mm",cm2:"cm²",degree:"°"}[a[1]]),t}};function j(f,t,a){if(f==null||t==null)return!1;const s=0;return f.substring(s,s+t.length)===t}function de(f,t){return f!=null&&t!=null&&f.substring(f.length-t.length)===t}function ve(f){const t=[];if(f==null)return t;const a=/{(\w+)}/g;let s=a.exec(f);for(;s;)t.push(s[1]),s=a.exec(f);return t}function ye(f){let t=null;if(f!=null&&f[0]!=="."){const a=f.toLowerCase().split(".");a.length!==1&&(t=a.pop(),/[a-z]/.test(t)&&!t.includes("/")||(t=null))}return t}function Pe(f){const t=new Uint8Array(f.length);for(let a=0,s=f.length;a<s;a++)t[a]=f.charCodeAt(a);return t}function le(f,t){const a=Math.pow(10,t),s=.01/a;return Math.round(f*a+s)/a}function pe(f,t){if(t===void 0){t=[];for(let s=0;s<f.length;++s)t.push(s)}for(let s=0;s<t.length;++s)if(t[s]>=f.length)throw new Error("Non valid dimension for toStringId");let a="";for(let s=0;s<t.length;++s)s!==0&&(a+="_"),a+="#"+t[s]+"-"+f[t[s]];return a}function Ae(f,t){return f!==null&&t!==null&&f!==void 0&&t!==void 0&&Ce(f.slice().sort(),t.slice().sort())}function Ce(f,t){return f!==null&&t!==null&&f!==void 0&&t!==void 0&&f.length===t.length&&f.every(function(a,s){return a===t[s]})}function Le(f){return String.fromCharCode.apply(String,f)}function J(f,t,a,s){(a===void 0||a<0||a>=f.length)&&(a=0),(s===void 0||s<=a||s>f.length)&&(s=f.length);for(let g=a;g<s;++g)if(t(f[g],g,f))return g}function ue(f){return function(t,a,s){for(let g=0;g<f.length;++g)if(s[a+g]!==f[g])return!1;return!0}}function U(f,t){const a=`\r
`;let s=0;const g=[];for(let V=0;V<f.length;++V){let z="";V!==0&&(z+=a),z+="--"+t+a;const Q=Object.keys(f[V]);for(let oe=0;oe<Q.length;++oe){const me=Q[oe];me!=="data"&&(z+=me+": "+f[V][me]+a)}z+=a;const ee=Pe(z);g.push(ee),s+=ee.byteLength+f[V].data.byteLength}const C=Pe(`\r
--`+t+"--"+a),L=new Uint8Array(s+C.byteLength);let k=0;for(let V=0;V<f.length;++V)L.set(g[V],k),k+=g[V].byteLength,L.set(new Uint8Array(f[V].data),k),k+=f[V].data.byteLength;return L.set(C,k),L}const fe={"0000":{"0000":["UL","1","CommandGroupLength"],"0001":["UL","1","CommandLengthToEnd"],"0002":["UI","1","AffectedSOPClassUID"],"0003":["UI","1","RequestedSOPClassUID"],"0010":["SH","1","CommandRecognitionCode"],"0100":["US","1","CommandField"],"0110":["US","1","MessageID"],"0120":["US","1","MessageIDBeingRespondedTo"],"0200":["AE","1","Initiator"],"0300":["AE","1","Receiver"],"0400":["AE","1","FindLocation"],"0600":["AE","1","MoveDestination"],"0700":["US","1","Priority"],"0800":["US","1","CommandDataSetType"],"0850":["US","1","NumberOfMatches"],"0860":["US","1","ResponseSequenceNumber"],"0900":["US","1","Status"],"0901":["AT","1-n","OffendingElement"],"0902":["LO","1","ErrorComment"],"0903":["US","1","ErrorID"],1e3:["UI","1","AffectedSOPInstanceUID"],1001:["UI","1","RequestedSOPInstanceUID"],1002:["US","1","EventTypeID"],1005:["AT","1-n","AttributeIdentifierList"],1008:["US","1","ActionTypeID"],1020:["US","1","NumberOfRemainingSuboperations"],1021:["US","1","NumberOfCompletedSuboperations"],1022:["US","1","NumberOfFailedSuboperations"],1023:["US","1","NumberOfWarningSuboperations"],1030:["AE","1","MoveOriginatorApplicationEntityTitle"],1031:["US","1","MoveOriginatorMessageID"],4e3:["LT","1","DialogReceiver"],4010:["LT","1","TerminalType"],5010:["SH","1","MessageSetID"],5020:["SH","1","EndMessageID"],5110:["LT","1","DisplayFormat"],5120:["LT","1","PagePositionID"],5130:["CS","1","TextFormatID"],5140:["CS","1","NormalReverse"],5150:["CS","1","AddGrayScale"],5160:["CS","1","Borders"],5170:["IS","1","Copies"],5180:["CS","1","CommandMagnificationType"],5190:["CS","1","Erase"],"51A0":["CS","1","Print"],"51B0":["US","1-n","Overlays"]},"0002":{"0000":["UL","1","FileMetaInformationGroupLength"],"0001":["OB","1","FileMetaInformationVersion"],"0002":["UI","1","MediaStorageSOPClassUID"],"0003":["UI","1","MediaStorageSOPInstanceUID"],"0010":["UI","1","TransferSyntaxUID"],"0012":["UI","1","ImplementationClassUID"],"0013":["SH","1","ImplementationVersionName"],"0016":["AE","1","SourceApplicationEntityTitle"],"0017":["AE","1","SendingApplicationEntityTitle"],"0018":["AE","1","ReceivingApplicationEntityTitle"],"0026":["UR","1","SourcePresentationAddress"],"0027":["UR","1","SendingPresentationAddress"],"0028":["UR","1","ReceivingPresentationAddress"],"0031":["OB","1","RTVMetaInformationVersion"],"0032":["UI","1","RTVCommunicationSOPClassUID"],"0033":["UI","1","RTVCommunicationSOPInstanceUID"],"0035":["OB","1","RTVSourceIdentifier"],"0036":["OB","1","RTVFlowIdentifier"],"0037":["UL","1","RTVFlowRTPSamplingRate"],"0038":["FD","1","RTVFlowActualFrameDuration"],"0100":["UI","1","PrivateInformationCreatorUID"],"0102":["OB","1","PrivateInformation"]},"0004":{"0000":["UL","1","GenericGroupLength"],1130:["CS","1","FileSetID"],1141:["CS","1-8","FileSetDescriptorFileID"],1142:["CS","1","SpecificCharacterSetOfFileSetDescriptorFile"],1200:["UL","1","OffsetOfTheFirstDirectoryRecordOfTheRootDirectoryEntity"],1202:["UL","1","OffsetOfTheLastDirectoryRecordOfTheRootDirectoryEntity"],1212:["US","1","FileSetConsistencyFlag"],1220:["SQ","1","DirectoryRecordSequence"],1400:["UL","1","OffsetOfTheNextDirectoryRecord"],1410:["US","1","RecordInUseFlag"],1420:["UL","1","OffsetOfReferencedLowerLevelDirectoryEntity"],1430:["CS","1","DirectoryRecordType"],1432:["UI","1","PrivateRecordUID"],1500:["CS","1-8","ReferencedFileID"],1504:["UL","1","MRDRDirectoryRecordOffset"],1510:["UI","1","ReferencedSOPClassUIDInFile"],1511:["UI","1","ReferencedSOPInstanceUIDInFile"],1512:["UI","1","ReferencedTransferSyntaxUIDInFile"],"151A":["UI","1-n","ReferencedRelatedGeneralSOPClassUIDInFile"],1600:["UL","1","NumberOfReferences"]},"0008":{"0000":["UL","1","GenericGroupLength"],"0001":["UL","1","LengthToEnd"],"0005":["CS","1-n","SpecificCharacterSet"],"0006":["SQ","1","LanguageCodeSequence"],"0008":["CS","2-n","ImageType"],"0010":["SH","1","RecognitionCode"],"0012":["DA","1","InstanceCreationDate"],"0013":["TM","1","InstanceCreationTime"],"0014":["UI","1","InstanceCreatorUID"],"0015":["DT","1","InstanceCoercionDateTime"],"0016":["UI","1","SOPClassUID"],"0018":["UI","1","SOPInstanceUID"],"001A":["UI","1-n","RelatedGeneralSOPClassUID"],"001B":["UI","1","OriginalSpecializedSOPClassUID"],"0020":["DA","1","StudyDate"],"0021":["DA","1","SeriesDate"],"0022":["DA","1","AcquisitionDate"],"0023":["DA","1","ContentDate"],"0024":["DA","1","OverlayDate"],"0025":["DA","1","CurveDate"],"002A":["DT","1","AcquisitionDateTime"],"0030":["TM","1","StudyTime"],"0031":["TM","1","SeriesTime"],"0032":["TM","1","AcquisitionTime"],"0033":["TM","1","ContentTime"],"0034":["TM","1","OverlayTime"],"0035":["TM","1","CurveTime"],"0040":["US","1","DataSetType"],"0041":["LO","1","DataSetSubtype"],"0042":["CS","1","NuclearMedicineSeriesType"],"0050":["SH","1","AccessionNumber"],"0051":["SQ","1","IssuerOfAccessionNumberSequence"],"0052":["CS","1","QueryRetrieveLevel"],"0053":["CS","1","QueryRetrieveView"],"0054":["AE","1-n","RetrieveAETitle"],"0055":["AE","1","StationAETitle"],"0056":["CS","1","InstanceAvailability"],"0058":["UI","1-n","FailedSOPInstanceUIDList"],"0060":["CS","1","Modality"],"0061":["CS","1-n","ModalitiesInStudy"],"0062":["UI","1-n","SOPClassesInStudy"],"0063":["SQ","1","AnatomicRegionsInStudyCodeSequence"],"0064":["CS","1","ConversionType"],"0068":["CS","1","PresentationIntentType"],"0070":["LO","1","Manufacturer"],"0080":["LO","1","InstitutionName"],"0081":["ST","1","InstitutionAddress"],"0082":["SQ","1","InstitutionCodeSequence"],"0090":["PN","1","ReferringPhysicianName"],"0092":["ST","1","ReferringPhysicianAddress"],"0094":["SH","1-n","ReferringPhysicianTelephoneNumbers"],"0096":["SQ","1","ReferringPhysicianIdentificationSequence"],"009C":["PN","1-n","ConsultingPhysicianName"],"009D":["SQ","1","ConsultingPhysicianIdentificationSequence"],"0100":["SH","1","CodeValue"],"0101":["LO","1","ExtendedCodeValue"],"0102":["SH","1","CodingSchemeDesignator"],"0103":["SH","1","CodingSchemeVersion"],"0104":["LO","1","CodeMeaning"],"0105":["CS","1","MappingResource"],"0106":["DT","1","ContextGroupVersion"],"0107":["DT","1","ContextGroupLocalVersion"],"0108":["LT","1","ExtendedCodeMeaning"],"0109":["SQ","1","CodingSchemeResourcesSequence"],"010A":["CS","1","CodingSchemeURLType"],"010B":["CS","1","ContextGroupExtensionFlag"],"010C":["UI","1","CodingSchemeUID"],"010D":["UI","1","ContextGroupExtensionCreatorUID"],"010E":["UR","1","CodingSchemeURL"],"010F":["CS","1","ContextIdentifier"],"0110":["SQ","1","CodingSchemeIdentificationSequence"],"0112":["LO","1","CodingSchemeRegistry"],"0114":["ST","1","CodingSchemeExternalID"],"0115":["ST","1","CodingSchemeName"],"0116":["ST","1","CodingSchemeResponsibleOrganization"],"0117":["UI","1","ContextUID"],"0118":["UI","1","MappingResourceUID"],"0119":["UC","1","LongCodeValue"],"0120":["UR","1","URNCodeValue"],"0121":["SQ","1","EquivalentCodeSequence"],"0122":["LO","1","MappingResourceName"],"0123":["SQ","1","ContextGroupIdentificationSequence"],"0124":["SQ","1","MappingResourceIdentificationSequence"],"0201":["SH","1","TimezoneOffsetFromUTC"],"0202":["","",""],"0220":["SQ","1","ResponsibleGroupCodeSequence"],"0221":["CS","1","EquipmentModality"],"0222":["LO","1","ManufacturerRelatedModelGroup"],"0300":["SQ","1","PrivateDataElementCharacteristicsSequence"],"0301":["US","1","PrivateGroupReference"],"0302":["LO","1","PrivateCreatorReference"],"0303":["CS","1","BlockIdentifyingInformationStatus"],"0304":["US","1-n","NonidentifyingPrivateElements"],"0305":["SQ","1","DeidentificationActionSequence"],"0306":["US","1-n","IdentifyingPrivateElements"],"0307":["CS","1","DeidentificationAction"],"0308":["US","1","PrivateDataElement"],"0309":["UL","1-3","PrivateDataElementValueMultiplicity"],"030A":["CS","1","PrivateDataElementValueRepresentation"],"030B":["UL","1-2","PrivateDataElementNumberOfItems"],"030C":["UC","1","PrivateDataElementName"],"030D":["UC","1","PrivateDataElementKeyword"],"030E":["UT","1","PrivateDataElementDescription"],"030F":["UT","1","PrivateDataElementEncoding"],"0310":["SQ","1","PrivateDataElementDefinitionSequence"],1e3:["AE","1","NetworkID"],1010:["SH","1","StationName"],1030:["LO","1","StudyDescription"],1032:["SQ","1","ProcedureCodeSequence"],"103E":["LO","1","SeriesDescription"],"103F":["SQ","1","SeriesDescriptionCodeSequence"],1040:["LO","1","InstitutionalDepartmentName"],1041:["SQ","1","InstitutionalDepartmentTypeCodeSequence"],1048:["PN","1-n","PhysiciansOfRecord"],1049:["SQ","1","PhysiciansOfRecordIdentificationSequence"],1050:["PN","1-n","PerformingPhysicianName"],1052:["SQ","1","PerformingPhysicianIdentificationSequence"],1060:["PN","1-n","NameOfPhysiciansReadingStudy"],1062:["SQ","1","PhysiciansReadingStudyIdentificationSequence"],1070:["PN","1-n","OperatorsName"],1072:["SQ","1","OperatorIdentificationSequence"],1080:["LO","1-n","AdmittingDiagnosesDescription"],1084:["SQ","1","AdmittingDiagnosesCodeSequence"],1090:["LO","1","ManufacturerModelName"],1100:["SQ","1","ReferencedResultsSequence"],1110:["SQ","1","ReferencedStudySequence"],1111:["SQ","1","ReferencedPerformedProcedureStepSequence"],1115:["SQ","1","ReferencedSeriesSequence"],1120:["SQ","1","ReferencedPatientSequence"],1125:["SQ","1","ReferencedVisitSequence"],1130:["SQ","1","ReferencedOverlaySequence"],1134:["SQ","1","ReferencedStereometricInstanceSequence"],"113A":["SQ","1","ReferencedWaveformSequence"],1140:["SQ","1","ReferencedImageSequence"],1145:["SQ","1","ReferencedCurveSequence"],"114A":["SQ","1","ReferencedInstanceSequence"],"114B":["SQ","1","ReferencedRealWorldValueMappingInstanceSequence"],1150:["UI","1","ReferencedSOPClassUID"],1155:["UI","1","ReferencedSOPInstanceUID"],1156:["SQ","1","DefinitionSourceSequence"],"115A":["UI","1-n","SOPClassesSupported"],1160:["IS","1-n","ReferencedFrameNumber"],1161:["UL","1-n","SimpleFrameList"],1162:["UL","3-3n","CalculatedFrameList"],1163:["FD","2","TimeRange"],1164:["SQ","1","FrameExtractionSequence"],1167:["UI","1","MultiFrameSourceSOPInstanceUID"],1190:["UR","1","RetrieveURL"],1195:["UI","1","TransactionUID"],1196:["US","1","WarningReason"],1197:["US","1","FailureReason"],1198:["SQ","1","FailedSOPSequence"],1199:["SQ","1","ReferencedSOPSequence"],"119A":["SQ","1","OtherFailuresSequence"],1200:["SQ","1","StudiesContainingOtherReferencedInstancesSequence"],1250:["SQ","1","RelatedSeriesSequence"],2110:["CS","1","LossyImageCompressionRetired"],2111:["ST","1","DerivationDescription"],2112:["SQ","1","SourceImageSequence"],2120:["SH","1","StageName"],2122:["IS","1","StageNumber"],2124:["IS","1","NumberOfStages"],2127:["SH","1","ViewName"],2128:["IS","1","ViewNumber"],2129:["IS","1","NumberOfEventTimers"],"212A":["IS","1","NumberOfViewsInStage"],2130:["DS","1-n","EventElapsedTimes"],2132:["LO","1-n","EventTimerNames"],2133:["SQ","1","EventTimerSequence"],2134:["FD","1","EventTimeOffset"],2135:["SQ","1","EventCodeSequence"],2142:["IS","1","StartTrim"],2143:["IS","1","StopTrim"],2144:["IS","1","RecommendedDisplayFrameRate"],2200:["CS","1","TransducerPosition"],2204:["CS","1","TransducerOrientation"],2208:["CS","1","AnatomicStructure"],2218:["SQ","1","AnatomicRegionSequence"],2220:["SQ","1","AnatomicRegionModifierSequence"],2228:["SQ","1","PrimaryAnatomicStructureSequence"],2229:["SQ","1","AnatomicStructureSpaceOrRegionSequence"],2230:["SQ","1","PrimaryAnatomicStructureModifierSequence"],2240:["SQ","1","TransducerPositionSequence"],2242:["SQ","1","TransducerPositionModifierSequence"],2244:["SQ","1","TransducerOrientationSequence"],2246:["SQ","1","TransducerOrientationModifierSequence"],2251:["SQ","1","AnatomicStructureSpaceOrRegionCodeSequenceTrial"],2253:["SQ","1","AnatomicPortalOfEntranceCodeSequenceTrial"],2255:["SQ","1","AnatomicApproachDirectionCodeSequenceTrial"],2256:["ST","1","AnatomicPerspectiveDescriptionTrial"],2257:["SQ","1","AnatomicPerspectiveCodeSequenceTrial"],2258:["ST","1","AnatomicLocationOfExaminingInstrumentDescriptionTrial"],2259:["SQ","1","AnatomicLocationOfExaminingInstrumentCodeSequenceTrial"],"225A":["SQ","1","AnatomicStructureSpaceOrRegionModifierCodeSequenceTrial"],"225C":["SQ","1","OnAxisBackgroundAnatomicStructureCodeSequenceTrial"],3001:["SQ","1","AlternateRepresentationSequence"],3002:["UI","1-n","AvailableTransferSyntaxUID"],3010:["UI","1-n","IrradiationEventUID"],3011:["SQ","1","SourceIrradiationEventSequence"],3012:["UI","1","RadiopharmaceuticalAdministrationEventUID"],4e3:["LT","1","IdentifyingComments"],9007:["CS","4","FrameType"],9092:["SQ","1","ReferencedImageEvidenceSequence"],9121:["SQ","1","ReferencedRawDataSequence"],9123:["UI","1","CreatorVersionUID"],9124:["SQ","1","DerivationImageSequence"],9154:["SQ","1","SourceImageEvidenceSequence"],9205:["CS","1","PixelPresentation"],9206:["CS","1","VolumetricProperties"],9207:["CS","1","VolumeBasedCalculationTechnique"],9208:["CS","1","ComplexImageComponent"],9209:["CS","1","AcquisitionContrast"],9215:["SQ","1","DerivationCodeSequence"],9237:["SQ","1","ReferencedPresentationStateSequence"],9410:["SQ","1","ReferencedOtherPlaneSequence"],9458:["SQ","1","FrameDisplaySequence"],9459:["FL","1","RecommendedDisplayFrameRateInFloat"],9460:["CS","1","SkipFrameRangeFlag"]},"0010":{"0000":["UL","1","GenericGroupLength"],"0010":["PN","1","PatientName"],"0020":["LO","1","PatientID"],"0021":["LO","1","IssuerOfPatientID"],"0022":["CS","1","TypeOfPatientID"],"0024":["SQ","1","IssuerOfPatientIDQualifiersSequence"],"0026":["SQ","1","SourcePatientGroupIdentificationSequence"],"0027":["SQ","1","GroupOfPatientsIdentificationSequence"],"0028":["US","3","SubjectRelativePositionInImage"],"0030":["DA","1","PatientBirthDate"],"0032":["TM","1","PatientBirthTime"],"0033":["LO","1","PatientBirthDateInAlternativeCalendar"],"0034":["LO","1","PatientDeathDateInAlternativeCalendar"],"0035":["CS","1","PatientAlternativeCalendar"],"0040":["CS","1","PatientSex"],"0050":["SQ","1","PatientInsurancePlanCodeSequence"],"0101":["SQ","1","PatientPrimaryLanguageCodeSequence"],"0102":["SQ","1","PatientPrimaryLanguageModifierCodeSequence"],"0200":["CS","1","QualityControlSubject"],"0201":["SQ","1","QualityControlSubjectTypeCodeSequence"],"0212":["UC","1","StrainDescription"],"0213":["LO","1","StrainNomenclature"],"0214":["LO","1","StrainStockNumber"],"0215":["SQ","1","StrainSourceRegistryCodeSequence"],"0216":["SQ","1","StrainStockSequence"],"0217":["LO","1","StrainSource"],"0218":["UT","1","StrainAdditionalInformation"],"0219":["SQ","1","StrainCodeSequence"],"0221":["SQ","1","GeneticModificationsSequence"],"0222":["UC","1","GeneticModificationsDescription"],"0223":["LO","1","GeneticModificationsNomenclature"],"0229":["SQ","1","GeneticModificationsCodeSequence"],1e3:["LO","1-n","OtherPatientIDs"],1001:["PN","1-n","OtherPatientNames"],1002:["SQ","1","OtherPatientIDsSequence"],1005:["PN","1","PatientBirthName"],1010:["AS","1","PatientAge"],1020:["DS","1","PatientSize"],1021:["SQ","1","PatientSizeCodeSequence"],1022:["DS","1","PatientBodyMassIndex"],1023:["DS","1","MeasuredAPDimension"],1024:["DS","1","MeasuredLateralDimension"],1030:["DS","1","PatientWeight"],1040:["LO","1","PatientAddress"],1050:["LO","1-n","InsurancePlanIdentification"],1060:["PN","1","PatientMotherBirthName"],1080:["LO","1","MilitaryRank"],1081:["LO","1","BranchOfService"],1090:["LO","1","MedicalRecordLocator"],1100:["SQ","1","ReferencedPatientPhotoSequence"],2e3:["LO","1-n","MedicalAlerts"],2110:["LO","1-n","Allergies"],2150:["LO","1","CountryOfResidence"],2152:["LO","1","RegionOfResidence"],2154:["SH","1-n","PatientTelephoneNumbers"],2155:["LT","1","PatientTelecomInformation"],2160:["SH","1","EthnicGroup"],2180:["SH","1","Occupation"],"21A0":["CS","1","SmokingStatus"],"21B0":["LT","1","AdditionalPatientHistory"],"21C0":["US","1","PregnancyStatus"],"21D0":["DA","1","LastMenstrualDate"],"21F0":["LO","1","PatientReligiousPreference"],2201:["LO","1","PatientSpeciesDescription"],2202:["SQ","1","PatientSpeciesCodeSequence"],2203:["CS","1","PatientSexNeutered"],2210:["CS","1","AnatomicalOrientationType"],2292:["LO","1","PatientBreedDescription"],2293:["SQ","1","PatientBreedCodeSequence"],2294:["SQ","1","BreedRegistrationSequence"],2295:["LO","1","BreedRegistrationNumber"],2296:["SQ","1","BreedRegistryCodeSequence"],2297:["PN","1","ResponsiblePerson"],2298:["CS","1","ResponsiblePersonRole"],2299:["LO","1","ResponsibleOrganization"],4e3:["LT","1","PatientComments"],9431:["FL","1","ExaminedBodyThickness"]},"0012":{"0000":["UL","1","GenericGroupLength"],"0010":["LO","1","ClinicalTrialSponsorName"],"0020":["LO","1","ClinicalTrialProtocolID"],"0021":["LO","1","ClinicalTrialProtocolName"],"0030":["LO","1","ClinicalTrialSiteID"],"0031":["LO","1","ClinicalTrialSiteName"],"0040":["LO","1","ClinicalTrialSubjectID"],"0042":["LO","1","ClinicalTrialSubjectReadingID"],"0050":["LO","1","ClinicalTrialTimePointID"],"0051":["ST","1","ClinicalTrialTimePointDescription"],"0052":["FD","1","LongitudinalTemporalOffsetFromEvent"],"0053":["CS","1","LongitudinalTemporalEventType"],"0060":["LO","1","ClinicalTrialCoordinatingCenterName"],"0062":["CS","1","PatientIdentityRemoved"],"0063":["LO","1-n","DeidentificationMethod"],"0064":["SQ","1","DeidentificationMethodCodeSequence"],"0071":["LO","1","ClinicalTrialSeriesID"],"0072":["LO","1","ClinicalTrialSeriesDescription"],"0081":["LO","1","ClinicalTrialProtocolEthicsCommitteeName"],"0082":["LO","1","ClinicalTrialProtocolEthicsCommitteeApprovalNumber"],"0083":["SQ","1","ConsentForClinicalTrialUseSequence"],"0084":["CS","1","DistributionType"],"0085":["CS","1","ConsentForDistributionFlag"],"0086":["DA","1","EthicsCommitteeApprovalEffectivenessStartDate"],"0087":["DA","1","EthicsCommitteeApprovalEffectivenessEndDate"]},"0014":{"0000":["UL","1","GenericGroupLength"],"0023":["ST","1","CADFileFormat"],"0024":["ST","1","ComponentReferenceSystem"],"0025":["ST","1","ComponentManufacturingProcedure"],"0028":["ST","1","ComponentManufacturer"],"0030":["DS","1-n","MaterialThickness"],"0032":["DS","1-n","MaterialPipeDiameter"],"0034":["DS","1-n","MaterialIsolationDiameter"],"0042":["ST","1","MaterialGrade"],"0044":["ST","1","MaterialPropertiesDescription"],"0045":["ST","1","MaterialPropertiesFileFormatRetired"],"0046":["LT","1","MaterialNotes"],"0050":["CS","1","ComponentShape"],"0052":["CS","1","CurvatureType"],"0054":["DS","1","OuterDiameter"],"0056":["DS","1","InnerDiameter"],"0100":["LO","1-n","ComponentWelderIDs"],"0101":["CS","1","SecondaryApprovalStatus"],"0102":["DA","1","SecondaryReviewDate"],"0103":["TM","1","SecondaryReviewTime"],"0104":["PN","1","SecondaryReviewerName"],"0105":["ST","1","RepairID"],"0106":["SQ","1","MultipleComponentApprovalSequence"],"0107":["CS","1-n","OtherApprovalStatus"],"0108":["CS","1-n","OtherSecondaryApprovalStatus"],1010:["ST","1","ActualEnvironmentalConditions"],1020:["DA","1","ExpiryDate"],1040:["ST","1","EnvironmentalConditions"],2002:["SQ","1","EvaluatorSequence"],2004:["IS","1","EvaluatorNumber"],2006:["PN","1","EvaluatorName"],2008:["IS","1","EvaluationAttempt"],2012:["SQ","1","IndicationSequence"],2014:["IS","1","IndicationNumber"],2016:["SH","1","IndicationLabel"],2018:["ST","1","IndicationDescription"],"201A":["CS","1-n","IndicationType"],"201C":["CS","1","IndicationDisposition"],"201E":["SQ","1","IndicationROISequence"],2030:["SQ","1","IndicationPhysicalPropertySequence"],2032:["SH","1","PropertyLabel"],2202:["IS","1","CoordinateSystemNumberOfAxes"],2204:["SQ","1","CoordinateSystemAxesSequence"],2206:["ST","1","CoordinateSystemAxisDescription"],2208:["CS","1","CoordinateSystemDataSetMapping"],"220A":["IS","1","CoordinateSystemAxisNumber"],"220C":["CS","1","CoordinateSystemAxisType"],"220E":["CS","1","CoordinateSystemAxisUnits"],2210:["OB","1","CoordinateSystemAxisValues"],2220:["SQ","1","CoordinateSystemTransformSequence"],2222:["ST","1","TransformDescription"],2224:["IS","1","TransformNumberOfAxes"],2226:["IS","1-n","TransformOrderOfAxes"],2228:["CS","1","TransformedAxisUnits"],"222A":["DS","1-n","CoordinateSystemTransformRotationAndScaleMatrix"],"222C":["DS","1-n","CoordinateSystemTransformTranslationMatrix"],3011:["DS","1","InternalDetectorFrameTime"],3012:["DS","1","NumberOfFramesIntegrated"],3020:["SQ","1","DetectorTemperatureSequence"],3022:["ST","1","SensorName"],3024:["DS","1","HorizontalOffsetOfSensor"],3026:["DS","1","VerticalOffsetOfSensor"],3028:["DS","1","SensorTemperature"],3040:["SQ","1","DarkCurrentSequence"],3050:["ox","1","DarkCurrentCounts"],3060:["SQ","1","GainCorrectionReferenceSequence"],3070:["ox","1","AirCounts"],3071:["DS","1","KVUsedInGainCalibration"],3072:["DS","1","MAUsedInGainCalibration"],3073:["DS","1","NumberOfFramesUsedForIntegration"],3074:["LO","1","FilterMaterialUsedInGainCalibration"],3075:["DS","1","FilterThicknessUsedInGainCalibration"],3076:["DA","1","DateOfGainCalibration"],3077:["TM","1","TimeOfGainCalibration"],3080:["OB","1","BadPixelImage"],3099:["LT","1","CalibrationNotes"],3100:["LT","1","LinearityCorrectionTechnique"],3101:["LT","1","BeamHardeningCorrectionTechnique"],4002:["SQ","1","PulserEquipmentSequence"],4004:["CS","1","PulserType"],4006:["LT","1","PulserNotes"],4008:["SQ","1","ReceiverEquipmentSequence"],"400A":["CS","1","AmplifierType"],"400C":["LT","1","ReceiverNotes"],"400E":["SQ","1","PreAmplifierEquipmentSequence"],"400F":["LT","1","PreAmplifierNotes"],4010:["SQ","1","TransmitTransducerSequence"],4011:["SQ","1","ReceiveTransducerSequence"],4012:["US","1","NumberOfElements"],4013:["CS","1","ElementShape"],4014:["DS","1","ElementDimensionA"],4015:["DS","1","ElementDimensionB"],4016:["DS","1","ElementPitchA"],4017:["DS","1","MeasuredBeamDimensionA"],4018:["DS","1","MeasuredBeamDimensionB"],4019:["DS","1","LocationOfMeasuredBeamDiameter"],"401A":["DS","1","NominalFrequency"],"401B":["DS","1","MeasuredCenterFrequency"],"401C":["DS","1","MeasuredBandwidth"],"401D":["DS","1","ElementPitchB"],4020:["SQ","1","PulserSettingsSequence"],4022:["DS","1","PulseWidth"],4024:["DS","1","ExcitationFrequency"],4026:["CS","1","ModulationType"],4028:["DS","1","Damping"],4030:["SQ","1","ReceiverSettingsSequence"],4031:["DS","1","AcquiredSoundpathLength"],4032:["CS","1","AcquisitionCompressionType"],4033:["IS","1","AcquisitionSampleSize"],4034:["DS","1","RectifierSmoothing"],4035:["SQ","1","DACSequence"],4036:["CS","1","DACType"],4038:["DS","1-n","DACGainPoints"],"403A":["DS","1-n","DACTimePoints"],"403C":["DS","1-n","DACAmplitude"],4040:["SQ","1","PreAmplifierSettingsSequence"],4050:["SQ","1","TransmitTransducerSettingsSequence"],4051:["SQ","1","ReceiveTransducerSettingsSequence"],4052:["DS","1","IncidentAngle"],4054:["ST","1","CouplingTechnique"],4056:["ST","1","CouplingMedium"],4057:["DS","1","CouplingVelocity"],4058:["DS","1","ProbeCenterLocationX"],4059:["DS","1","ProbeCenterLocationZ"],"405A":["DS","1","SoundPathLength"],"405C":["ST","1","DelayLawIdentifier"],4060:["SQ","1","GateSettingsSequence"],4062:["DS","1","GateThreshold"],4064:["DS","1","VelocityOfSound"],4070:["SQ","1","CalibrationSettingsSequence"],4072:["ST","1","CalibrationProcedure"],4074:["SH","1","ProcedureVersion"],4076:["DA","1","ProcedureCreationDate"],4078:["DA","1","ProcedureExpirationDate"],"407A":["DA","1","ProcedureLastModifiedDate"],"407C":["TM","1-n","CalibrationTime"],"407E":["DA","1-n","CalibrationDate"],4080:["SQ","1","ProbeDriveEquipmentSequence"],4081:["CS","1","DriveType"],4082:["LT","1","ProbeDriveNotes"],4083:["SQ","1","DriveProbeSequence"],4084:["DS","1","ProbeInductance"],4085:["DS","1","ProbeResistance"],4086:["SQ","1","ReceiveProbeSequence"],4087:["SQ","1","ProbeDriveSettingsSequence"],4088:["DS","1","BridgeResistors"],4089:["DS","1","ProbeOrientationAngle"],"408B":["DS","1","UserSelectedGainY"],"408C":["DS","1","UserSelectedPhase"],"408D":["DS","1","UserSelectedOffsetX"],"408E":["DS","1","UserSelectedOffsetY"],4091:["SQ","1","ChannelSettingsSequence"],4092:["DS","1","ChannelThreshold"],"409A":["SQ","1","ScannerSettingsSequence"],"409B":["ST","1","ScanProcedure"],"409C":["DS","1","TranslationRateX"],"409D":["DS","1","TranslationRateY"],"409F":["DS","1","ChannelOverlap"],"40A0":["LO","1-n","ImageQualityIndicatorType"],"40A1":["LO","1-n","ImageQualityIndicatorMaterial"],"40A2":["LO","1-n","ImageQualityIndicatorSize"],5002:["IS","1","LINACEnergy"],5004:["IS","1","LINACOutput"],5100:["US","1","ActiveAperture"],5101:["DS","1","TotalAperture"],5102:["DS","1","ApertureElevation"],5103:["DS","1","MainLobeAngle"],5104:["DS","1","MainRoofAngle"],5105:["CS","1","ConnectorType"],5106:["SH","1","WedgeModelNumber"],5107:["DS","1","WedgeAngleFloat"],5108:["DS","1","WedgeRoofAngle"],5109:["CS","1","WedgeElement1Position"],"510A":["DS","1","WedgeMaterialVelocity"],"510B":["SH","1","WedgeMaterial"],"510C":["DS","1","WedgeOffsetZ"],"510D":["DS","1","WedgeOriginOffsetX"],"510E":["DS","1","WedgeTimeDelay"],"510F":["SH","1","WedgeName"],5110:["SH","1","WedgeManufacturerName"],5111:["LO","1","WedgeDescription"],5112:["DS","1","NominalBeamAngle"],5113:["DS","1","WedgeOffsetX"],5114:["DS","1","WedgeOffsetY"],5115:["DS","1","WedgeTotalLength"],5116:["DS","1","WedgeInContactLength"],5117:["DS","1","WedgeFrontGap"],5118:["DS","1","WedgeTotalHeight"],5119:["DS","1","WedgeFrontHeight"],"511A":["DS","1","WedgeRearHeight"],"511B":["DS","1","WedgeTotalWidth"],"511C":["DS","1","WedgeInContactWidth"],"511D":["DS","1","WedgeChamferHeight"],"511E":["CS","1","WedgeCurve"],"511F":["DS","1","RadiusAlongWedge"]},"0016":{"0000":["UL","1","GenericGroupLength"],"0001":["DS","1","WhitePoint"],"0002":["DS","3","PrimaryChromaticities"],"0003":["UT","1","BatteryLevel"],"0004":["DS","1","ExposureTimeInSeconds"],"0005":["DS","1","FNumber"],"0006":["IS","1","OECFRows"],"0007":["IS","1","OECFColumns"],"0008":["UC","1-n","OECFColumnNames"],"0009":["DS","1-n","OECFValues"],"000A":["IS","1","SpatialFrequencyResponseRows"],"000B":["IS","1","SpatialFrequencyResponseColumns"],"000C":["UC","1-n","SpatialFrequencyResponseColumnNames"],"000D":["DS","1-n","SpatialFrequencyResponseValues"],"000E":["IS","1","ColorFilterArrayPatternRows"],"000F":["IS","1","ColorFilterArrayPatternColumns"],"0010":["DS","1-n","ColorFilterArrayPatternValues"],"0011":["US","1","FlashFiringStatus"],"0012":["US","1","FlashReturnStatus"],"0013":["US","1","FlashMode"],"0014":["US","1","FlashFunctionPresent"],"0015":["US","1","FlashRedEyeMode"],"0016":["US","1","ExposureProgram"],"0017":["UT","1","SpectralSensitivity"],"0018":["IS","1","PhotographicSensitivity"],"0019":["IS","1","SelfTimerMode"],"001A":["US","1","SensitivityType"],"001B":["IS","1","StandardOutputSensitivity"],"001C":["IS","1","RecommendedExposureIndex"],"001D":["IS","1","ISOSpeed"],"001E":["IS","1","ISOSpeedLatitudeyyy"],"001F":["IS","1","ISOSpeedLatitudezzz"],"0020":["UT","1","EXIFVersion"],"0021":["DS","1","ShutterSpeedValue"],"0022":["DS","1","ApertureValue"],"0023":["DS","1","BrightnessValue"],"0024":["DS","1","ExposureBiasValue"],"0025":["DS","1","MaxApertureValue"],"0026":["DS","1","SubjectDistance"],"0027":["US","1","MeteringMode"],"0028":["US","1","LightSource"],"0029":["DS","1","FocalLength"],"002A":["IS","2-4","SubjectArea"],"002B":["OB","1","MakerNote"],"0030":["DS","1","Temperature"],"0031":["DS","1","Humidity"],"0032":["DS","1","Pressure"],"0033":["DS","1","WaterDepth"],"0034":["DS","1","Acceleration"],"0035":["DS","1","CameraElevationAngle"],"0036":["DS","1-2","FlashEnergy"],"0037":["IS","2","SubjectLocation"],"0038":["DS","1","PhotographicExposureIndex"],"0039":["US","1","SensingMethod"],"003A":["US","1","FileSource"],"003B":["US","1","SceneType"],"0041":["US","1","CustomRendered"],"0042":["US","1","ExposureMode"],"0043":["US","1","WhiteBalance"],"0044":["DS","1","DigitalZoomRatio"],"0045":["IS","1","FocalLengthIn35mmFilm"],"0046":["US","1","SceneCaptureType"],"0047":["US","1","GainControl"],"0048":["US","1","Contrast"],"0049":["US","1","Saturation"],"004A":["US","1","Sharpness"],"004B":["OB","1","DeviceSettingDescription"],"004C":["US","1","SubjectDistanceRange"],"004D":["UT","1","CameraOwnerName"],"004E":["DS","4","LensSpecification"],"004F":["UT","1","LensMake"],"0050":["UT","1","LensModel"],"0051":["UT","1","LensSerialNumber"],"0061":["CS","1","InteroperabilityIndex"],"0062":["OB","1","InteroperabilityVersion"],"0070":["OB","1","GPSVersionID"],"0071":["CS","1","GPSLatitudeRef"],"0072":["DS","3","GPSLatitude"],"0073":["CS","1","GPSLongitudeRef"],"0074":["DS","3","GPSLongitude"],"0075":["US","1","GPSAltitudeRef"],"0076":["DS","1","GPSAltitude"],"0077":["DT","1","GPSTimeStamp"],"0078":["UT","1","GPSSatellites"],"0079":["CS","1","GPSStatus"],"007A":["CS","1","GPSMeasureMode"],"007B":["DS","1","GPSDOP"],"007C":["CS","1","GPSSpeedRef"],"007D":["DS","1","GPSSpeed"],"007E":["CS","1","GPSTrackRef"],"007F":["DS","1","GPSTrack"],"0080":["CS","1","GPSImgDirectionRef"],"0081":["DS","1","GPSImgDirection"],"0082":["UT","1","GPSMapDatum"],"0083":["CS","1","GPSDestLatitudeRef"],"0084":["DS","3","GPSDestLatitude"],"0085":["CS","1","GPSDestLongitudeRef"],"0086":["DS","3","GPSDestLongitude"],"0087":["CS","1","GPSDestBearingRef"],"0088":["DS","1","GPSDestBearing"],"0089":["CS","1","GPSDestDistanceRef"],"008A":["DS","1","GPSDestDistance"],"008B":["OB","1","GPSProcessingMethod"],"008C":["OB","1","GPSAreaInformation"],"008D":["DT","1","GPSDateStamp"],"008E":["IS","1","GPSDifferential"],1001:["CS","1","LightSourcePolarization"],1002:["DS","1","EmitterColorTemperature"],1003:["CS","1","ContactMethod"],1004:["CS","1-n","ImmersionMedia"],1005:["DS","1","OpticalMagnificationFactor"]},"0018":{"0000":["UL","1","GenericGroupLength"],"0010":["LO","1","ContrastBolusAgent"],"0012":["SQ","1","ContrastBolusAgentSequence"],"0013":["FL","1","ContrastBolusT1Relaxivity"],"0014":["SQ","1","ContrastBolusAdministrationRouteSequence"],"0015":["CS","1","BodyPartExamined"],"0020":["CS","1-n","ScanningSequence"],"0021":["CS","1-n","SequenceVariant"],"0022":["CS","1-n","ScanOptions"],"0023":["CS","1","MRAcquisitionType"],"0024":["SH","1","SequenceName"],"0025":["CS","1","AngioFlag"],"0026":["SQ","1","InterventionDrugInformationSequence"],"0027":["TM","1","InterventionDrugStopTime"],"0028":["DS","1","InterventionDrugDose"],"0029":["SQ","1","InterventionDrugCodeSequence"],"002A":["SQ","1","AdditionalDrugSequence"],"0030":["LO","1-n","Radionuclide"],"0031":["LO","1","Radiopharmaceutical"],"0032":["DS","1","EnergyWindowCenterline"],"0033":["DS","1-n","EnergyWindowTotalWidth"],"0034":["LO","1","InterventionDrugName"],"0035":["TM","1","InterventionDrugStartTime"],"0036":["SQ","1","InterventionSequence"],"0037":["CS","1","TherapyType"],"0038":["CS","1","InterventionStatus"],"0039":["CS","1","TherapyDescription"],"003A":["ST","1","InterventionDescription"],"0040":["IS","1","CineRate"],"0042":["CS","1","InitialCineRunState"],"0050":["DS","1","SliceThickness"],"0060":["DS","1","KVP"],"0061":["DS","1",""],"0070":["IS","1","CountsAccumulated"],"0071":["CS","1","AcquisitionTerminationCondition"],"0072":["DS","1","EffectiveDuration"],"0073":["CS","1","AcquisitionStartCondition"],"0074":["IS","1","AcquisitionStartConditionData"],"0075":["IS","1","AcquisitionTerminationConditionData"],"0080":["DS","1","RepetitionTime"],"0081":["DS","1","EchoTime"],"0082":["DS","1","InversionTime"],"0083":["DS","1","NumberOfAverages"],"0084":["DS","1","ImagingFrequency"],"0085":["SH","1","ImagedNucleus"],"0086":["IS","1-n","EchoNumbers"],"0087":["DS","1","MagneticFieldStrength"],"0088":["DS","1","SpacingBetweenSlices"],"0089":["IS","1","NumberOfPhaseEncodingSteps"],"0090":["DS","1","DataCollectionDiameter"],"0091":["IS","1","EchoTrainLength"],"0093":["DS","1","PercentSampling"],"0094":["DS","1","PercentPhaseFieldOfView"],"0095":["DS","1","PixelBandwidth"],1e3:["LO","1","DeviceSerialNumber"],1002:["UI","1","DeviceUID"],1003:["LO","1","DeviceID"],1004:["LO","1","PlateID"],1005:["LO","1","GeneratorID"],1006:["LO","1","GridID"],1007:["LO","1","CassetteID"],1008:["LO","1","GantryID"],1009:["UT","1","UniqueDeviceIdentifier"],"100A":["SQ","1","UDISequence"],"100B":["UI","1-n","ManufacturerDeviceClassUID"],1010:["LO","1","SecondaryCaptureDeviceID"],1011:["LO","1","HardcopyCreationDeviceID"],1012:["DA","1","DateOfSecondaryCapture"],1014:["TM","1","TimeOfSecondaryCapture"],1016:["LO","1","SecondaryCaptureDeviceManufacturer"],1017:["LO","1","HardcopyDeviceManufacturer"],1018:["LO","1","SecondaryCaptureDeviceManufacturerModelName"],1019:["LO","1-n","SecondaryCaptureDeviceSoftwareVersions"],"101A":["LO","1-n","HardcopyDeviceSoftwareVersion"],"101B":["LO","1","HardcopyDeviceManufacturerModelName"],1020:["LO","1-n","SoftwareVersions"],1022:["SH","1","VideoImageFormatAcquired"],1023:["LO","1","DigitalImageFormatAcquired"],1030:["LO","1","ProtocolName"],1040:["LO","1","ContrastBolusRoute"],1041:["DS","1","ContrastBolusVolume"],1042:["TM","1","ContrastBolusStartTime"],1043:["TM","1","ContrastBolusStopTime"],1044:["DS","1","ContrastBolusTotalDose"],1045:["IS","1","SyringeCounts"],1046:["DS","1-n","ContrastFlowRate"],1047:["DS","1-n","ContrastFlowDuration"],1048:["CS","1","ContrastBolusIngredient"],1049:["DS","1","ContrastBolusIngredientConcentration"],1050:["DS","1","SpatialResolution"],1060:["DS","1","TriggerTime"],1061:["LO","1","TriggerSourceOrType"],1062:["IS","1","NominalInterval"],1063:["DS","1","FrameTime"],1064:["LO","1","CardiacFramingType"],1065:["DS","1-n","FrameTimeVector"],1066:["DS","1","FrameDelay"],1067:["DS","1","ImageTriggerDelay"],1068:["DS","1","MultiplexGroupTimeOffset"],1069:["DS","1","TriggerTimeOffset"],"106A":["CS","1","SynchronizationTrigger"],"106C":["US","2","SynchronizationChannel"],"106E":["UL","1","TriggerSamplePosition"],1070:["LO","1","RadiopharmaceuticalRoute"],1071:["DS","1","RadiopharmaceuticalVolume"],1072:["TM","1","RadiopharmaceuticalStartTime"],1073:["TM","1","RadiopharmaceuticalStopTime"],1074:["DS","1","RadionuclideTotalDose"],1075:["DS","1","RadionuclideHalfLife"],1076:["DS","1","RadionuclidePositronFraction"],1077:["DS","1","RadiopharmaceuticalSpecificActivity"],1078:["DT","1","RadiopharmaceuticalStartDateTime"],1079:["DT","1","RadiopharmaceuticalStopDateTime"],1080:["CS","1","BeatRejectionFlag"],1081:["IS","1","LowRRValue"],1082:["IS","1","HighRRValue"],1083:["IS","1","IntervalsAcquired"],1084:["IS","1","IntervalsRejected"],1085:["LO","1","PVCRejection"],1086:["IS","1","SkipBeats"],1088:["IS","1","HeartRate"],1090:["IS","1","CardiacNumberOfImages"],1094:["IS","1","TriggerWindow"],1100:["DS","1","ReconstructionDiameter"],1110:["DS","1","DistanceSourceToDetector"],1111:["DS","1","DistanceSourceToPatient"],1114:["DS","1","EstimatedRadiographicMagnificationFactor"],1120:["DS","1","GantryDetectorTilt"],1121:["DS","1","GantryDetectorSlew"],1130:["DS","1","TableHeight"],1131:["DS","1","TableTraverse"],1134:["CS","1","TableMotion"],1135:["DS","1-n","TableVerticalIncrement"],1136:["DS","1-n","TableLateralIncrement"],1137:["DS","1-n","TableLongitudinalIncrement"],1138:["DS","1","TableAngle"],"113A":["CS","1","TableType"],1140:["CS","1","RotationDirection"],1141:["DS","1","AngularPosition"],1142:["DS","1-n","RadialPosition"],1143:["DS","1","ScanArc"],1144:["DS","1","AngularStep"],1145:["DS","1","CenterOfRotationOffset"],1146:["DS","1-n","RotationOffset"],1147:["CS","1","FieldOfViewShape"],1149:["IS","1-2","FieldOfViewDimensions"],1150:["IS","1","ExposureTime"],1151:["IS","1","XRayTubeCurrent"],1152:["IS","1","Exposure"],1153:["IS","1","ExposureInuAs"],1154:["DS","1","AveragePulseWidth"],1155:["CS","1","RadiationSetting"],1156:["CS","1","RectificationType"],"115A":["CS","1","RadiationMode"],"115E":["DS","1","ImageAndFluoroscopyAreaDoseProduct"],1160:["SH","1","FilterType"],1161:["LO","1-n","TypeOfFilters"],1162:["DS","1","IntensifierSize"],1164:["DS","2","ImagerPixelSpacing"],1166:["CS","1-n","Grid"],1170:["IS","1","GeneratorPower"],1180:["SH","1","CollimatorGridName"],1181:["CS","1","CollimatorType"],1182:["IS","1-2","FocalDistance"],1183:["DS","1-2","XFocusCenter"],1184:["DS","1-2","YFocusCenter"],1190:["DS","1-n","FocalSpots"],1191:["CS","1","AnodeTargetMaterial"],"11A0":["DS","1","BodyPartThickness"],"11A2":["DS","1","CompressionForce"],"11A3":["DS","1","CompressionPressure"],"11A4":["LO","1","PaddleDescription"],"11A5":["DS","1","CompressionContactArea"],"11B0":["LO","1","AcquisitionMode"],"11B1":["LO","1","DoseModeName"],"11B2":["CS","1","AcquiredSubtractionMaskFlag"],"11B3":["CS","1","FluoroscopyPersistenceFlag"],"11B4":["CS","1","FluoroscopyLastImageHoldPersistenceFlag"],"11B5":["IS","1","UpperLimitNumberOfPersistentFluoroscopyFrames"],"11B6":["CS","1","ContrastBolusAutoInjectionTriggerFlag"],"11B7":["FD","1","ContrastBolusInjectionDelay"],"11B8":["SQ","1","XAAcquisitionPhaseDetailsSequence"],"11B9":["FD","1","XAAcquisitionFrameRate"],"11BA":["SQ","1","XAPlaneDetailsSequence"],"11BB":["LO","1","AcquisitionFieldOfViewLabel"],"11BC":["SQ","1","XRayFilterDetailsSequence"],"11BD":["FD","1","XAAcquisitionDuration"],"11BE":["CS","1","ReconstructionPipelineType"],"11BF":["SQ","1","ImageFilterDetailsSequence"],"11C0":["CS","1","AppliedMaskSubtractionFlag"],"11C1":["SQ","1","RequestedSeriesDescriptionCodeSequence"],1200:["DA","1-n","DateOfLastCalibration"],1201:["TM","1-n","TimeOfLastCalibration"],1202:["DT","1","DateTimeOfLastCalibration"],1203:["DT","1","CalibrationDateTime"],1210:["SH","1-n","ConvolutionKernel"],1240:["IS","1-n","UpperLowerPixelValues"],1242:["IS","1","ActualFrameDuration"],1243:["IS","1","CountRate"],1244:["US","1","PreferredPlaybackSequencing"],1250:["SH","1","ReceiveCoilName"],1251:["SH","1","TransmitCoilName"],1260:["SH","1","PlateType"],1261:["LO","1","PhosphorType"],1271:["FD","1","WaterEquivalentDiameter"],1272:["SQ","1","WaterEquivalentDiameterCalculationMethodCodeSequence"],1300:["DS","1","ScanVelocity"],1301:["CS","1-n","WholeBodyTechnique"],1302:["IS","1","ScanLength"],1310:["US","4","AcquisitionMatrix"],1312:["CS","1","InPlanePhaseEncodingDirection"],1314:["DS","1","FlipAngle"],1315:["CS","1","VariableFlipAngleFlag"],1316:["DS","1","SAR"],1318:["DS","1","dBdt"],1320:["FL","1","B1rms"],1400:["LO","1","AcquisitionDeviceProcessingDescription"],1401:["LO","1","AcquisitionDeviceProcessingCode"],1402:["CS","1","CassetteOrientation"],1403:["CS","1","CassetteSize"],1404:["US","1","ExposuresOnPlate"],1405:["IS","1","RelativeXRayExposure"],1411:["DS","1","ExposureIndex"],1412:["DS","1","TargetExposureIndex"],1413:["DS","1","DeviationIndex"],1450:["DS","1","ColumnAngulation"],1460:["DS","1","TomoLayerHeight"],1470:["DS","1","TomoAngle"],1480:["DS","1","TomoTime"],1490:["CS","1","TomoType"],1491:["CS","1","TomoClass"],1495:["IS","1","NumberOfTomosynthesisSourceImages"],1500:["CS","1","PositionerMotion"],1508:["CS","1","PositionerType"],1510:["DS","1","PositionerPrimaryAngle"],1511:["DS","1","PositionerSecondaryAngle"],1520:["DS","1-n","PositionerPrimaryAngleIncrement"],1521:["DS","1-n","PositionerSecondaryAngleIncrement"],1530:["DS","1","DetectorPrimaryAngle"],1531:["DS","1","DetectorSecondaryAngle"],1600:["CS","1-3","ShutterShape"],1602:["IS","1","ShutterLeftVerticalEdge"],1604:["IS","1","ShutterRightVerticalEdge"],1606:["IS","1","ShutterUpperHorizontalEdge"],1608:["IS","1","ShutterLowerHorizontalEdge"],1610:["IS","2","CenterOfCircularShutter"],1612:["IS","1","RadiusOfCircularShutter"],1620:["IS","2-2n","VerticesOfThePolygonalShutter"],1622:["US","1","ShutterPresentationValue"],1623:["US","1","ShutterOverlayGroup"],1624:["US","3","ShutterPresentationColorCIELabValue"],1630:["CS","1","OutlineShapeType"],1631:["FD","1","OutlineLeftVerticalEdge"],1632:["FD","1","OutlineRightVerticalEdge"],1633:["FD","1","OutlineUpperHorizontalEdge"],1634:["FD","1","OutlineLowerHorizontalEdge"],1635:["FD","2","CenterOfCircularOutline"],1636:["FD","1","DiameterOfCircularOutline"],1637:["UL","1","NumberOfPolygonalVertices"],1638:["OF","1","VerticesOfThePolygonalOutline"],1700:["CS","1-3","CollimatorShape"],1702:["IS","1","CollimatorLeftVerticalEdge"],1704:["IS","1","CollimatorRightVerticalEdge"],1706:["IS","1","CollimatorUpperHorizontalEdge"],1708:["IS","1","CollimatorLowerHorizontalEdge"],1710:["IS","2","CenterOfCircularCollimator"],1712:["IS","1","RadiusOfCircularCollimator"],1720:["IS","2-2n","VerticesOfThePolygonalCollimator"],1800:["CS","1","AcquisitionTimeSynchronized"],1801:["SH","1","TimeSource"],1802:["CS","1","TimeDistributionProtocol"],1803:["LO","1","NTPSourceAddress"],2001:["IS","1-n","PageNumberVector"],2002:["SH","1-n","FrameLabelVector"],2003:["DS","1-n","FramePrimaryAngleVector"],2004:["DS","1-n","FrameSecondaryAngleVector"],2005:["DS","1-n","SliceLocationVector"],2006:["SH","1-n","DisplayWindowLabelVector"],2010:["DS","2","NominalScannedPixelSpacing"],2020:["CS","1","DigitizingDeviceTransportDirection"],2030:["DS","1","RotationOfScannedFilm"],2041:["SQ","1","BiopsyTargetSequence"],2042:["UI","1","TargetUID"],2043:["FL","2","LocalizingCursorPosition"],2044:["FL","3","CalculatedTargetPosition"],2045:["SH","1","TargetLabel"],2046:["FL","1","DisplayedZValue"],3100:["CS","1","IVUSAcquisition"],3101:["DS","1","IVUSPullbackRate"],3102:["DS","1","IVUSGatedRate"],3103:["IS","1","IVUSPullbackStartFrameNumber"],3104:["IS","1","IVUSPullbackStopFrameNumber"],3105:["IS","1-n","LesionNumber"],4e3:["LT","1","AcquisitionComments"],5e3:["SH","1-n","OutputPower"],5010:["LO","1-n","TransducerData"],5011:["SQ","1","TransducerIdentificationSequence"],5012:["DS","1","FocusDepth"],5020:["LO","1","ProcessingFunction"],5021:["LO","1","PostprocessingFunction"],5022:["DS","1","MechanicalIndex"],5024:["DS","1","BoneThermalIndex"],5026:["DS","1","CranialThermalIndex"],5027:["DS","1","SoftTissueThermalIndex"],5028:["DS","1","SoftTissueFocusThermalIndex"],5029:["DS","1","SoftTissueSurfaceThermalIndex"],5030:["DS","1","DynamicRange"],5040:["DS","1","TotalGain"],5050:["IS","1","DepthOfScanField"],5100:["CS","1","PatientPosition"],5101:["CS","1","ViewPosition"],5104:["SQ","1","ProjectionEponymousNameCodeSequence"],5210:["DS","6","ImageTransformationMatrix"],5212:["DS","3","ImageTranslationVector"],6e3:["DS","1","Sensitivity"],6011:["SQ","1","SequenceOfUltrasoundRegions"],6012:["US","1","RegionSpatialFormat"],6014:["US","1","RegionDataType"],6016:["UL","1","RegionFlags"],6018:["UL","1","RegionLocationMinX0"],"601A":["UL","1","RegionLocationMinY0"],"601C":["UL","1","RegionLocationMaxX1"],"601E":["UL","1","RegionLocationMaxY1"],6020:["SL","1","ReferencePixelX0"],6022:["SL","1","ReferencePixelY0"],6024:["US","1","PhysicalUnitsXDirection"],6026:["US","1","PhysicalUnitsYDirection"],6028:["FD","1","ReferencePixelPhysicalValueX"],"602A":["FD","1","ReferencePixelPhysicalValueY"],"602C":["FD","1","PhysicalDeltaX"],"602E":["FD","1","PhysicalDeltaY"],6030:["UL","1","TransducerFrequency"],6031:["CS","1","TransducerType"],6032:["UL","1","PulseRepetitionFrequency"],6034:["FD","1","DopplerCorrectionAngle"],6036:["FD","1","SteeringAngle"],6038:["UL","1","DopplerSampleVolumeXPositionRetired"],6039:["SL","1","DopplerSampleVolumeXPosition"],"603A":["UL","1","DopplerSampleVolumeYPositionRetired"],"603B":["SL","1","DopplerSampleVolumeYPosition"],"603C":["UL","1","TMLinePositionX0Retired"],"603D":["SL","1","TMLinePositionX0"],"603E":["UL","1","TMLinePositionY0Retired"],"603F":["SL","1","TMLinePositionY0"],6040:["UL","1","TMLinePositionX1Retired"],6041:["SL","1","TMLinePositionX1"],6042:["UL","1","TMLinePositionY1Retired"],6043:["SL","1","TMLinePositionY1"],6044:["US","1","PixelComponentOrganization"],6046:["UL","1","PixelComponentMask"],6048:["UL","1","PixelComponentRangeStart"],"604A":["UL","1","PixelComponentRangeStop"],"604C":["US","1","PixelComponentPhysicalUnits"],"604E":["US","1","PixelComponentDataType"],6050:["UL","1","NumberOfTableBreakPoints"],6052:["UL","1-n","TableOfXBreakPoints"],6054:["FD","1-n","TableOfYBreakPoints"],6056:["UL","1","NumberOfTableEntries"],6058:["UL","1-n","TableOfPixelValues"],"605A":["FL","1-n","TableOfParameterValues"],6060:["FL","1-n","RWaveTimeVector"],6070:["US","1","ActiveImageAreaOverlayGroup"],7e3:["CS","1","DetectorConditionsNominalFlag"],7001:["DS","1","DetectorTemperature"],7004:["CS","1","DetectorType"],7005:["CS","1","DetectorConfiguration"],7006:["LT","1","DetectorDescription"],7008:["LT","1","DetectorMode"],"700A":["SH","1","DetectorID"],"700C":["DA","1","DateOfLastDetectorCalibration"],"700E":["TM","1","TimeOfLastDetectorCalibration"],7010:["IS","1","ExposuresOnDetectorSinceLastCalibration"],7011:["IS","1","ExposuresOnDetectorSinceManufactured"],7012:["DS","1","DetectorTimeSinceLastExposure"],7014:["DS","1","DetectorActiveTime"],7016:["DS","1","DetectorActivationOffsetFromExposure"],"701A":["DS","2","DetectorBinning"],7020:["DS","2","DetectorElementPhysicalSize"],7022:["DS","2","DetectorElementSpacing"],7024:["CS","1","DetectorActiveShape"],7026:["DS","1-2","DetectorActiveDimensions"],7028:["DS","2","DetectorActiveOrigin"],"702A":["LO","1","DetectorManufacturerName"],"702B":["LO","1","DetectorManufacturerModelName"],7030:["DS","2","FieldOfViewOrigin"],7032:["DS","1","FieldOfViewRotation"],7034:["CS","1","FieldOfViewHorizontalFlip"],7036:["FL","2","PixelDataAreaOriginRelativeToFOV"],7038:["FL","1","PixelDataAreaRotationAngleRelativeToFOV"],7040:["LT","1","GridAbsorbingMaterial"],7041:["LT","1","GridSpacingMaterial"],7042:["DS","1","GridThickness"],7044:["DS","1","GridPitch"],7046:["IS","2","GridAspectRatio"],7048:["DS","1","GridPeriod"],"704C":["DS","1","GridFocalDistance"],7050:["CS","1-n","FilterMaterial"],7052:["DS","1-n","FilterThicknessMinimum"],7054:["DS","1-n","FilterThicknessMaximum"],7056:["FL","1-n","FilterBeamPathLengthMinimum"],7058:["FL","1-n","FilterBeamPathLengthMaximum"],7060:["CS","1","ExposureControlMode"],7062:["LT","1","ExposureControlModeDescription"],7064:["CS","1","ExposureStatus"],7065:["DS","1","PhototimerSetting"],8150:["DS","1","ExposureTimeInuS"],8151:["DS","1","XRayTubeCurrentInuA"],9004:["CS","1","ContentQualification"],9005:["SH","1","PulseSequenceName"],9006:["SQ","1","MRImagingModifierSequence"],9008:["CS","1","EchoPulseSequence"],9009:["CS","1","InversionRecovery"],9010:["CS","1","FlowCompensation"],9011:["CS","1","MultipleSpinEcho"],9012:["CS","1","MultiPlanarExcitation"],9014:["CS","1","PhaseContrast"],9015:["CS","1","TimeOfFlightContrast"],9016:["CS","1","Spoiling"],9017:["CS","1","SteadyStatePulseSequence"],9018:["CS","1","EchoPlanarPulseSequence"],9019:["FD","1","TagAngleFirstAxis"],9020:["CS","1","MagnetizationTransfer"],9021:["CS","1","T2Preparation"],9022:["CS","1","BloodSignalNulling"],9024:["CS","1","SaturationRecovery"],9025:["CS","1","SpectrallySelectedSuppression"],9026:["CS","1","SpectrallySelectedExcitation"],9027:["CS","1","SpatialPresaturation"],9028:["CS","1","Tagging"],9029:["CS","1","OversamplingPhase"],9030:["FD","1","TagSpacingFirstDimension"],9032:["CS","1","GeometryOfKSpaceTraversal"],9033:["CS","1","SegmentedKSpaceTraversal"],9034:["CS","1","RectilinearPhaseEncodeReordering"],9035:["FD","1","TagThickness"],9036:["CS","1","PartialFourierDirection"],9037:["CS","1","CardiacSynchronizationTechnique"],9041:["LO","1","ReceiveCoilManufacturerName"],9042:["SQ","1","MRReceiveCoilSequence"],9043:["CS","1","ReceiveCoilType"],9044:["CS","1","QuadratureReceiveCoil"],9045:["SQ","1","MultiCoilDefinitionSequence"],9046:["LO","1","MultiCoilConfiguration"],9047:["SH","1","MultiCoilElementName"],9048:["CS","1","MultiCoilElementUsed"],9049:["SQ","1","MRTransmitCoilSequence"],9050:["LO","1","TransmitCoilManufacturerName"],9051:["CS","1","TransmitCoilType"],9052:["FD","1-2","SpectralWidth"],9053:["FD","1-2","ChemicalShiftReference"],9054:["CS","1","VolumeLocalizationTechnique"],9058:["US","1","MRAcquisitionFrequencyEncodingSteps"],9059:["CS","1","Decoupling"],9060:["CS","1-2","DecoupledNucleus"],9061:["FD","1-2","DecouplingFrequency"],9062:["CS","1","DecouplingMethod"],9063:["FD","1-2","DecouplingChemicalShiftReference"],9064:["CS","1","KSpaceFiltering"],9065:["CS","1-2","TimeDomainFiltering"],9066:["US","1-2","NumberOfZeroFills"],9067:["CS","1","BaselineCorrection"],9069:["FD","1","ParallelReductionFactorInPlane"],9070:["FD","1","CardiacRRIntervalSpecified"],9073:["FD","1","AcquisitionDuration"],9074:["DT","1","FrameAcquisitionDateTime"],9075:["CS","1","DiffusionDirectionality"],9076:["SQ","1","DiffusionGradientDirectionSequence"],9077:["CS","1","ParallelAcquisition"],9078:["CS","1","ParallelAcquisitionTechnique"],9079:["FD","1-n","InversionTimes"],9080:["ST","1","MetaboliteMapDescription"],9081:["CS","1","PartialFourier"],9082:["FD","1","EffectiveEchoTime"],9083:["SQ","1","MetaboliteMapCodeSequence"],9084:["SQ","1","ChemicalShiftSequence"],9085:["CS","1","CardiacSignalSource"],9087:["FD","1","DiffusionBValue"],9089:["FD","3","DiffusionGradientOrientation"],9090:["FD","3","VelocityEncodingDirection"],9091:["FD","1","VelocityEncodingMinimumValue"],9092:["SQ","1","VelocityEncodingAcquisitionSequence"],9093:["US","1","NumberOfKSpaceTrajectories"],9094:["CS","1","CoverageOfKSpace"],9095:["UL","1","SpectroscopyAcquisitionPhaseRows"],9096:["FD","1","ParallelReductionFactorInPlaneRetired"],9098:["FD","1-2","TransmitterFrequency"],9100:["CS","1-2","ResonantNucleus"],9101:["CS","1","FrequencyCorrection"],9103:["SQ","1","MRSpectroscopyFOVGeometrySequence"],9104:["FD","1","SlabThickness"],9105:["FD","3","SlabOrientation"],9106:["FD","3","MidSlabPosition"],9107:["SQ","1","MRSpatialSaturationSequence"],9112:["SQ","1","MRTimingAndRelatedParametersSequence"],9114:["SQ","1","MREchoSequence"],9115:["SQ","1","MRModifierSequence"],9117:["SQ","1","MRDiffusionSequence"],9118:["SQ","1","CardiacSynchronizationSequence"],9119:["SQ","1","MRAveragesSequence"],9125:["SQ","1","MRFOVGeometrySequence"],9126:["SQ","1","VolumeLocalizationSequence"],9127:["UL","1","SpectroscopyAcquisitionDataColumns"],9147:["CS","1","DiffusionAnisotropyType"],9151:["DT","1","FrameReferenceDateTime"],9152:["SQ","1","MRMetaboliteMapSequence"],9155:["FD","1","ParallelReductionFactorOutOfPlane"],9159:["UL","1","SpectroscopyAcquisitionOutOfPlanePhaseSteps"],9166:["CS","1","BulkMotionStatus"],9168:["FD","1","ParallelReductionFactorSecondInPlane"],9169:["CS","1","CardiacBeatRejectionTechnique"],9170:["CS","1","RespiratoryMotionCompensationTechnique"],9171:["CS","1","RespiratorySignalSource"],9172:["CS","1","BulkMotionCompensationTechnique"],9173:["CS","1","BulkMotionSignalSource"],9174:["CS","1","ApplicableSafetyStandardAgency"],9175:["LO","1","ApplicableSafetyStandardDescription"],9176:["SQ","1","OperatingModeSequence"],9177:["CS","1","OperatingModeType"],9178:["CS","1","OperatingMode"],9179:["CS","1","SpecificAbsorptionRateDefinition"],9180:["CS","1","GradientOutputType"],9181:["FD","1","SpecificAbsorptionRateValue"],9182:["FD","1","GradientOutput"],9183:["CS","1","FlowCompensationDirection"],9184:["FD","1","TaggingDelay"],9185:["ST","1","RespiratoryMotionCompensationTechniqueDescription"],9186:["SH","1","RespiratorySignalSourceID"],9195:["FD","1","ChemicalShiftMinimumIntegrationLimitInHz"],9196:["FD","1","ChemicalShiftMaximumIntegrationLimitInHz"],9197:["SQ","1","MRVelocityEncodingSequence"],9198:["CS","1","FirstOrderPhaseCorrection"],9199:["CS","1","WaterReferencedPhaseCorrection"],9200:["CS","1","MRSpectroscopyAcquisitionType"],9214:["CS","1","RespiratoryCyclePosition"],9217:["FD","1","VelocityEncodingMaximumValue"],9218:["FD","1","TagSpacingSecondDimension"],9219:["SS","1","TagAngleSecondAxis"],9220:["FD","1","FrameAcquisitionDuration"],9226:["SQ","1","MRImageFrameTypeSequence"],9227:["SQ","1","MRSpectroscopyFrameTypeSequence"],9231:["US","1","MRAcquisitionPhaseEncodingStepsInPlane"],9232:["US","1","MRAcquisitionPhaseEncodingStepsOutOfPlane"],9234:["UL","1","SpectroscopyAcquisitionPhaseColumns"],9236:["CS","1","CardiacCyclePosition"],9239:["SQ","1","SpecificAbsorptionRateSequence"],9240:["US","1","RFEchoTrainLength"],9241:["US","1","GradientEchoTrainLength"],9250:["CS","1","ArterialSpinLabelingContrast"],9251:["SQ","1","MRArterialSpinLabelingSequence"],9252:["LO","1","ASLTechniqueDescription"],9253:["US","1","ASLSlabNumber"],9254:["FD","1","ASLSlabThickness"],9255:["FD","3","ASLSlabOrientation"],9256:["FD","3","ASLMidSlabPosition"],9257:["CS","1","ASLContext"],9258:["UL","1","ASLPulseTrainDuration"],9259:["CS","1","ASLCrusherFlag"],"925A":["FD","1","ASLCrusherFlowLimit"],"925B":["LO","1","ASLCrusherDescription"],"925C":["CS","1","ASLBolusCutoffFlag"],"925D":["SQ","1","ASLBolusCutoffTimingSequence"],"925E":["LO","1","ASLBolusCutoffTechnique"],"925F":["UL","1","ASLBolusCutoffDelayTime"],9260:["SQ","1","ASLSlabSequence"],9295:["FD","1","ChemicalShiftMinimumIntegrationLimitInppm"],9296:["FD","1","ChemicalShiftMaximumIntegrationLimitInppm"],9297:["CS","1","WaterReferenceAcquisition"],9298:["IS","1","EchoPeakPosition"],9301:["SQ","1","CTAcquisitionTypeSequence"],9302:["CS","1","AcquisitionType"],9303:["FD","1","TubeAngle"],9304:["SQ","1","CTAcquisitionDetailsSequence"],9305:["FD","1","RevolutionTime"],9306:["FD","1","SingleCollimationWidth"],9307:["FD","1","TotalCollimationWidth"],9308:["SQ","1","CTTableDynamicsSequence"],9309:["FD","1","TableSpeed"],9310:["FD","1","TableFeedPerRotation"],9311:["FD","1","SpiralPitchFactor"],9312:["SQ","1","CTGeometrySequence"],9313:["FD","3","DataCollectionCenterPatient"],9314:["SQ","1","CTReconstructionSequence"],9315:["CS","1","ReconstructionAlgorithm"],9316:["CS","1","ConvolutionKernelGroup"],9317:["FD","2","ReconstructionFieldOfView"],9318:["FD","3","ReconstructionTargetCenterPatient"],9319:["FD","1","ReconstructionAngle"],9320:["SH","1","ImageFilter"],9321:["SQ","1","CTExposureSequence"],9322:["FD","2","ReconstructionPixelSpacing"],9323:["CS","1-n","ExposureModulationType"],9324:["FD","1","EstimatedDoseSaving"],9325:["SQ","1","CTXRayDetailsSequence"],9326:["SQ","1","CTPositionSequence"],9327:["FD","1","TablePosition"],9328:["FD","1","ExposureTimeInms"],9329:["SQ","1","CTImageFrameTypeSequence"],9330:["FD","1","XRayTubeCurrentInmA"],9332:["FD","1","ExposureInmAs"],9333:["CS","1","ConstantVolumeFlag"],9334:["CS","1","FluoroscopyFlag"],9335:["FD","1","DistanceSourceToDataCollectionCenter"],9337:["US","1","ContrastBolusAgentNumber"],9338:["SQ","1","ContrastBolusIngredientCodeSequence"],9340:["SQ","1","ContrastAdministrationProfileSequence"],9341:["SQ","1","ContrastBolusUsageSequence"],9342:["CS","1","ContrastBolusAgentAdministered"],9343:["CS","1","ContrastBolusAgentDetected"],9344:["CS","1","ContrastBolusAgentPhase"],9345:["FD","1","CTDIvol"],9346:["SQ","1","CTDIPhantomTypeCodeSequence"],9351:["FL","1","CalciumScoringMassFactorPatient"],9352:["FL","3","CalciumScoringMassFactorDevice"],9353:["FL","1","EnergyWeightingFactor"],9360:["SQ","1","CTAdditionalXRaySourceSequence"],9361:["CS","1","MultienergyCTAcquisition"],9362:["SQ","1","MultienergyCTAcquisitionSequence"],9363:["SQ","1","MultienergyCTProcessingSequence"],9364:["SQ","1","MultienergyCTCharacteristicsSequence"],9365:["SQ","1","MultienergyCTXRaySourceSequence"],9366:["US","1","XRaySourceIndex"],9367:["UC","1","XRaySourceID"],9368:["CS","1","MultienergySourceTechnique"],9369:["DT","1","SourceStartDateTime"],"936A":["DT","1","SourceEndDateTime"],"936B":["US","1","SwitchingPhaseNumber"],"936C":["DS","1","SwitchingPhaseNominalDuration"],"936D":["DS","1","SwitchingPhaseTransitionDuration"],"936E":["DS","1","EffectiveBinEnergy"],"936F":["SQ","1","MultienergyCTXRayDetectorSequence"],9370:["US","1","XRayDetectorIndex"],9371:["UC","1","XRayDetectorID"],9372:["CS","1","MultienergyDetectorType"],9373:["ST","1","XRayDetectorLabel"],9374:["DS","1","NominalMaxEnergy"],9375:["DS","1","NominalMinEnergy"],9376:["US","1-n","ReferencedXRayDetectorIndex"],9377:["US","1-n","ReferencedXRaySourceIndex"],9378:["US","1-n","ReferencedPathIndex"],9379:["SQ","1","MultienergyCTPathSequence"],"937A":["US","1","MultienergyCTPathIndex"],"937B":["UT","1","MultienergyAcquisitionDescription"],"937C":["FD","1","MonoenergeticEnergyEquivalent"],"937D":["SQ","1","MaterialCodeSequence"],"937E":["CS","1","DecompositionMethod"],"937F":["UT","1","DecompositionDescription"],9380:["SQ","1","DecompositionAlgorithmIdentificationSequence"],9381:["SQ","1","DecompositionMaterialSequence"],9382:["SQ","1","MaterialAttenuationSequence"],9383:["DS","1","PhotonEnergy"],9384:["DS","1","XRayMassAttenuationCoefficient"],9401:["SQ","1","ProjectionPixelCalibrationSequence"],9402:["FL","1","DistanceSourceToIsocenter"],9403:["FL","1","DistanceObjectToTableTop"],9404:["FL","2","ObjectPixelSpacingInCenterOfBeam"],9405:["SQ","1","PositionerPositionSequence"],9406:["SQ","1","TablePositionSequence"],9407:["SQ","1","CollimatorShapeSequence"],9410:["CS","1","PlanesInAcquisition"],9412:["SQ","1","XAXRFFrameCharacteristicsSequence"],9417:["SQ","1","FrameAcquisitionSequence"],9420:["CS","1","XRayReceptorType"],9423:["LO","1","AcquisitionProtocolName"],9424:["LT","1","AcquisitionProtocolDescription"],9425:["CS","1","ContrastBolusIngredientOpaque"],9426:["FL","1","DistanceReceptorPlaneToDetectorHousing"],9427:["CS","1","IntensifierActiveShape"],9428:["FL","1-2","IntensifierActiveDimensions"],9429:["FL","2","PhysicalDetectorSize"],9430:["FL","2","PositionOfIsocenterProjection"],9432:["SQ","1","FieldOfViewSequence"],9433:["LO","1","FieldOfViewDescription"],9434:["SQ","1","ExposureControlSensingRegionsSequence"],9435:["CS","1","ExposureControlSensingRegionShape"],9436:["SS","1","ExposureControlSensingRegionLeftVerticalEdge"],9437:["SS","1","ExposureControlSensingRegionRightVerticalEdge"],9438:["SS","1","ExposureControlSensingRegionUpperHorizontalEdge"],9439:["SS","1","ExposureControlSensingRegionLowerHorizontalEdge"],9440:["SS","2","CenterOfCircularExposureControlSensingRegion"],9441:["US","1","RadiusOfCircularExposureControlSensingRegion"],9442:["SS","2-n","VerticesOfThePolygonalExposureControlSensingRegion"],9445:["","",""],9447:["FL","1","ColumnAngulationPatient"],9449:["FL","1","BeamAngle"],9451:["SQ","1","FrameDetectorParametersSequence"],9452:["FL","1","CalculatedAnatomyThickness"],9455:["SQ","1","CalibrationSequence"],9456:["SQ","1","ObjectThicknessSequence"],9457:["CS","1","PlaneIdentification"],9461:["FL","1-2","FieldOfViewDimensionsInFloat"],9462:["SQ","1","IsocenterReferenceSystemSequence"],9463:["FL","1","PositionerIsocenterPrimaryAngle"],9464:["FL","1","PositionerIsocenterSecondaryAngle"],9465:["FL","1","PositionerIsocenterDetectorRotationAngle"],9466:["FL","1","TableXPositionToIsocenter"],9467:["FL","1","TableYPositionToIsocenter"],9468:["FL","1","TableZPositionToIsocenter"],9469:["FL","1","TableHorizontalRotationAngle"],9470:["FL","1","TableHeadTiltAngle"],9471:["FL","1","TableCradleTiltAngle"],9472:["SQ","1","FrameDisplayShutterSequence"],9473:["FL","1","AcquiredImageAreaDoseProduct"],9474:["CS","1","CArmPositionerTabletopRelationship"],9476:["SQ","1","XRayGeometrySequence"],9477:["SQ","1","IrradiationEventIdentificationSequence"],9504:["SQ","1","XRay3DFrameTypeSequence"],9506:["SQ","1","ContributingSourcesSequence"],9507:["SQ","1","XRay3DAcquisitionSequence"],9508:["FL","1","PrimaryPositionerScanArc"],9509:["FL","1","SecondaryPositionerScanArc"],9510:["FL","1","PrimaryPositionerScanStartAngle"],9511:["FL","1","SecondaryPositionerScanStartAngle"],9514:["FL","1","PrimaryPositionerIncrement"],9515:["FL","1","SecondaryPositionerIncrement"],9516:["DT","1","StartAcquisitionDateTime"],9517:["DT","1","EndAcquisitionDateTime"],9518:["SS","1","PrimaryPositionerIncrementSign"],9519:["SS","1","SecondaryPositionerIncrementSign"],9524:["LO","1","ApplicationName"],9525:["LO","1","ApplicationVersion"],9526:["LO","1","ApplicationManufacturer"],9527:["CS","1","AlgorithmType"],9528:["LO","1","AlgorithmDescription"],9530:["SQ","1","XRay3DReconstructionSequence"],9531:["LO","1","ReconstructionDescription"],9538:["SQ","1","PerProjectionAcquisitionSequence"],9541:["SQ","1","DetectorPositionSequence"],9542:["SQ","1","XRayAcquisitionDoseSequence"],9543:["FD","1","XRaySourceIsocenterPrimaryAngle"],9544:["FD","1","XRaySourceIsocenterSecondaryAngle"],9545:["FD","1","BreastSupportIsocenterPrimaryAngle"],9546:["FD","1","BreastSupportIsocenterSecondaryAngle"],9547:["FD","1","BreastSupportXPositionToIsocenter"],9548:["FD","1","BreastSupportYPositionToIsocenter"],9549:["FD","1","BreastSupportZPositionToIsocenter"],9550:["FD","1","DetectorIsocenterPrimaryAngle"],9551:["FD","1","DetectorIsocenterSecondaryAngle"],9552:["FD","1","DetectorXPositionToIsocenter"],9553:["FD","1","DetectorYPositionToIsocenter"],9554:["FD","1","DetectorZPositionToIsocenter"],9555:["SQ","1","XRayGridSequence"],9556:["SQ","1","XRayFilterSequence"],9557:["FD","3","DetectorActiveAreaTLHCPosition"],9558:["FD","6","DetectorActiveAreaOrientation"],9559:["CS","1","PositionerPrimaryAngleDirection"],9601:["SQ","1","DiffusionBMatrixSequence"],9602:["FD","1","DiffusionBValueXX"],9603:["FD","1","DiffusionBValueXY"],9604:["FD","1","DiffusionBValueXZ"],9605:["FD","1","DiffusionBValueYY"],9606:["FD","1","DiffusionBValueYZ"],9607:["FD","1","DiffusionBValueZZ"],9621:["SQ","1","FunctionalMRSequence"],9622:["CS","1","FunctionalSettlingPhaseFramesPresent"],9623:["DT","1","FunctionalSyncPulse"],9624:["CS","1","SettlingPhaseFrame"],9701:["DT","1","DecayCorrectionDateTime"],9715:["FD","1","StartDensityThreshold"],9716:["FD","1","StartRelativeDensityDifferenceThreshold"],9717:["FD","1","StartCardiacTriggerCountThreshold"],9718:["FD","1","StartRespiratoryTriggerCountThreshold"],9719:["FD","1","TerminationCountsThreshold"],9720:["FD","1","TerminationDensityThreshold"],9721:["FD","1","TerminationRelativeDensityThreshold"],9722:["FD","1","TerminationTimeThreshold"],9723:["FD","1","TerminationCardiacTriggerCountThreshold"],9724:["FD","1","TerminationRespiratoryTriggerCountThreshold"],9725:["CS","1","DetectorGeometry"],9726:["FD","1","TransverseDetectorSeparation"],9727:["FD","1","AxialDetectorDimension"],9729:["US","1","RadiopharmaceuticalAgentNumber"],9732:["SQ","1","PETFrameAcquisitionSequence"],9733:["SQ","1","PETDetectorMotionDetailsSequence"],9734:["SQ","1","PETTableDynamicsSequence"],9735:["SQ","1","PETPositionSequence"],9736:["SQ","1","PETFrameCorrectionFactorsSequence"],9737:["SQ","1","RadiopharmaceuticalUsageSequence"],9738:["CS","1","AttenuationCorrectionSource"],9739:["US","1","NumberOfIterations"],9740:["US","1","NumberOfSubsets"],9749:["SQ","1","PETReconstructionSequence"],9751:["SQ","1","PETFrameTypeSequence"],9755:["CS","1","TimeOfFlightInformationUsed"],9756:["CS","1","ReconstructionType"],9758:["CS","1","DecayCorrected"],9759:["CS","1","AttenuationCorrected"],9760:["CS","1","ScatterCorrected"],9761:["CS","1","DeadTimeCorrected"],9762:["CS","1","GantryMotionCorrected"],9763:["CS","1","PatientMotionCorrected"],9764:["CS","1","CountLossNormalizationCorrected"],9765:["CS","1","RandomsCorrected"],9766:["CS","1","NonUniformRadialSamplingCorrected"],9767:["CS","1","SensitivityCalibrated"],9768:["CS","1","DetectorNormalizationCorrection"],9769:["CS","1","IterativeReconstructionMethod"],9770:["CS","1","AttenuationCorrectionTemporalRelationship"],9771:["SQ","1","PatientPhysiologicalStateSequence"],9772:["SQ","1","PatientPhysiologicalStateCodeSequence"],9801:["FD","1-n","DepthsOfFocus"],9803:["SQ","1","ExcludedIntervalsSequence"],9804:["DT","1","ExclusionStartDateTime"],9805:["FD","1","ExclusionDuration"],9806:["SQ","1","USImageDescriptionSequence"],9807:["SQ","1","ImageDataTypeSequence"],9808:["CS","1","DataType"],9809:["SQ","1","TransducerScanPatternCodeSequence"],"980B":["CS","1","AliasedDataType"],"980C":["CS","1","PositionMeasuringDeviceUsed"],"980D":["SQ","1","TransducerGeometryCodeSequence"],"980E":["SQ","1","TransducerBeamSteeringCodeSequence"],"980F":["SQ","1","TransducerApplicationCodeSequence"],9810:["xs","1","ZeroVelocityPixelValue"],9900:["LO","1","ReferenceLocationLabel"],9901:["UT","1","ReferenceLocationDescription"],9902:["SQ","1","ReferenceBasisCodeSequence"],9903:["SQ","1","ReferenceGeometryCodeSequence"],9904:["DS","1","OffsetDistance"],9905:["CS","1","OffsetDirection"],9906:["SQ","1","PotentialScheduledProtocolCodeSequence"],9907:["SQ","1","PotentialRequestedProcedureCodeSequence"],9908:["UC","1-n","PotentialReasonsForProcedure"],9909:["SQ","1","PotentialReasonsForProcedureCodeSequence"],"990A":["UC","1-n","PotentialDiagnosticTasks"],"990B":["SQ","1","ContraindicationsCodeSequence"],"990C":["SQ","1","ReferencedDefinedProtocolSequence"],"990D":["SQ","1","ReferencedPerformedProtocolSequence"],"990E":["SQ","1","PredecessorProtocolSequence"],"990F":["UT","1","ProtocolPlanningInformation"],9910:["UT","1","ProtocolDesignRationale"],9911:["SQ","1","PatientSpecificationSequence"],9912:["SQ","1","ModelSpecificationSequence"],9913:["SQ","1","ParametersSpecificationSequence"],9914:["SQ","1","InstructionSequence"],9915:["US","1","InstructionIndex"],9916:["LO","1","InstructionText"],9917:["UT","1","InstructionDescription"],9918:["CS","1","InstructionPerformedFlag"],9919:["DT","1","InstructionPerformedDateTime"],"991A":["UT","1","InstructionPerformanceComment"],"991B":["SQ","1","PatientPositioningInstructionSequence"],"991C":["SQ","1","PositioningMethodCodeSequence"],"991D":["SQ","1","PositioningLandmarkSequence"],"991E":["UI","1","TargetFrameOfReferenceUID"],"991F":["SQ","1","AcquisitionProtocolElementSpecificationSequence"],9920:["SQ","1","AcquisitionProtocolElementSequence"],9921:["US","1","ProtocolElementNumber"],9922:["LO","1","ProtocolElementName"],9923:["UT","1","ProtocolElementCharacteristicsSummary"],9924:["UT","1","ProtocolElementPurpose"],9930:["CS","1","AcquisitionMotion"],9931:["SQ","1","AcquisitionStartLocationSequence"],9932:["SQ","1","AcquisitionEndLocationSequence"],9933:["SQ","1","ReconstructionProtocolElementSpecificationSequence"],9934:["SQ","1","ReconstructionProtocolElementSequence"],9935:["SQ","1","StorageProtocolElementSpecificationSequence"],9936:["SQ","1","StorageProtocolElementSequence"],9937:["LO","1","RequestedSeriesDescription"],9938:["US","1-n","SourceAcquisitionProtocolElementNumber"],9939:["US","1-n","SourceAcquisitionBeamNumber"],"993A":["US","1-n","SourceReconstructionProtocolElementNumber"],"993B":["SQ","1","ReconstructionStartLocationSequence"],"993C":["SQ","1","ReconstructionEndLocationSequence"],"993D":["SQ","1","ReconstructionAlgorithmSequence"],"993E":["SQ","1","ReconstructionTargetCenterLocationSequence"],9941:["UT","1","ImageFilterDescription"],9942:["FD","1","CTDIvolNotificationTrigger"],9943:["FD","1","DLPNotificationTrigger"],9944:["CS","1","AutoKVPSelectionType"],9945:["FD","1","AutoKVPUpperBound"],9946:["FD","1","AutoKVPLowerBound"],9947:["CS","1","ProtocolDefinedPatientPosition"],A001:["SQ","1","ContributingEquipmentSequence"],A002:["DT","1","ContributionDateTime"],A003:["ST","1","ContributionDescription"]},"0020":{"0000":["UL","1","GenericGroupLength"],"000D":["UI","1","StudyInstanceUID"],"000E":["UI","1","SeriesInstanceUID"],"0010":["SH","1","StudyID"],"0011":["IS","1","SeriesNumber"],"0012":["IS","1","AcquisitionNumber"],"0013":["IS","1","InstanceNumber"],"0014":["IS","1","IsotopeNumber"],"0015":["IS","1","PhaseNumber"],"0016":["IS","1","IntervalNumber"],"0017":["IS","1","TimeSlotNumber"],"0018":["IS","1","AngleNumber"],"0019":["IS","1","ItemNumber"],"0020":["CS","2","PatientOrientation"],"0022":["IS","1","OverlayNumber"],"0024":["IS","1","CurveNumber"],"0026":["IS","1","LUTNumber"],"0030":["DS","3","ImagePosition"],"0032":["DS","3","ImagePositionPatient"],"0035":["DS","6","ImageOrientation"],"0037":["DS","6","ImageOrientationPatient"],"0050":["DS","1","Location"],"0052":["UI","1","FrameOfReferenceUID"],"0060":["CS","1","Laterality"],"0062":["CS","1","ImageLaterality"],"0070":["LO","1","ImageGeometryType"],"0080":["CS","1-n","MaskingImage"],"00AA":["IS","1","ReportNumber"],"0100":["IS","1","TemporalPositionIdentifier"],"0105":["IS","1","NumberOfTemporalPositions"],"0110":["DS","1","TemporalResolution"],"0200":["UI","1","SynchronizationFrameOfReferenceUID"],"0242":["UI","1","SOPInstanceUIDOfConcatenationSource"],1e3:["IS","1","SeriesInStudy"],1001:["IS","1","AcquisitionsInSeries"],1002:["IS","1","ImagesInAcquisition"],1003:["IS","1","ImagesInSeries"],1004:["IS","1","AcquisitionsInStudy"],1005:["IS","1","ImagesInStudy"],1020:["LO","1-n","Reference"],"103F":["LO","1","TargetPositionReferenceIndicator"],1040:["LO","1","PositionReferenceIndicator"],1041:["DS","1","SliceLocation"],1070:["IS","1-n","OtherStudyNumbers"],1200:["IS","1","NumberOfPatientRelatedStudies"],1202:["IS","1","NumberOfPatientRelatedSeries"],1204:["IS","1","NumberOfPatientRelatedInstances"],1206:["IS","1","NumberOfStudyRelatedSeries"],1208:["IS","1","NumberOfStudyRelatedInstances"],1209:["IS","1","NumberOfSeriesRelatedInstances"],3100:["CS","1-n","SourceImageIDs"],3401:["CS","1","ModifyingDeviceID"],3402:["CS","1","ModifiedImageID"],3403:["DA","1","ModifiedImageDate"],3404:["LO","1","ModifyingDeviceManufacturer"],3405:["TM","1","ModifiedImageTime"],3406:["LO","1","ModifiedImageDescription"],4e3:["LT","1","ImageComments"],5e3:["AT","1-n","OriginalImageIdentification"],5002:["LO","1-n","OriginalImageIdentificationNomenclature"],9056:["SH","1","StackID"],9057:["UL","1","InStackPositionNumber"],9071:["SQ","1","FrameAnatomySequence"],9072:["CS","1","FrameLaterality"],9111:["SQ","1","FrameContentSequence"],9113:["SQ","1","PlanePositionSequence"],9116:["SQ","1","PlaneOrientationSequence"],9128:["UL","1","TemporalPositionIndex"],9153:["FD","1","NominalCardiacTriggerDelayTime"],9154:["FL","1","NominalCardiacTriggerTimePriorToRPeak"],9155:["FL","1","ActualCardiacTriggerTimePriorToRPeak"],9156:["US","1","FrameAcquisitionNumber"],9157:["UL","1-n","DimensionIndexValues"],9158:["LT","1","FrameComments"],9161:["UI","1","ConcatenationUID"],9162:["US","1","InConcatenationNumber"],9163:["US","1","InConcatenationTotalNumber"],9164:["UI","1","DimensionOrganizationUID"],9165:["AT","1","DimensionIndexPointer"],9167:["AT","1","FunctionalGroupPointer"],9170:["SQ","1","UnassignedSharedConvertedAttributesSequence"],9171:["SQ","1","UnassignedPerFrameConvertedAttributesSequence"],9172:["SQ","1","ConversionSourceAttributesSequence"],9213:["LO","1","DimensionIndexPrivateCreator"],9221:["SQ","1","DimensionOrganizationSequence"],9222:["SQ","1","DimensionIndexSequence"],9228:["UL","1","ConcatenationFrameOffsetNumber"],9238:["LO","1","FunctionalGroupPrivateCreator"],9241:["FL","1","NominalPercentageOfCardiacPhase"],9245:["FL","1","NominalPercentageOfRespiratoryPhase"],9246:["FL","1","StartingRespiratoryAmplitude"],9247:["CS","1","StartingRespiratoryPhase"],9248:["FL","1","EndingRespiratoryAmplitude"],9249:["CS","1","EndingRespiratoryPhase"],9250:["CS","1","RespiratoryTriggerType"],9251:["FD","1","RRIntervalTimeNominal"],9252:["FD","1","ActualCardiacTriggerDelayTime"],9253:["SQ","1","RespiratorySynchronizationSequence"],9254:["FD","1","RespiratoryIntervalTime"],9255:["FD","1","NominalRespiratoryTriggerDelayTime"],9256:["FD","1","RespiratoryTriggerDelayThreshold"],9257:["FD","1","ActualRespiratoryTriggerDelayTime"],9301:["FD","3","ImagePositionVolume"],9302:["FD","6","ImageOrientationVolume"],9307:["CS","1","UltrasoundAcquisitionGeometry"],9308:["FD","3","ApexPosition"],9309:["FD","16","VolumeToTransducerMappingMatrix"],"930A":["FD","16","VolumeToTableMappingMatrix"],"930B":["CS","1","VolumeToTransducerRelationship"],"930C":["CS","1","PatientFrameOfReferenceSource"],"930D":["FD","1","TemporalPositionTimeOffset"],"930E":["SQ","1","PlanePositionVolumeSequence"],"930F":["SQ","1","PlaneOrientationVolumeSequence"],9310:["SQ","1","TemporalPositionSequence"],9311:["CS","1","DimensionOrganizationType"],9312:["UI","1","VolumeFrameOfReferenceUID"],9313:["UI","1","TableFrameOfReferenceUID"],9421:["LO","1","DimensionDescriptionLabel"],9450:["SQ","1","PatientOrientationInFrameSequence"],9453:["LO","1","FrameLabel"],9518:["US","1-n","AcquisitionIndex"],9529:["SQ","1","ContributingSOPInstancesReferenceSequence"],9536:["US","1","ReconstructionIndex"]},"0022":{"0000":["UL","1","GenericGroupLength"],"0001":["US","1","LightPathFilterPassThroughWavelength"],"0002":["US","2","LightPathFilterPassBand"],"0003":["US","1","ImagePathFilterPassThroughWavelength"],"0004":["US","2","ImagePathFilterPassBand"],"0005":["CS","1","PatientEyeMovementCommanded"],"0006":["SQ","1","PatientEyeMovementCommandCodeSequence"],"0007":["FL","1","SphericalLensPower"],"0008":["FL","1","CylinderLensPower"],"0009":["FL","1","CylinderAxis"],"000A":["FL","1","EmmetropicMagnification"],"000B":["FL","1","IntraOcularPressure"],"000C":["FL","1","HorizontalFieldOfView"],"000D":["CS","1","PupilDilated"],"000E":["FL","1","DegreeOfDilation"],"0010":["FL","1","StereoBaselineAngle"],"0011":["FL","1","StereoBaselineDisplacement"],"0012":["FL","1","StereoHorizontalPixelOffset"],"0013":["FL","1","StereoVerticalPixelOffset"],"0014":["FL","1","StereoRotation"],"0015":["SQ","1","AcquisitionDeviceTypeCodeSequence"],"0016":["SQ","1","IlluminationTypeCodeSequence"],"0017":["SQ","1","LightPathFilterTypeStackCodeSequence"],"0018":["SQ","1","ImagePathFilterTypeStackCodeSequence"],"0019":["SQ","1","LensesCodeSequence"],"001A":["SQ","1","ChannelDescriptionCodeSequence"],"001B":["SQ","1","RefractiveStateSequence"],"001C":["SQ","1","MydriaticAgentCodeSequence"],"001D":["SQ","1","RelativeImagePositionCodeSequence"],"001E":["FL","1","CameraAngleOfView"],"0020":["SQ","1","StereoPairsSequence"],"0021":["SQ","1","LeftImageSequence"],"0022":["SQ","1","RightImageSequence"],"0028":["CS","1","StereoPairsPresent"],"0030":["FL","1","AxialLengthOfTheEye"],"0031":["SQ","1","OphthalmicFrameLocationSequence"],"0032":["FL","2-2n","ReferenceCoordinates"],"0035":["FL","1","DepthSpatialResolution"],"0036":["FL","1","MaximumDepthDistortion"],"0037":["FL","1","AlongScanSpatialResolution"],"0038":["FL","1","MaximumAlongScanDistortion"],"0039":["CS","1","OphthalmicImageOrientation"],"0041":["FL","1","DepthOfTransverseImage"],"0042":["SQ","1","MydriaticAgentConcentrationUnitsSequence"],"0048":["FL","1","AcrossScanSpatialResolution"],"0049":["FL","1","MaximumAcrossScanDistortion"],"004E":["DS","1","MydriaticAgentConcentration"],"0055":["FL","1","IlluminationWaveLength"],"0056":["FL","1","IlluminationPower"],"0057":["FL","1","IlluminationBandwidth"],"0058":["SQ","1","MydriaticAgentSequence"],1007:["SQ","1","OphthalmicAxialMeasurementsRightEyeSequence"],1008:["SQ","1","OphthalmicAxialMeasurementsLeftEyeSequence"],1009:["CS","1","OphthalmicAxialMeasurementsDeviceType"],1010:["CS","1","OphthalmicAxialLengthMeasurementsType"],1012:["SQ","1","OphthalmicAxialLengthSequence"],1019:["FL","1","OphthalmicAxialLength"],1024:["SQ","1","LensStatusCodeSequence"],1025:["SQ","1","VitreousStatusCodeSequence"],1028:["SQ","1","IOLFormulaCodeSequence"],1029:["LO","1","IOLFormulaDetail"],1033:["FL","1","KeratometerIndex"],1035:["SQ","1","SourceOfOphthalmicAxialLengthCodeSequence"],1036:["SQ","1","SourceOfCornealSizeDataCodeSequence"],1037:["FL","1","TargetRefraction"],1039:["CS","1","RefractiveProcedureOccurred"],1040:["SQ","1","RefractiveSurgeryTypeCodeSequence"],1044:["SQ","1","OphthalmicUltrasoundMethodCodeSequence"],1045:["SQ","1","SurgicallyInducedAstigmatismSequence"],1046:["CS","1","TypeOfOpticalCorrection"],1047:["SQ","1","ToricIOLPowerSequence"],1048:["SQ","1","PredictedToricErrorSequence"],1049:["CS","1","PreSelectedForImplantation"],"104A":["SQ","1","ToricIOLPowerForExactEmmetropiaSequence"],"104B":["SQ","1","ToricIOLPowerForExactTargetRefractionSequence"],1050:["SQ","1","OphthalmicAxialLengthMeasurementsSequence"],1053:["FL","1","IOLPower"],1054:["FL","1","PredictedRefractiveError"],1059:["FL","1","OphthalmicAxialLengthVelocity"],1065:["LO","1","LensStatusDescription"],1066:["LO","1","VitreousStatusDescription"],1090:["SQ","1","IOLPowerSequence"],1092:["SQ","1","LensConstantSequence"],1093:["LO","1","IOLManufacturer"],1094:["LO","1","LensConstantDescription"],1095:["LO","1","ImplantName"],1096:["SQ","1","KeratometryMeasurementTypeCodeSequence"],1097:["LO","1","ImplantPartNumber"],1100:["SQ","1","ReferencedOphthalmicAxialMeasurementsSequence"],1101:["SQ","1","OphthalmicAxialLengthMeasurementsSegmentNameCodeSequence"],1103:["SQ","1","RefractiveErrorBeforeRefractiveSurgeryCodeSequence"],1121:["FL","1","IOLPowerForExactEmmetropia"],1122:["FL","1","IOLPowerForExactTargetRefraction"],1125:["SQ","1","AnteriorChamberDepthDefinitionCodeSequence"],1127:["SQ","1","LensThicknessSequence"],1128:["SQ","1","AnteriorChamberDepthSequence"],"112A":["SQ","1","CalculationCommentSequence"],"112B":["CS","1","CalculationCommentType"],"112C":["LT","1","CalculationComment"],1130:["FL","1","LensThickness"],1131:["FL","1","AnteriorChamberDepth"],1132:["SQ","1","SourceOfLensThicknessDataCodeSequence"],1133:["SQ","1","SourceOfAnteriorChamberDepthDataCodeSequence"],1134:["SQ","1","SourceOfRefractiveMeasurementsSequence"],1135:["SQ","1","SourceOfRefractiveMeasurementsCodeSequence"],1140:["CS","1","OphthalmicAxialLengthMeasurementModified"],1150:["SQ","1","OphthalmicAxialLengthDataSourceCodeSequence"],1153:["SQ","1","OphthalmicAxialLengthAcquisitionMethodCodeSequence"],1155:["FL","1","SignalToNoiseRatio"],1159:["LO","1","OphthalmicAxialLengthDataSourceDescription"],1210:["SQ","1","OphthalmicAxialLengthMeasurementsTotalLengthSequence"],1211:["SQ","1","OphthalmicAxialLengthMeasurementsSegmentalLengthSequence"],1212:["SQ","1","OphthalmicAxialLengthMeasurementsLengthSummationSequence"],1220:["SQ","1","UltrasoundOphthalmicAxialLengthMeasurementsSequence"],1225:["SQ","1","OpticalOphthalmicAxialLengthMeasurementsSequence"],1230:["SQ","1","UltrasoundSelectedOphthalmicAxialLengthSequence"],1250:["SQ","1","OphthalmicAxialLengthSelectionMethodCodeSequence"],1255:["SQ","1","OpticalSelectedOphthalmicAxialLengthSequence"],1257:["SQ","1","SelectedSegmentalOphthalmicAxialLengthSequence"],1260:["SQ","1","SelectedTotalOphthalmicAxialLengthSequence"],1262:["SQ","1","OphthalmicAxialLengthQualityMetricSequence"],1265:["SQ","1","OphthalmicAxialLengthQualityMetricTypeCodeSequence"],1273:["LO","1","OphthalmicAxialLengthQualityMetricTypeDescription"],1300:["SQ","1","IntraocularLensCalculationsRightEyeSequence"],1310:["SQ","1","IntraocularLensCalculationsLeftEyeSequence"],1330:["SQ","1","ReferencedOphthalmicAxialLengthMeasurementQCImageSequence"],1415:["CS","1","OphthalmicMappingDeviceType"],1420:["SQ","1","AcquisitionMethodCodeSequence"],1423:["SQ","1","AcquisitionMethodAlgorithmSequence"],1436:["SQ","1","OphthalmicThicknessMapTypeCodeSequence"],1443:["SQ","1","OphthalmicThicknessMappingNormalsSequence"],1445:["SQ","1","RetinalThicknessDefinitionCodeSequence"],1450:["SQ","1","PixelValueMappingToCodedConceptSequence"],1452:["xs","1","MappedPixelValue"],1454:["LO","1","PixelValueMappingExplanation"],1458:["SQ","1","OphthalmicThicknessMapQualityThresholdSequence"],1460:["FL","1","OphthalmicThicknessMapThresholdQualityRating"],1463:["FL","2","AnatomicStructureReferencePoint"],1465:["SQ","1","RegistrationToLocalizerSequence"],1466:["CS","1","RegisteredLocalizerUnits"],1467:["FL","2","RegisteredLocalizerTopLeftHandCorner"],1468:["FL","2","RegisteredLocalizerBottomRightHandCorner"],1470:["SQ","1","OphthalmicThicknessMapQualityRatingSequence"],1472:["SQ","1","RelevantOPTAttributesSequence"],1512:["SQ","1","TransformationMethodCodeSequence"],1513:["SQ","1","TransformationAlgorithmSequence"],1515:["CS","1","OphthalmicAxialLengthMethod"],1517:["FL","1","OphthalmicFOV"],1518:["SQ","1","TwoDimensionalToThreeDimensionalMapSequence"],1525:["SQ","1","WideFieldOphthalmicPhotographyQualityRatingSequence"],1526:["SQ","1","WideFieldOphthalmicPhotographyQualityThresholdSequence"],1527:["FL","1","WideFieldOphthalmicPhotographyThresholdQualityRating"],1528:["FL","1","XCoordinatesCenterPixelViewAngle"],1529:["FL","1","YCoordinatesCenterPixelViewAngle"],1530:["UL","1","NumberOfMapPoints"],1531:["OF","1","TwoDimensionalToThreeDimensionalMapData"],1612:["SQ","1","DerivationAlgorithmSequence"],1615:["SQ","1","OphthalmicImageTypeCodeSequence"],1616:["LO","1","OphthalmicImageTypeDescription"],1618:["SQ","1","ScanPatternTypeCodeSequence"],1620:["SQ","1","ReferencedSurfaceMeshIdentificationSequence"],1622:["CS","1","OphthalmicVolumetricPropertiesFlag"],1624:["FL","1","OphthalmicAnatomicReferencePointXCoordinate"],1626:["FL","1","OphthalmicAnatomicReferencePointYCoordinate"],1628:["SQ","1","OphthalmicEnFaceImageQualityRatingSequence"],1630:["DS","1","QualityThreshold"],1640:["SQ","1","OCTBscanAnalysisAcquisitionParametersSequence"],1642:["UL","1","NumberOfBscansPerFrame"],1643:["FL","1","BscanSlabThickness"],1644:["FL","1","DistanceBetweenBscanSlabs"],1645:["FL","1","BscanCycleTime"],1646:["FL","1-n","BscanCycleTimeVector"],1649:["FL","1","AscanRate"],1650:["FL","1","BscanRate"],1658:["UL","1","SurfaceMeshZPixelOffset"]},"0024":{"0000":["UL","1","GenericGroupLength"],"0010":["FL","1","VisualFieldHorizontalExtent"],"0011":["FL","1","VisualFieldVerticalExtent"],"0012":["CS","1","VisualFieldShape"],"0016":["SQ","1","ScreeningTestModeCodeSequence"],"0018":["FL","1","MaximumStimulusLuminance"],"0020":["FL","1","BackgroundLuminance"],"0021":["SQ","1","StimulusColorCodeSequence"],"0024":["SQ","1","BackgroundIlluminationColorCodeSequence"],"0025":["FL","1","StimulusArea"],"0028":["FL","1","StimulusPresentationTime"],"0032":["SQ","1","FixationSequence"],"0033":["SQ","1","FixationMonitoringCodeSequence"],"0034":["SQ","1","VisualFieldCatchTrialSequence"],"0035":["US","1","FixationCheckedQuantity"],"0036":["US","1","PatientNotProperlyFixatedQuantity"],"0037":["CS","1","PresentedVisualStimuliDataFlag"],"0038":["US","1","NumberOfVisualStimuli"],"0039":["CS","1","ExcessiveFixationLossesDataFlag"],"0040":["CS","1","ExcessiveFixationLosses"],"0042":["US","1","StimuliRetestingQuantity"],"0044":["LT","1","CommentsOnPatientPerformanceOfVisualField"],"0045":["CS","1","FalseNegativesEstimateFlag"],"0046":["FL","1","FalseNegativesEstimate"],"0048":["US","1","NegativeCatchTrialsQuantity"],"0050":["US","1","FalseNegativesQuantity"],"0051":["CS","1","ExcessiveFalseNegativesDataFlag"],"0052":["CS","1","ExcessiveFalseNegatives"],"0053":["CS","1","FalsePositivesEstimateFlag"],"0054":["FL","1","FalsePositivesEstimate"],"0055":["CS","1","CatchTrialsDataFlag"],"0056":["US","1","PositiveCatchTrialsQuantity"],"0057":["CS","1","TestPointNormalsDataFlag"],"0058":["SQ","1","TestPointNormalsSequence"],"0059":["CS","1","GlobalDeviationProbabilityNormalsFlag"],"0060":["US","1","FalsePositivesQuantity"],"0061":["CS","1","ExcessiveFalsePositivesDataFlag"],"0062":["CS","1","ExcessiveFalsePositives"],"0063":["CS","1","VisualFieldTestNormalsFlag"],"0064":["SQ","1","ResultsNormalsSequence"],"0065":["SQ","1","AgeCorrectedSensitivityDeviationAlgorithmSequence"],"0066":["FL","1","GlobalDeviationFromNormal"],"0067":["SQ","1","GeneralizedDefectSensitivityDeviationAlgorithmSequence"],"0068":["FL","1","LocalizedDeviationFromNormal"],"0069":["LO","1","PatientReliabilityIndicator"],"0070":["FL","1","VisualFieldMeanSensitivity"],"0071":["FL","1","GlobalDeviationProbability"],"0072":["CS","1","LocalDeviationProbabilityNormalsFlag"],"0073":["FL","1","LocalizedDeviationProbability"],"0074":["CS","1","ShortTermFluctuationCalculated"],"0075":["FL","1","ShortTermFluctuation"],"0076":["CS","1","ShortTermFluctuationProbabilityCalculated"],"0077":["FL","1","ShortTermFluctuationProbability"],"0078":["CS","1","CorrectedLocalizedDeviationFromNormalCalculated"],"0079":["FL","1","CorrectedLocalizedDeviationFromNormal"],"0080":["CS","1","CorrectedLocalizedDeviationFromNormalProbabilityCalculated"],"0081":["FL","1","CorrectedLocalizedDeviationFromNormalProbability"],"0083":["SQ","1","GlobalDeviationProbabilitySequence"],"0085":["SQ","1","LocalizedDeviationProbabilitySequence"],"0086":["CS","1","FovealSensitivityMeasured"],"0087":["FL","1","FovealSensitivity"],"0088":["FL","1","VisualFieldTestDuration"],"0089":["SQ","1","VisualFieldTestPointSequence"],"0090":["FL","1","VisualFieldTestPointXCoordinate"],"0091":["FL","1","VisualFieldTestPointYCoordinate"],"0092":["FL","1","AgeCorrectedSensitivityDeviationValue"],"0093":["CS","1","StimulusResults"],"0094":["FL","1","SensitivityValue"],"0095":["CS","1","RetestStimulusSeen"],"0096":["FL","1","RetestSensitivityValue"],"0097":["SQ","1","VisualFieldTestPointNormalsSequence"],"0098":["FL","1","QuantifiedDefect"],"0100":["FL","1","AgeCorrectedSensitivityDeviationProbabilityValue"],"0102":["CS","1","GeneralizedDefectCorrectedSensitivityDeviationFlag"],"0103":["FL","1","GeneralizedDefectCorrectedSensitivityDeviationValue"],"0104":["FL","1","GeneralizedDefectCorrectedSensitivityDeviationProbabilityValue"],"0105":["FL","1","MinimumSensitivityValue"],"0106":["CS","1","BlindSpotLocalized"],"0107":["FL","1","BlindSpotXCoordinate"],"0108":["FL","1","BlindSpotYCoordinate"],"0110":["SQ","1","VisualAcuityMeasurementSequence"],"0112":["SQ","1","RefractiveParametersUsedOnPatientSequence"],"0113":["CS","1","MeasurementLaterality"],"0114":["SQ","1","OphthalmicPatientClinicalInformationLeftEyeSequence"],"0115":["SQ","1","OphthalmicPatientClinicalInformationRightEyeSequence"],"0117":["CS","1","FovealPointNormativeDataFlag"],"0118":["FL","1","FovealPointProbabilityValue"],"0120":["CS","1","ScreeningBaselineMeasured"],"0122":["SQ","1","ScreeningBaselineMeasuredSequence"],"0124":["CS","1","ScreeningBaselineType"],"0126":["FL","1","ScreeningBaselineValue"],"0202":["LO","1","AlgorithmSource"],"0306":["LO","1","DataSetName"],"0307":["LO","1","DataSetVersion"],"0308":["LO","1","DataSetSource"],"0309":["LO","1","DataSetDescription"],"0317":["SQ","1","VisualFieldTestReliabilityGlobalIndexSequence"],"0320":["SQ","1","VisualFieldGlobalResultsIndexSequence"],"0325":["SQ","1","DataObservationSequence"],"0338":["CS","1","IndexNormalsFlag"],"0341":["FL","1","IndexProbability"],"0344":["SQ","1","IndexProbabilitySequence"]},"0028":{"0000":["UL","1","GenericGroupLength"],"0002":["US","1","SamplesPerPixel"],"0003":["US","1","SamplesPerPixelUsed"],"0004":["CS","1","PhotometricInterpretation"],"0005":["US","1","ImageDimensions"],"0006":["US","1","PlanarConfiguration"],"0008":["IS","1","NumberOfFrames"],"0009":["AT","1-n","FrameIncrementPointer"],"000A":["AT","1-n","FrameDimensionPointer"],"0010":["US","1","Rows"],"0011":["US","1","Columns"],"0012":["US","1","Planes"],"0014":["US","1","UltrasoundColorDataPresent"],"0020":["","",""],"0030":["DS","2","PixelSpacing"],"0031":["DS","2","ZoomFactor"],"0032":["DS","2","ZoomCenter"],"0034":["IS","2","PixelAspectRatio"],"0040":["CS","1","ImageFormat"],"0050":["LO","1-n","ManipulatedImage"],"0051":["CS","1-n","CorrectedImage"],"005F":["LO","1","CompressionRecognitionCode"],"0060":["CS","1","CompressionCode"],"0061":["SH","1","CompressionOriginator"],"0062":["LO","1","CompressionLabel"],"0063":["SH","1","CompressionDescription"],"0065":["CS","1-n","CompressionSequence"],"0066":["AT","1-n","CompressionStepPointers"],"0068":["US","1","RepeatInterval"],"0069":["US","1","BitsGrouped"],"0070":["US","1-n","PerimeterTable"],"0071":["xs","1","PerimeterValue"],"0080":["US","1","PredictorRows"],"0081":["US","1","PredictorColumns"],"0082":["US","1-n","PredictorConstants"],"0090":["CS","1","BlockedPixels"],"0091":["US","1","BlockRows"],"0092":["US","1","BlockColumns"],"0093":["US","1","RowOverlap"],"0094":["US","1","ColumnOverlap"],"0100":["US","1","BitsAllocated"],"0101":["US","1","BitsStored"],"0102":["US","1","HighBit"],"0103":["US","1","PixelRepresentation"],"0104":["xs","1","SmallestValidPixelValue"],"0105":["xs","1","LargestValidPixelValue"],"0106":["xs","1","SmallestImagePixelValue"],"0107":["xs","1","LargestImagePixelValue"],"0108":["xs","1","SmallestPixelValueInSeries"],"0109":["xs","1","LargestPixelValueInSeries"],"0110":["xs","1","SmallestImagePixelValueInPlane"],"0111":["xs","1","LargestImagePixelValueInPlane"],"0120":["xs","1","PixelPaddingValue"],"0121":["xs","1","PixelPaddingRangeLimit"],"0122":["FL","1","FloatPixelPaddingValue"],"0123":["FD","1","DoubleFloatPixelPaddingValue"],"0124":["FL","1","FloatPixelPaddingRangeLimit"],"0125":["FD","1","DoubleFloatPixelPaddingRangeLimit"],"0200":["US","1","ImageLocation"],"0300":["CS","1","QualityControlImage"],"0301":["CS","1","BurnedInAnnotation"],"0302":["CS","1","RecognizableVisualFeatures"],"0303":["CS","1","LongitudinalTemporalInformationModified"],"0304":["UI","1","ReferencedColorPaletteInstanceUID"],"0400":["LO","1","TransformLabel"],"0401":["LO","1","TransformVersionNumber"],"0402":["US","1","NumberOfTransformSteps"],"0403":["LO","1-n","SequenceOfCompressedData"],"0404":["AT","1-n","DetailsOfCoefficients"],"04x0":["US","1","RowsForNthOrderCoefficients"],"04x1":["US","1","ColumnsForNthOrderCoefficients"],"04x2":["LO","1-n","CoefficientCoding"],"04x3":["AT","1-n","CoefficientCodingPointers"],"0700":["LO","1","DCTLabel"],"0701":["CS","1-n","DataBlockDescription"],"0702":["AT","1-n","DataBlock"],"0710":["US","1","NormalizationFactorFormat"],"0720":["US","1","ZonalMapNumberFormat"],"0721":["AT","1-n","ZonalMapLocation"],"0722":["US","1","ZonalMapFormat"],"0730":["US","1","AdaptiveMapFormat"],"0740":["US","1","CodeNumberFormat"],"08x0":["CS","1-n","CodeLabel"],"08x2":["US","1","NumberOfTables"],"08x3":["AT","1-n","CodeTableLocation"],"08x4":["US","1","BitsForCodeWord"],"08x8":["AT","1-n","ImageDataLocation"],"0A02":["CS","1","PixelSpacingCalibrationType"],"0A04":["LO","1","PixelSpacingCalibrationDescription"],1040:["CS","1","PixelIntensityRelationship"],1041:["SS","1","PixelIntensityRelationshipSign"],1050:["DS","1-n","WindowCenter"],1051:["DS","1-n","WindowWidth"],1052:["DS","1","RescaleIntercept"],1053:["DS","1","RescaleSlope"],1054:["LO","1","RescaleType"],1055:["LO","1-n","WindowCenterWidthExplanation"],1056:["CS","1","VOILUTFunction"],1080:["CS","1","GrayScale"],1090:["CS","1","RecommendedViewingMode"],1100:["xs","3","GrayLookupTableDescriptor"],1101:["xs","3","RedPaletteColorLookupTableDescriptor"],1102:["xs","3","GreenPaletteColorLookupTableDescriptor"],1103:["xs","3","BluePaletteColorLookupTableDescriptor"],1104:["US","3","AlphaPaletteColorLookupTableDescriptor"],1111:["xs","4","LargeRedPaletteColorLookupTableDescriptor"],1112:["xs","4","LargeGreenPaletteColorLookupTableDescriptor"],1113:["xs","4","LargeBluePaletteColorLookupTableDescriptor"],1199:["UI","1","PaletteColorLookupTableUID"],1200:["xs","1-n or 1","GrayLookupTableData"],1201:["OW","1","RedPaletteColorLookupTableData"],1202:["OW","1","GreenPaletteColorLookupTableData"],1203:["OW","1","BluePaletteColorLookupTableData"],1204:["OW","1","AlphaPaletteColorLookupTableData"],1211:["OW","1","LargeRedPaletteColorLookupTableData"],1212:["OW","1","LargeGreenPaletteColorLookupTableData"],1213:["OW","1","LargeBluePaletteColorLookupTableData"],1214:["UI","1","LargePaletteColorLookupTableUID"],1221:["OW","1","SegmentedRedPaletteColorLookupTableData"],1222:["OW","1","SegmentedGreenPaletteColorLookupTableData"],1223:["OW","1","SegmentedBluePaletteColorLookupTableData"],1224:["OW","1","SegmentedAlphaPaletteColorLookupTableData"],1230:["SQ","1","StoredValueColorRangeSequence"],1231:["FD","1","MinimumStoredValueMapped"],1232:["FD","1","MaximumStoredValueMapped"],1300:["CS","1","BreastImplantPresent"],1350:["CS","1","PartialView"],1351:["ST","1","PartialViewDescription"],1352:["SQ","1","PartialViewCodeSequence"],"135A":["CS","1","SpatialLocationsPreserved"],1401:["SQ","1","DataFrameAssignmentSequence"],1402:["CS","1","DataPathAssignment"],1403:["US","1","BitsMappedToColorLookupTable"],1404:["SQ","1","BlendingLUT1Sequence"],1405:["CS","1","BlendingLUT1TransferFunction"],1406:["FD","1","BlendingWeightConstant"],1407:["US","3","BlendingLookupTableDescriptor"],1408:["OW","1","BlendingLookupTableData"],"140B":["SQ","1","EnhancedPaletteColorLookupTableSequence"],"140C":["SQ","1","BlendingLUT2Sequence"],"140D":["CS","1","BlendingLUT2TransferFunction"],"140E":["CS","1","DataPathID"],"140F":["CS","1","RGBLUTTransferFunction"],1410:["CS","1","AlphaLUTTransferFunction"],2e3:["OB","1","ICCProfile"],2002:["CS","1","ColorSpace"],2110:["CS","1","LossyImageCompression"],2112:["DS","1-n","LossyImageCompressionRatio"],2114:["CS","1-n","LossyImageCompressionMethod"],3e3:["SQ","1","ModalityLUTSequence"],3002:["xs","3","LUTDescriptor"],3003:["LO","1","LUTExplanation"],3004:["LO","1","ModalityLUTType"],3006:["xx","1-n or 1","LUTData"],3010:["SQ","1","VOILUTSequence"],3110:["SQ","1","SoftcopyVOILUTSequence"],4e3:["LT","1","ImagePresentationComments"],5e3:["SQ","1","BiPlaneAcquisitionSequence"],6010:["US","1","RepresentativeFrameNumber"],6020:["US","1-n","FrameNumbersOfInterest"],6022:["LO","1-n","FrameOfInterestDescription"],6023:["CS","1-n","FrameOfInterestType"],6030:["US","1-n","MaskPointers"],6040:["US","1-n","RWavePointer"],6100:["SQ","1","MaskSubtractionSequence"],6101:["CS","1","MaskOperation"],6102:["US","2-2n","ApplicableFrameRange"],6110:["US","1-n","MaskFrameNumbers"],6112:["US","1","ContrastFrameAveraging"],6114:["FL","2","MaskSubPixelShift"],6120:["SS","1","TIDOffset"],6190:["ST","1","MaskOperationExplanation"],7e3:["SQ","1","EquipmentAdministratorSequence"],7001:["US","1","NumberOfDisplaySubsystems"],7002:["US","1","CurrentConfigurationID"],7003:["US","1","DisplaySubsystemID"],7004:["SH","1","DisplaySubsystemName"],7005:["LO","1","DisplaySubsystemDescription"],7006:["CS","1","SystemStatus"],7007:["LO","1","SystemStatusComment"],7008:["SQ","1","TargetLuminanceCharacteristicsSequence"],7009:["US","1","LuminanceCharacteristicsID"],"700A":["SQ","1","DisplaySubsystemConfigurationSequence"],"700B":["US","1","ConfigurationID"],"700C":["SH","1","ConfigurationName"],"700D":["LO","1","ConfigurationDescription"],"700E":["US","1","ReferencedTargetLuminanceCharacteristicsID"],"700F":["SQ","1","QAResultsSequence"],7010:["SQ","1","DisplaySubsystemQAResultsSequence"],7011:["SQ","1","ConfigurationQAResultsSequence"],7012:["SQ","1","MeasurementEquipmentSequence"],7013:["CS","1-n","MeasurementFunctions"],7014:["CS","1","MeasurementEquipmentType"],7015:["SQ","1","VisualEvaluationResultSequence"],7016:["SQ","1","DisplayCalibrationResultSequence"],7017:["US","1","DDLValue"],7018:["FL","2","CIExyWhitePoint"],7019:["CS","1","DisplayFunctionType"],"701A":["FL","1","GammaValue"],"701B":["US","1","NumberOfLuminancePoints"],"701C":["SQ","1","LuminanceResponseSequence"],"701D":["FL","1","TargetMinimumLuminance"],"701E":["FL","1","TargetMaximumLuminance"],"701F":["FL","1","LuminanceValue"],7020:["LO","1","LuminanceResponseDescription"],7021:["CS","1","WhitePointFlag"],7022:["SQ","1","DisplayDeviceTypeCodeSequence"],7023:["SQ","1","DisplaySubsystemSequence"],7024:["SQ","1","LuminanceResultSequence"],7025:["CS","1","AmbientLightValueSource"],7026:["CS","1-n","MeasuredCharacteristics"],7027:["SQ","1","LuminanceUniformityResultSequence"],7028:["SQ","1","VisualEvaluationTestSequence"],7029:["CS","1","TestResult"],"702A":["LO","1","TestResultComment"],"702B":["CS","1","TestImageValidation"],"702C":["SQ","1","TestPatternCodeSequence"],"702D":["SQ","1","MeasurementPatternCodeSequence"],"702E":["SQ","1","VisualEvaluationMethodCodeSequence"],"7FE0":["UR","1","PixelDataProviderURL"],9001:["UL","1","DataPointRows"],9002:["UL","1","DataPointColumns"],9003:["CS","1","SignalDomainColumns"],9099:["US","1","LargestMonochromePixelValue"],9108:["CS","1","DataRepresentation"],9110:["SQ","1","PixelMeasuresSequence"],9132:["SQ","1","FrameVOILUTSequence"],9145:["SQ","1","PixelValueTransformationSequence"],9235:["CS","1","SignalDomainRows"],9411:["FL","1","DisplayFilterPercentage"],9415:["SQ","1","FramePixelShiftSequence"],9416:["US","1","SubtractionItemID"],9422:["SQ","1","PixelIntensityRelationshipLUTSequence"],9443:["SQ","1","FramePixelDataPropertiesSequence"],9444:["CS","1","GeometricalProperties"],9445:["FL","1","GeometricMaximumDistortion"],9446:["CS","1-n","ImageProcessingApplied"],9454:["CS","1","MaskSelectionMode"],9474:["CS","1","LUTFunction"],9478:["FL","1","MaskVisibilityPercentage"],9501:["SQ","1","PixelShiftSequence"],9502:["SQ","1","RegionPixelShiftSequence"],9503:["SS","2-2n","VerticesOfTheRegion"],9505:["SQ","1","MultiFramePresentationSequence"],9506:["US","2-2n","PixelShiftFrameRange"],9507:["US","2-2n","LUTFrameRange"],9520:["DS","16","ImageToEquipmentMappingMatrix"],9537:["CS","1","EquipmentCoordinateSystemIdentification"]},"0032":{"0000":["UL","1","GenericGroupLength"],"000A":["CS","1","StudyStatusID"],"000C":["CS","1","StudyPriorityID"],"0012":["LO","1","StudyIDIssuer"],"0032":["DA","1","StudyVerifiedDate"],"0033":["TM","1","StudyVerifiedTime"],"0034":["DA","1","StudyReadDate"],"0035":["TM","1","StudyReadTime"],1e3:["DA","1","ScheduledStudyStartDate"],1001:["TM","1","ScheduledStudyStartTime"],1010:["DA","1","ScheduledStudyStopDate"],1011:["TM","1","ScheduledStudyStopTime"],1020:["LO","1","ScheduledStudyLocation"],1021:["AE","1-n","ScheduledStudyLocationAETitle"],1030:["LO","1","ReasonForStudy"],1031:["SQ","1","RequestingPhysicianIdentificationSequence"],1032:["PN","1","RequestingPhysician"],1033:["LO","1","RequestingService"],1034:["SQ","1","RequestingServiceCodeSequence"],1040:["DA","1","StudyArrivalDate"],1041:["TM","1","StudyArrivalTime"],1050:["DA","1","StudyCompletionDate"],1051:["TM","1","StudyCompletionTime"],1055:["CS","1","StudyComponentStatusID"],1060:["LO","1","RequestedProcedureDescription"],1064:["SQ","1","RequestedProcedureCodeSequence"],1065:["SQ","1","RequestedLateralityCodeSequence"],1066:["UT","1","ReasonForVisit"],1067:["SQ","1","ReasonForVisitCodeSequence"],1070:["LO","1","RequestedContrastAgent"],4e3:["LT","1","StudyComments"]},"0034":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","FlowIdentifierSequence"],"0002":["OB","1","FlowIdentifier"],"0003":["UI","1","FlowTransferSyntaxUID"],"0004":["UL","1","FlowRTPSamplingRate"],"0005":["OB","1","SourceIdentifier"],"0007":["OB","1","FrameOriginTimestamp"],"0008":["CS","1","IncludesImagingSubject"],"0009":["SQ","1","FrameUsefulnessGroupSequence"],"000A":["SQ","1","RealTimeBulkDataFlowSequence"],"000B":["SQ","1","CameraPositionGroupSequence"],"000C":["CS","1","IncludesInformation"],"000D":["SQ","1","TimeOfFrameGroupSequence"]},"0038":{"0000":["UL","1","GenericGroupLength"],"0004":["SQ","1","ReferencedPatientAliasSequence"],"0008":["CS","1","VisitStatusID"],"0010":["LO","1","AdmissionID"],"0011":["LO","1","IssuerOfAdmissionID"],"0014":["SQ","1","IssuerOfAdmissionIDSequence"],"0016":["LO","1","RouteOfAdmissions"],"001A":["DA","1","ScheduledAdmissionDate"],"001B":["TM","1","ScheduledAdmissionTime"],"001C":["DA","1","ScheduledDischargeDate"],"001D":["TM","1","ScheduledDischargeTime"],"001E":["LO","1","ScheduledPatientInstitutionResidence"],"0020":["DA","1","AdmittingDate"],"0021":["TM","1","AdmittingTime"],"0030":["DA","1","DischargeDate"],"0032":["TM","1","DischargeTime"],"0040":["LO","1","DischargeDiagnosisDescription"],"0044":["SQ","1","DischargeDiagnosisCodeSequence"],"0050":["LO","1","SpecialNeeds"],"0060":["LO","1","ServiceEpisodeID"],"0061":["LO","1","IssuerOfServiceEpisodeID"],"0062":["LO","1","ServiceEpisodeDescription"],"0064":["SQ","1","IssuerOfServiceEpisodeIDSequence"],"0100":["SQ","1","PertinentDocumentsSequence"],"0101":["SQ","1","PertinentResourcesSequence"],"0102":["LO","1","ResourceDescription"],"0300":["LO","1","CurrentPatientLocation"],"0400":["LO","1","PatientInstitutionResidence"],"0500":["LO","1","PatientState"],"0502":["SQ","1","PatientClinicalTrialParticipationSequence"],4e3:["LT","1","VisitComments"]},"003A":{"0000":["UL","1","GenericGroupLength"],"0004":["CS","1","WaveformOriginality"],"0005":["US","1","NumberOfWaveformChannels"],"0010":["UL","1","NumberOfWaveformSamples"],"001A":["DS","1","SamplingFrequency"],"0020":["SH","1","MultiplexGroupLabel"],"0200":["SQ","1","ChannelDefinitionSequence"],"0202":["IS","1","WaveformChannelNumber"],"0203":["SH","1","ChannelLabel"],"0205":["CS","1-n","ChannelStatus"],"0208":["SQ","1","ChannelSourceSequence"],"0209":["SQ","1","ChannelSourceModifiersSequence"],"020A":["SQ","1","SourceWaveformSequence"],"020C":["LO","1","ChannelDerivationDescription"],"0210":["DS","1","ChannelSensitivity"],"0211":["SQ","1","ChannelSensitivityUnitsSequence"],"0212":["DS","1","ChannelSensitivityCorrectionFactor"],"0213":["DS","1","ChannelBaseline"],"0214":["DS","1","ChannelTimeSkew"],"0215":["DS","1","ChannelSampleSkew"],"0218":["DS","1","ChannelOffset"],"021A":["US","1","WaveformBitsStored"],"0220":["DS","1","FilterLowFrequency"],"0221":["DS","1","FilterHighFrequency"],"0222":["DS","1","NotchFilterFrequency"],"0223":["DS","1","NotchFilterBandwidth"],"0230":["FL","1","WaveformDataDisplayScale"],"0231":["US","3","WaveformDisplayBackgroundCIELabValue"],"0240":["SQ","1","WaveformPresentationGroupSequence"],"0241":["US","1","PresentationGroupNumber"],"0242":["SQ","1","ChannelDisplaySequence"],"0244":["US","3","ChannelRecommendedDisplayCIELabValue"],"0245":["FL","1","ChannelPosition"],"0246":["CS","1","DisplayShadingFlag"],"0247":["FL","1","FractionalChannelDisplayScale"],"0248":["FL","1","AbsoluteChannelDisplayScale"],"0300":["SQ","1","MultiplexedAudioChannelsDescriptionCodeSequence"],"0301":["IS","1","ChannelIdentificationCode"],"0302":["CS","1","ChannelMode"],"0310":["UI","1","MultiplexGroupUID"],"0311":["DS","1","PowerlineFrequency"],"0312":["SQ","1","ChannelImpedanceSequence"],"0313":["DS","1","ImpedanceValue"],"0314":["DT","1","ImpedanceMeasurementDateTime"],"0315":["DS","1","ImpedanceMeasurementFrequency"],"0316":["CS","1","ImpedanceMeasurementCurrentType"]},"0040":{"0000":["UL","1","GenericGroupLength"],"0001":["AE","1-n","ScheduledStationAETitle"],"0002":["DA","1","ScheduledProcedureStepStartDate"],"0003":["TM","1","ScheduledProcedureStepStartTime"],"0004":["DA","1","ScheduledProcedureStepEndDate"],"0005":["TM","1","ScheduledProcedureStepEndTime"],"0006":["PN","1","ScheduledPerformingPhysicianName"],"0007":["LO","1","ScheduledProcedureStepDescription"],"0008":["SQ","1","ScheduledProtocolCodeSequence"],"0009":["SH","1","ScheduledProcedureStepID"],"000A":["SQ","1","StageCodeSequence"],"000B":["SQ","1","ScheduledPerformingPhysicianIdentificationSequence"],"0010":["SH","1-n","ScheduledStationName"],"0011":["SH","1","ScheduledProcedureStepLocation"],"0012":["LO","1","PreMedication"],"0020":["CS","1","ScheduledProcedureStepStatus"],"0026":["SQ","1","OrderPlacerIdentifierSequence"],"0027":["SQ","1","OrderFillerIdentifierSequence"],"0031":["UT","1","LocalNamespaceEntityID"],"0032":["UT","1","UniversalEntityID"],"0033":["CS","1","UniversalEntityIDType"],"0035":["CS","1","IdentifierTypeCode"],"0036":["SQ","1","AssigningFacilitySequence"],"0039":["SQ","1","AssigningJurisdictionCodeSequence"],"003A":["SQ","1","AssigningAgencyOrDepartmentCodeSequence"],"0100":["SQ","1","ScheduledProcedureStepSequence"],"0220":["SQ","1","ReferencedNonImageCompositeSOPInstanceSequence"],"0241":["AE","1","PerformedStationAETitle"],"0242":["SH","1","PerformedStationName"],"0243":["SH","1","PerformedLocation"],"0244":["DA","1","PerformedProcedureStepStartDate"],"0245":["TM","1","PerformedProcedureStepStartTime"],"0250":["DA","1","PerformedProcedureStepEndDate"],"0251":["TM","1","PerformedProcedureStepEndTime"],"0252":["CS","1","PerformedProcedureStepStatus"],"0253":["SH","1","PerformedProcedureStepID"],"0254":["LO","1","PerformedProcedureStepDescription"],"0255":["LO","1","PerformedProcedureTypeDescription"],"0260":["SQ","1","PerformedProtocolCodeSequence"],"0261":["CS","1","PerformedProtocolType"],"0270":["SQ","1","ScheduledStepAttributesSequence"],"0275":["SQ","1","RequestAttributesSequence"],"0280":["ST","1","CommentsOnThePerformedProcedureStep"],"0281":["SQ","1","PerformedProcedureStepDiscontinuationReasonCodeSequence"],"0293":["SQ","1","QuantitySequence"],"0294":["DS","1","Quantity"],"0295":["SQ","1","MeasuringUnitsSequence"],"0296":["SQ","1","BillingItemSequence"],"0300":["US","1","TotalTimeOfFluoroscopy"],"0301":["US","1","TotalNumberOfExposures"],"0302":["US","1","EntranceDose"],"0303":["US","1-2","ExposedArea"],"0306":["DS","1","DistanceSourceToEntrance"],"0307":["DS","1","DistanceSourceToSupport"],"030E":["SQ","1","ExposureDoseSequence"],"0310":["ST","1","CommentsOnRadiationDose"],"0312":["DS","1","XRayOutput"],"0314":["DS","1","HalfValueLayer"],"0316":["DS","1","OrganDose"],"0318":["CS","1","OrganExposed"],"0320":["SQ","1","BillingProcedureStepSequence"],"0321":["SQ","1","FilmConsumptionSequence"],"0324":["SQ","1","BillingSuppliesAndDevicesSequence"],"0330":["SQ","1","ReferencedProcedureStepSequence"],"0340":["SQ","1","PerformedSeriesSequence"],"0400":["LT","1","CommentsOnTheScheduledProcedureStep"],"0440":["SQ","1","ProtocolContextSequence"],"0441":["SQ","1","ContentItemModifierSequence"],"0500":["SQ","1","ScheduledSpecimenSequence"],"050A":["LO","1","SpecimenAccessionNumber"],"0512":["LO","1","ContainerIdentifier"],"0513":["SQ","1","IssuerOfTheContainerIdentifierSequence"],"0515":["SQ","1","AlternateContainerIdentifierSequence"],"0518":["SQ","1","ContainerTypeCodeSequence"],"051A":["LO","1","ContainerDescription"],"0520":["SQ","1","ContainerComponentSequence"],"0550":["SQ","1","SpecimenSequence"],"0551":["LO","1","SpecimenIdentifier"],"0552":["SQ","1","SpecimenDescriptionSequenceTrial"],"0553":["ST","1","SpecimenDescriptionTrial"],"0554":["UI","1","SpecimenUID"],"0555":["SQ","1","AcquisitionContextSequence"],"0556":["ST","1","AcquisitionContextDescription"],"0560":["SQ","1","SpecimenDescriptionSequence"],"0562":["SQ","1","IssuerOfTheSpecimenIdentifierSequence"],"059A":["SQ","1","SpecimenTypeCodeSequence"],"0600":["LO","1","SpecimenShortDescription"],"0602":["UT","1","SpecimenDetailedDescription"],"0610":["SQ","1","SpecimenPreparationSequence"],"0612":["SQ","1","SpecimenPreparationStepContentItemSequence"],"0620":["SQ","1","SpecimenLocalizationContentItemSequence"],"06FA":["LO","1","SlideIdentifier"],"0710":["SQ","1","WholeSlideMicroscopyImageFrameTypeSequence"],"071A":["SQ","1","ImageCenterPointCoordinatesSequence"],"072A":["DS","1","XOffsetInSlideCoordinateSystem"],"073A":["DS","1","YOffsetInSlideCoordinateSystem"],"074A":["DS","1","ZOffsetInSlideCoordinateSystem"],"08D8":["SQ","1","PixelSpacingSequence"],"08DA":["SQ","1","CoordinateSystemAxisCodeSequence"],"08EA":["SQ","1","MeasurementUnitsCodeSequence"],"09F8":["SQ","1","VitalStainCodeSequenceTrial"],1001:["SH","1","RequestedProcedureID"],1002:["LO","1","ReasonForTheRequestedProcedure"],1003:["SH","1","RequestedProcedurePriority"],1004:["LO","1","PatientTransportArrangements"],1005:["LO","1","RequestedProcedureLocation"],1006:["SH","1","PlacerOrderNumberProcedure"],1007:["SH","1","FillerOrderNumberProcedure"],1008:["LO","1","ConfidentialityCode"],1009:["SH","1","ReportingPriority"],"100A":["SQ","1","ReasonForRequestedProcedureCodeSequence"],1010:["PN","1-n","NamesOfIntendedRecipientsOfResults"],1011:["SQ","1","IntendedRecipientsOfResultsIdentificationSequence"],1012:["SQ","1","ReasonForPerformedProcedureCodeSequence"],1060:["LO","1","RequestedProcedureDescriptionTrial"],1101:["SQ","1","PersonIdentificationCodeSequence"],1102:["ST","1","PersonAddress"],1103:["LO","1-n","PersonTelephoneNumbers"],1104:["LT","1","PersonTelecomInformation"],1400:["LT","1","RequestedProcedureComments"],2001:["LO","1","ReasonForTheImagingServiceRequest"],2004:["DA","1","IssueDateOfImagingServiceRequest"],2005:["TM","1","IssueTimeOfImagingServiceRequest"],2006:["SH","1","PlacerOrderNumberImagingServiceRequestRetired"],2007:["SH","1","FillerOrderNumberImagingServiceRequestRetired"],2008:["PN","1","OrderEnteredBy"],2009:["SH","1","OrderEntererLocation"],2010:["SH","1","OrderCallbackPhoneNumber"],2011:["LT","1","OrderCallbackTelecomInformation"],2016:["LO","1","PlacerOrderNumberImagingServiceRequest"],2017:["LO","1","FillerOrderNumberImagingServiceRequest"],2400:["LT","1","ImagingServiceRequestComments"],3001:["LO","1","ConfidentialityConstraintOnPatientDataDescription"],4001:["CS","1","GeneralPurposeScheduledProcedureStepStatus"],4002:["CS","1","GeneralPurposePerformedProcedureStepStatus"],4003:["CS","1","GeneralPurposeScheduledProcedureStepPriority"],4004:["SQ","1","ScheduledProcessingApplicationsCodeSequence"],4005:["DT","1","ScheduledProcedureStepStartDateTime"],4006:["CS","1","MultipleCopiesFlag"],4007:["SQ","1","PerformedProcessingApplicationsCodeSequence"],4008:["DT","1","ScheduledProcedureStepExpirationDateTime"],4009:["SQ","1","HumanPerformerCodeSequence"],4010:["DT","1","ScheduledProcedureStepModificationDateTime"],4011:["DT","1","ExpectedCompletionDateTime"],4015:["SQ","1","ResultingGeneralPurposePerformedProcedureStepsSequence"],4016:["SQ","1","ReferencedGeneralPurposeScheduledProcedureStepSequence"],4018:["SQ","1","ScheduledWorkitemCodeSequence"],4019:["SQ","1","PerformedWorkitemCodeSequence"],4020:["CS","1","InputAvailabilityFlag"],4021:["SQ","1","InputInformationSequence"],4022:["SQ","1","RelevantInformationSequence"],4023:["UI","1","ReferencedGeneralPurposeScheduledProcedureStepTransactionUID"],4025:["SQ","1","ScheduledStationNameCodeSequence"],4026:["SQ","1","ScheduledStationClassCodeSequence"],4027:["SQ","1","ScheduledStationGeographicLocationCodeSequence"],4028:["SQ","1","PerformedStationNameCodeSequence"],4029:["SQ","1","PerformedStationClassCodeSequence"],4030:["SQ","1","PerformedStationGeographicLocationCodeSequence"],4031:["SQ","1","RequestedSubsequentWorkitemCodeSequence"],4032:["SQ","1","NonDICOMOutputCodeSequence"],4033:["SQ","1","OutputInformationSequence"],4034:["SQ","1","ScheduledHumanPerformersSequence"],4035:["SQ","1","ActualHumanPerformersSequence"],4036:["LO","1","HumanPerformerOrganization"],4037:["PN","1","HumanPerformerName"],4040:["CS","1","RawDataHandling"],4041:["CS","1","InputReadinessState"],4050:["DT","1","PerformedProcedureStepStartDateTime"],4051:["DT","1","PerformedProcedureStepEndDateTime"],4052:["DT","1","ProcedureStepCancellationDateTime"],4070:["SQ","1","OutputDestinationSequence"],4071:["SQ","1","DICOMStorageSequence"],4072:["SQ","1","STOWRSStorageSequence"],4073:["UR","1","StorageURL"],4074:["SQ","1","XDSStorageSequence"],8302:["DS","1","EntranceDoseInmGy"],8303:["CS","1","EntranceDoseDerivation"],9092:["SQ","1","ParametricMapFrameTypeSequence"],9094:["SQ","1","ReferencedImageRealWorldValueMappingSequence"],9096:["SQ","1","RealWorldValueMappingSequence"],9098:["SQ","1","PixelValueMappingCodeSequence"],9210:["SH","1","LUTLabel"],9211:["xs","1","RealWorldValueLastValueMapped"],9212:["FD","1-n","RealWorldValueLUTData"],9213:["FD","1","DoubleFloatRealWorldValueLastValueMapped"],9214:["FD","1","DoubleFloatRealWorldValueFirstValueMapped"],9216:["xs","1","RealWorldValueFirstValueMapped"],9220:["SQ","1","QuantityDefinitionSequence"],9224:["FD","1","RealWorldValueIntercept"],9225:["FD","1","RealWorldValueSlope"],A007:["CS","1","FindingsFlagTrial"],A010:["CS","1","RelationshipType"],A020:["SQ","1","FindingsSequenceTrial"],A021:["UI","1","FindingsGroupUIDTrial"],A022:["UI","1","ReferencedFindingsGroupUIDTrial"],A023:["DA","1","FindingsGroupRecordingDateTrial"],A024:["TM","1","FindingsGroupRecordingTimeTrial"],A026:["SQ","1","FindingsSourceCategoryCodeSequenceTrial"],A027:["LO","1","VerifyingOrganization"],A028:["SQ","1","DocumentingOrganizationIdentifierCodeSequenceTrial"],A030:["DT","1","VerificationDateTime"],A032:["DT","1","ObservationDateTime"],A033:["DT","1","ObservationStartDateTime"],A040:["CS","1","ValueType"],A043:["SQ","1","ConceptNameCodeSequence"],A047:["LO","1","MeasurementPrecisionDescriptionTrial"],A050:["CS","1","ContinuityOfContent"],A057:["CS","1-n","UrgencyOrPriorityAlertsTrial"],A060:["LO","1","SequencingIndicatorTrial"],A066:["SQ","1","DocumentIdentifierCodeSequenceTrial"],A067:["PN","1","DocumentAuthorTrial"],A068:["SQ","1","DocumentAuthorIdentifierCodeSequenceTrial"],A070:["SQ","1","IdentifierCodeSequenceTrial"],A073:["SQ","1","VerifyingObserverSequence"],A074:["OB","1","ObjectBinaryIdentifierTrial"],A075:["PN","1","VerifyingObserverName"],A076:["SQ","1","DocumentingObserverIdentifierCodeSequenceTrial"],A078:["SQ","1","AuthorObserverSequence"],A07A:["SQ","1","ParticipantSequence"],A07C:["SQ","1","CustodialOrganizationSequence"],A080:["CS","1","ParticipationType"],A082:["DT","1","ParticipationDateTime"],A084:["CS","1","ObserverType"],A085:["SQ","1","ProcedureIdentifierCodeSequenceTrial"],A088:["SQ","1","VerifyingObserverIdentificationCodeSequence"],A089:["OB","1","ObjectDirectoryBinaryIdentifierTrial"],A090:["SQ","1","EquivalentCDADocumentSequence"],A0B0:["US","2-2n","ReferencedWaveformChannels"],A110:["DA","1","DateOfDocumentOrVerbalTransactionTrial"],A112:["TM","1","TimeOfDocumentCreationOrVerbalTransactionTrial"],A120:["DT","1","DateTime"],A121:["DA","1","Date"],A122:["TM","1","Time"],A123:["PN","1","PersonName"],A124:["UI","1","UID"],A125:["CS","2","ReportStatusIDTrial"],A130:["CS","1","TemporalRangeType"],A132:["UL","1-n","ReferencedSamplePositions"],A136:["US","1-n","ReferencedFrameNumbers"],A138:["DS","1-n","ReferencedTimeOffsets"],A13A:["DT","1-n","ReferencedDateTime"],A160:["UT","1","TextValue"],A161:["FD","1-n","FloatingPointValue"],A162:["SL","1-n","RationalNumeratorValue"],A163:["UL","1-n","RationalDenominatorValue"],A167:["SQ","1","ObservationCategoryCodeSequenceTrial"],A168:["SQ","1","ConceptCodeSequence"],A16A:["ST","1","BibliographicCitationTrial"],A170:["SQ","1","PurposeOfReferenceCodeSequence"],A171:["UI","1","ObservationUID"],A172:["UI","1","ReferencedObservationUIDTrial"],A173:["CS","1","ReferencedObservationClassTrial"],A174:["CS","1","ReferencedObjectObservationClassTrial"],A180:["US","1","AnnotationGroupNumber"],A192:["DA","1","ObservationDateTrial"],A193:["TM","1","ObservationTimeTrial"],A194:["CS","1","MeasurementAutomationTrial"],A195:["SQ","1","ModifierCodeSequence"],A224:["ST","1","IdentificationDescriptionTrial"],A290:["CS","1","CoordinatesSetGeometricTypeTrial"],A296:["SQ","1","AlgorithmCodeSequenceTrial"],A297:["ST","1","AlgorithmDescriptionTrial"],A29A:["SL","2-2n","PixelCoordinatesSetTrial"],A300:["SQ","1","MeasuredValueSequence"],A301:["SQ","1","NumericValueQualifierCodeSequence"],A307:["PN","1","CurrentObserverTrial"],A30A:["DS","1-n","NumericValue"],A313:["SQ","1","ReferencedAccessionSequenceTrial"],A33A:["ST","1","ReportStatusCommentTrial"],A340:["SQ","1","ProcedureContextSequenceTrial"],A352:["PN","1","VerbalSourceTrial"],A353:["ST","1","AddressTrial"],A354:["LO","1","TelephoneNumberTrial"],A358:["SQ","1","VerbalSourceIdentifierCodeSequenceTrial"],A360:["SQ","1","PredecessorDocumentsSequence"],A370:["SQ","1","ReferencedRequestSequence"],A372:["SQ","1","PerformedProcedureCodeSequence"],A375:["SQ","1","CurrentRequestedProcedureEvidenceSequence"],A380:["SQ","1","ReportDetailSequenceTrial"],A385:["SQ","1","PertinentOtherEvidenceSequence"],A390:["SQ","1","HL7StructuredDocumentReferenceSequence"],A402:["UI","1","ObservationSubjectUIDTrial"],A403:["CS","1","ObservationSubjectClassTrial"],A404:["SQ","1","ObservationSubjectTypeCodeSequenceTrial"],A491:["CS","1","CompletionFlag"],A492:["LO","1","CompletionFlagDescription"],A493:["CS","1","VerificationFlag"],A494:["CS","1","ArchiveRequested"],A496:["CS","1","PreliminaryFlag"],A504:["SQ","1","ContentTemplateSequence"],A525:["SQ","1","IdenticalDocumentsSequence"],A600:["CS","1","ObservationSubjectContextFlagTrial"],A601:["CS","1","ObserverContextFlagTrial"],A603:["CS","1","ProcedureContextFlagTrial"],A730:["SQ","1","ContentSequence"],A731:["SQ","1","RelationshipSequenceTrial"],A732:["SQ","1","RelationshipTypeCodeSequenceTrial"],A744:["SQ","1","LanguageCodeSequenceTrial"],A801:["SQ","1","TabulatedValuesSequence"],A802:["UL","1","NumberOfTableRows"],A803:["UL","1","NumberOfTableColumns"],A804:["UL","1","TableRowNumber"],A805:["UL","1","TableColumnNumber"],A806:["SQ","1","TableRowDefinitionSequence"],A807:["SQ","1","TableColumnDefinitionSequence"],A808:["SQ","1","CellValuesSequence"],A992:["ST","1","UniformResourceLocatorTrial"],B020:["SQ","1","WaveformAnnotationSequence"],DB00:["CS","1","TemplateIdentifier"],DB06:["DT","1","TemplateVersion"],DB07:["DT","1","TemplateLocalVersion"],DB0B:["CS","1","TemplateExtensionFlag"],DB0C:["UI","1","TemplateExtensionOrganizationUID"],DB0D:["UI","1","TemplateExtensionCreatorUID"],DB73:["UL","1-n","ReferencedContentItemIdentifier"],E001:["ST","1","HL7InstanceIdentifier"],E004:["DT","1","HL7DocumentEffectiveTime"],E006:["SQ","1","HL7DocumentTypeCodeSequence"],E008:["SQ","1","DocumentClassCodeSequence"],E010:["UR","1","RetrieveURI"],E011:["UI","1","RetrieveLocationUID"],E020:["CS","1","TypeOfInstances"],E021:["SQ","1","DICOMRetrievalSequence"],E022:["SQ","1","DICOMMediaRetrievalSequence"],E023:["SQ","1","WADORetrievalSequence"],E024:["SQ","1","XDSRetrievalSequence"],E025:["SQ","1","WADORSRetrievalSequence"],E030:["UI","1","RepositoryUniqueID"],E031:["UI","1","HomeCommunityID"]},"0042":{"0000":["UL","1","GenericGroupLength"],"0010":["ST","1","DocumentTitle"],"0011":["OB","1","EncapsulatedDocument"],"0012":["LO","1","MIMETypeOfEncapsulatedDocument"],"0013":["SQ","1","SourceInstanceSequence"],"0014":["LO","1-n","ListOfMIMETypes"],"0015":["UL","1","EncapsulatedDocumentLength"]},"0044":{"0000":["UL","1","GenericGroupLength"],"0001":["ST","1","ProductPackageIdentifier"],"0002":["CS","1","SubstanceAdministrationApproval"],"0003":["LT","1","ApprovalStatusFurtherDescription"],"0004":["DT","1","ApprovalStatusDateTime"],"0007":["SQ","1","ProductTypeCodeSequence"],"0008":["LO","1-n","ProductName"],"0009":["LT","1","ProductDescription"],"000A":["LO","1","ProductLotIdentifier"],"000B":["DT","1","ProductExpirationDateTime"],"0010":["DT","1","SubstanceAdministrationDateTime"],"0011":["LO","1","SubstanceAdministrationNotes"],"0012":["LO","1","SubstanceAdministrationDeviceID"],"0013":["SQ","1","ProductParameterSequence"],"0019":["SQ","1","SubstanceAdministrationParameterSequence"],"0100":["SQ","1","ApprovalSequence"],"0101":["SQ","1","AssertionCodeSequence"],"0102":["UI","1","AssertionUID"],"0103":["SQ","1","AsserterIdentificationSequence"],"0104":["DT","1","AssertionDateTime"],"0105":["DT","1","AssertionExpirationDateTime"],"0106":["UT","1","AssertionComments"],"0107":["SQ","1","RelatedAssertionSequence"],"0108":["UI","1","ReferencedAssertionUID"],"0109":["SQ","1","ApprovalSubjectSequence"],"010A":["SQ","1","OrganizationalRoleCodeSequence"]},"0046":{"0000":["UL","1","GenericGroupLength"],"0012":["LO","1","LensDescription"],"0014":["SQ","1","RightLensSequence"],"0015":["SQ","1","LeftLensSequence"],"0016":["SQ","1","UnspecifiedLateralityLensSequence"],"0018":["SQ","1","CylinderSequence"],"0028":["SQ","1","PrismSequence"],"0030":["FD","1","HorizontalPrismPower"],"0032":["CS","1","HorizontalPrismBase"],"0034":["FD","1","VerticalPrismPower"],"0036":["CS","1","VerticalPrismBase"],"0038":["CS","1","LensSegmentType"],"0040":["FD","1","OpticalTransmittance"],"0042":["FD","1","ChannelWidth"],"0044":["FD","1","PupilSize"],"0046":["FD","1","CornealSize"],"0047":["SQ","1","CornealSizeSequence"],"0050":["SQ","1","AutorefractionRightEyeSequence"],"0052":["SQ","1","AutorefractionLeftEyeSequence"],"0060":["FD","1","DistancePupillaryDistance"],"0062":["FD","1","NearPupillaryDistance"],"0063":["FD","1","IntermediatePupillaryDistance"],"0064":["FD","1","OtherPupillaryDistance"],"0070":["SQ","1","KeratometryRightEyeSequence"],"0071":["SQ","1","KeratometryLeftEyeSequence"],"0074":["SQ","1","SteepKeratometricAxisSequence"],"0075":["FD","1","RadiusOfCurvature"],"0076":["FD","1","KeratometricPower"],"0077":["FD","1","KeratometricAxis"],"0080":["SQ","1","FlatKeratometricAxisSequence"],"0092":["CS","1","BackgroundColor"],"0094":["CS","1","Optotype"],"0095":["CS","1","OptotypePresentation"],"0097":["SQ","1","SubjectiveRefractionRightEyeSequence"],"0098":["SQ","1","SubjectiveRefractionLeftEyeSequence"],"0100":["SQ","1","AddNearSequence"],"0101":["SQ","1","AddIntermediateSequence"],"0102":["SQ","1","AddOtherSequence"],"0104":["FD","1","AddPower"],"0106":["FD","1","ViewingDistance"],"0110":["SQ","1","CorneaMeasurementsSequence"],"0111":["SQ","1","SourceOfCorneaMeasurementDataCodeSequence"],"0112":["SQ","1","SteepCornealAxisSequence"],"0113":["SQ","1","FlatCornealAxisSequence"],"0114":["FD","1","CornealPower"],"0115":["FD","1","CornealAxis"],"0116":["SQ","1","CorneaMeasurementMethodCodeSequence"],"0117":["FL","1","RefractiveIndexOfCornea"],"0118":["FL","1","RefractiveIndexOfAqueousHumor"],"0121":["SQ","1","VisualAcuityTypeCodeSequence"],"0122":["SQ","1","VisualAcuityRightEyeSequence"],"0123":["SQ","1","VisualAcuityLeftEyeSequence"],"0124":["SQ","1","VisualAcuityBothEyesOpenSequence"],"0125":["CS","1","ViewingDistanceType"],"0135":["SS","2","VisualAcuityModifiers"],"0137":["FD","1","DecimalVisualAcuity"],"0139":["LO","1","OptotypeDetailedDefinition"],"0145":["SQ","1","ReferencedRefractiveMeasurementsSequence"],"0146":["FD","1","SpherePower"],"0147":["FD","1","CylinderPower"],"0201":["CS","1","CornealTopographySurface"],"0202":["FL","2","CornealVertexLocation"],"0203":["FL","1","PupilCentroidXCoordinate"],"0204":["FL","1","PupilCentroidYCoordinate"],"0205":["FL","1","EquivalentPupilRadius"],"0207":["SQ","1","CornealTopographyMapTypeCodeSequence"],"0208":["IS","2-2n","VerticesOfTheOutlineOfPupil"],"0210":["SQ","1","CornealTopographyMappingNormalsSequence"],"0211":["SQ","1","MaximumCornealCurvatureSequence"],"0212":["FL","1","MaximumCornealCurvature"],"0213":["FL","2","MaximumCornealCurvatureLocation"],"0215":["SQ","1","MinimumKeratometricSequence"],"0218":["SQ","1","SimulatedKeratometricCylinderSequence"],"0220":["FL","1","AverageCornealPower"],"0224":["FL","1","CornealISValue"],"0227":["FL","1","AnalyzedArea"],"0230":["FL","1","SurfaceRegularityIndex"],"0232":["FL","1","SurfaceAsymmetryIndex"],"0234":["FL","1","CornealEccentricityIndex"],"0236":["FL","1","KeratoconusPredictionIndex"],"0238":["FL","1","DecimalPotentialVisualAcuity"],"0242":["CS","1","CornealTopographyMapQualityEvaluation"],"0244":["SQ","1","SourceImageCornealProcessedDataSequence"],"0247":["FL","3","CornealPointLocation"],"0248":["CS","1","CornealPointEstimated"],"0249":["FL","1","AxialPower"],"0250":["FL","1","TangentialPower"],"0251":["FL","1","RefractivePower"],"0252":["FL","1","RelativeElevation"],"0253":["FL","1","CornealWavefront"]},"0048":{"0000":["UL","1","GenericGroupLength"],"0001":["FL","1","ImagedVolumeWidth"],"0002":["FL","1","ImagedVolumeHeight"],"0003":["FL","1","ImagedVolumeDepth"],"0006":["UL","1","TotalPixelMatrixColumns"],"0007":["UL","1","TotalPixelMatrixRows"],"0008":["SQ","1","TotalPixelMatrixOriginSequence"],"0010":["CS","1","SpecimenLabelInImage"],"0011":["CS","1","FocusMethod"],"0012":["CS","1","ExtendedDepthOfField"],"0013":["US","1","NumberOfFocalPlanes"],"0014":["FL","1","DistanceBetweenFocalPlanes"],"0015":["US","3","RecommendedAbsentPixelCIELabValue"],"0100":["SQ","1","IlluminatorTypeCodeSequence"],"0102":["DS","6","ImageOrientationSlide"],"0105":["SQ","1","OpticalPathSequence"],"0106":["SH","1","OpticalPathIdentifier"],"0107":["ST","1","OpticalPathDescription"],"0108":["SQ","1","IlluminationColorCodeSequence"],"0110":["SQ","1","SpecimenReferenceSequence"],"0111":["DS","1","CondenserLensPower"],"0112":["DS","1","ObjectiveLensPower"],"0113":["DS","1","ObjectiveLensNumericalAperture"],"0120":["SQ","1","PaletteColorLookupTableSequence"],"0200":["SQ","1","ReferencedImageNavigationSequence"],"0201":["US","2","TopLeftHandCornerOfLocalizerArea"],"0202":["US","2","BottomRightHandCornerOfLocalizerArea"],"0207":["SQ","1","OpticalPathIdentificationSequence"],"021A":["SQ","1","PlanePositionSlideSequence"],"021E":["SL","1","ColumnPositionInTotalImagePixelMatrix"],"021F":["SL","1","RowPositionInTotalImagePixelMatrix"],"0301":["CS","1","PixelOriginInterpretation"],"0302":["UL","1","NumberOfOpticalPaths"],"0303":["UL","1","TotalPixelMatrixFocalPlanes"]},"0050":{"0000":["UL","1","GenericGroupLength"],"0004":["CS","1","CalibrationImage"],"0010":["SQ","1","DeviceSequence"],"0012":["SQ","1","ContainerComponentTypeCodeSequence"],"0013":["FD","1","ContainerComponentThickness"],"0014":["DS","1","DeviceLength"],"0015":["FD","1","ContainerComponentWidth"],"0016":["DS","1","DeviceDiameter"],"0017":["CS","1","DeviceDiameterUnits"],"0018":["DS","1","DeviceVolume"],"0019":["DS","1","InterMarkerDistance"],"001A":["CS","1","ContainerComponentMaterial"],"001B":["LO","1","ContainerComponentID"],"001C":["FD","1","ContainerComponentLength"],"001D":["FD","1","ContainerComponentDiameter"],"001E":["LO","1","ContainerComponentDescription"],"0020":["LO","1","DeviceDescription"],"0021":["ST","1","LongDeviceDescription"]},"0052":{"0000":["UL","1","GenericGroupLength"],"0001":["FL","1","ContrastBolusIngredientPercentByVolume"],"0002":["FD","1","OCTFocalDistance"],"0003":["FD","1","BeamSpotSize"],"0004":["FD","1","EffectiveRefractiveIndex"],"0006":["CS","1","OCTAcquisitionDomain"],"0007":["FD","1","OCTOpticalCenterWavelength"],"0008":["FD","1","AxialResolution"],"0009":["FD","1","RangingDepth"],"0011":["FD","1","ALineRate"],"0012":["US","1","ALinesPerFrame"],"0013":["FD","1","CatheterRotationalRate"],"0014":["FD","1","ALinePixelSpacing"],"0016":["SQ","1","ModeOfPercutaneousAccessSequence"],"0025":["SQ","1","IntravascularOCTFrameTypeSequence"],"0026":["CS","1","OCTZOffsetApplied"],"0027":["SQ","1","IntravascularFrameContentSequence"],"0028":["FD","1","IntravascularLongitudinalDistance"],"0029":["SQ","1","IntravascularOCTFrameContentSequence"],"0030":["SS","1","OCTZOffsetCorrection"],"0031":["CS","1","CatheterDirectionOfRotation"],"0033":["FD","1","SeamLineLocation"],"0034":["FD","1","FirstALineLocation"],"0036":["US","1","SeamLineIndex"],"0038":["US","1","NumberOfPaddedALines"],"0039":["CS","1","InterpolationType"],"003A":["CS","1","RefractiveIndexApplied"]},"0054":{"0000":["UL","1","GenericGroupLength"],"0010":["US","1-n","EnergyWindowVector"],"0011":["US","1","NumberOfEnergyWindows"],"0012":["SQ","1","EnergyWindowInformationSequence"],"0013":["SQ","1","EnergyWindowRangeSequence"],"0014":["DS","1","EnergyWindowLowerLimit"],"0015":["DS","1","EnergyWindowUpperLimit"],"0016":["SQ","1","RadiopharmaceuticalInformationSequence"],"0017":["IS","1","ResidualSyringeCounts"],"0018":["SH","1","EnergyWindowName"],"0020":["US","1-n","DetectorVector"],"0021":["US","1","NumberOfDetectors"],"0022":["SQ","1","DetectorInformationSequence"],"0030":["US","1-n","PhaseVector"],"0031":["US","1","NumberOfPhases"],"0032":["SQ","1","PhaseInformationSequence"],"0033":["US","1","NumberOfFramesInPhase"],"0036":["IS","1","PhaseDelay"],"0038":["IS","1","PauseBetweenFrames"],"0039":["CS","1","PhaseDescription"],"0050":["US","1-n","RotationVector"],"0051":["US","1","NumberOfRotations"],"0052":["SQ","1","RotationInformationSequence"],"0053":["US","1","NumberOfFramesInRotation"],"0060":["US","1-n","RRIntervalVector"],"0061":["US","1","NumberOfRRIntervals"],"0062":["SQ","1","GatedInformationSequence"],"0063":["SQ","1","DataInformationSequence"],"0070":["US","1-n","TimeSlotVector"],"0071":["US","1","NumberOfTimeSlots"],"0072":["SQ","1","TimeSlotInformationSequence"],"0073":["DS","1","TimeSlotTime"],"0080":["US","1-n","SliceVector"],"0081":["US","1","NumberOfSlices"],"0090":["US","1-n","AngularViewVector"],"0100":["US","1-n","TimeSliceVector"],"0101":["US","1","NumberOfTimeSlices"],"0200":["DS","1","StartAngle"],"0202":["CS","1","TypeOfDetectorMotion"],"0210":["IS","1-n","TriggerVector"],"0211":["US","1","NumberOfTriggersInPhase"],"0220":["SQ","1","ViewCodeSequence"],"0222":["SQ","1","ViewModifierCodeSequence"],"0300":["SQ","1","RadionuclideCodeSequence"],"0302":["SQ","1","AdministrationRouteCodeSequence"],"0304":["SQ","1","RadiopharmaceuticalCodeSequence"],"0306":["SQ","1","CalibrationDataSequence"],"0308":["US","1","EnergyWindowNumber"],"0400":["SH","1","ImageID"],"0410":["SQ","1","PatientOrientationCodeSequence"],"0412":["SQ","1","PatientOrientationModifierCodeSequence"],"0414":["SQ","1","PatientGantryRelationshipCodeSequence"],"0500":["CS","1","SliceProgressionDirection"],"0501":["CS","1","ScanProgressionDirection"],1e3:["CS","2","SeriesType"],1001:["CS","1","Units"],1002:["CS","1","CountsSource"],1004:["CS","1","ReprojectionMethod"],1006:["CS","1","SUVType"],1100:["CS","1","RandomsCorrectionMethod"],1101:["LO","1","AttenuationCorrectionMethod"],1102:["CS","1","DecayCorrection"],1103:["LO","1","ReconstructionMethod"],1104:["LO","1","DetectorLinesOfResponseUsed"],1105:["LO","1","ScatterCorrectionMethod"],1200:["DS","1","AxialAcceptance"],1201:["IS","2","AxialMash"],1202:["IS","1","TransverseMash"],1203:["DS","2","DetectorElementSize"],1210:["DS","1","CoincidenceWindowWidth"],1220:["CS","1-n","SecondaryCountsType"],1300:["DS","1","FrameReferenceTime"],1310:["IS","1","PrimaryPromptsCountsAccumulated"],1311:["IS","1-n","SecondaryCountsAccumulated"],1320:["DS","1","SliceSensitivityFactor"],1321:["DS","1","DecayFactor"],1322:["DS","1","DoseCalibrationFactor"],1323:["DS","1","ScatterFractionFactor"],1324:["DS","1","DeadTimeFactor"],1330:["US","1","ImageIndex"],1400:["CS","1-n","CountsIncluded"],1401:["CS","1","DeadTimeCorrectionFlag"]},"0060":{"0000":["UL","1","GenericGroupLength"],3e3:["SQ","1","HistogramSequence"],3002:["US","1","HistogramNumberOfBins"],3004:["xs","1","HistogramFirstBinValue"],3006:["xs","1","HistogramLastBinValue"],3008:["US","1","HistogramBinWidth"],3010:["LO","1","HistogramExplanation"],3020:["UL","1-n","HistogramData"]},"0062":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","SegmentationType"],"0002":["SQ","1","SegmentSequence"],"0003":["SQ","1","SegmentedPropertyCategoryCodeSequence"],"0004":["US","1","SegmentNumber"],"0005":["LO","1","SegmentLabel"],"0006":["ST","1","SegmentDescription"],"0007":["SQ","1","SegmentationAlgorithmIdentificationSequence"],"0008":["CS","1","SegmentAlgorithmType"],"0009":["LO","1-n","SegmentAlgorithmName"],"000A":["SQ","1","SegmentIdentificationSequence"],"000B":["US","1-n","ReferencedSegmentNumber"],"000C":["US","1","RecommendedDisplayGrayscaleValue"],"000D":["US","3","RecommendedDisplayCIELabValue"],"000E":["US","1","MaximumFractionalValue"],"000F":["SQ","1","SegmentedPropertyTypeCodeSequence"],"0010":["CS","1","SegmentationFractionalType"],"0011":["SQ","1","SegmentedPropertyTypeModifierCodeSequence"],"0012":["SQ","1","UsedSegmentsSequence"],"0013":["CS","1","SegmentsOverlap"],"0020":["UT","1","TrackingID"],"0021":["UI","1","TrackingUID"]},"0064":{"0000":["UL","1","GenericGroupLength"],"0002":["SQ","1","DeformableRegistrationSequence"],"0003":["UI","1","SourceFrameOfReferenceUID"],"0005":["SQ","1","DeformableRegistrationGridSequence"],"0007":["UL","3","GridDimensions"],"0008":["FD","3","GridResolution"],"0009":["OF","1","VectorGridData"],"000F":["SQ","1","PreDeformationMatrixRegistrationSequence"],"0010":["SQ","1","PostDeformationMatrixRegistrationSequence"]},"0066":{"0000":["UL","1","GenericGroupLength"],"0001":["UL","1","NumberOfSurfaces"],"0002":["SQ","1","SurfaceSequence"],"0003":["UL","1","SurfaceNumber"],"0004":["LT","1","SurfaceComments"],"0009":["CS","1","SurfaceProcessing"],"000A":["FL","1","SurfaceProcessingRatio"],"000B":["LO","1","SurfaceProcessingDescription"],"000C":["FL","1","RecommendedPresentationOpacity"],"000D":["CS","1","RecommendedPresentationType"],"000E":["CS","1","FiniteVolume"],"0010":["CS","1","Manifold"],"0011":["SQ","1","SurfacePointsSequence"],"0012":["SQ","1","SurfacePointsNormalsSequence"],"0013":["SQ","1","SurfaceMeshPrimitivesSequence"],"0015":["UL","1","NumberOfSurfacePoints"],"0016":["OF","1","PointCoordinatesData"],"0017":["FL","3","PointPositionAccuracy"],"0018":["FL","1","MeanPointDistance"],"0019":["FL","1","MaximumPointDistance"],"001A":["FL","6","PointsBoundingBoxCoordinates"],"001B":["FL","3","AxisOfRotation"],"001C":["FL","3","CenterOfRotation"],"001E":["UL","1","NumberOfVectors"],"001F":["US","1","VectorDimensionality"],"0020":["FL","1-n","VectorAccuracy"],"0021":["OF","1","VectorCoordinateData"],"0022":["OD","1","DoublePointCoordinatesData"],"0023":["OW","1","TrianglePointIndexList"],"0024":["OW","1","EdgePointIndexList"],"0025":["OW","1","VertexPointIndexList"],"0026":["SQ","1","TriangleStripSequence"],"0027":["SQ","1","TriangleFanSequence"],"0028":["SQ","1","LineSequence"],"0029":["OW","1","PrimitivePointIndexList"],"002A":["UL","1","SurfaceCount"],"002B":["SQ","1","ReferencedSurfaceSequence"],"002C":["UL","1","ReferencedSurfaceNumber"],"002D":["SQ","1","SegmentSurfaceGenerationAlgorithmIdentificationSequence"],"002E":["SQ","1","SegmentSurfaceSourceInstanceSequence"],"002F":["SQ","1","AlgorithmFamilyCodeSequence"],"0030":["SQ","1","AlgorithmNameCodeSequence"],"0031":["LO","1","AlgorithmVersion"],"0032":["LT","1","AlgorithmParameters"],"0034":["SQ","1","FacetSequence"],"0035":["SQ","1","SurfaceProcessingAlgorithmIdentificationSequence"],"0036":["LO","1","AlgorithmName"],"0037":["FL","1","RecommendedPointRadius"],"0038":["FL","1","RecommendedLineThickness"],"0040":["OL","1","LongPrimitivePointIndexList"],"0041":["OL","1","LongTrianglePointIndexList"],"0042":["OL","1","LongEdgePointIndexList"],"0043":["OL","1","LongVertexPointIndexList"],"0101":["SQ","1","TrackSetSequence"],"0102":["SQ","1","TrackSequence"],"0103":["OW","1","RecommendedDisplayCIELabValueList"],"0104":["SQ","1","TrackingAlgorithmIdentificationSequence"],"0105":["UL","1","TrackSetNumber"],"0106":["LO","1","TrackSetLabel"],"0107":["UT","1","TrackSetDescription"],"0108":["SQ","1","TrackSetAnatomicalTypeCodeSequence"],"0121":["SQ","1","MeasurementsSequence"],"0124":["SQ","1","TrackSetStatisticsSequence"],"0125":["OF","1","FloatingPointValues"],"0129":["OL","1","TrackPointIndexList"],"0130":["SQ","1","TrackStatisticsSequence"],"0132":["SQ","1","MeasurementValuesSequence"],"0133":["SQ","1","DiffusionAcquisitionCodeSequence"],"0134":["SQ","1","DiffusionModelCodeSequence"]},"0068":{"0000":["UL","1","GenericGroupLength"],6210:["LO","1","ImplantSize"],6221:["LO","1","ImplantTemplateVersion"],6222:["SQ","1","ReplacedImplantTemplateSequence"],6223:["CS","1","ImplantType"],6224:["SQ","1","DerivationImplantTemplateSequence"],6225:["SQ","1","OriginalImplantTemplateSequence"],6226:["DT","1","EffectiveDateTime"],6230:["SQ","1","ImplantTargetAnatomySequence"],6260:["SQ","1","InformationFromManufacturerSequence"],6265:["SQ","1","NotificationFromManufacturerSequence"],6270:["DT","1","InformationIssueDateTime"],6280:["ST","1","InformationSummary"],"62A0":["SQ","1","ImplantRegulatoryDisapprovalCodeSequence"],"62A5":["FD","1","OverallTemplateSpatialTolerance"],"62C0":["SQ","1","HPGLDocumentSequence"],"62D0":["US","1","HPGLDocumentID"],"62D5":["LO","1","HPGLDocumentLabel"],"62E0":["SQ","1","ViewOrientationCodeSequence"],"62F0":["SQ","1","ViewOrientationModifierCodeSequence"],"62F2":["FD","1","HPGLDocumentScaling"],6300:["OB","1","HPGLDocument"],6310:["US","1","HPGLContourPenNumber"],6320:["SQ","1","HPGLPenSequence"],6330:["US","1","HPGLPenNumber"],6340:["LO","1","HPGLPenLabel"],6345:["ST","1","HPGLPenDescription"],6346:["FD","2","RecommendedRotationPoint"],6347:["FD","4","BoundingRectangle"],6350:["US","1-n","ImplantTemplate3DModelSurfaceNumber"],6360:["SQ","1","SurfaceModelDescriptionSequence"],6380:["LO","1","SurfaceModelLabel"],6390:["FD","1","SurfaceModelScalingFactor"],"63A0":["SQ","1","MaterialsCodeSequence"],"63A4":["SQ","1","CoatingMaterialsCodeSequence"],"63A8":["SQ","1","ImplantTypeCodeSequence"],"63AC":["SQ","1","FixationMethodCodeSequence"],"63B0":["SQ","1","MatingFeatureSetsSequence"],"63C0":["US","1","MatingFeatureSetID"],"63D0":["LO","1","MatingFeatureSetLabel"],"63E0":["SQ","1","MatingFeatureSequence"],"63F0":["US","1","MatingFeatureID"],6400:["SQ","1","MatingFeatureDegreeOfFreedomSequence"],6410:["US","1","DegreeOfFreedomID"],6420:["CS","1","DegreeOfFreedomType"],6430:["SQ","1","TwoDMatingFeatureCoordinatesSequence"],6440:["US","1","ReferencedHPGLDocumentID"],6450:["FD","2","TwoDMatingPoint"],6460:["FD","4","TwoDMatingAxes"],6470:["SQ","1","TwoDDegreeOfFreedomSequence"],6490:["FD","3","ThreeDDegreeOfFreedomAxis"],"64A0":["FD","2","RangeOfFreedom"],"64C0":["FD","3","ThreeDMatingPoint"],"64D0":["FD","9","ThreeDMatingAxes"],"64F0":["FD","3","TwoDDegreeOfFreedomAxis"],6500:["SQ","1","PlanningLandmarkPointSequence"],6510:["SQ","1","PlanningLandmarkLineSequence"],6520:["SQ","1","PlanningLandmarkPlaneSequence"],6530:["US","1","PlanningLandmarkID"],6540:["LO","1","PlanningLandmarkDescription"],6545:["SQ","1","PlanningLandmarkIdentificationCodeSequence"],6550:["SQ","1","TwoDPointCoordinatesSequence"],6560:["FD","2","TwoDPointCoordinates"],6590:["FD","3","ThreeDPointCoordinates"],"65A0":["SQ","1","TwoDLineCoordinatesSequence"],"65B0":["FD","4","TwoDLineCoordinates"],"65D0":["FD","6","ThreeDLineCoordinates"],"65E0":["SQ","1","TwoDPlaneCoordinatesSequence"],"65F0":["FD","4","TwoDPlaneIntersection"],6610:["FD","3","ThreeDPlaneOrigin"],6620:["FD","3","ThreeDPlaneNormal"],7001:["CS","1","ModelModification"],7002:["CS","1","ModelMirroring"],7003:["SQ","1","ModelUsageCodeSequence"],7004:["UI","1","ModelGroupUID"],7005:["UR","1","RelativeURIReferenceWithinEncapsulatedDocument"]},"006A":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","AnnotationCoordinateType"],"0002":["SQ","1","AnnotationGroupSequence"],"0003":["UI","1","AnnotationGroupUID"],"0005":["LO","1","AnnotationGroupLabel"],"0006":["UT","1","AnnotationGroupDescription"],"0007":["CS","1","AnnotationGroupGenerationType"],"0008":["SQ","1","AnnotationGroupAlgorithmIdentificationSequence"],"0009":["SQ","1","AnnotationPropertyCategoryCodeSequence"],"000A":["SQ","1","AnnotationPropertyTypeCodeSequence"],"000B":["SQ","1","AnnotationPropertyTypeModifierCodeSequence"],"000C":["UL","1","NumberOfAnnotations"],"000D":["CS","1","AnnotationAppliesToAllOpticalPaths"],"000E":["SH","1-n","ReferencedOpticalPathIdentifier"],"000F":["CS","1","AnnotationAppliesToAllZPlanes"],"0010":["FD","1-n","CommonZCoordinateValue"],"0011":["OL","1","AnnotationIndexList"]},"0070":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","GraphicAnnotationSequence"],"0002":["CS","1","GraphicLayer"],"0003":["CS","1","BoundingBoxAnnotationUnits"],"0004":["CS","1","AnchorPointAnnotationUnits"],"0005":["CS","1","GraphicAnnotationUnits"],"0006":["ST","1","UnformattedTextValue"],"0008":["SQ","1","TextObjectSequence"],"0009":["SQ","1","GraphicObjectSequence"],"0010":["FL","2","BoundingBoxTopLeftHandCorner"],"0011":["FL","2","BoundingBoxBottomRightHandCorner"],"0012":["CS","1","BoundingBoxTextHorizontalJustification"],"0014":["FL","2","AnchorPoint"],"0015":["CS","1","AnchorPointVisibility"],"0020":["US","1","GraphicDimensions"],"0021":["US","1","NumberOfGraphicPoints"],"0022":["FL","2-n","GraphicData"],"0023":["CS","1","GraphicType"],"0024":["CS","1","GraphicFilled"],"0040":["IS","1","ImageRotationRetired"],"0041":["CS","1","ImageHorizontalFlip"],"0042":["US","1","ImageRotation"],"0050":["US","2","DisplayedAreaTopLeftHandCornerTrial"],"0051":["US","2","DisplayedAreaBottomRightHandCornerTrial"],"0052":["SL","2","DisplayedAreaTopLeftHandCorner"],"0053":["SL","2","DisplayedAreaBottomRightHandCorner"],"005A":["SQ","1","DisplayedAreaSelectionSequence"],"0060":["SQ","1","GraphicLayerSequence"],"0062":["IS","1","GraphicLayerOrder"],"0066":["US","1","GraphicLayerRecommendedDisplayGrayscaleValue"],"0067":["US","3","GraphicLayerRecommendedDisplayRGBValue"],"0068":["LO","1","GraphicLayerDescription"],"0080":["CS","1","ContentLabel"],"0081":["LO","1","ContentDescription"],"0082":["DA","1","PresentationCreationDate"],"0083":["TM","1","PresentationCreationTime"],"0084":["PN","1","ContentCreatorName"],"0086":["SQ","1","ContentCreatorIdentificationCodeSequence"],"0087":["SQ","1","AlternateContentDescriptionSequence"],"0100":["CS","1","PresentationSizeMode"],"0101":["DS","2","PresentationPixelSpacing"],"0102":["IS","2","PresentationPixelAspectRatio"],"0103":["FL","1","PresentationPixelMagnificationRatio"],"0207":["LO","1","GraphicGroupLabel"],"0208":["ST","1","GraphicGroupDescription"],"0209":["SQ","1","CompoundGraphicSequence"],"0226":["UL","1","CompoundGraphicInstanceID"],"0227":["LO","1","FontName"],"0228":["CS","1","FontNameType"],"0229":["LO","1","CSSFontName"],"0230":["FD","1","RotationAngle"],"0231":["SQ","1","TextStyleSequence"],"0232":["SQ","1","LineStyleSequence"],"0233":["SQ","1","FillStyleSequence"],"0234":["SQ","1","GraphicGroupSequence"],"0241":["US","3","TextColorCIELabValue"],"0242":["CS","1","HorizontalAlignment"],"0243":["CS","1","VerticalAlignment"],"0244":["CS","1","ShadowStyle"],"0245":["FL","1","ShadowOffsetX"],"0246":["FL","1","ShadowOffsetY"],"0247":["US","3","ShadowColorCIELabValue"],"0248":["CS","1","Underlined"],"0249":["CS","1","Bold"],"0250":["CS","1","Italic"],"0251":["US","3","PatternOnColorCIELabValue"],"0252":["US","3","PatternOffColorCIELabValue"],"0253":["FL","1","LineThickness"],"0254":["CS","1","LineDashingStyle"],"0255":["UL","1","LinePattern"],"0256":["OB","1","FillPattern"],"0257":["CS","1","FillMode"],"0258":["FL","1","ShadowOpacity"],"0261":["FL","1","GapLength"],"0262":["FL","1","DiameterOfVisibility"],"0273":["FL","2","RotationPoint"],"0274":["CS","1","TickAlignment"],"0278":["CS","1","ShowTickLabel"],"0279":["CS","1","TickLabelAlignment"],"0282":["CS","1","CompoundGraphicUnits"],"0284":["FL","1","PatternOnOpacity"],"0285":["FL","1","PatternOffOpacity"],"0287":["SQ","1","MajorTicksSequence"],"0288":["FL","1","TickPosition"],"0289":["SH","1","TickLabel"],"0294":["CS","1","CompoundGraphicType"],"0295":["UL","1","GraphicGroupID"],"0306":["CS","1","ShapeType"],"0308":["SQ","1","RegistrationSequence"],"0309":["SQ","1","MatrixRegistrationSequence"],"030A":["SQ","1","MatrixSequence"],"030B":["FD","16","FrameOfReferenceToDisplayedCoordinateSystemTransformationMatrix"],"030C":["CS","1","FrameOfReferenceTransformationMatrixType"],"030D":["SQ","1","RegistrationTypeCodeSequence"],"030F":["ST","1","FiducialDescription"],"0310":["SH","1","FiducialIdentifier"],"0311":["SQ","1","FiducialIdentifierCodeSequence"],"0312":["FD","1","ContourUncertaintyRadius"],"0314":["SQ","1","UsedFiducialsSequence"],"0318":["SQ","1","GraphicCoordinatesDataSequence"],"031A":["UI","1","FiducialUID"],"031B":["UI","1","ReferencedFiducialUID"],"031C":["SQ","1","FiducialSetSequence"],"031E":["SQ","1","FiducialSequence"],"031F":["SQ","1","FiducialsPropertyCategoryCodeSequence"],"0401":["US","3","GraphicLayerRecommendedDisplayCIELabValue"],"0402":["SQ","1","BlendingSequence"],"0403":["FL","1","RelativeOpacity"],"0404":["SQ","1","ReferencedSpatialRegistrationSequence"],"0405":["CS","1","BlendingPosition"],1101:["UI","1","PresentationDisplayCollectionUID"],1102:["UI","1","PresentationSequenceCollectionUID"],1103:["US","1","PresentationSequencePositionIndex"],1104:["SQ","1","RenderedImageReferenceSequence"],1201:["SQ","1","VolumetricPresentationStateInputSequence"],1202:["CS","1","PresentationInputType"],1203:["US","1","InputSequencePositionIndex"],1204:["CS","1","Crop"],1205:["US","1-n","CroppingSpecificationIndex"],1206:["CS","1","CompositingMethod"],1207:["US","1","VolumetricPresentationInputNumber"],1208:["CS","1","ImageVolumeGeometry"],1209:["UI","1","VolumetricPresentationInputSetUID"],"120A":["SQ","1","VolumetricPresentationInputSetSequence"],"120B":["CS","1","GlobalCrop"],"120C":["US","1-n","GlobalCroppingSpecificationIndex"],"120D":["CS","1","RenderingMethod"],1301:["SQ","1","VolumeCroppingSequence"],1302:["CS","1","VolumeCroppingMethod"],1303:["FD","6","BoundingBoxCrop"],1304:["SQ","1","ObliqueCroppingPlaneSequence"],1305:["FD","4","Plane"],1306:["FD","3","PlaneNormal"],1309:["US","1","CroppingSpecificationNumber"],1501:["CS","1","MultiPlanarReconstructionStyle"],1502:["CS","1","MPRThicknessType"],1503:["FD","1","MPRSlabThickness"],1505:["FD","3","MPRTopLeftHandCorner"],1507:["FD","3","MPRViewWidthDirection"],1508:["FD","1","MPRViewWidth"],"150C":["UL","1","NumberOfVolumetricCurvePoints"],"150D":["OD","1","VolumetricCurvePoints"],1511:["FD","3","MPRViewHeightDirection"],1512:["FD","1","MPRViewHeight"],1602:["CS","1","RenderProjection"],1603:["FD","3","ViewpointPosition"],1604:["FD","3","ViewpointLookAtPoint"],1605:["FD","3","ViewpointUpDirection"],1606:["FD","6","RenderFieldOfView"],1607:["FD","1","SamplingStepSize"],1701:["CS","1","ShadingStyle"],1702:["FD","1","AmbientReflectionIntensity"],1703:["FD","3","LightDirection"],1704:["FD","1","DiffuseReflectionIntensity"],1705:["FD","1","SpecularReflectionIntensity"],1706:["FD","1","Shininess"],1801:["SQ","1","PresentationStateClassificationComponentSequence"],1802:["CS","1","ComponentType"],1803:["SQ","1","ComponentInputSequence"],1804:["US","1","VolumetricPresentationInputIndex"],1805:["SQ","1","PresentationStateCompositorComponentSequence"],1806:["SQ","1","WeightingTransferFunctionSequence"],1807:["US","3","WeightingLookupTableDescriptor"],1808:["OB","1","WeightingLookupTableData"],1901:["SQ","1","VolumetricAnnotationSequence"],1903:["SQ","1","ReferencedStructuredContextSequence"],1904:["UI","1","ReferencedContentItem"],1905:["SQ","1","VolumetricPresentationInputAnnotationSequence"],1907:["CS","1","AnnotationClipping"],"1A01":["CS","1","PresentationAnimationStyle"],"1A03":["FD","1","RecommendedAnimationRate"],"1A04":["SQ","1","AnimationCurveSequence"],"1A05":["FD","1","AnimationStepSize"],"1A06":["FD","1","SwivelRange"],"1A07":["OD","1","VolumetricCurveUpDirections"],"1A08":["SQ","1","VolumeStreamSequence"],"1A09":["LO","1","RGBATransferFunctionDescription"],"1B01":["SQ","1","AdvancedBlendingSequence"],"1B02":["US","1","BlendingInputNumber"],"1B03":["SQ","1","BlendingDisplayInputSequence"],"1B04":["SQ","1","BlendingDisplaySequence"],"1B06":["CS","1","BlendingMode"],"1B07":["CS","1","TimeSeriesBlending"],"1B08":["CS","1","GeometryForDisplay"],"1B11":["SQ","1","ThresholdSequence"],"1B12":["SQ","1","ThresholdValueSequence"],"1B13":["CS","1","ThresholdType"],"1B14":["FD","1","ThresholdValue"]},"0072":{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","HangingProtocolName"],"0004":["LO","1","HangingProtocolDescription"],"0006":["CS","1","HangingProtocolLevel"],"0008":["LO","1","HangingProtocolCreator"],"000A":["DT","1","HangingProtocolCreationDateTime"],"000C":["SQ","1","HangingProtocolDefinitionSequence"],"000E":["SQ","1","HangingProtocolUserIdentificationCodeSequence"],"0010":["LO","1","HangingProtocolUserGroupName"],"0012":["SQ","1","SourceHangingProtocolSequence"],"0014":["US","1","NumberOfPriorsReferenced"],"0020":["SQ","1","ImageSetsSequence"],"0022":["SQ","1","ImageSetSelectorSequence"],"0024":["CS","1","ImageSetSelectorUsageFlag"],"0026":["AT","1","SelectorAttribute"],"0028":["US","1","SelectorValueNumber"],"0030":["SQ","1","TimeBasedImageSetsSequence"],"0032":["US","1","ImageSetNumber"],"0034":["CS","1","ImageSetSelectorCategory"],"0038":["US","2","RelativeTime"],"003A":["CS","1","RelativeTimeUnits"],"003C":["SS","2","AbstractPriorValue"],"003E":["SQ","1","AbstractPriorCodeSequence"],"0040":["LO","1","ImageSetLabel"],"0050":["CS","1","SelectorAttributeVR"],"0052":["AT","1-n","SelectorSequencePointer"],"0054":["LO","1-n","SelectorSequencePointerPrivateCreator"],"0056":["LO","1","SelectorAttributePrivateCreator"],"005E":["AE","1-n","SelectorAEValue"],"005F":["AS","1-n","SelectorASValue"],"0060":["AT","1-n","SelectorATValue"],"0061":["DA","1-n","SelectorDAValue"],"0062":["CS","1-n","SelectorCSValue"],"0063":["DT","1-n","SelectorDTValue"],"0064":["IS","1-n","SelectorISValue"],"0065":["OB","1","SelectorOBValue"],"0066":["LO","1-n","SelectorLOValue"],"0067":["OF","1","SelectorOFValue"],"0068":["LT","1","SelectorLTValue"],"0069":["OW","1","SelectorOWValue"],"006A":["PN","1-n","SelectorPNValue"],"006B":["TM","1-n","SelectorTMValue"],"006C":["SH","1-n","SelectorSHValue"],"006D":["UN","1","SelectorUNValue"],"006E":["ST","1","SelectorSTValue"],"006F":["UC","1-n","SelectorUCValue"],"0070":["UT","1","SelectorUTValue"],"0071":["UR","1","SelectorURValue"],"0072":["DS","1-n","SelectorDSValue"],"0073":["OD","1","SelectorODValue"],"0074":["FD","1-n","SelectorFDValue"],"0075":["OL","1","SelectorOLValue"],"0076":["FL","1-n","SelectorFLValue"],"0078":["UL","1-n","SelectorULValue"],"007A":["US","1-n","SelectorUSValue"],"007C":["SL","1-n","SelectorSLValue"],"007E":["SS","1-n","SelectorSSValue"],"007F":["UI","1-n","SelectorUIValue"],"0080":["SQ","1","SelectorCodeSequenceValue"],"0081":["OV","1","SelectorOVValue"],"0082":["SV","1-n","SelectorSVValue"],"0083":["UV","1-n","SelectorUVValue"],"0100":["US","1","NumberOfScreens"],"0102":["SQ","1","NominalScreenDefinitionSequence"],"0104":["US","1","NumberOfVerticalPixels"],"0106":["US","1","NumberOfHorizontalPixels"],"0108":["FD","4","DisplayEnvironmentSpatialPosition"],"010A":["US","1","ScreenMinimumGrayscaleBitDepth"],"010C":["US","1","ScreenMinimumColorBitDepth"],"010E":["US","1","ApplicationMaximumRepaintTime"],"0200":["SQ","1","DisplaySetsSequence"],"0202":["US","1","DisplaySetNumber"],"0203":["LO","1","DisplaySetLabel"],"0204":["US","1","DisplaySetPresentationGroup"],"0206":["LO","1","DisplaySetPresentationGroupDescription"],"0208":["CS","1","PartialDataDisplayHandling"],"0210":["SQ","1","SynchronizedScrollingSequence"],"0212":["US","2-n","DisplaySetScrollingGroup"],"0214":["SQ","1","NavigationIndicatorSequence"],"0216":["US","1","NavigationDisplaySet"],"0218":["US","1-n","ReferenceDisplaySets"],"0300":["SQ","1","ImageBoxesSequence"],"0302":["US","1","ImageBoxNumber"],"0304":["CS","1","ImageBoxLayoutType"],"0306":["US","1","ImageBoxTileHorizontalDimension"],"0308":["US","1","ImageBoxTileVerticalDimension"],"0310":["CS","1","ImageBoxScrollDirection"],"0312":["CS","1","ImageBoxSmallScrollType"],"0314":["US","1","ImageBoxSmallScrollAmount"],"0316":["CS","1","ImageBoxLargeScrollType"],"0318":["US","1","ImageBoxLargeScrollAmount"],"0320":["US","1","ImageBoxOverlapPriority"],"0330":["FD","1","CineRelativeToRealTime"],"0400":["SQ","1","FilterOperationsSequence"],"0402":["CS","1","FilterByCategory"],"0404":["CS","1","FilterByAttributePresence"],"0406":["CS","1","FilterByOperator"],"0420":["US","3","StructuredDisplayBackgroundCIELabValue"],"0421":["US","3","EmptyImageBoxCIELabValue"],"0422":["SQ","1","StructuredDisplayImageBoxSequence"],"0424":["SQ","1","StructuredDisplayTextBoxSequence"],"0427":["SQ","1","ReferencedFirstFrameSequence"],"0430":["SQ","1","ImageBoxSynchronizationSequence"],"0432":["US","2-n","SynchronizedImageBoxList"],"0434":["CS","1","TypeOfSynchronization"],"0500":["CS","1","BlendingOperationType"],"0510":["CS","1","ReformattingOperationType"],"0512":["FD","1","ReformattingThickness"],"0514":["FD","1","ReformattingInterval"],"0516":["CS","1","ReformattingOperationInitialViewDirection"],"0520":["CS","1-n","ThreeDRenderingType"],"0600":["SQ","1","SortingOperationsSequence"],"0602":["CS","1","SortByCategory"],"0604":["CS","1","SortingDirection"],"0700":["CS","2","DisplaySetPatientOrientation"],"0702":["CS","1","VOIType"],"0704":["CS","1","PseudoColorType"],"0705":["SQ","1","PseudoColorPaletteInstanceReferenceSequence"],"0706":["CS","1","ShowGrayscaleInverted"],"0710":["CS","1","ShowImageTrueSizeFlag"],"0712":["CS","1","ShowGraphicAnnotationFlag"],"0714":["CS","1","ShowPatientDemographicsFlag"],"0716":["CS","1","ShowAcquisitionTechniquesFlag"],"0717":["CS","1","DisplaySetHorizontalJustification"],"0718":["CS","1","DisplaySetVerticalJustification"]},"0074":{"0000":["UL","1","GenericGroupLength"],"0120":["FD","1","ContinuationStartMeterset"],"0121":["FD","1","ContinuationEndMeterset"],1e3:["CS","1","ProcedureStepState"],1002:["SQ","1","ProcedureStepProgressInformationSequence"],1004:["DS","1","ProcedureStepProgress"],1006:["ST","1","ProcedureStepProgressDescription"],1007:["SQ","1","ProcedureStepProgressParametersSequence"],1008:["SQ","1","ProcedureStepCommunicationsURISequence"],"100A":["UR","1","ContactURI"],"100C":["LO","1","ContactDisplayName"],"100E":["SQ","1","ProcedureStepDiscontinuationReasonCodeSequence"],1020:["SQ","1","BeamTaskSequence"],1022:["CS","1","BeamTaskType"],1024:["IS","1","BeamOrderIndexTrial"],1025:["CS","1","AutosequenceFlag"],1026:["FD","1","TableTopVerticalAdjustedPosition"],1027:["FD","1","TableTopLongitudinalAdjustedPosition"],1028:["FD","1","TableTopLateralAdjustedPosition"],"102A":["FD","1","PatientSupportAdjustedAngle"],"102B":["FD","1","TableTopEccentricAdjustedAngle"],"102C":["FD","1","TableTopPitchAdjustedAngle"],"102D":["FD","1","TableTopRollAdjustedAngle"],1030:["SQ","1","DeliveryVerificationImageSequence"],1032:["CS","1","VerificationImageTiming"],1034:["CS","1","DoubleExposureFlag"],1036:["CS","1","DoubleExposureOrdering"],1038:["DS","1","DoubleExposureMetersetTrial"],"103A":["DS","4","DoubleExposureFieldDeltaTrial"],1040:["SQ","1","RelatedReferenceRTImageSequence"],1042:["SQ","1","GeneralMachineVerificationSequence"],1044:["SQ","1","ConventionalMachineVerificationSequence"],1046:["SQ","1","IonMachineVerificationSequence"],1048:["SQ","1","FailedAttributesSequence"],"104A":["SQ","1","OverriddenAttributesSequence"],"104C":["SQ","1","ConventionalControlPointVerificationSequence"],"104E":["SQ","1","IonControlPointVerificationSequence"],1050:["SQ","1","AttributeOccurrenceSequence"],1052:["AT","1","AttributeOccurrencePointer"],1054:["UL","1","AttributeItemSelector"],1056:["LO","1","AttributeOccurrencePrivateCreator"],1057:["IS","1-n","SelectorSequencePointerItems"],1200:["CS","1","ScheduledProcedureStepPriority"],1202:["LO","1","WorklistLabel"],1204:["LO","1","ProcedureStepLabel"],1210:["SQ","1","ScheduledProcessingParametersSequence"],1212:["SQ","1","PerformedProcessingParametersSequence"],1216:["SQ","1","UnifiedProcedureStepPerformedProcedureSequence"],1220:["SQ","1","RelatedProcedureStepSequence"],1222:["LO","1","ProcedureStepRelationshipType"],1224:["SQ","1","ReplacedProcedureStepSequence"],1230:["LO","1","DeletionLock"],1234:["AE","1","ReceivingAE"],1236:["AE","1","RequestingAE"],1238:["LT","1","ReasonForCancellation"],1242:["CS","1","SCPStatus"],1244:["CS","1","SubscriptionListStatus"],1246:["CS","1","UnifiedProcedureStepListStatus"],1324:["UL","1","BeamOrderIndex"],1338:["FD","1","DoubleExposureMeterset"],"133A":["FD","4","DoubleExposureFieldDelta"],1401:["SQ","1","BrachyTaskSequence"],1402:["DS","1","ContinuationStartTotalReferenceAirKerma"],1403:["DS","1","ContinuationEndTotalReferenceAirKerma"],1404:["IS","1","ContinuationPulseNumber"],1405:["SQ","1","ChannelDeliveryOrderSequence"],1406:["IS","1","ReferencedChannelNumber"],1407:["DS","1","StartCumulativeTimeWeight"],1408:["DS","1","EndCumulativeTimeWeight"],1409:["SQ","1","OmittedChannelSequence"],"140A":["CS","1","ReasonForChannelOmission"],"140B":["LO","1","ReasonForChannelOmissionDescription"],"140C":["IS","1","ChannelDeliveryOrderIndex"],"140D":["SQ","1","ChannelDeliveryContinuationSequence"],"140E":["SQ","1","OmittedApplicationSetupSequence"]},"0076":{"0000":["UL","1","GenericGroupLength"],"0001":["LO","1","ImplantAssemblyTemplateName"],"0003":["LO","1","ImplantAssemblyTemplateIssuer"],"0006":["LO","1","ImplantAssemblyTemplateVersion"],"0008":["SQ","1","ReplacedImplantAssemblyTemplateSequence"],"000A":["CS","1","ImplantAssemblyTemplateType"],"000C":["SQ","1","OriginalImplantAssemblyTemplateSequence"],"000E":["SQ","1","DerivationImplantAssemblyTemplateSequence"],"0010":["SQ","1","ImplantAssemblyTemplateTargetAnatomySequence"],"0020":["SQ","1","ProcedureTypeCodeSequence"],"0030":["LO","1","SurgicalTechnique"],"0032":["SQ","1","ComponentTypesSequence"],"0034":["SQ","1","ComponentTypeCodeSequence"],"0036":["CS","1","ExclusiveComponentType"],"0038":["CS","1","MandatoryComponentType"],"0040":["SQ","1","ComponentSequence"],"0055":["US","1","ComponentID"],"0060":["SQ","1","ComponentAssemblySequence"],"0070":["US","1","Component1ReferencedID"],"0080":["US","1","Component1ReferencedMatingFeatureSetID"],"0090":["US","1","Component1ReferencedMatingFeatureID"],"00A0":["US","1","Component2ReferencedID"],"00B0":["US","1","Component2ReferencedMatingFeatureSetID"],"00C0":["US","1","Component2ReferencedMatingFeatureID"]},"0078":{"0000":["UL","1","GenericGroupLength"],"0001":["LO","1","ImplantTemplateGroupName"],"0010":["ST","1","ImplantTemplateGroupDescription"],"0020":["LO","1","ImplantTemplateGroupIssuer"],"0024":["LO","1","ImplantTemplateGroupVersion"],"0026":["SQ","1","ReplacedImplantTemplateGroupSequence"],"0028":["SQ","1","ImplantTemplateGroupTargetAnatomySequence"],"002A":["SQ","1","ImplantTemplateGroupMembersSequence"],"002E":["US","1","ImplantTemplateGroupMemberID"],"0050":["FD","3","ThreeDImplantTemplateGroupMemberMatchingPoint"],"0060":["FD","9","ThreeDImplantTemplateGroupMemberMatchingAxes"],"0070":["SQ","1","ImplantTemplateGroupMemberMatching2DCoordinatesSequence"],"0090":["FD","2","TwoDImplantTemplateGroupMemberMatchingPoint"],"00A0":["FD","4","TwoDImplantTemplateGroupMemberMatchingAxes"],"00B0":["SQ","1","ImplantTemplateGroupVariationDimensionSequence"],"00B2":["LO","1","ImplantTemplateGroupVariationDimensionName"],"00B4":["SQ","1","ImplantTemplateGroupVariationDimensionRankSequence"],"00B6":["US","1","ReferencedImplantTemplateGroupMemberID"],"00B8":["US","1","ImplantTemplateGroupVariationDimensionRank"]},"0080":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","SurfaceScanAcquisitionTypeCodeSequence"],"0002":["SQ","1","SurfaceScanModeCodeSequence"],"0003":["SQ","1","RegistrationMethodCodeSequence"],"0004":["FD","1","ShotDurationTime"],"0005":["FD","1","ShotOffsetTime"],"0006":["US","1-n","SurfacePointPresentationValueData"],"0007":["US","3-3n","SurfacePointColorCIELabValueData"],"0008":["SQ","1","UVMappingSequence"],"0009":["SH","1","TextureLabel"],"0010":["OF","1","UValueData"],"0011":["OF","1","VValueData"],"0012":["SQ","1","ReferencedTextureSequence"],"0013":["SQ","1","ReferencedSurfaceDataSequence"]},"0082":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","AssessmentSummary"],"0003":["UT","1","AssessmentSummaryDescription"],"0004":["SQ","1","AssessedSOPInstanceSequence"],"0005":["SQ","1","ReferencedComparisonSOPInstanceSequence"],"0006":["UL","1","NumberOfAssessmentObservations"],"0007":["SQ","1","AssessmentObservationsSequence"],"0008":["CS","1","ObservationSignificance"],"000A":["UT","1","ObservationDescription"],"000C":["SQ","1","StructuredConstraintObservationSequence"],"0010":["SQ","1","AssessedAttributeValueSequence"],"0016":["LO","1","AssessmentSetID"],"0017":["SQ","1","AssessmentRequesterSequence"],"0018":["LO","1","SelectorAttributeName"],"0019":["LO","1","SelectorAttributeKeyword"],"0021":["SQ","1","AssessmentTypeCodeSequence"],"0022":["SQ","1","ObservationBasisCodeSequence"],"0023":["LO","1","AssessmentLabel"],"0032":["CS","1","ConstraintType"],"0033":["UT","1","SpecificationSelectionGuidance"],"0034":["SQ","1","ConstraintValueSequence"],"0035":["SQ","1","RecommendedDefaultValueSequence"],"0036":["CS","1","ConstraintViolationSignificance"],"0037":["UT","1","ConstraintViolationCondition"],"0038":["CS","1","ModifiableConstraintFlag"]},"0088":{"0000":["UL","1","GenericGroupLength"],"0130":["SH","1","StorageMediaFileSetID"],"0140":["UI","1","StorageMediaFileSetUID"],"0200":["SQ","1","IconImageSequence"],"0904":["LO","1","TopicTitle"],"0906":["ST","1","TopicSubject"],"0910":["LO","1","TopicAuthor"],"0912":["LO","1-32","TopicKeywords"]},"0100":{"0000":["UL","1","GenericGroupLength"],"0410":["CS","1","SOPInstanceStatus"],"0420":["DT","1","SOPAuthorizationDateTime"],"0424":["LT","1","SOPAuthorizationComment"],"0426":["LO","1","AuthorizationEquipmentCertificationNumber"]},"0400":{"0000":["UL","1","GenericGroupLength"],"0005":["US","1","MACIDNumber"],"0010":["UI","1","MACCalculationTransferSyntaxUID"],"0015":["CS","1","MACAlgorithm"],"0020":["AT","1-n","DataElementsSigned"],"0100":["UI","1","DigitalSignatureUID"],"0105":["DT","1","DigitalSignatureDateTime"],"0110":["CS","1","CertificateType"],"0115":["OB","1","CertificateOfSigner"],"0120":["OB","1","Signature"],"0305":["CS","1","CertifiedTimestampType"],"0310":["OB","1","CertifiedTimestamp"],"0315":["FL","1",""],"0401":["SQ","1","DigitalSignaturePurposeCodeSequence"],"0402":["SQ","1","ReferencedDigitalSignatureSequence"],"0403":["SQ","1","ReferencedSOPInstanceMACSequence"],"0404":["OB","1","MAC"],"0500":["SQ","1","EncryptedAttributesSequence"],"0510":["UI","1","EncryptedContentTransferSyntaxUID"],"0520":["OB","1","EncryptedContent"],"0550":["SQ","1","ModifiedAttributesSequence"],"0551":["SQ","1","NonconformingModifiedAttributesSequence"],"0552":["OB","1","NonconformingDataElementValue"],"0561":["SQ","1","OriginalAttributesSequence"],"0562":["DT","1","AttributeModificationDateTime"],"0563":["LO","1","ModifyingSystem"],"0564":["LO","1","SourceOfPreviousValues"],"0565":["CS","1","ReasonForTheAttributeModification"],"0600":["CS","1","InstanceOriginStatus"]},1e3:{"0000":["UL","1","GenericGroupLength"],"0010":["US","3","EscapeTriplet"],"0011":["US","3","RunLengthTriplet"],"0012":["US","1","HuffmanTableSize"],"0013":["US","3","HuffmanTableTriplet"],"0014":["US","1","ShiftTableSize"],"0015":["US","3","ShiftTableTriplet"]},1010:{"0000":["UL","1","GenericGroupLength"],"0004":["US","1-n","ZonalMap"]},2e3:{"0000":["UL","1","GenericGroupLength"],"0010":["IS","1","NumberOfCopies"],"001E":["SQ","1","PrinterConfigurationSequence"],"0020":["CS","1","PrintPriority"],"0030":["CS","1","MediumType"],"0040":["CS","1","FilmDestination"],"0050":["LO","1","FilmSessionLabel"],"0060":["IS","1","MemoryAllocation"],"0061":["IS","1","MaximumMemoryAllocation"],"0062":["CS","1","ColorImagePrintingFlag"],"0063":["CS","1","CollationFlag"],"0065":["CS","1","AnnotationFlag"],"0067":["CS","1","ImageOverlayFlag"],"0069":["CS","1","PresentationLUTFlag"],"006A":["CS","1","ImageBoxPresentationLUTFlag"],"00A0":["US","1","MemoryBitDepth"],"00A1":["US","1","PrintingBitDepth"],"00A2":["SQ","1","MediaInstalledSequence"],"00A4":["SQ","1","OtherMediaAvailableSequence"],"00A8":["SQ","1","SupportedImageDisplayFormatsSequence"],"0500":["SQ","1","ReferencedFilmBoxSequence"],"0510":["SQ","1","ReferencedStoredPrintSequence"]},2010:{"0000":["UL","1","GenericGroupLength"],"0010":["ST","1","ImageDisplayFormat"],"0030":["CS","1","AnnotationDisplayFormatID"],"0040":["CS","1","FilmOrientation"],"0050":["CS","1","FilmSizeID"],"0052":["CS","1","PrinterResolutionID"],"0054":["CS","1","DefaultPrinterResolutionID"],"0060":["CS","1","MagnificationType"],"0080":["CS","1","SmoothingType"],"00A6":["CS","1","DefaultMagnificationType"],"00A7":["CS","1-n","OtherMagnificationTypesAvailable"],"00A8":["CS","1","DefaultSmoothingType"],"00A9":["CS","1-n","OtherSmoothingTypesAvailable"],"0100":["CS","1","BorderDensity"],"0110":["CS","1","EmptyImageDensity"],"0120":["US","1","MinDensity"],"0130":["US","1","MaxDensity"],"0140":["CS","1","Trim"],"0150":["ST","1","ConfigurationInformation"],"0152":["LT","1","ConfigurationInformationDescription"],"0154":["IS","1","MaximumCollatedFilms"],"015E":["US","1","Illumination"],"0160":["US","1","ReflectedAmbientLight"],"0376":["DS","2","PrinterPixelSpacing"],"0500":["SQ","1","ReferencedFilmSessionSequence"],"0510":["SQ","1","ReferencedImageBoxSequence"],"0520":["SQ","1","ReferencedBasicAnnotationBoxSequence"]},2020:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","ImageBoxPosition"],"0020":["CS","1","Polarity"],"0030":["DS","1","RequestedImageSize"],"0040":["CS","1","RequestedDecimateCropBehavior"],"0050":["CS","1","RequestedResolutionID"],"00A0":["CS","1","RequestedImageSizeFlag"],"00A2":["CS","1","DecimateCropResult"],"0110":["SQ","1","BasicGrayscaleImageSequence"],"0111":["SQ","1","BasicColorImageSequence"],"0130":["SQ","1","ReferencedImageOverlayBoxSequence"],"0140":["SQ","1","ReferencedVOILUTBoxSequence"]},2030:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","AnnotationPosition"],"0020":["LO","1","TextString"]},2040:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","ReferencedOverlayPlaneSequence"],"0011":["US","1-99","ReferencedOverlayPlaneGroups"],"0020":["SQ","1","OverlayPixelDataSequence"],"0060":["CS","1","OverlayMagnificationType"],"0070":["CS","1","OverlaySmoothingType"],"0072":["CS","1","OverlayOrImageMagnification"],"0074":["US","1","MagnifyToNumberOfColumns"],"0080":["CS","1","OverlayForegroundDensity"],"0082":["CS","1","OverlayBackgroundDensity"],"0090":["CS","1","OverlayMode"],"0100":["CS","1","ThresholdDensity"],"0500":["SQ","1","ReferencedImageBoxSequenceRetired"]},2050:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","PresentationLUTSequence"],"0020":["CS","1","PresentationLUTShape"],"0500":["SQ","1","ReferencedPresentationLUTSequence"]},2100:{"0000":["UL","1","GenericGroupLength"],"0010":["SH","1","PrintJobID"],"0020":["CS","1","ExecutionStatus"],"0030":["CS","1","ExecutionStatusInfo"],"0040":["DA","1","CreationDate"],"0050":["TM","1","CreationTime"],"0070":["AE","1","Originator"],"0140":["AE","1","DestinationAE"],"0160":["SH","1","OwnerID"],"0170":["IS","1","NumberOfFilms"],"0500":["SQ","1","ReferencedPrintJobSequencePullStoredPrint"]},2110:{"0000":["UL","1","GenericGroupLength"],"0010":["CS","1","PrinterStatus"],"0020":["CS","1","PrinterStatusInfo"],"0030":["LO","1","PrinterName"],"0099":["SH","1","PrintQueueID"]},2120:{"0000":["UL","1","GenericGroupLength"],"0010":["CS","1","QueueStatus"],"0050":["SQ","1","PrintJobDescriptionSequence"],"0070":["SQ","1","ReferencedPrintJobSequence"]},2130:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","PrintManagementCapabilitiesSequence"],"0015":["SQ","1","PrinterCharacteristicsSequence"],"0030":["SQ","1","FilmBoxContentSequence"],"0040":["SQ","1","ImageBoxContentSequence"],"0050":["SQ","1","AnnotationContentSequence"],"0060":["SQ","1","ImageOverlayBoxContentSequence"],"0080":["SQ","1","PresentationLUTContentSequence"],"00A0":["SQ","1","ProposedStudySequence"],"00C0":["SQ","1","OriginalImageSequence"]},2200:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","LabelUsingInformationExtractedFromInstances"],"0002":["UT","1","LabelText"],"0003":["CS","1","LabelStyleSelection"],"0004":["LT","1","MediaDisposition"],"0005":["LT","1","BarcodeValue"],"0006":["CS","1","BarcodeSymbology"],"0007":["CS","1","AllowMediaSplitting"],"0008":["CS","1","IncludeNonDICOMObjects"],"0009":["CS","1","IncludeDisplayApplication"],"000A":["CS","1","PreserveCompositeInstancesAfterMediaCreation"],"000B":["US","1","TotalNumberOfPiecesOfMediaCreated"],"000C":["LO","1","RequestedMediaApplicationProfile"],"000D":["SQ","1","ReferencedStorageMediaSequence"],"000E":["AT","1-n","FailureAttributes"],"000F":["CS","1","AllowLossyCompression"],"0020":["CS","1","RequestPriority"]},3002:{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","RTImageLabel"],"0003":["LO","1","RTImageName"],"0004":["ST","1","RTImageDescription"],"000A":["CS","1","ReportedValuesOrigin"],"000C":["CS","1","RTImagePlane"],"000D":["DS","3","XRayImageReceptorTranslation"],"000E":["DS","1","XRayImageReceptorAngle"],"0010":["DS","6","RTImageOrientation"],"0011":["DS","2","ImagePlanePixelSpacing"],"0012":["DS","2","RTImagePosition"],"0020":["SH","1","RadiationMachineName"],"0022":["DS","1","RadiationMachineSAD"],"0024":["DS","1","RadiationMachineSSD"],"0026":["DS","1","RTImageSID"],"0028":["DS","1","SourceToReferenceObjectDistance"],"0029":["IS","1","FractionNumber"],"0030":["SQ","1","ExposureSequence"],"0032":["DS","1","MetersetExposure"],"0034":["DS","4","DiaphragmPosition"],"0040":["SQ","1","FluenceMapSequence"],"0041":["CS","1","FluenceDataSource"],"0042":["DS","1","FluenceDataScale"],"0050":["SQ","1","PrimaryFluenceModeSequence"],"0051":["CS","1","FluenceMode"],"0052":["SH","1","FluenceModeID"]},3004:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","DVHType"],"0002":["CS","1","DoseUnits"],"0004":["CS","1","DoseType"],"0005":["CS","1","SpatialTransformOfDose"],"0006":["LO","1","DoseComment"],"0008":["DS","3","NormalizationPoint"],"000A":["CS","1","DoseSummationType"],"000C":["DS","2-n","GridFrameOffsetVector"],"000E":["DS","1","DoseGridScaling"],"0010":["SQ","1","RTDoseROISequence"],"0012":["DS","1","DoseValue"],"0014":["CS","1-3","TissueHeterogeneityCorrection"],"0040":["DS","3","DVHNormalizationPoint"],"0042":["DS","1","DVHNormalizationDoseValue"],"0050":["SQ","1","DVHSequence"],"0052":["DS","1","DVHDoseScaling"],"0054":["CS","1","DVHVolumeUnits"],"0056":["IS","1","DVHNumberOfBins"],"0058":["DS","2-2n","DVHData"],"0060":["SQ","1","DVHReferencedROISequence"],"0062":["CS","1","DVHROIContributionType"],"0070":["DS","1","DVHMinimumDose"],"0072":["DS","1","DVHMaximumDose"],"0074":["DS","1","DVHMeanDose"]},3006:{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","StructureSetLabel"],"0004":["LO","1","StructureSetName"],"0006":["ST","1","StructureSetDescription"],"0008":["DA","1","StructureSetDate"],"0009":["TM","1","StructureSetTime"],"0010":["SQ","1","ReferencedFrameOfReferenceSequence"],"0012":["SQ","1","RTReferencedStudySequence"],"0014":["SQ","1","RTReferencedSeriesSequence"],"0016":["SQ","1","ContourImageSequence"],"0018":["SQ","1","PredecessorStructureSetSequence"],"0020":["SQ","1","StructureSetROISequence"],"0022":["IS","1","ROINumber"],"0024":["UI","1","ReferencedFrameOfReferenceUID"],"0026":["LO","1","ROIName"],"0028":["ST","1","ROIDescription"],"002A":["IS","3","ROIDisplayColor"],"002C":["DS","1","ROIVolume"],"0030":["SQ","1","RTRelatedROISequence"],"0033":["CS","1","RTROIRelationship"],"0036":["CS","1","ROIGenerationAlgorithm"],"0037":["SQ","1","ROIDerivationAlgorithmIdentificationSequence"],"0038":["LO","1","ROIGenerationDescription"],"0039":["SQ","1","ROIContourSequence"],"0040":["SQ","1","ContourSequence"],"0042":["CS","1","ContourGeometricType"],"0044":["DS","1","ContourSlabThickness"],"0045":["DS","3","ContourOffsetVector"],"0046":["IS","1","NumberOfContourPoints"],"0048":["IS","1","ContourNumber"],"0049":["IS","1-n","AttachedContours"],"004A":["SQ","1","SourcePixelPlanesCharacteristicsSequence"],"0050":["DS","3-3n","ContourData"],"0080":["SQ","1","RTROIObservationsSequence"],"0082":["IS","1","ObservationNumber"],"0084":["IS","1","ReferencedROINumber"],"0085":["SH","1","ROIObservationLabel"],"0086":["SQ","1","RTROIIdentificationCodeSequence"],"0088":["ST","1","ROIObservationDescription"],"00A0":["SQ","1","RelatedRTROIObservationsSequence"],"00A4":["CS","1","RTROIInterpretedType"],"00A6":["PN","1","ROIInterpreter"],"00B0":["SQ","1","ROIPhysicalPropertiesSequence"],"00B2":["CS","1","ROIPhysicalProperty"],"00B4":["DS","1","ROIPhysicalPropertyValue"],"00B6":["SQ","1","ROIElementalCompositionSequence"],"00B7":["US","1","ROIElementalCompositionAtomicNumber"],"00B8":["FL","1","ROIElementalCompositionAtomicMassFraction"],"00B9":["SQ","1","AdditionalRTROIIdentificationCodeSequence"],"00C0":["SQ","1","FrameOfReferenceRelationshipSequence"],"00C2":["UI","1","RelatedFrameOfReferenceUID"],"00C4":["CS","1","FrameOfReferenceTransformationType"],"00C6":["DS","16","FrameOfReferenceTransformationMatrix"],"00C8":["LO","1","FrameOfReferenceTransformationComment"],"00C9":["SQ","1","PatientLocationCoordinatesSequence"],"00CA":["SQ","1","PatientLocationCoordinatesCodeSequence"],"00CB":["SQ","1","PatientSupportPositionSequence"]},3008:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","MeasuredDoseReferenceSequence"],"0012":["ST","1","MeasuredDoseDescription"],"0014":["CS","1","MeasuredDoseType"],"0016":["DS","1","MeasuredDoseValue"],"0020":["SQ","1","TreatmentSessionBeamSequence"],"0021":["SQ","1","TreatmentSessionIonBeamSequence"],"0022":["IS","1","CurrentFractionNumber"],"0024":["DA","1","TreatmentControlPointDate"],"0025":["TM","1","TreatmentControlPointTime"],"002A":["CS","1","TreatmentTerminationStatus"],"002B":["SH","1","TreatmentTerminationCode"],"002C":["CS","1","TreatmentVerificationStatus"],"0030":["SQ","1","ReferencedTreatmentRecordSequence"],"0032":["DS","1","SpecifiedPrimaryMeterset"],"0033":["DS","1","SpecifiedSecondaryMeterset"],"0036":["DS","1","DeliveredPrimaryMeterset"],"0037":["DS","1","DeliveredSecondaryMeterset"],"003A":["DS","1","SpecifiedTreatmentTime"],"003B":["DS","1","DeliveredTreatmentTime"],"0040":["SQ","1","ControlPointDeliverySequence"],"0041":["SQ","1","IonControlPointDeliverySequence"],"0042":["DS","1","SpecifiedMeterset"],"0044":["DS","1","DeliveredMeterset"],"0045":["FL","1","MetersetRateSet"],"0046":["FL","1","MetersetRateDelivered"],"0047":["FL","1-n","ScanSpotMetersetsDelivered"],"0048":["DS","1","DoseRateDelivered"],"0050":["SQ","1","TreatmentSummaryCalculatedDoseReferenceSequence"],"0052":["DS","1","CumulativeDoseToDoseReference"],"0054":["DA","1","FirstTreatmentDate"],"0056":["DA","1","MostRecentTreatmentDate"],"005A":["IS","1","NumberOfFractionsDelivered"],"0060":["SQ","1","OverrideSequence"],"0061":["AT","1","ParameterSequencePointer"],"0062":["AT","1","OverrideParameterPointer"],"0063":["IS","1","ParameterItemIndex"],"0064":["IS","1","MeasuredDoseReferenceNumber"],"0065":["AT","1","ParameterPointer"],"0066":["ST","1","OverrideReason"],"0067":["US","1","ParameterValueNumber"],"0068":["SQ","1","CorrectedParameterSequence"],"006A":["FL","1","CorrectionValue"],"0070":["SQ","1","CalculatedDoseReferenceSequence"],"0072":["IS","1","CalculatedDoseReferenceNumber"],"0074":["ST","1","CalculatedDoseReferenceDescription"],"0076":["DS","1","CalculatedDoseReferenceDoseValue"],"0078":["DS","1","StartMeterset"],"007A":["DS","1","EndMeterset"],"0080":["SQ","1","ReferencedMeasuredDoseReferenceSequence"],"0082":["IS","1","ReferencedMeasuredDoseReferenceNumber"],"0090":["SQ","1","ReferencedCalculatedDoseReferenceSequence"],"0092":["IS","1","ReferencedCalculatedDoseReferenceNumber"],"00A0":["SQ","1","BeamLimitingDeviceLeafPairsSequence"],"00B0":["SQ","1","RecordedWedgeSequence"],"00C0":["SQ","1","RecordedCompensatorSequence"],"00D0":["SQ","1","RecordedBlockSequence"],"00D1":["SQ","1","RecordedBlockSlabSequence"],"00E0":["SQ","1","TreatmentSummaryMeasuredDoseReferenceSequence"],"00F0":["SQ","1","RecordedSnoutSequence"],"00F2":["SQ","1","RecordedRangeShifterSequence"],"00F4":["SQ","1","RecordedLateralSpreadingDeviceSequence"],"00F6":["SQ","1","RecordedRangeModulatorSequence"],"0100":["SQ","1","RecordedSourceSequence"],"0105":["LO","1","SourceSerialNumber"],"0110":["SQ","1","TreatmentSessionApplicationSetupSequence"],"0116":["CS","1","ApplicationSetupCheck"],"0120":["SQ","1","RecordedBrachyAccessoryDeviceSequence"],"0122":["IS","1","ReferencedBrachyAccessoryDeviceNumber"],"0130":["SQ","1","RecordedChannelSequence"],"0132":["DS","1","SpecifiedChannelTotalTime"],"0134":["DS","1","DeliveredChannelTotalTime"],"0136":["IS","1","SpecifiedNumberOfPulses"],"0138":["IS","1","DeliveredNumberOfPulses"],"013A":["DS","1","SpecifiedPulseRepetitionInterval"],"013C":["DS","1","DeliveredPulseRepetitionInterval"],"0140":["SQ","1","RecordedSourceApplicatorSequence"],"0142":["IS","1","ReferencedSourceApplicatorNumber"],"0150":["SQ","1","RecordedChannelShieldSequence"],"0152":["IS","1","ReferencedChannelShieldNumber"],"0160":["SQ","1","BrachyControlPointDeliveredSequence"],"0162":["DA","1","SafePositionExitDate"],"0164":["TM","1","SafePositionExitTime"],"0166":["DA","1","SafePositionReturnDate"],"0168":["TM","1","SafePositionReturnTime"],"0171":["SQ","1","PulseSpecificBrachyControlPointDeliveredSequence"],"0172":["US","1","PulseNumber"],"0173":["SQ","1","BrachyPulseControlPointDeliveredSequence"],"0200":["CS","1","CurrentTreatmentStatus"],"0202":["ST","1","TreatmentStatusComment"],"0220":["SQ","1","FractionGroupSummarySequence"],"0223":["IS","1","ReferencedFractionNumber"],"0224":["CS","1","FractionGroupType"],"0230":["CS","1","BeamStopperPosition"],"0240":["SQ","1","FractionStatusSummarySequence"],"0250":["DA","1","TreatmentDate"],"0251":["TM","1","TreatmentTime"]},"300A":{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","RTPlanLabel"],"0003":["LO","1","RTPlanName"],"0004":["ST","1","RTPlanDescription"],"0006":["DA","1","RTPlanDate"],"0007":["TM","1","RTPlanTime"],"0009":["LO","1-n","TreatmentProtocols"],"000A":["CS","1","PlanIntent"],"000B":["LO","1-n","TreatmentSites"],"000C":["CS","1","RTPlanGeometry"],"000E":["ST","1","PrescriptionDescription"],"0010":["SQ","1","DoseReferenceSequence"],"0012":["IS","1","DoseReferenceNumber"],"0013":["UI","1","DoseReferenceUID"],"0014":["CS","1","DoseReferenceStructureType"],"0015":["CS","1","NominalBeamEnergyUnit"],"0016":["LO","1","DoseReferenceDescription"],"0018":["DS","3","DoseReferencePointCoordinates"],"001A":["DS","1","NominalPriorDose"],"0020":["CS","1","DoseReferenceType"],"0021":["DS","1","ConstraintWeight"],"0022":["DS","1","DeliveryWarningDose"],"0023":["DS","1","DeliveryMaximumDose"],"0025":["DS","1","TargetMinimumDose"],"0026":["DS","1","TargetPrescriptionDose"],"0027":["DS","1","TargetMaximumDose"],"0028":["DS","1","TargetUnderdoseVolumeFraction"],"002A":["DS","1","OrganAtRiskFullVolumeDose"],"002B":["DS","1","OrganAtRiskLimitDose"],"002C":["DS","1","OrganAtRiskMaximumDose"],"002D":["DS","1","OrganAtRiskOverdoseVolumeFraction"],"0040":["SQ","1","ToleranceTableSequence"],"0042":["IS","1","ToleranceTableNumber"],"0043":["SH","1","ToleranceTableLabel"],"0044":["DS","1","GantryAngleTolerance"],"0046":["DS","1","BeamLimitingDeviceAngleTolerance"],"0048":["SQ","1","BeamLimitingDeviceToleranceSequence"],"004A":["DS","1","BeamLimitingDevicePositionTolerance"],"004B":["FL","1","SnoutPositionTolerance"],"004C":["DS","1","PatientSupportAngleTolerance"],"004E":["DS","1","TableTopEccentricAngleTolerance"],"004F":["FL","1","TableTopPitchAngleTolerance"],"0050":["FL","1","TableTopRollAngleTolerance"],"0051":["DS","1","TableTopVerticalPositionTolerance"],"0052":["DS","1","TableTopLongitudinalPositionTolerance"],"0053":["DS","1","TableTopLateralPositionTolerance"],"0055":["CS","1","RTPlanRelationship"],"0070":["SQ","1","FractionGroupSequence"],"0071":["IS","1","FractionGroupNumber"],"0072":["LO","1","FractionGroupDescription"],"0078":["IS","1","NumberOfFractionsPlanned"],"0079":["IS","1","NumberOfFractionPatternDigitsPerDay"],"007A":["IS","1","RepeatFractionCycleLength"],"007B":["LT","1","FractionPattern"],"0080":["IS","1","NumberOfBeams"],"0082":["DS","3","BeamDoseSpecificationPoint"],"0083":["UI","1","ReferencedDoseReferenceUID"],"0084":["DS","1","BeamDose"],"0086":["DS","1","BeamMeterset"],"0088":["FL","1","BeamDosePointDepth"],"0089":["FL","1","BeamDosePointEquivalentDepth"],"008A":["FL","1","BeamDosePointSSD"],"008B":["CS","1","BeamDoseMeaning"],"008C":["SQ","1","BeamDoseVerificationControlPointSequence"],"008D":["FL","1","AverageBeamDosePointDepth"],"008E":["FL","1","AverageBeamDosePointEquivalentDepth"],"008F":["FL","1","AverageBeamDosePointSSD"],"0090":["CS","1","BeamDoseType"],"0091":["DS","1","AlternateBeamDose"],"0092":["CS","1","AlternateBeamDoseType"],"0093":["CS","1","DepthValueAveragingFlag"],"0094":["DS","1","BeamDosePointSourceToExternalContourDistance"],"00A0":["IS","1","NumberOfBrachyApplicationSetups"],"00A2":["DS","3","BrachyApplicationSetupDoseSpecificationPoint"],"00A4":["DS","1","BrachyApplicationSetupDose"],"00B0":["SQ","1","BeamSequence"],"00B2":["SH","1","TreatmentMachineName"],"00B3":["CS","1","PrimaryDosimeterUnit"],"00B4":["DS","1","SourceAxisDistance"],"00B6":["SQ","1","BeamLimitingDeviceSequence"],"00B8":["CS","1","RTBeamLimitingDeviceType"],"00BA":["DS","1","SourceToBeamLimitingDeviceDistance"],"00BB":["FL","1","IsocenterToBeamLimitingDeviceDistance"],"00BC":["IS","1","NumberOfLeafJawPairs"],"00BE":["DS","3-n","LeafPositionBoundaries"],"00C0":["IS","1","BeamNumber"],"00C2":["LO","1","BeamName"],"00C3":["ST","1","BeamDescription"],"00C4":["CS","1","BeamType"],"00C5":["FD","1","BeamDeliveryDurationLimit"],"00C6":["CS","1","RadiationType"],"00C7":["CS","1","HighDoseTechniqueType"],"00C8":["IS","1","ReferenceImageNumber"],"00CA":["SQ","1","PlannedVerificationImageSequence"],"00CC":["LO","1-n","ImagingDeviceSpecificAcquisitionParameters"],"00CE":["CS","1","TreatmentDeliveryType"],"00D0":["IS","1","NumberOfWedges"],"00D1":["SQ","1","WedgeSequence"],"00D2":["IS","1","WedgeNumber"],"00D3":["CS","1","WedgeType"],"00D4":["SH","1","WedgeID"],"00D5":["IS","1","WedgeAngle"],"00D6":["DS","1","WedgeFactor"],"00D7":["FL","1","TotalWedgeTrayWaterEquivalentThickness"],"00D8":["DS","1","WedgeOrientation"],"00D9":["FL","1","IsocenterToWedgeTrayDistance"],"00DA":["DS","1","SourceToWedgeTrayDistance"],"00DB":["FL","1","WedgeThinEdgePosition"],"00DC":["SH","1","BolusID"],"00DD":["ST","1","BolusDescription"],"00DE":["DS","1","EffectiveWedgeAngle"],"00E0":["IS","1","NumberOfCompensators"],"00E1":["SH","1","MaterialID"],"00E2":["DS","1","TotalCompensatorTrayFactor"],"00E3":["SQ","1","CompensatorSequence"],"00E4":["IS","1","CompensatorNumber"],"00E5":["SH","1","CompensatorID"],"00E6":["DS","1","SourceToCompensatorTrayDistance"],"00E7":["IS","1","CompensatorRows"],"00E8":["IS","1","CompensatorColumns"],"00E9":["DS","2","CompensatorPixelSpacing"],"00EA":["DS","2","CompensatorPosition"],"00EB":["DS","1-n","CompensatorTransmissionData"],"00EC":["DS","1-n","CompensatorThicknessData"],"00ED":["IS","1","NumberOfBoli"],"00EE":["CS","1","CompensatorType"],"00EF":["SH","1","CompensatorTrayID"],"00F0":["IS","1","NumberOfBlocks"],"00F2":["DS","1","TotalBlockTrayFactor"],"00F3":["FL","1","TotalBlockTrayWaterEquivalentThickness"],"00F4":["SQ","1","BlockSequence"],"00F5":["SH","1","BlockTrayID"],"00F6":["DS","1","SourceToBlockTrayDistance"],"00F7":["FL","1","IsocenterToBlockTrayDistance"],"00F8":["CS","1","BlockType"],"00F9":["LO","1","AccessoryCode"],"00FA":["CS","1","BlockDivergence"],"00FB":["CS","1","BlockMountingPosition"],"00FC":["IS","1","BlockNumber"],"00FE":["LO","1","BlockName"],"0100":["DS","1","BlockThickness"],"0102":["DS","1","BlockTransmission"],"0104":["IS","1","BlockNumberOfPoints"],"0106":["DS","2-2n","BlockData"],"0107":["SQ","1","ApplicatorSequence"],"0108":["SH","1","ApplicatorID"],"0109":["CS","1","ApplicatorType"],"010A":["LO","1","ApplicatorDescription"],"010C":["DS","1","CumulativeDoseReferenceCoefficient"],"010E":["DS","1","FinalCumulativeMetersetWeight"],"0110":["IS","1","NumberOfControlPoints"],"0111":["SQ","1","ControlPointSequence"],"0112":["IS","1","ControlPointIndex"],"0114":["DS","1","NominalBeamEnergy"],"0115":["DS","1","DoseRateSet"],"0116":["SQ","1","WedgePositionSequence"],"0118":["CS","1","WedgePosition"],"011A":["SQ","1","BeamLimitingDevicePositionSequence"],"011C":["DS","2-2n","LeafJawPositions"],"011E":["DS","1","GantryAngle"],"011F":["CS","1","GantryRotationDirection"],"0120":["DS","1","BeamLimitingDeviceAngle"],"0121":["CS","1","BeamLimitingDeviceRotationDirection"],"0122":["DS","1","PatientSupportAngle"],"0123":["CS","1","PatientSupportRotationDirection"],"0124":["DS","1","TableTopEccentricAxisDistance"],"0125":["DS","1","TableTopEccentricAngle"],"0126":["CS","1","TableTopEccentricRotationDirection"],"0128":["DS","1","TableTopVerticalPosition"],"0129":["DS","1","TableTopLongitudinalPosition"],"012A":["DS","1","TableTopLateralPosition"],"012C":["DS","3","IsocenterPosition"],"012E":["DS","3","SurfaceEntryPoint"],"0130":["DS","1","SourceToSurfaceDistance"],"0131":["FL","1","AverageBeamDosePointSourceToExternalContourDistance"],"0132":["FL","1","SourceToExternalContourDistance"],"0133":["FL","3","ExternalContourEntryPoint"],"0134":["DS","1","CumulativeMetersetWeight"],"0140":["FL","1","TableTopPitchAngle"],"0142":["CS","1","TableTopPitchRotationDirection"],"0144":["FL","1","TableTopRollAngle"],"0146":["CS","1","TableTopRollRotationDirection"],"0148":["FL","1","HeadFixationAngle"],"014A":["FL","1","GantryPitchAngle"],"014C":["CS","1","GantryPitchRotationDirection"],"014E":["FL","1","GantryPitchAngleTolerance"],"0150":["CS","1","FixationEye"],"0151":["DS","1","ChairHeadFramePosition"],"0152":["DS","1","HeadFixationAngleTolerance"],"0153":["DS","1","ChairHeadFramePositionTolerance"],"0154":["DS","1","FixationLightAzimuthalAngleTolerance"],"0155":["DS","1","FixationLightPolarAngleTolerance"],"0180":["SQ","1","PatientSetupSequence"],"0182":["IS","1","PatientSetupNumber"],"0183":["LO","1","PatientSetupLabel"],"0184":["LO","1","PatientAdditionalPosition"],"0190":["SQ","1","FixationDeviceSequence"],"0192":["CS","1","FixationDeviceType"],"0194":["SH","1","FixationDeviceLabel"],"0196":["ST","1","FixationDeviceDescription"],"0198":["SH","1","FixationDevicePosition"],"0199":["FL","1","FixationDevicePitchAngle"],"019A":["FL","1","FixationDeviceRollAngle"],"01A0":["SQ","1","ShieldingDeviceSequence"],"01A2":["CS","1","ShieldingDeviceType"],"01A4":["SH","1","ShieldingDeviceLabel"],"01A6":["ST","1","ShieldingDeviceDescription"],"01A8":["SH","1","ShieldingDevicePosition"],"01B0":["CS","1","SetupTechnique"],"01B2":["ST","1","SetupTechniqueDescription"],"01B4":["SQ","1","SetupDeviceSequence"],"01B6":["CS","1","SetupDeviceType"],"01B8":["SH","1","SetupDeviceLabel"],"01BA":["ST","1","SetupDeviceDescription"],"01BC":["DS","1","SetupDeviceParameter"],"01D0":["ST","1","SetupReferenceDescription"],"01D2":["DS","1","TableTopVerticalSetupDisplacement"],"01D4":["DS","1","TableTopLongitudinalSetupDisplacement"],"01D6":["DS","1","TableTopLateralSetupDisplacement"],"0200":["CS","1","BrachyTreatmentTechnique"],"0202":["CS","1","BrachyTreatmentType"],"0206":["SQ","1","TreatmentMachineSequence"],"0210":["SQ","1","SourceSequence"],"0212":["IS","1","SourceNumber"],"0214":["CS","1","SourceType"],"0216":["LO","1","SourceManufacturer"],"0218":["DS","1","ActiveSourceDiameter"],"021A":["DS","1","ActiveSourceLength"],"021B":["SH","1","SourceModelID"],"021C":["LO","1","SourceDescription"],"0222":["DS","1","SourceEncapsulationNominalThickness"],"0224":["DS","1","SourceEncapsulationNominalTransmission"],"0226":["LO","1","SourceIsotopeName"],"0228":["DS","1","SourceIsotopeHalfLife"],"0229":["CS","1","SourceStrengthUnits"],"022A":["DS","1","ReferenceAirKermaRate"],"022B":["DS","1","SourceStrength"],"022C":["DA","1","SourceStrengthReferenceDate"],"022E":["TM","1","SourceStrengthReferenceTime"],"0230":["SQ","1","ApplicationSetupSequence"],"0232":["CS","1","ApplicationSetupType"],"0234":["IS","1","ApplicationSetupNumber"],"0236":["LO","1","ApplicationSetupName"],"0238":["LO","1","ApplicationSetupManufacturer"],"0240":["IS","1","TemplateNumber"],"0242":["SH","1","TemplateType"],"0244":["LO","1","TemplateName"],"0250":["DS","1","TotalReferenceAirKerma"],"0260":["SQ","1","BrachyAccessoryDeviceSequence"],"0262":["IS","1","BrachyAccessoryDeviceNumber"],"0263":["SH","1","BrachyAccessoryDeviceID"],"0264":["CS","1","BrachyAccessoryDeviceType"],"0266":["LO","1","BrachyAccessoryDeviceName"],"026A":["DS","1","BrachyAccessoryDeviceNominalThickness"],"026C":["DS","1","BrachyAccessoryDeviceNominalTransmission"],"0271":["DS","1","ChannelEffectiveLength"],"0272":["DS","1","ChannelInnerLength"],"0273":["SH","1","AfterloaderChannelID"],"0274":["DS","1","SourceApplicatorTipLength"],"0280":["SQ","1","ChannelSequence"],"0282":["IS","1","ChannelNumber"],"0284":["DS","1","ChannelLength"],"0286":["DS","1","ChannelTotalTime"],"0288":["CS","1","SourceMovementType"],"028A":["IS","1","NumberOfPulses"],"028C":["DS","1","PulseRepetitionInterval"],"0290":["IS","1","SourceApplicatorNumber"],"0291":["SH","1","SourceApplicatorID"],"0292":["CS","1","SourceApplicatorType"],"0294":["LO","1","SourceApplicatorName"],"0296":["DS","1","SourceApplicatorLength"],"0298":["LO","1","SourceApplicatorManufacturer"],"029C":["DS","1","SourceApplicatorWallNominalThickness"],"029E":["DS","1","SourceApplicatorWallNominalTransmission"],"02A0":["DS","1","SourceApplicatorStepSize"],"02A1":["IS","1","ApplicatorShapeReferencedROINumber"],"02A2":["IS","1","TransferTubeNumber"],"02A4":["DS","1","TransferTubeLength"],"02B0":["SQ","1","ChannelShieldSequence"],"02B2":["IS","1","ChannelShieldNumber"],"02B3":["SH","1","ChannelShieldID"],"02B4":["LO","1","ChannelShieldName"],"02B8":["DS","1","ChannelShieldNominalThickness"],"02BA":["DS","1","ChannelShieldNominalTransmission"],"02C8":["DS","1","FinalCumulativeTimeWeight"],"02D0":["SQ","1","BrachyControlPointSequence"],"02D2":["DS","1","ControlPointRelativePosition"],"02D4":["DS","3","ControlPoint3DPosition"],"02D6":["DS","1","CumulativeTimeWeight"],"02E0":["CS","1","CompensatorDivergence"],"02E1":["CS","1","CompensatorMountingPosition"],"02E2":["DS","1-n","SourceToCompensatorDistance"],"02E3":["FL","1","TotalCompensatorTrayWaterEquivalentThickness"],"02E4":["FL","1","IsocenterToCompensatorTrayDistance"],"02E5":["FL","1","CompensatorColumnOffset"],"02E6":["FL","1-n","IsocenterToCompensatorDistances"],"02E7":["FL","1","CompensatorRelativeStoppingPowerRatio"],"02E8":["FL","1","CompensatorMillingToolDiameter"],"02EA":["SQ","1","IonRangeCompensatorSequence"],"02EB":["LT","1","CompensatorDescription"],"0302":["IS","1","RadiationMassNumber"],"0304":["IS","1","RadiationAtomicNumber"],"0306":["SS","1","RadiationChargeState"],"0308":["CS","1","ScanMode"],"0309":["CS","1","ModulatedScanModeType"],"030A":["FL","2","VirtualSourceAxisDistances"],"030C":["SQ","1","SnoutSequence"],"030D":["FL","1","SnoutPosition"],"030F":["SH","1","SnoutID"],"0312":["IS","1","NumberOfRangeShifters"],"0314":["SQ","1","RangeShifterSequence"],"0316":["IS","1","RangeShifterNumber"],"0318":["SH","1","RangeShifterID"],"0320":["CS","1","RangeShifterType"],"0322":["LO","1","RangeShifterDescription"],"0330":["IS","1","NumberOfLateralSpreadingDevices"],"0332":["SQ","1","LateralSpreadingDeviceSequence"],"0334":["IS","1","LateralSpreadingDeviceNumber"],"0336":["SH","1","LateralSpreadingDeviceID"],"0338":["CS","1","LateralSpreadingDeviceType"],"033A":["LO","1","LateralSpreadingDeviceDescription"],"033C":["FL","1","LateralSpreadingDeviceWaterEquivalentThickness"],"0340":["IS","1","NumberOfRangeModulators"],"0342":["SQ","1","RangeModulatorSequence"],"0344":["IS","1","RangeModulatorNumber"],"0346":["SH","1","RangeModulatorID"],"0348":["CS","1","RangeModulatorType"],"034A":["LO","1","RangeModulatorDescription"],"034C":["SH","1","BeamCurrentModulationID"],"0350":["CS","1","PatientSupportType"],"0352":["SH","1","PatientSupportID"],"0354":["LO","1","PatientSupportAccessoryCode"],"0355":["LO","1","TrayAccessoryCode"],"0356":["FL","1","FixationLightAzimuthalAngle"],"0358":["FL","1","FixationLightPolarAngle"],"035A":["FL","1","MetersetRate"],"0360":["SQ","1","RangeShifterSettingsSequence"],"0362":["LO","1","RangeShifterSetting"],"0364":["FL","1","IsocenterToRangeShifterDistance"],"0366":["FL","1","RangeShifterWaterEquivalentThickness"],"0370":["SQ","1","LateralSpreadingDeviceSettingsSequence"],"0372":["LO","1","LateralSpreadingDeviceSetting"],"0374":["FL","1","IsocenterToLateralSpreadingDeviceDistance"],"0380":["SQ","1","RangeModulatorSettingsSequence"],"0382":["FL","1","RangeModulatorGatingStartValue"],"0384":["FL","1","RangeModulatorGatingStopValue"],"0386":["FL","1","RangeModulatorGatingStartWaterEquivalentThickness"],"0388":["FL","1","RangeModulatorGatingStopWaterEquivalentThickness"],"038A":["FL","1","IsocenterToRangeModulatorDistance"],"038F":["FL","1-n","ScanSpotTimeOffset"],"0390":["SH","1","ScanSpotTuneID"],"0391":["IS","1-n","ScanSpotPrescribedIndices"],"0392":["IS","1","NumberOfScanSpotPositions"],"0393":["CS","1","ScanSpotReordered"],"0394":["FL","1-n","ScanSpotPositionMap"],"0395":["CS","1","ScanSpotReorderingAllowed"],"0396":["FL","1-n","ScanSpotMetersetWeights"],"0398":["FL","2","ScanningSpotSize"],"0399":["FL","2-2n","ScanSpotSizesDelivered"],"039A":["IS","1","NumberOfPaintings"],"03A0":["SQ","1","IonToleranceTableSequence"],"03A2":["SQ","1","IonBeamSequence"],"03A4":["SQ","1","IonBeamLimitingDeviceSequence"],"03A6":["SQ","1","IonBlockSequence"],"03A8":["SQ","1","IonControlPointSequence"],"03AA":["SQ","1","IonWedgeSequence"],"03AC":["SQ","1","IonWedgePositionSequence"],"0401":["SQ","1","ReferencedSetupImageSequence"],"0402":["ST","1","SetupImageComment"],"0410":["SQ","1","MotionSynchronizationSequence"],"0412":["FL","3","ControlPointOrientation"],"0420":["SQ","1","GeneralAccessorySequence"],"0421":["SH","1","GeneralAccessoryID"],"0422":["ST","1","GeneralAccessoryDescription"],"0423":["CS","1","GeneralAccessoryType"],"0424":["IS","1","GeneralAccessoryNumber"],"0425":["FL","1","SourceToGeneralAccessoryDistance"],"0426":["DS","1","IsocenterToGeneralAccessoryDistance"],"0431":["SQ","1","ApplicatorGeometrySequence"],"0432":["CS","1","ApplicatorApertureShape"],"0433":["FL","1","ApplicatorOpening"],"0434":["FL","1","ApplicatorOpeningX"],"0435":["FL","1","ApplicatorOpeningY"],"0436":["FL","1","SourceToApplicatorMountingPositionDistance"],"0440":["IS","1","NumberOfBlockSlabItems"],"0441":["SQ","1","BlockSlabSequence"],"0442":["DS","1","BlockSlabThickness"],"0443":["US","1","BlockSlabNumber"],"0450":["SQ","1","DeviceMotionControlSequence"],"0451":["CS","1","DeviceMotionExecutionMode"],"0452":["CS","1","DeviceMotionObservationMode"],"0453":["SQ","1","DeviceMotionParameterCodeSequence"],"0501":["FL","1","DistalDepthFraction"],"0502":["FL","1","DistalDepth"],"0503":["FL","2","NominalRangeModulationFractions"],"0504":["FL","2","NominalRangeModulatedRegionDepths"],"0505":["SQ","1","DepthDoseParametersSequence"],"0506":["SQ","1","DeliveredDepthDoseParametersSequence"],"0507":["FL","1","DeliveredDistalDepthFraction"],"0508":["FL","1","DeliveredDistalDepth"],"0509":["FL","2","DeliveredNominalRangeModulationFractions"],"0510":["FL","2","DeliveredNominalRangeModulatedRegionDepths"],"0511":["CS","1","DeliveredReferenceDoseDefinition"],"0512":["CS","1","ReferenceDoseDefinition"],"0600":["US","1","RTControlPointIndex"],"0601":["US","1","RadiationGenerationModeIndex"],"0602":["US","1","ReferencedDefinedDeviceIndex"],"0603":["US","1","RadiationDoseIdentificationIndex"],"0604":["US","1","NumberOfRTControlPoints"],"0605":["US","1","ReferencedRadiationGenerationModeIndex"],"0606":["US","1","TreatmentPositionIndex"],"0607":["US","1","ReferencedDeviceIndex"],"0608":["LO","1","TreatmentPositionGroupLabel"],"0609":["UI","1","TreatmentPositionGroupUID"],"060A":["SQ","1","TreatmentPositionGroupSequence"],"060B":["US","1","ReferencedTreatmentPositionIndex"],"060C":["US","1","ReferencedRadiationDoseIdentificationIndex"],"060D":["FD","1","RTAccessoryHolderWaterEquivalentThickness"],"060E":["US","1","ReferencedRTAccessoryHolderDeviceIndex"],"060F":["CS","1","RTAccessoryHolderSlotExistenceFlag"],"0610":["SQ","1","RTAccessoryHolderSlotSequence"],"0611":["LO","1","RTAccessoryHolderSlotID"],"0612":["FD","1","RTAccessoryHolderSlotDistance"],"0613":["FD","1","RTAccessorySlotDistance"],"0614":["SQ","1","RTAccessoryHolderDefinitionSequence"],"0615":["LO","1","RTAccessoryDeviceSlotID"],"0616":["SQ","1","RTRadiationSequence"],"0617":["SQ","1","RadiationDoseSequence"],"0618":["SQ","1","RadiationDoseIdentificationSequence"],"0619":["LO","1","RadiationDoseIdentificationLabel"],"061A":["CS","1","ReferenceDoseType"],"061B":["CS","1","PrimaryDoseValueIndicator"],"061C":["SQ","1","DoseValuesSequence"],"061D":["CS","1-n","DoseValuePurpose"],"061E":["FD","3","ReferenceDosePointCoordinates"],"061F":["SQ","1","RadiationDoseValuesParametersSequence"],"0620":["SQ","1","MetersetToDoseMappingSequence"],"0621":["SQ","1","ExpectedInVivoMeasurementValuesSequence"],"0622":["US","1","ExpectedInVivoMeasurementValueIndex"],"0623":["LO","1","RadiationDoseInVivoMeasurementLabel"],"0624":["FD","2","RadiationDoseCentralAxisDisplacement"],"0625":["FD","1","RadiationDoseValue"],"0626":["FD","1","RadiationDoseSourceToSkinDistance"],"0627":["FD","3","RadiationDoseMeasurementPointCoordinates"],"0628":["FD","1","RadiationDoseSourceToExternalContourDistance"],"0629":["SQ","1","RTToleranceSetSequence"],"062A":["LO","1","RTToleranceSetLabel"],"062B":["SQ","1","AttributeToleranceValuesSequence"],"062C":["FD","1","ToleranceValue"],"062D":["SQ","1","PatientSupportPositionToleranceSequence"],"062E":["FD","1","TreatmentTimeLimit"],"062F":["SQ","1","CArmPhotonElectronControlPointSequence"],"0630":["SQ","1","ReferencedRTRadiationSequence"],"0631":["SQ","1","ReferencedRTInstanceSequence"],"0632":["SQ","1","ReferencedRTPatientSetupSequence"],"0634":["FD","1","SourceToPatientSurfaceDistance"],"0635":["SQ","1","TreatmentMachineSpecialModeCodeSequence"],"0636":["US","1","IntendedNumberOfFractions"],"0637":["CS","1","RTRadiationSetIntent"],"0638":["CS","1","RTRadiationPhysicalAndGeometricContentDetailFlag"],"0639":["CS","1","RTRecordFlag"],"063A":["SQ","1","TreatmentDeviceIdentificationSequence"],"063B":["SQ","1","ReferencedRTPhysicianIntentSequence"],"063C":["FD","1","CumulativeMeterset"],"063D":["FD","1","DeliveryRate"],"063E":["SQ","1","DeliveryRateUnitSequence"],"063F":["SQ","1","TreatmentPositionSequence"],"0640":["FD","1","RadiationSourceAxisDistance"],"0641":["US","1","NumberOfRTBeamLimitingDevices"],"0642":["FD","1","RTBeamLimitingDeviceProximalDistance"],"0643":["FD","1","RTBeamLimitingDeviceDistalDistance"],"0644":["SQ","1","ParallelRTBeamDelimiterDeviceOrientationLabelCodeSequence"],"0645":["FD","1","BeamModifierOrientationAngle"],"0646":["SQ","1","FixedRTBeamDelimiterDeviceSequence"],"0647":["SQ","1","ParallelRTBeamDelimiterDeviceSequence"],"0648":["US","1","NumberOfParallelRTBeamDelimiters"],"0649":["FD","2-n","ParallelRTBeamDelimiterBoundaries"],"064A":["FD","2-n","ParallelRTBeamDelimiterPositions"],"064B":["FD","2","RTBeamLimitingDeviceOffset"],"064C":["SQ","1","RTBeamDelimiterGeometrySequence"],"064D":["SQ","1","RTBeamLimitingDeviceDefinitionSequence"],"064E":["CS","1","ParallelRTBeamDelimiterOpeningMode"],"064F":["CS","1-n","ParallelRTBeamDelimiterLeafMountingSide"],"0650":["UI","1","PatientSetupUID"],"0651":["SQ","1","WedgeDefinitionSequence"],"0652":["FD","1","RadiationBeamWedgeAngle"],"0653":["FD","1","RadiationBeamWedgeThinEdgeDistance"],"0654":["FD","1","RadiationBeamEffectiveWedgeAngle"],"0655":["US","1","NumberOfWedgePositions"],"0656":["SQ","1","RTBeamLimitingDeviceOpeningSequence"],"0657":["US","1","NumberOfRTBeamLimitingDeviceOpenings"],"0658":["SQ","1","RadiationDosimeterUnitSequence"],"0659":["SQ","1","RTDeviceDistanceReferenceLocationCodeSequence"],"065A":["SQ","1","RadiationDeviceConfigurationAndCommissioningKeySequence"],"065B":["SQ","1","PatientSupportPositionParameterSequence"],"065C":["CS","1","PatientSupportPositionSpecificationMethod"],"065D":["SQ","1","PatientSupportPositionDeviceParameterSequence"],"065E":["US","1","DeviceOrderIndex"],"065F":["US","1","PatientSupportPositionParameterOrderIndex"],"0660":["SQ","1","PatientSupportPositionDeviceToleranceSequence"],"0661":["US","1","PatientSupportPositionToleranceOrderIndex"],"0662":["SQ","1","CompensatorDefinitionSequence"],"0663":["CS","1","CompensatorMapOrientation"],"0664":["OF","1","CompensatorProximalThicknessMap"],"0665":["OF","1","CompensatorDistalThicknessMap"],"0666":["FD","1","CompensatorBasePlaneOffset"],"0667":["SQ","1","CompensatorShapeFabricationCodeSequence"],"0668":["SQ","1","CompensatorShapeSequence"],"0669":["FD","1","RadiationBeamCompensatorMillingToolDiameter"],"066A":["SQ","1","BlockDefinitionSequence"],"066B":["OF","1","BlockEdgeData"],"066C":["CS","1","BlockOrientation"],"066D":["FD","1","RadiationBeamBlockThickness"],"066E":["FD","1","RadiationBeamBlockSlabThickness"],"066F":["SQ","1","BlockEdgeDataSequence"],"0670":["US","1","NumberOfRTAccessoryHolders"],"0671":["SQ","1","GeneralAccessoryDefinitionSequence"],"0672":["US","1","NumberOfGeneralAccessories"],"0673":["SQ","1","BolusDefinitionSequence"],"0674":["US","1","NumberOfBoluses"],"0675":["UI","1","EquipmentFrameOfReferenceUID"],"0676":["ST","1","EquipmentFrameOfReferenceDescription"],"0677":["SQ","1","EquipmentReferencePointCoordinatesSequence"],"0678":["SQ","1","EquipmentReferencePointCodeSequence"],"0679":["FD","1","RTBeamLimitingDeviceAngle"],"067A":["FD","1","SourceRollAngle"],"067B":["SQ","1","RadiationGenerationModeSequence"],"067C":["SH","1","RadiationGenerationModeLabel"],"067D":["ST","1","RadiationGenerationModeDescription"],"067E":["SQ","1","RadiationGenerationModeMachineCodeSequence"],"067F":["SQ","1","RadiationTypeCodeSequence"],"0680":["DS","1","NominalEnergy"],"0681":["DS","1","MinimumNominalEnergy"],"0682":["DS","1","MaximumNominalEnergy"],"0683":["SQ","1","RadiationFluenceModifierCodeSequence"],"0684":["SQ","1","EnergyUnitCodeSequence"],"0685":["US","1","NumberOfRadiationGenerationModes"],"0686":["SQ","1","PatientSupportDevicesSequence"],"0687":["US","1","NumberOfPatientSupportDevices"],"0688":["FD","1","RTBeamModifierDefinitionDistance"],"0689":["SQ","1","BeamAreaLimitSequence"],"068A":["SQ","1","ReferencedRTPrescriptionSequence"],"0700":["UI","1","TreatmentSessionUID"],"0701":["CS","1","RTRadiationUsage"],"0702":["SQ","1","ReferencedRTRadiationSetSequence"],"0703":["SQ","1","ReferencedRTRadiationRecordSequence"],"0704":["US","1","RTRadiationSetDeliveryNumber"],"0705":["US","1","ClinicalFractionNumber"],"0706":["CS","1","RTTreatmentFractionCompletionStatus"],"0707":["CS","1","RTRadiationSetUsage"],"0708":["CS","1","TreatmentDeliveryContinuationFlag"],"0709":["CS","1","TreatmentRecordContentOrigin"],"0714":["CS","1","RTTreatmentTerminationStatus"],"0715":["SQ","1","RTTreatmentTerminationReasonCodeSequence"],"0716":["SQ","1","MachineSpecificTreatmentTerminationCodeSequence"],"0722":["SQ","1","RTRadiationSalvageRecordControlPointSequence"],"0723":["CS","1","StartingMetersetValueKnownFlag"],"0730":["ST","1","TreatmentTerminationDescription"],"0731":["SQ","1","TreatmentToleranceViolationSequence"],"0732":["CS","1","TreatmentToleranceViolationCategory"],"0733":["SQ","1","TreatmentToleranceViolationAttributeSequence"],"0734":["ST","1","TreatmentToleranceViolationDescription"],"0735":["ST","1","TreatmentToleranceViolationIdentification"],"0736":["DT","1","TreatmentToleranceViolationDateTime"],"073A":["DT","1","RecordedRTControlPointDateTime"],"073B":["US","1","ReferencedRadiationRTControlPointIndex"],"073E":["SQ","1","AlternateValueSequence"],"073F":["SQ","1","ConfirmationSequence"],"0740":["SQ","1","InterlockSequence"],"0741":["DT","1","InterlockDateTime"],"0742":["ST","1","InterlockDescription"],"0743":["SQ","1","InterlockOriginatingDeviceSequence"],"0744":["SQ","1","InterlockCodeSequence"],"0745":["SQ","1","InterlockResolutionCodeSequence"],"0746":["SQ","1","InterlockResolutionUserSequence"],"0760":["DT","1","OverrideDateTime"],"0761":["SQ","1","TreatmentToleranceViolationTypeCodeSequence"],"0762":["SQ","1","TreatmentToleranceViolationCauseCodeSequence"],"0772":["SQ","1","MeasuredMetersetToDoseMappingSequence"],"0773":["US","1","ReferencedExpectedInVivoMeasurementValueIndex"],"0774":["SQ","1","DoseMeasurementDeviceCodeSequence"],"0780":["SQ","1","AdditionalParameterRecordingInstanceSequence"],"0782":["US","1",""],"0783":["ST","1","InterlockOriginDescription"],"0784":["SQ","1","RTPatientPositionScopeSequence"],"0785":["UI","1","ReferencedTreatmentPositionGroupUID"],"0786":["US","1","RadiationOrderIndex"],"0787":["SQ","1","OmittedRadiationSequence"],"0788":["SQ","1","ReasonForOmissionCodeSequence"],"0789":["SQ","1","RTDeliveryStartPatientPositionSequence"],"078A":["SQ","1","RTTreatmentPreparationPatientPositionSequence"],"078B":["SQ","1","ReferencedRTTreatmentPreparationSequence"],"078C":["SQ","1","ReferencedPatientSetupPhotoSequence"],"078D":["SQ","1","PatientTreatmentPreparationMethodCodeSequence"],"078E":["LT","1","PatientTreatmentPreparationProcedureParameterDescription"],"078F":["SQ","1","PatientTreatmentPreparationDeviceSequence"],"0790":["SQ","1","PatientTreatmentPreparationProcedureSequence"],"0791":["SQ","1","PatientTreatmentPreparationProcedureCodeSequence"],"0792":["LT","1","PatientTreatmentPreparationMethodDescription"],"0793":["SQ","1","PatientTreatmentPreparationProcedureParameterSequence"],"0794":["LT","1","PatientSetupPhotoDescription"],"0795":["US","1","PatientTreatmentPreparationProcedureIndex"],"0796":["US","1","ReferencedPatientSetupProcedureIndex"],"0797":["SQ","1","RTRadiationTaskSequence"],"0798":["SQ","1","RTPatientPositionDisplacementSequence"],"0799":["SQ","1","RTPatientPositionSequence"],"079A":["LO","1","DisplacementReferenceLabel"],"079B":["FD","16","DisplacementMatrix"],"079C":["SQ","1","PatientSupportDisplacementSequence"],"079D":["SQ","1","DisplacementReferenceLocationCodeSequence"],"079E":["CS","1","RTRadiationSetDeliveryUsage"]},"300C":{"0000":["UL","1","GenericGroupLength"],"0002":["SQ","1","ReferencedRTPlanSequence"],"0004":["SQ","1","ReferencedBeamSequence"],"0006":["IS","1","ReferencedBeamNumber"],"0007":["IS","1","ReferencedReferenceImageNumber"],"0008":["DS","1","StartCumulativeMetersetWeight"],"0009":["DS","1","EndCumulativeMetersetWeight"],"000A":["SQ","1","ReferencedBrachyApplicationSetupSequence"],"000C":["IS","1","ReferencedBrachyApplicationSetupNumber"],"000E":["IS","1","ReferencedSourceNumber"],"0020":["SQ","1","ReferencedFractionGroupSequence"],"0022":["IS","1","ReferencedFractionGroupNumber"],"0040":["SQ","1","ReferencedVerificationImageSequence"],"0042":["SQ","1","ReferencedReferenceImageSequence"],"0050":["SQ","1","ReferencedDoseReferenceSequence"],"0051":["IS","1","ReferencedDoseReferenceNumber"],"0055":["SQ","1","BrachyReferencedDoseReferenceSequence"],"0060":["SQ","1","ReferencedStructureSetSequence"],"006A":["IS","1","ReferencedPatientSetupNumber"],"0080":["SQ","1","ReferencedDoseSequence"],"00A0":["IS","1","ReferencedToleranceTableNumber"],"00B0":["SQ","1","ReferencedBolusSequence"],"00C0":["IS","1","ReferencedWedgeNumber"],"00D0":["IS","1","ReferencedCompensatorNumber"],"00E0":["IS","1","ReferencedBlockNumber"],"00F0":["IS","1","ReferencedControlPointIndex"],"00F2":["SQ","1","ReferencedControlPointSequence"],"00F4":["IS","1","ReferencedStartControlPointIndex"],"00F6":["IS","1","ReferencedStopControlPointIndex"],"0100":["IS","1","ReferencedRangeShifterNumber"],"0102":["IS","1","ReferencedLateralSpreadingDeviceNumber"],"0104":["IS","1","ReferencedRangeModulatorNumber"],"0111":["SQ","1","OmittedBeamTaskSequence"],"0112":["CS","1","ReasonForOmission"],"0113":["LO","1","ReasonForOmissionDescription"],"0114":["SQ","1","PrescriptionOverviewSequence"],"0115":["FL","1","TotalPrescriptionDose"],"0116":["SQ","1","PlanOverviewSequence"],"0117":["US","1","PlanOverviewIndex"],"0118":["US","1","ReferencedPlanOverviewIndex"],"0119":["US","1","NumberOfFractionsIncluded"],"0120":["SQ","1","DoseCalibrationConditionsSequence"],"0121":["FD","1","AbsorbedDoseToMetersetRatio"],"0122":["FD","2","DelineatedRadiationFieldSize"],"0123":["CS","1","DoseCalibrationConditionsVerifiedFlag"],"0124":["FD","1","CalibrationReferencePointDepth"],"0125":["SQ","1","GatingBeamHoldTransitionSequence"],"0126":["CS","1","BeamHoldTransition"],"0127":["DT","1","BeamHoldTransitionDateTime"],"0128":["SQ","1","BeamHoldOriginatingDeviceSequence"]},"300E":{"0000":["UL","1","GenericGroupLength"],"0002":["CS","1","ApprovalStatus"],"0004":["DA","1","ReviewDate"],"0005":["TM","1","ReviewTime"],"0008":["PN","1","ReviewerName"]},3010:{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","RadiobiologicalDoseEffectSequence"],"0002":["CS","1","RadiobiologicalDoseEffectFlag"],"0003":["SQ","1","EffectiveDoseCalculationMethodCategoryCodeSequence"],"0004":["SQ","1","EffectiveDoseCalculationMethodCodeSequence"],"0005":["LO","1","EffectiveDoseCalculationMethodDescription"],"0006":["UI","1","ConceptualVolumeUID"],"0007":["SQ","1","OriginatingSOPInstanceReferenceSequence"],"0008":["SQ","1","ConceptualVolumeConstituentSequence"],"0009":["SQ","1","EquivalentConceptualVolumeInstanceReferenceSequence"],"000A":["SQ","1","EquivalentConceptualVolumesSequence"],"000B":["UI","1","ReferencedConceptualVolumeUID"],"000C":["UT","1","ConceptualVolumeCombinationExpression"],"000D":["US","1","ConceptualVolumeConstituentIndex"],"000E":["CS","1","ConceptualVolumeCombinationFlag"],"000F":["ST","1","ConceptualVolumeCombinationDescription"],"0010":["CS","1","ConceptualVolumeSegmentationDefinedFlag"],"0011":["SQ","1","ConceptualVolumeSegmentationReferenceSequence"],"0012":["SQ","1","ConceptualVolumeConstituentSegmentationReferenceSequence"],"0013":["UI","1","ConstituentConceptualVolumeUID"],"0014":["SQ","1","DerivationConceptualVolumeSequence"],"0015":["UI","1","SourceConceptualVolumeUID"],"0016":["SQ","1","ConceptualVolumeDerivationAlgorithmSequence"],"0017":["ST","1","ConceptualVolumeDescription"],"0018":["SQ","1","SourceConceptualVolumeSequence"],"0019":["SQ","1","AuthorIdentificationSequence"],"001A":["LO","1","ManufacturerModelVersion"],"001B":["UC","1","DeviceAlternateIdentifier"],"001C":["CS","1","DeviceAlternateIdentifierType"],"001D":["LT","1","DeviceAlternateIdentifierFormat"],"001E":["LO","1","SegmentationCreationTemplateLabel"],"001F":["UI","1","SegmentationTemplateUID"],"0020":["US","1","ReferencedSegmentReferenceIndex"],"0021":["SQ","1","SegmentReferenceSequence"],"0022":["US","1","SegmentReferenceIndex"],"0023":["SQ","1","DirectSegmentReferenceSequence"],"0024":["SQ","1","CombinationSegmentReferenceSequence"],"0025":["SQ","1","ConceptualVolumeSequence"],"0026":["SQ","1","SegmentedRTAccessoryDeviceSequence"],"0027":["SQ","1","SegmentCharacteristicsSequence"],"0028":["SQ","1","RelatedSegmentCharacteristicsSequence"],"0029":["US","1","SegmentCharacteristicsPrecedence"],"002A":["SQ","1","RTSegmentAnnotationSequence"],"002B":["SQ","1","SegmentAnnotationCategoryCodeSequence"],"002C":["SQ","1","SegmentAnnotationTypeCodeSequence"],"002D":["LO","1","DeviceLabel"],"002E":["SQ","1","DeviceTypeCodeSequence"],"002F":["SQ","1","SegmentAnnotationTypeModifierCodeSequence"],"0030":["SQ","1","PatientEquipmentRelationshipCodeSequence"],"0031":["UI","1","ReferencedFiducialsUID"],"0032":["SQ","1","PatientTreatmentOrientationSequence"],"0033":["SH","1","UserContentLabel"],"0034":["LO","1","UserContentLongLabel"],"0035":["SH","1","EntityLabel"],"0036":["LO","1","EntityName"],"0037":["ST","1","EntityDescription"],"0038":["LO","1","EntityLongLabel"],"0039":["US","1","DeviceIndex"],"003A":["US","1","RTTreatmentPhaseIndex"],"003B":["UI","1","RTTreatmentPhaseUID"],"003C":["US","1","RTPrescriptionIndex"],"003D":["US","1","RTSegmentAnnotationIndex"],"003E":["US","1","BasisRTTreatmentPhaseIndex"],"003F":["US","1","RelatedRTTreatmentPhaseIndex"],"0040":["US","1","ReferencedRTTreatmentPhaseIndex"],"0041":["US","1","ReferencedRTPrescriptionIndex"],"0042":["US","1","ReferencedParentRTPrescriptionIndex"],"0043":["ST","1","ManufacturerDeviceIdentifier"],"0044":["SQ","1","InstanceLevelReferencedPerformedProcedureStepSequence"],"0045":["CS","1","RTTreatmentPhaseIntentPresenceFlag"],"0046":["CS","1","RadiotherapyTreatmentType"],"0047":["CS","1-n","TeletherapyRadiationType"],"0048":["CS","1-n","BrachytherapySourceType"],"0049":["SQ","1","ReferencedRTTreatmentPhaseSequence"],"004A":["SQ","1","ReferencedDirectSegmentInstanceSequence"],"004B":["SQ","1","IntendedRTTreatmentPhaseSequence"],"004C":["DA","1","IntendedPhaseStartDate"],"004D":["DA","1","IntendedPhaseEndDate"],"004E":["SQ","1","RTTreatmentPhaseIntervalSequence"],"004F":["CS","1","TemporalRelationshipIntervalAnchor"],"0050":["FD","1","MinimumNumberOfIntervalDays"],"0051":["FD","1","MaximumNumberOfIntervalDays"],"0052":["UI","1-n","PertinentSOPClassesInStudy"],"0053":["UI","1-n","PertinentSOPClassesInSeries"],"0054":["LO","1","RTPrescriptionLabel"],"0055":["SQ","1","RTPhysicianIntentPredecessorSequence"],"0056":["LO","1","RTTreatmentApproachLabel"],"0057":["SQ","1","RTPhysicianIntentSequence"],"0058":["US","1","RTPhysicianIntentIndex"],"0059":["CS","1","RTTreatmentIntentType"],"005A":["UT","1","RTPhysicianIntentNarrative"],"005B":["SQ","1","RTProtocolCodeSequence"],"005C":["ST","1","ReasonForSuperseding"],"005D":["SQ","1","RTDiagnosisCodeSequence"],"005E":["US","1","ReferencedRTPhysicianIntentIndex"],"005F":["SQ","1","RTPhysicianIntentInputInstanceSequence"],"0060":["SQ","1","RTAnatomicPrescriptionSequence"],"0061":["UT","1","PriorTreatmentDoseDescription"],"0062":["SQ","1","PriorTreatmentReferenceSequence"],"0063":["CS","1","DosimetricObjectiveEvaluationScope"],"0064":["SQ","1","TherapeuticRoleCategoryCodeSequence"],"0065":["SQ","1","TherapeuticRoleTypeCodeSequence"],"0066":["US","1","ConceptualVolumeOptimizationPrecedence"],"0067":["SQ","1","ConceptualVolumeCategoryCodeSequence"],"0068":["CS","1","ConceptualVolumeBlockingConstraint"],"0069":["SQ","1","ConceptualVolumeTypeCodeSequence"],"006A":["SQ","1","ConceptualVolumeTypeModifierCodeSequence"],"006B":["SQ","1","RTPrescriptionSequence"],"006C":["SQ","1","DosimetricObjectiveSequence"],"006D":["SQ","1","DosimetricObjectiveTypeCodeSequence"],"006E":["UI","1","DosimetricObjectiveUID"],"006F":["UI","1","ReferencedDosimetricObjectiveUID"],"0070":["SQ","1","DosimetricObjectiveParameterSequence"],"0071":["SQ","1","ReferencedDosimetricObjectivesSequence"],"0073":["CS","1","AbsoluteDosimetricObjectiveFlag"],"0074":["FD","1","DosimetricObjectiveWeight"],"0075":["CS","1","DosimetricObjectivePurpose"],"0076":["SQ","1","PlanningInputInformationSequence"],"0077":["LO","1","TreatmentSite"],"0078":["SQ","1","TreatmentSiteCodeSequence"],"0079":["SQ","1","FractionPatternSequence"],"007A":["UT","1","TreatmentTechniqueNotes"],"007B":["UT","1","PrescriptionNotes"],"007C":["IS","1","NumberOfIntervalFractions"],"007D":["US","1","NumberOfFractions"],"007E":["US","1","IntendedDeliveryDuration"],"007F":["UT","1","FractionationNotes"],"0080":["SQ","1","RTTreatmentTechniqueCodeSequence"],"0081":["SQ","1","PrescriptionNotesSequence"],"0082":["SQ","1","FractionBasedRelationshipSequence"],"0083":["CS","1","FractionBasedRelationshipIntervalAnchor"],"0084":["FD","1","MinimumHoursBetweenFractions"],"0085":["TM","1-n","IntendedFractionStartTime"],"0086":["LT","1","IntendedStartDayOfWeek"],"0087":["SQ","1","WeekdayFractionPatternSequence"],"0088":["SQ","1","DeliveryTimeStructureCodeSequence"],"0089":["SQ","1","TreatmentSiteModifierCodeSequence"],"0090":["CS","1","RoboticBaseLocationIndicator"],"0091":["SQ","1","RoboticPathNodeSetCodeSequence"],"0092":["UL","1","RoboticNodeIdentifier"],"0093":["FD","3","RTTreatmentSourceCoordinates"],"0094":["FD","1","RadiationSourceCoordinateSystemYawAngle"],"0095":["FD","1","RadiationSourceCoordinateSystemRollAngle"],"0096":["FD","1","RadiationSourceCoordinateSystemPitchAngle"],"0097":["SQ","1","RoboticPathControlPointSequence"],"0098":["SQ","1","TomotherapeuticControlPointSequence"],"0099":["FD","1-n","TomotherapeuticLeafOpenDurations"],"009A":["FD","1-n","TomotherapeuticLeafInitialClosedDurations"]},4e3:{"0000":["UL","1","GenericGroupLength"],"0010":["LT","1","Arbitrary"],4e3:["LT","1","TextComments"]},4008:{"0000":["UL","1","GenericGroupLength"],"0040":["SH","1","ResultsID"],"0042":["LO","1","ResultsIDIssuer"],"0050":["SQ","1","ReferencedInterpretationSequence"],"00FF":["CS","1","ReportProductionStatusTrial"],"0100":["DA","1","InterpretationRecordedDate"],"0101":["TM","1","InterpretationRecordedTime"],"0102":["PN","1","InterpretationRecorder"],"0103":["LO","1","ReferenceToRecordedSound"],"0108":["DA","1","InterpretationTranscriptionDate"],"0109":["TM","1","InterpretationTranscriptionTime"],"010A":["PN","1","InterpretationTranscriber"],"010B":["ST","1","InterpretationText"],"010C":["PN","1","InterpretationAuthor"],"0111":["SQ","1","InterpretationApproverSequence"],"0112":["DA","1","InterpretationApprovalDate"],"0113":["TM","1","InterpretationApprovalTime"],"0114":["PN","1","PhysicianApprovingInterpretation"],"0115":["LT","1","InterpretationDiagnosisDescription"],"0117":["SQ","1","InterpretationDiagnosisCodeSequence"],"0118":["SQ","1","ResultsDistributionListSequence"],"0119":["PN","1","DistributionName"],"011A":["LO","1","DistributionAddress"],"0200":["SH","1","InterpretationID"],"0202":["LO","1","InterpretationIDIssuer"],"0210":["CS","1","InterpretationTypeID"],"0212":["CS","1","InterpretationStatusID"],"0300":["ST","1","Impressions"],4e3:["ST","1","ResultsComments"]},4010:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","LowEnergyDetectors"],"0002":["CS","1","HighEnergyDetectors"],"0004":["SQ","1","DetectorGeometrySequence"],1001:["SQ","1","ThreatROIVoxelSequence"],1004:["FL","3","ThreatROIBase"],1005:["FL","3","ThreatROIExtents"],1006:["OB","1","ThreatROIBitmap"],1007:["SH","1","RouteSegmentID"],1008:["CS","1","GantryType"],1009:["CS","1","OOIOwnerType"],"100A":["SQ","1","RouteSegmentSequence"],1010:["US","1","PotentialThreatObjectID"],1011:["SQ","1","ThreatSequence"],1012:["CS","1","ThreatCategory"],1013:["LT","1","ThreatCategoryDescription"],1014:["CS","1","ATDAbilityAssessment"],1015:["CS","1","ATDAssessmentFlag"],1016:["FL","1","ATDAssessmentProbability"],1017:["FL","1","Mass"],1018:["FL","1","Density"],1019:["FL","1","ZEffective"],"101A":["SH","1","BoardingPassID"],"101B":["FL","3","CenterOfMass"],"101C":["FL","3","CenterOfPTO"],"101D":["FL","6-n","BoundingPolygon"],"101E":["SH","1","RouteSegmentStartLocationID"],"101F":["SH","1","RouteSegmentEndLocationID"],1020:["CS","1","RouteSegmentLocationIDType"],1021:["CS","1-n","AbortReason"],1023:["FL","1","VolumeOfPTO"],1024:["CS","1","AbortFlag"],1025:["DT","1","RouteSegmentStartTime"],1026:["DT","1","RouteSegmentEndTime"],1027:["CS","1","TDRType"],1028:["CS","1","InternationalRouteSegment"],1029:["LO","1-n","ThreatDetectionAlgorithmAndVersion"],"102A":["SH","1","AssignedLocation"],"102B":["DT","1","AlarmDecisionTime"],1031:["CS","1","AlarmDecision"],1033:["US","1","NumberOfTotalObjects"],1034:["US","1","NumberOfAlarmObjects"],1037:["SQ","1","PTORepresentationSequence"],1038:["SQ","1","ATDAssessmentSequence"],1039:["CS","1","TIPType"],"103A":["CS","1","DICOSVersion"],1041:["DT","1","OOIOwnerCreationTime"],1042:["CS","1","OOIType"],1043:["FL","3","OOISize"],1044:["CS","1","AcquisitionStatus"],1045:["SQ","1","BasisMaterialsCodeSequence"],1046:["CS","1","PhantomType"],1047:["SQ","1","OOIOwnerSequence"],1048:["CS","1","ScanType"],1051:["LO","1","ItineraryID"],1052:["SH","1","ItineraryIDType"],1053:["LO","1","ItineraryIDAssigningAuthority"],1054:["SH","1","RouteID"],1055:["SH","1","RouteIDAssigningAuthority"],1056:["CS","1","InboundArrivalType"],1058:["SH","1","CarrierID"],1059:["CS","1","CarrierIDAssigningAuthority"],1060:["FL","3","SourceOrientation"],1061:["FL","3","SourcePosition"],1062:["FL","1","BeltHeight"],1064:["SQ","1","AlgorithmRoutingCodeSequence"],1067:["CS","1","TransportClassification"],1068:["LT","1","OOITypeDescriptor"],1069:["FL","1","TotalProcessingTime"],"106C":["OB","1","DetectorCalibrationData"],"106D":["CS","1","AdditionalScreeningPerformed"],"106E":["CS","1","AdditionalInspectionSelectionCriteria"],"106F":["SQ","1","AdditionalInspectionMethodSequence"],1070:["CS","1","AITDeviceType"],1071:["SQ","1","QRMeasurementsSequence"],1072:["SQ","1","TargetMaterialSequence"],1073:["FD","1","SNRThreshold"],1075:["DS","1","ImageScaleRepresentation"],1076:["SQ","1","ReferencedPTOSequence"],1077:["SQ","1","ReferencedTDRInstanceSequence"],1078:["ST","1","PTOLocationDescription"],1079:["SQ","1","AnomalyLocatorIndicatorSequence"],"107A":["FL","3","AnomalyLocatorIndicator"],"107B":["SQ","1","PTORegionSequence"],"107C":["CS","1","InspectionSelectionCriteria"],"107D":["SQ","1","SecondaryInspectionMethodSequence"],"107E":["DS","6","PRCSToRCSOrientation"]},"4FFE":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","MACParametersSequence"]},5e3:{"0000":["UL","1","GenericGroupLength"],"0005":["US","1","CurveDimensions"],"0010":["US","1","NumberOfPoints"],"0020":["CS","1","TypeOfData"],"0022":["LO","1","CurveDescription"],"0030":["SH","1-n","AxisUnits"],"0040":["SH","1-n","AxisLabels"],"0103":["US","1","DataValueRepresentation"],"0104":["US","1-n","MinimumCoordinateValue"],"0105":["US","1-n","MaximumCoordinateValue"],"0106":["SH","1-n","CurveRange"],"0110":["US","1-n","CurveDataDescriptor"],"0112":["US","1-n","CoordinateStartValue"],"0114":["US","1-n","CoordinateStepValue"],1001:["CS","1","CurveActivationLayer"],2e3:["US","1","AudioType"],2002:["US","1","AudioSampleFormat"],2004:["US","1","NumberOfChannels"],2006:["UL","1","NumberOfSamples"],2008:["UL","1","SampleRate"],"200A":["UL","1","TotalTime"],"200C":["ox","1","AudioSampleData"],"200E":["LT","1","AudioComments"],2500:["LO","1","CurveLabel"],2600:["SQ","1","CurveReferencedOverlaySequence"],2610:["US","1","CurveReferencedOverlayGroup"],3e3:["ox","1","CurveData"]},5200:{"0000":["UL","1","GenericGroupLength"],9229:["SQ","1","SharedFunctionalGroupsSequence"],9230:["SQ","1","PerFrameFunctionalGroupsSequence"]},5400:{"0000":["UL","1","GenericGroupLength"],"0100":["SQ","1","WaveformSequence"],"0110":["ox","1","ChannelMinimumValue"],"0112":["ox","1","ChannelMaximumValue"],1004:["US","1","WaveformBitsAllocated"],1006:["CS","1","WaveformSampleInterpretation"],"100A":["ox","1","WaveformPaddingValue"],1010:["ox","1","WaveformData"]},5600:{"0000":["UL","1","GenericGroupLength"],"0010":["OF","1","FirstOrderPhaseCorrectionAngle"],"0020":["OF","1","SpectroscopyData"]},6e3:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","OverlayRows"],"0011":["US","1","OverlayColumns"],"0012":["US","1","OverlayPlanes"],"0015":["IS","1","NumberOfFramesInOverlay"],"0022":["LO","1","OverlayDescription"],"0040":["CS","1","OverlayType"],"0045":["LO","1","OverlaySubtype"],"0050":["SS","2","OverlayOrigin"],"0051":["US","1","ImageFrameOrigin"],"0052":["US","1","OverlayPlaneOrigin"],"0060":["CS","1","OverlayCompressionCode"],"0061":["SH","1","OverlayCompressionOriginator"],"0062":["SH","1","OverlayCompressionLabel"],"0063":["CS","1","OverlayCompressionDescription"],"0066":["AT","1-n","OverlayCompressionStepPointers"],"0068":["US","1","OverlayRepeatInterval"],"0069":["US","1","OverlayBitsGrouped"],"0100":["US","1","OverlayBitsAllocated"],"0102":["US","1","OverlayBitPosition"],"0110":["CS","1","OverlayFormat"],"0200":["US","1","OverlayLocation"],"0800":["CS","1-n","OverlayCodeLabel"],"0802":["US","1","OverlayNumberOfTables"],"0803":["AT","1-n","OverlayCodeTableLocation"],"0804":["US","1","OverlayBitsForCodeWord"],1001:["CS","1","OverlayActivationLayer"],1100:["US","1","OverlayDescriptorGray"],1101:["US","1","OverlayDescriptorRed"],1102:["US","1","OverlayDescriptorGreen"],1103:["US","1","OverlayDescriptorBlue"],1200:["US","1-n","OverlaysGray"],1201:["US","1-n","OverlaysRed"],1202:["US","1-n","OverlaysGreen"],1203:["US","1-n","OverlaysBlue"],1301:["IS","1","ROIArea"],1302:["DS","1","ROIMean"],1303:["DS","1","ROIStandardDeviation"],1500:["LO","1","OverlayLabel"],3e3:["ox","1","OverlayData"],4e3:["LT","1","OverlayComments"]},"7F00":{"0000":["UL","1","GenericGroupLength"],"0010":["ox","1","VariablePixelData"],"0011":["US","1","VariableNextDataGroup"],"0020":["OW","1","VariableCoefficientsSDVN"],"0030":["OW","1","VariableCoefficientsSDHN"],"0040":["OW","1","VariableCoefficientsSDDN"]},"7FE0":{"0000":["UL","1","GenericGroupLength"],"0001":["OV","1","ExtendedOffsetTable"],"0002":["OV","1","ExtendedOffsetTableLengths"],"0008":["OF","1","FloatPixelData"],"0009":["OD","1","DoubleFloatPixelData"],"0010":["ox","1","PixelData"],"0020":["OW","1","CoefficientsSDVN"],"0030":["OW","1","CoefficientsSDHN"],"0040":["OW","1","CoefficientsSDDN"]},FFFA:{"0000":["UL","1","GenericGroupLength"],FFFA:["SQ","1","DigitalSignaturesSequence"]},FFFC:{"0000":["UL","1","GenericGroupLength"],FFFC:["OB","1","DataSetTrailingPadding"]},FFFE:{"0000":["UL","1","GenericGroupLength"],E000:["NONE","1","Item"],E00D:["NONE","1","ItemDelimitationItem"],E0DD:["NONE","1","SequenceDelimitationItem"]}};function ge(f,t){fe[f]=t}const ne={"0000":"Command","0002":"Meta Element","0004":"File Set","0008":"Identifying","0009":"SPI Identifying","0010":"Patient","0012":"Clinical Trial","0018":"Acquisition","0019":"SPI Acquisition","0020":"Image","0021":"SPI Image","0022":"Ophtalmology","0028":"Image Presentation","0032":"Study","0038":"Visit","003A":"Waveform","0040":"Procedure","0042":"Encapsulated Document","0050":"Device Informations","0054":"Nuclear Medicine","0060":"Histogram","0070":"Presentation State","0072":"Hanging Protocol","0088":"Storage","0100":"Authorization","0400":"Digital Signature",1e3:"Code Table",1010:"Zonal Map",2e3:"Film Session",2010:"Film Box",2020:"Image Box",2030:"Annotation",2040:"Overlay Box",2050:"Presentation LUT",2100:"Print Job",2110:"Printer",2120:"Queue",2130:"Print Content",2200:"Media Creation",3002:"RT Image",3004:"RT Dose",3006:"RT StructureSet",3008:"RT Treatment","300A":"RT Plan","300C":"RT Relationship","300E":"RT Approval",4e3:"Text",4008:"Results","4FFE":"MAC Parameters",5e3:"Curve",5002:"Curve",5004:"Curve",5006:"Curve",5008:"Curve","500A":"Curve","500C":"Curve","500E":"Curve",5400:"Waveform Data",6e3:"Overlays",6002:"Overlays",6004:"Overlays",6008:"Overlays","600A":"Overlays","600C":"Overlays","600E":"Overlays",FFFC:"Generic","7FE0":"Pixel Data",FFFF:"Unknown"},ae={OB:!0,OD:!0,OF:!0,OL:!0,OV:!0,OW:!0,SQ:!0,SV:!0,UC:!0,UN:!0,UR:!0,UT:!0,UV:!0,ox:!0};function he(f){return ae[f]!==void 0}const xe={SH:!0,LO:!0,UC:!0,ST:!0,LT:!0,UT:!0,PN:!0};function we(f){return xe[f]!==void 0}const Se={AE:"string",AS:"string",AT:void 0,CS:"string",DA:"string",DS:"string",DT:"string",FL:"Float32",FD:"Float64",IS:"string",LO:"string",LT:"string",OB:"Uint8",OD:"Uint64",OF:"Uint32",OL:"Uint32",OV:"Uint64",OW:"Uint16",PN:"string",SH:"string",SL:"Int32",SQ:void 0,SS:"Int16",ST:"string",SV:"Int64",TM:"string",UC:"string",UI:"string",UL:"Uint32",UN:"Uint8",UR:"string",US:"Uint16",UT:"string",UV:"Uint64"},_e={"1.2.840.10008.1.2":"Implicit VR Little Endian","1.2.840.10008.1.2.1":"Explicit VR Little Endian","1.2.840.10008.1.2.1.98":"Encapsulated Uncompressed Explicit VR Little Endian","1.2.840.10008.1.2.1.99":"Deflated Explicit VR Little Endian","1.2.840.10008.1.2.2":"Explicit VR Big Endian (Retired)","1.2.840.10008.1.2.4.50":"JPEG Baseline (Process 1)","1.2.840.10008.1.2.4.51":"JPEG Extended (Process 2 & 4)","1.2.840.10008.1.2.4.52":"JPEG Extended (Process 3 & 5) (Retired)","1.2.840.10008.1.2.4.53":"JPEG Spectral Selection, Non-Hierarchical (Process 6 & 8) (Retired)","1.2.840.10008.1.2.4.54":"JPEG Spectral Selection, Non-Hierarchical (Process 7 & 9) (Retired)","1.2.840.10008.1.2.4.55":"JPEG Full Progression, Non-Hierarchical (Process 10 & 12) (Retired)","1.2.840.10008.1.2.4.56":"JPEG Full Progression, Non-Hierarchical (Process 11 & 13) (Retired)","1.2.840.10008.1.2.4.57":"JPEG Lossless, Non-Hierarchical (Process 14)","1.2.840.10008.1.2.4.58":"JPEG Lossless, Non-Hierarchical (Process 15) (Retired)","1.2.840.10008.1.2.4.59":"JPEG Extended, Hierarchical (Process 16 & 18) (Retired)","1.2.840.10008.1.2.4.60":"JPEG Extended, Hierarchical (Process 17 & 19) (Retired)","1.2.840.10008.1.2.4.61":"JPEG Spectral Selection, Hierarchical (Process 20 & 22) (Retired)","1.2.840.10008.1.2.4.62":"JPEG Spectral Selection, Hierarchical (Process 21 & 23) (Retired)","1.2.840.10008.1.2.4.63":"JPEG Full Progression, Hierarchical (Process 24 & 26) (Retired)","1.2.840.10008.1.2.4.64":"JPEG Full Progression, Hierarchical (Process 25 & 27) (Retired)","1.2.840.10008.1.2.4.65":"JPEG Lossless, Hierarchical (Process 28) (Retired)","1.2.840.10008.1.2.4.66":"JPEG Lossless, Hierarchical (Process 29) (Retired)","1.2.840.10008.1.2.4.70":"JPEG Lossless, Non-Hierarchical, First-Order Prediction (Process 14 [Selection Value 1])","1.2.840.10008.1.2.4.80":"JPEG-LS Lossless Image Compression","1.2.840.10008.1.2.4.81":"JPEG-LS Lossy (Near-Lossless) Image Compression","1.2.840.10008.1.2.4.90":"JPEG 2000 Image Compression (Lossless Only)","1.2.840.10008.1.2.4.91":"JPEG 2000 Image Compression","1.2.840.10008.1.2.4.92":"JPEG 2000 Part 2 Multi-component Image Compression (Lossless Only)","1.2.840.10008.1.2.4.93":"JPEG 2000 Part 2 Multi-component Image Compression","1.2.840.10008.1.2.4.94":"JPIP Referenced","1.2.840.10008.1.2.4.95":"JPIP Referenced Deflate","1.2.840.10008.1.2.4.100":"MPEG2 Main Profile / Main Level","1.2.840.10008.1.2.4.101":"MPEG2 Main Profile / High Level","1.2.840.10008.1.2.4.102":"MPEG-4 AVC/H.264 High Profile / Level 4.1","1.2.840.10008.1.2.4.103":"MPEG-4 AVC/H.264 BD-compatible High Profile / Level 4.1","1.2.840.10008.1.2.4.104":"MPEG-4 AVC/H.264 High Profile / Level 4.2 For 2D Video","1.2.840.10008.1.2.4.105":"MPEG-4 AVC/H.264 High Profile / Level 4.2 For 3D Video","1.2.840.10008.1.2.4.106":"MPEG-4 AVC/H.264 Stereo High Profile / Level 4.2","1.2.840.10008.1.2.4.107":"HEVC/H.265 Main Profile / Level 5.1","1.2.840.10008.1.2.4.108":"HEVC/H.265 Main 10 Profile / Level 5.1","1.2.840.10008.1.2.5":"RLE Lossless","1.2.840.10008.1.2.6.1":"RFC 2557 MIME encapsulation (Retired)","1.2.840.10008.1.2.6.2":"XML Encoding (Retired)","1.2.840.10008.1.2.7.1":"SMPTE ST 2110-20 Uncompressed Progressive Active Video","1.2.840.10008.1.2.7.2":"SMPTE ST 2110-20 Uncompressed Interlaced Active Video","1.2.840.10008.1.2.7.3":"SMPTE ST 2110-30 PCM Digital Audio","1.2.840.10008.1.20":"Papyrus 3 Implicit VR Little Endian (Retired)"},Ve="1.2.840.10008.1.2",Me="1.2.840.10008.1.2.1",He="1.2.840.10008.1.2.2",lt="1.2.840.10008.1.2.4.50",it="1.2.840.10008.1.2.4.51",Mt="1.2.840.10008.1.2.4.57",jt="1.2.840.10008.1.2.4.70",Xt="1.2.840.10008.1.2.5";class xt{constructor(t,a){W(this,Wh);W(this,qa);W(this,Dr);if(!t||t===void 0)throw new Error("Cannot create tag with no group.");if(t.length!==4)throw new Error("Cannot create tag with badly sized group: "+t);if(!a||a===void 0)throw new Error("Cannot create tag with no element.");if(a.length!==4)throw new Error("Cannot create tag with badly sized element: "+a);X(this,qa,t),X(this,Dr,a)}getGroup(){return l(this,qa)}getElement(){return l(this,Dr)}toString(){return this.getKey()+": "+this.getNameFromDictionary()}equals(t){return t!=null&&l(this,qa)===t.getGroup()&&l(this,Dr)===t.getElement()}getKey(){return l(this,qa)+l(this,Dr)}getGroupName(){return ne[l(this,qa)]}isWithVR(){return!(l(this,qa)==="FFFE"&&(l(this,Dr)==="E000"||l(this,Dr)==="E00D"||l(this,Dr)==="E0DD"))}isPrivate(){return parseInt(l(this,qa),16)%2==1}getVrFromDictionary(){let t;const a=ie(this,Wh,N2).call(this);return a!==void 0&&(t=a[0]),t}getNameFromDictionary(){let t;const a=ie(this,Wh,N2).call(this);return a!==void 0&&(t=a[2]),t}}qa=new WeakMap,Dr=new WeakMap,Wh=new WeakSet,N2=function(){let t;return fe[l(this,qa)]!==void 0&&fe[l(this,qa)][l(this,Dr)]!==void 0&&(t=fe[l(this,qa)][l(this,Dr)]),t};function Pt(f,t){let a=parseInt(f.getGroup(),16)-parseInt(t.getGroup(),16);return a===0&&(a=parseInt(f.getElement(),16)-parseInt(t.getElement(),16)),a}function yn(f){if(!f||f===void 0)throw new Error("Cannot create tag with no key.");if(f.length!==8)throw new Error("Cannot create tag with badly sized key: "+f);return new xt(f.substring(0,4),f.substring(4,8))}function dn(){return new xt("FFFE","E000")}function on(f){return f.getKey()==="FFFEE000"}function ll(f){return f.getKey()==="FFFEE00D"}function um(f){return f.getKey()==="FFFEE0DD"}function gp(){return new xt("7FE0","0010")}function ul(f){return f.getKey()==="7FE00010"}function md(f){if(f==null)return null;let t=null,a=null;const s=fe,g=Object.keys(s);let C,L=null,k=!1;for(let V=0,z=g.length;V<z;++V){t=g[V],L=Object.keys(s[t]);for(let Q=0,ee=L.length;Q<ee;++Q)if(a=L[Q],s[t][a][2]===f){k=!0;break}if(k)break}return k&&(C=new xt(t,a)),C}class vi{constructor(t){Te(this,"vr");Te(this,"value");Te(this,"tag");Te(this,"vl");Te(this,"undefinedLength");Te(this,"startOffset");Te(this,"endOffset");Te(this,"items");this.vr=t}}function Ua(f){const t=f.byteLength,a=new Uint8Array(f.buffer,f.byteOffset,t),s=f.BYTES_PER_ELEMENT;let g;for(let C=0;C<t;C+=s)for(let L=C+s-1,k=C;L>k;L--,k++)g=a[k],a[k]=a[L],a[L]=g}class cm{constructor(t,a){W(this,aa);W(this,Ga,!0);W(this,Mm,function(){return new Int8Array(new Int16Array([1]).buffer)[0]>0}());W(this,xr);W(this,Tr);X(this,aa,t),a!==void 0&&X(this,Ga,a),X(this,xr,l(this,Ga)!==l(this,Mm)),X(this,Tr,new DataView(t))}readUint16(t){return l(this,Tr).getUint16(t,l(this,Ga))}readInt16(t){return l(this,Tr).getInt16(t,l(this,Ga))}readUint32(t){return l(this,Tr).getUint32(t,l(this,Ga))}readBigUint64(t){return l(this,Tr).getBigUint64(t,l(this,Ga))}readInt32(t){return l(this,Tr).getInt32(t,l(this,Ga))}readBigInt64(t){return l(this,Tr).getBigInt64(t,l(this,Ga))}readFloat32(t){return l(this,Tr).getFloat32(t,l(this,Ga))}readFloat64(t){return l(this,Tr).getFloat64(t,l(this,Ga))}readBinaryArray(t,a){const s=new Uint8Array(l(this,aa),t,a),g=8*s.length,C=new Uint8Array(g);let L=0,k=0;for(let V=0;V<g;++V)L=V%8,k=Math.floor(V/8),C[V]=255*!!(s[k]&1<<L);return C}readUint8Array(t,a){return new Uint8Array(l(this,aa),t,a)}readInt8Array(t,a){return new Int8Array(l(this,aa),t,a)}readUint16Array(t,a){const s=Uint16Array.BYTES_PER_ELEMENT,g=a/s;let C=null;if(t%s==0)C=new Uint16Array(l(this,aa),t,g),l(this,xr)&&Ua(C);else{C=new Uint16Array(g);let L=t;for(let k=0;k<g;++k)C[k]=this.readUint16(L),L+=s}return C}readInt16Array(t,a){const s=Int16Array.BYTES_PER_ELEMENT,g=a/s;let C=null;if(t%s==0)C=new Int16Array(l(this,aa),t,g),l(this,xr)&&Ua(C);else{C=new Int16Array(g);let L=t;for(let k=0;k<g;++k)C[k]=this.readInt16(L),L+=s}return C}readUint32Array(t,a){const s=Uint32Array.BYTES_PER_ELEMENT,g=a/s;let C=null;if(t%s==0)C=new Uint32Array(l(this,aa),t,g),l(this,xr)&&Ua(C);else{C=new Uint32Array(g);let L=t;for(let k=0;k<g;++k)C[k]=this.readUint32(L),L+=s}return C}readUint64Array(t,a){const s=BigUint64Array.BYTES_PER_ELEMENT,g=a/s;let C=null;if(t%s==0)C=new BigUint64Array(l(this,aa),t,g),l(this,xr)&&Ua(C);else{C=new BigUint64Array(g);let L=t;for(let k=0;k<g;++k)C[k]=this.readBigUint64(L),L+=s}return C}readInt32Array(t,a){const s=Int32Array.BYTES_PER_ELEMENT,g=a/s;let C=null;if(t%s==0)C=new Int32Array(l(this,aa),t,g),l(this,xr)&&Ua(C);else{C=new Int32Array(g);let L=t;for(let k=0;k<g;++k)C[k]=this.readInt32(L),L+=s}return C}readInt64Array(t,a){const s=BigInt64Array.BYTES_PER_ELEMENT,g=a/s;let C=null;if(t%s==0)C=new BigInt64Array(l(this,aa),t,g),l(this,xr)&&Ua(C);else{C=new BigInt64Array(g);let L=t;for(let k=0;k<g;++k)C[k]=this.readBigInt64(L),L+=s}return C}readFloat32Array(t,a){const s=Float32Array.BYTES_PER_ELEMENT,g=a/s;let C=null;if(t%s==0)C=new Float32Array(l(this,aa),t,g),l(this,xr)&&Ua(C);else{C=new Float32Array(g);let L=t;for(let k=0;k<g;++k)C[k]=this.readFloat32(L),L+=s}return C}readFloat64Array(t,a){const s=Float64Array.BYTES_PER_ELEMENT,g=a/s;let C=null;if(t%s==0)C=new Float64Array(l(this,aa),t,g),l(this,xr)&&Ua(C);else{C=new Float64Array(g);let L=t;for(let k=0;k<g;++k)C[k]=this.readFloat64(L),L+=s}return C}readHex(t){const a=this.readUint16(t).toString(16);return"0000".substring(0,4-a.length)+a.toUpperCase()}}aa=new WeakMap,Ga=new WeakMap,Mm=new WeakMap,xr=new WeakMap,Tr=new WeakMap;function y9(){return"0.34.2"}function b9(f){return!(f.byteLength<132)&&new Uint8Array(f,128,4).reduce(function(t,a){return t+String.fromCharCode(a)},"")==="DICM"}const C9=String.fromCharCode("u200B");class w9{decode(t){let a="";for(let s=0,g=t.length;s<g;++s)a+=String.fromCharCode(t[s]);return a}}function mp(f){if(!f)return null;const t={L:"R",R:"L",A:"P",P:"A",H:"F",F:"H"};let a="";for(let s=0;s<f.length;s++){const g=t[f.substring(s,s+1)];g&&(a+=g)}return a}function x5(f){return f===Ve}function T5(f){return f===He}function vp(f){return f===lt||f===it}function Sp(f){return f===Mt||f===jt}function pp(f){return f.match(/1.2.840.10008.1.2.4.9/)!==null}function P5(f){return f===Xt}function I5(f,t,a){let s=null;try{f===1||f===8?s=t===0?new Uint8Array(a):new Int8Array(a):f===16?s=t===0?new Uint16Array(a):new Int16Array(a):f===32&&(s=t===0?new Uint32Array(a):new Int32Array(a))}catch(g){if(g instanceof RangeError){const C=Math.floor(Math.log(a)/Math.log(2));p.error("Cannot allocate array of size: "+a+" (>2^"+C+").")}}return s}function Xr(f,t){return t?8:he(f)?12:8}const A5="00280008",_5="00280100",L5="00280103",O5="7FE00010";class yp{constructor(){W(this,Bt);W(this,Si,{});W(this,Uu);W(this,Yh,new w9);W(this,$h,l(this,Yh))}getDefaultCharacterSet(){return l(this,Uu)}setDefaultCharacterSet(t){X(this,Uu,t)}setDecoderCharacterSet(t){X(this,$h,new TextDecoder(t))}getDicomElements(){return l(this,Si)}parse(t){let a=0,s="",g=null;const C=new cm(t);let L=new cm(t);a=128;const k=ie(this,Bt,qv).call(this,C.readUint8Array(a,4));if(a+=4*Uint8Array.BYTES_PER_ELEMENT,k==="DICM"){g=ie(this,Bt,Ho).call(this,C,a,!1),g.value=ie(this,Bt,Hs).call(this,g,C),a=g.endOffset,l(this,Si)[g.tag.getKey()]=g;const ee=a+g.value[0];for(;a<ee;)g=ie(this,Bt,Ho).call(this,C,a,!1),a=g.endOffset,l(this,Si)[g.tag.getKey()]=g;if(g=l(this,Si)["00020010"],g===void 0)throw new Error("Not a valid DICOM file (no TransferSyntaxUID found)");g.value=ie(this,Bt,Hs).call(this,g,C),s=g.value[0]}else{p.warn("No DICM prefix, trying to guess tansfer syntax."),g=ie(this,Bt,Ho).call(this,L,0,!1);const ee=function(oe){const me="0008",De=oe.tag.getGroup();if(De!=="0800"&&De!==me)throw new Error("Not a valid DICOM file (no magic DICM word found and first element not in 0008 group)");const Oe=oe.vr,ke=Oe.charCodeAt(0),We=Oe.charCodeAt(1),Ee=!(ke>=65&&ke<=90&&We>=65&&We<=90);let Ne=null;if(De===me)Ne=Ee?Ve:Me;else{if(Ee)throw new Error("Not a valid DICOM file (no magic DICM word foundand implicit VR big endian detected)");Ne=He}const Ue=new vi("UI");return Ue.tag=new xt("0002","0010"),Ue.value=[Ne],Ue.vl=Ue.value[0].length,Ue.startOffset=oe.startOffset,Ue.endOffset=Ue.startOffset+Ue.vl,Ue}(g);l(this,Si)[ee.tag.getKey()]=ee,s=ee.value[0],a=0}if(!function(ee){return ee===Ve||ee===Me||ee===He||vp(ee)||Sp(ee)||pp(ee)||P5(ee)}(s))throw new Error("Unsupported DICOM transfer syntax: '"+s+"' ("+function(ee){let oe="Unknown";return _e[ee]!==void 0&&(oe=_e[ee]),oe}(s)+")");let V=!1;for(x5(s)&&(V=!0),T5(s)&&(L=new cm(t,!1));a<t.byteLength;){g=ie(this,Bt,Ho).call(this,L,a,V),a=g.endOffset;const ee=g.tag.getKey();l(this,Si)[ee]===void 0?l(this,Si)[ee]=g:p.warn("Not saving duplicate tag: "+ee)}if(isNaN(a))throw new Error("Problem while parsing, bad offset");t.byteLength!==a&&p.warn("Did not reach the end of the buffer: "+a+" != "+t.byteLength);let z=0,Q=16;if(l(this,Si)[O5]!==void 0&&(g=l(this,Si)[L5],g!==void 0?(g.value=ie(this,Bt,Hs).call(this,g,L),z=g.value[0]):p.warn("Reading DICOM pixel data with default pixelRepresentation."),g=l(this,Si)[_5],g!==void 0?(g.value=ie(this,Bt,Hs).call(this,g,L),Q=g.value[0]):p.warn("Reading DICOM pixel data with default bitsAllocated.")),l(this,Uu)!==void 0&&this.setDecoderCharacterSet(l(this,Uu)),g=l(this,Si)["00080005"],g!==void 0){let ee;g.value=ie(this,Bt,Hs).call(this,g,L),g.value.length===1?ee=g.value[0]:(ee=g.value[1],p.warn("Unsupported character set with code extensions: '"+ee+"'.")),this.setDecoderCharacterSet(function(oe){let me="utf-8";return oe==="ISO_IR 100"?me="iso-8859-1":oe==="ISO_IR 101"?me="iso-8859-2":oe==="ISO_IR 109"?me="iso-8859-3":oe==="ISO_IR 110"?me="iso-8859-4":oe==="ISO_IR 144"?me="iso-8859-5":oe==="ISO_IR 127"?me="iso-8859-6":oe==="ISO_IR 126"?me="iso-8859-7":oe==="ISO_IR 138"?me="iso-8859-8":oe==="ISO_IR 148"?me="iso-8859-9":oe==="ISO_IR 13"?me="shift-jis":oe==="ISO_IR 166"?me="iso-8859-11":oe==="ISO 2022 IR 87"?me="iso-2022-jp":oe==="ISO 2022 IR 149"||oe==="ISO 2022 IR 58"||(oe==="ISO_IR 192"?me="utf-8":oe==="GB18030"?me="gb18030":oe==="GB2312"?me="gb2312":oe==="GBK"&&(me="chinese")),me}(ee))}if(ie(this,Bt,gI).call(this,l(this,Si),L,z,Q),g=l(this,Si)[O5],g!==void 0&&g.undefinedLength){let ee=1;l(this,Si)[A5]!==void 0&&(ee=Number(l(this,Si)[A5].value[0]));const oe=g.value;if(oe.length>1&&oe.length>ee){const me=oe.length/ee,De=[];let Oe=0;for(let ke=0;ke<ee;++ke){Oe=ke*me;let We=0;for(let Ue=0;Ue<me;++Ue)We+=oe[Oe+Ue].length;const Ee=new oe[0].constructor(We);let Ne=0;for(let Ue=0;Ue<me;++Ue)Ee.set(oe[Oe+Ue],Ne),Ne+=oe[Oe+Ue].length;De[ke]=Ee}g.value=De}}}}Si=new WeakMap,Uu=new WeakMap,Yh=new WeakMap,$h=new WeakMap,Bt=new WeakSet,qv=function(t){return l(this,Yh).decode(t)},dI=function(t){return l(this,$h).decode(t)},hI=function(t,a){const s=t.readHex(a);a+=Uint16Array.BYTES_PER_ELEMENT;const g=t.readHex(a);return a+=Uint16Array.BYTES_PER_ELEMENT,{tag:new xt(s,g),endOffset:a}},U2=function(t,a,s){const g={};let C=ie(this,Bt,Ho).call(this,t,a,s);if(a=C.endOffset,um(C.tag))return{data:g,endOffset:C.endOffset,isSeqDelim:!0};if(g[C.tag.getKey()]={tag:C.tag,vr:"NONE",vl:C.vl,undefinedLength:C.undefinedLength},C.undefinedLength){let L=!1;for(;!L;)C=ie(this,Bt,Ho).call(this,t,a,s),a=C.endOffset,L=ll(C.tag),L||(g[C.tag.getKey()]=C)}else{const L=a;for(a-=C.vl;a<L;)C=ie(this,Bt,Ho).call(this,t,a,s),a=C.endOffset,g[C.tag.getKey()]=C}return{data:g,endOffset:a,isSeqDelim:!1}},fI=function(t,a,s){const g=[];let C=ie(this,Bt,Ho).call(this,t,a,s);const L=C.vl;a=C.endOffset;let k=!1;for(;!k;)C=ie(this,Bt,Ho).call(this,t,a,s),a=C.endOffset,k=um(C.tag),k||(C.vr="OB",g.push(C));return{data:g,endOffset:a,offsetTableVl:L}},Ho=function(t,a,s){const g=ie(this,Bt,hI).call(this,t,a),C=g.tag;a=g.endOffset;let L=null,k=!1;C.isWithVR()?s?(L=C.getVrFromDictionary(),L===void 0&&(L="UN"),k=!0):(L=ie(this,Bt,qv).call(this,t.readUint8Array(a,2)),a+=2*Uint8Array.BYTES_PER_ELEMENT,k=he(L),k&&(a+=2*Uint8Array.BYTES_PER_ELEMENT)):(L="NONE",k=!0),function(De){return Object.keys(Se).concat(["NONE","ox","xx","xs"]).includes(De)}(L)||(p.warn("Unknown VR: "+L+" (for tag "+C.getKey()+"), treating as 'UN'"),L="UN");let V=0;k?(V=t.readUint32(a),a+=Uint32Array.BYTES_PER_ELEMENT):(V=t.readUint16(a),a+=Uint16Array.BYTES_PER_ELEMENT);let z=!1;V===4294967295&&(z=!0,V=0),C.isPrivate()&&L==="UN"&&V===0&&(L="SQ");let Q,ee=a,oe=ee+V;if(ul(C)&&z){const De=ie(this,Bt,fI).call(this,t,a,s);a=De.endOffset,ee+=De.offsetTableVl,Q=De.data,oe=a,V=a-ee}else if(L==="SQ"){let De;if(Q=[],z){let Oe=!1;for(;!Oe;)De=ie(this,Bt,U2).call(this,t,a,s),Oe=De.isSeqDelim,a=De.endOffset,Oe||Q.push(De.data);oe=a,V=a-ee}else if(V!==0){const Oe=a+V;for(;a<Oe;)De=ie(this,Bt,U2).call(this,t,a,s),Q.push(De.data),a=De.endOffset;oe=a,V=a-ee}}const me=new vi(L);return me.tag=C,me.vl=V,me.startOffset=ee,me.endOffset=oe,z&&(me.undefinedLength=z),Q&&(me.items=Q),me},Hs=function(t,a,s,g){const C=t.tag,L=t.vl,k=t.vr,V=t.startOffset;let z=null;const Q=Se[k];if(ul(C))if(t.undefinedLength){z=[];for(let ee=0;ee<t.items.length;++ee)z.push(ie(this,Bt,Hs).call(this,t.items[ee],a,s,g));delete t.items}else if(g>8&&k==="OB"&&(p.warn("Reading DICOM pixel data with bitsAllocated>8 and OB VR, treating as OW"),t.vr="OW"),z=[],g===1)z.push(a.readBinaryArray(V,L));else if(g===8)s===0?z.push(a.readUint8Array(V,L)):z.push(a.readInt8Array(V,L));else{if(g!==16)throw new Error("Unsupported bits allocated: "+g);s===0?z.push(a.readUint16Array(V,L)):z.push(a.readInt16Array(V,L))}else if(Q!==void 0)if(Q==="Uint8")z=a.readUint8Array(V,L);else if(Q==="Uint16")z=a.readUint16Array(V,L),k[0]!=="O"&&(z=Array.from(z));else if(Q==="Uint32")z=a.readUint32Array(V,L),k[0]!=="O"&&(z=Array.from(z));else if(Q==="Uint64")z=a.readUint64Array(V,L);else if(Q==="Int16")z=Array.from(a.readInt16Array(V,L));else if(Q==="Int32")z=Array.from(a.readInt32Array(V,L));else if(Q==="Int64")z=a.readInt64Array(V,L);else if(Q==="Float32")z=Array.from(a.readFloat32Array(V,L));else if(Q==="Float64")z=Array.from(a.readFloat64Array(V,L));else{if(Q!=="string")throw new Error("Unknown VR type: "+Q);{const ee=a.readUint8Array(V,L);z=we(k)?ie(this,Bt,dI).call(this,ee):ie(this,Bt,qv).call(this,ee),z=function(oe){let me=oe;const De=oe.length-1;return oe[De]===C9&&(me=oe.substring(0,De)),me=me.trim(),me}(z).split("\\")}}else if(k==="xx")z=Array.from(a.readUint16Array(V,L));else if(k==="ox")z=g===8?s===0?Array.from(a.readUint8Array(V,L)):Array.from(a.readInt8Array(V,L)):s===0?Array.from(a.readUint16Array(V,L)):Array.from(a.readInt16Array(V,L));else if(k==="xs")z=s===0?Array.from(a.readUint16Array(V,L)):Array.from(a.readInt16Array(V,L));else if(k==="AT"){const ee=a.readUint16Array(V,L);z=[];for(let oe=0,me=ee.length;oe<me;oe+=2){const De=ee[oe].toString(16),Oe=ee[oe+1].toString(16);let ke="(";ke+="0000".substring(0,4-De.length)+De.toUpperCase(),ke+=",",ke+="0000".substring(0,4-Oe.length)+Oe.toUpperCase(),ke+=")",z.push(ke)}}else if(k==="SQ"){z=[];for(let ee=0;ee<t.items.length;++ee){const oe=t.items[ee],me={},De=Object.keys(oe);let Oe=g,ke=s;for(let We=0;We<De.length;++We){let Ee=oe[_5];Ee!==void 0&&Ee.value!==void 0&&(Oe=Ee.value[0]),Ee=oe[L5],Ee!==void 0&&Ee.value!==void 0&&(ke=Ee.value[0]);const Ne=oe[De[We]];Ne.value=ie(this,Bt,Hs).call(this,Ne,a,ke,Oe),delete Ne.tag,delete Ne.vl,delete Ne.startOffset,delete Ne.endOffset,me[De[We]]=Ne}z.push(me)}delete t.items}else k==="NONE"||p.warn("Unknown VR: "+k+" (for tag "+t.tag.getKey()+")"),z=[];return z},gI=function(t,a,s,g){const C=Object.keys(t);for(let L=0;L<C.length;++L){const k=t[C[L]];k.value===void 0&&(k.value=ie(this,Bt,Hs).call(this,k,a,s,g)),delete k.tag,delete k.vl,delete k.startOffset,delete k.endOffset}};class Ni{constructor(){W(this,Pr,{});Te(this,"fireEvent",t=>{if(l(this,Pr)[t.type]===void 0)return;const a=l(this,Pr)[t.type].slice();for(let s=0;s<a.length;++s)a[s](t)})}add(t,a){l(this,Pr)[t]===void 0&&(l(this,Pr)[t]=[]),l(this,Pr)[t].push(a)}remove(t,a){if(l(this,Pr)[t]===void 0)return;let s=0;for(let g=0;g<l(this,Pr)[t].length;++g)l(this,Pr)[t][g]===a&&(++s,l(this,Pr)[t].splice(g,1));s===0&&p.debug("No callback found on remove listener for type "+t)}}Pr=new WeakMap;function Lu(f,t,a,s,g,C,L,k){let V=t;const z=C-g*s;let Q=0,ee=0;return{next:function(){if(Q<a){const oe={value:f(V),done:!1,index:V};return V+=s,++Q,++ee,ee===g&&(ee=0,V+=z),oe}return{done:!0,index:V}}}}function bp(f){const t=[];let a=f.next();for(;!a.done;)t.push(a.value),a=f.next();return t}function k5(f,t,a,s){const g=f.getGeometry().getSize();let C=2;s&&s!==void 0&&(C=s.getColAbsMax(2).index);const L=t.getValues(),k=new m(L.map(function(Ee,Ne){return Ne===C||Ne>2?Ee:0}));let V=g.indexToOffset(k);a===void 0&&(a=!1);let z=null;z=a?function(Ee){return f.getRescaledValueAtOffset(Ee)}:function(Ee){return f.getValueAtOffset(Ee)};const Q=g.get(0),ee=g.get(1),oe=g.get(2);let me=g.getDimSize(2);const De=f.getNumberOfComponents(),Oe=f.getPlanarConfiguration()===1,ke=function(Ee,Ne,Ue,Re,Ze,Je,tt,st){return De===1?Lu(Ee,Ne,Ue,Re,Ze,Je):De===3?function(pt,Ut,Kt,It,rn,ut,Qn,mn,Vn){const vt=[];return Vn?(vt.push(Lu(pt,Ut,Kt,It,rn,ut)),vt.push(Lu(pt,Ut+Kt*It,Kt,It,rn,ut)),vt.push(Lu(pt,Ut+2*Kt*It,Kt,It,rn,ut))):(It*=3,ut*=3,vt.push(Lu(pt,Ut,Kt,It,rn,ut)),vt.push(Lu(pt,Ut+1,Kt,It,rn,ut)),vt.push(Lu(pt,Ut+2,Kt,It,rn,ut))),{next:function(){const ft=vt[0].next(),Kn=vt[1].next(),Ti=vt[2].next();return ft.done?{done:!0,index:Ti.index}:{value:[ft.value,Kn.value,Ti.value],done:!1,index:[ft.index,Kn.index,Ti.index]}}}}(Ee,3*Ne,Ue,Re,Ze,Je,tt,st,Oe):void 0};let We=null;if(s&&s!==void 0){const Ee=s.getColAbsMax(0),Ne=s.getColAbsMax(2),Ue=!1,Re=!1;let Ze=null;if(Ne.index===2)Ze=Q*ee,We=Ee.index===0?ke(z,V,Ze,1,Q,Q,Ue,Re):ke(z,V,Ze,Q,ee,1,Ue,Re);else if(Ne.index===0)Ze=oe*ee,We=Ee.index===1?ke(z,V,Ze,Q,ee,me,Ue,Re):ke(z,V,Ze,me,oe,Q,Ue,Re);else{if(Ne.index!==1)throw new Error("Unknown direction: "+Ne.index);Ze=oe*Q,We=Ee.index===0?ke(z,V,Ze,1,Q,me,Ue,Re):ke(z,V,Ze,me,oe,1,Ue,Re)}}else if(f.getNumberOfComponents()===1)We=function(Ee,Ne,Ue,Re){Re===void 0&&(Re=1);let Ze=Ne;return{next:function(){if(Ze<Ue){const Je={value:Ee(Ze),done:!1,index:Ze};return Ze+=Re,Je}return{done:!0,index:Ue}}}}(z,V,V+me);else{if(f.getNumberOfComponents()!==3)throw new Error("Unsupported number of components: "+f.getNumberOfComponents());V*=3,me*=3,We=function(Ee,Ne,Ue,Re,Ze){Re===void 0&&(Re=1),Ze===void 0&&(Ze=!1);let Je=Ne,tt=1;Ze?tt=(Ue-Ne)/3:Re*=3;let st=Je+tt,pt=Je+2*tt;return{next:function(){if(Je<Ue){const Ut={value:[Ee(Je),Ee(st),Ee(pt)],done:!1,index:[Je,st,pt]};return Je+=Re,st+=Re,pt+=Re,Ut}return{done:!0,index:[Ue]}}}}(z,V,V+me,1,Oe)}return We}function R5(f,t){let a=0,s=0;return{next:function(){if(a<t){s+1<f.length&&a>=f[s+1].index&&++s;const g={value:f[s].colour,done:!1,index:a};return++a,g}return{done:!0,index:t}}}}class dm{constructor(t,a){W(this,kd);W(this,Rd);X(this,kd,t),X(this,Rd,a)}getSlope(){return l(this,kd)}getIntercept(){return l(this,Rd)}apply(t){return t*l(this,kd)+l(this,Rd)}equals(t){return t!=null&&this.getSlope()===t.getSlope()&&this.getIntercept()===t.getIntercept()}isID(){return this.getSlope()===1&&this.getIntercept()===0}}kd=new WeakMap,Rd=new WeakMap;class cl{constructor(t){W(this,Tl);if(!t||t===void 0)throw new Error("Cannot create size with no values.");if(t.length===0)throw new Error("Cannot create size with empty values.");if(!t.every(function(a){return!isNaN(a)&&a!==0}))throw new Error("Cannot create size with non number or zero values.");X(this,Tl,t)}get(t){return l(this,Tl)[t]}length(){return l(this,Tl).length}toString(){return"("+l(this,Tl).toString()+")"}getValues(){return l(this,Tl).slice()}moreThanOne(t){return this.length()>=t+1&&this.get(t)!==1}canScroll3D(t){let a=2;return t!==void 0&&(a=t.getThirdColMajorDirection()),this.moreThanOne(a)}canScroll(t){let a=this.canScroll3D(t);for(let s=3;s<this.length();++s)a=a||this.moreThanOne(s);return a}getDimSize(t,a){if(t>this.length())return null;if(a===void 0)a=0;else if(a<0||a>t)throw new Error("Invalid start value for getDimSize");let s=1;for(let g=a;g<t;++g)s*=this.get(g);return s}getTotalSize(t){return this.getDimSize(this.length(),t)}equals(t){if(!t)return!1;const a=this.length();if(a!==t.length())return!1;for(let s=0;s<a;++s)if(this.get(s)!==t.get(s))return!1;return!0}isInBounds(t,a){if(!t)return!1;const s=this.length();if(s!==t.length())return!1;if(a===void 0){a=[];for(let L=0;L<s;++L)a.push(L)}else for(let L=0;L<s;++L)if(a[L]>s-1)throw new Error("Wrong input dir value: "+a[L]);for(let L=0;L<a.length;++L)if(g=t.get(a[L]),C=this.get(a[L]),!(g>=0&&g<C))return!1;var g,C;return!0}indexToOffset(t,a){if(t.length()<this.length())throw new Error("Incompatible index and size length");if(a===void 0)a=0;else if(a<0||a>this.length()-1)throw new Error("Invalid start value for indexToOffset");let s=0;for(let g=a;g<this.length();++g)s+=t.get(g)*this.getDimSize(g,a);return s}offsetToIndex(t){const a=new Array(this.length());let s=t,g=0;for(let C=this.length()-1;C>0;--C)g=this.getDimSize(C),a[C]=Math.floor(s/g),s-=a[C]*g;return a[0]=s,new m(a)}get2D(){return{x:this.get(0),y:this.get(1)}}}Tl=new WeakMap;class D9{constructor(t,a,s,g){Te(this,"min");Te(this,"max");Te(this,"mean");Te(this,"stdDev");Te(this,"median");Te(this,"p25");Te(this,"p75");this.min=t,this.max=a,this.mean=s,this.stdDev=g}}function Cp(f,t){return function(a){return a!=null&&(a.includes("median")||a.includes("p25")||a.includes("p75"))}(t)?function(a){const s=wp(a);return a.sort(function(g,C){return g-C}),s.median=Dp(a,.5),s.p25=Dp(a,.25),s.p75=Dp(a,.75),s}(f):wp(f)}function wp(f){let t=f[0],a=t,s=0,g=0,C=0;const L=f.length;for(let Q=0;Q<L;++Q)C=f[Q],C<t?t=C:C>a&&(a=C),s+=C,g+=C*C;const k=s/L;let V=g/L-k*k;V<0&&(V=0);const z=Math.sqrt(V);return new D9(t,a,k,z)}function Dp(f,t){if(f.length===0)throw new Error("Empty array provided for percentile calculation.");if(t<0||t>1)throw new Error("Invalid ratio provided for percentile calculation: "+t);if(t===0)return f[0];if(t===1)return f[f.length-1];const a=(f.length-1)*t,s=Math.floor(a),g=f[s];return g+(f[s+1]-g)*(a-s)}function hm(){return Math.random().toString(36).substring(2,15)}class x9{constructor(t,a){Te(this,"min");Te(this,"max");this.min=t,this.max=a}}class dl{constructor(t){W(this,Pl);if(!t||t===void 0)throw new Error("Cannot create spacing with no values.");if(t.length===0)throw new Error("Cannot create spacing with empty values.");if(!t.every(function(a){return!isNaN(a)&&a!==0}))throw new Error("Cannot create spacing with non number or zero values.");X(this,Pl,t)}get(t){return l(this,Pl)[t]}length(){return l(this,Pl).length}toString(){return"("+l(this,Pl).toString()+")"}getValues(){return l(this,Pl).slice()}equals(t){if(!t)return!1;const a=this.length();if(a!==t.length())return!1;for(let s=0;s<a;++s)if(this.get(s)!==t.get(s))return!1;return!0}get2D(){return{x:this.get(0),y:this.get(1)}}}Pl=new WeakMap;class vd{constructor(t,a,s,g,C){W(this,Vm);W(this,Qa);W(this,za);W(this,ba);W(this,Ha,{});W(this,Ed);W(this,ds,H());W(this,Fd,!1);X(this,Qa,[t]),X(this,za,a),X(this,ba,s),C!==void 0&&(X(this,Ed,C),l(this,Ha)[C]=[t]),g!==void 0&&X(this,ds,g)}getInitialTime(){return l(this,Ed)}getCurrentTotalNumberOfSlices(){const t=Object.keys(l(this,Ha));if(t.length===0)return l(this,Qa).length;let a=0;for(let s=0;s<t.length;++s)a+=l(this,Ha)[t[s]].length;return a}hasSlicesAtTime(t){return l(this,Ha)[t]!==void 0}getCurrentNumberOfSlicesBeforeTime(t){const a=Object.keys(l(this,Ha));if(a.length===0)return;let s=0;for(let g=0;g<a.length;++g){const C=a[g];if(parseInt(C,10)===t)break;s+=l(this,Ha)[C].length}return s}getOrigin(){return l(this,Qa)[0]}getOrigins(){return l(this,Qa)}includesOrigin(t,a){for(let s=0;s<l(this,Qa).length;++s)if(l(this,Qa)[s].isSimilar(t,a))return!0;return!1}getSize(t){let a=l(this,za);if(t&&t!==void 0){let s=kh([l(this,za).get(0),l(this,za).get(1),l(this,za).get(2)],t);s=s.map(Math.abs),a=new cl(s.concat(l(this,za).getValues().slice(3)))}return a}getSpacing(t){l(this,Fd)&&(ie(this,Vm,mI).call(this),X(this,Fd,!1));let a=l(this,ba);if(t&&t!==void 0){let s=kh([l(this,ba).get(0),l(this,ba).get(1),l(this,ba).get(2)],t);s=s.map(Math.abs),a=new dl(s)}return a}getRealSpacing(){return this.getSpacing(l(this,ds).getInverse().asOneAndZeros())}getOrientation(){return l(this,ds)}getSliceIndex(t,a){let s=l(this,Qa);a!==void 0&&(s=l(this,Ha)[a]);const g=t.getClosest(s),C=s[g],L=t.minus(C);return new M(l(this,ds).get(0,2),l(this,ds).get(1,2),l(this,ds).get(2,2)).isCodirectional(L)?g+1:g}appendOrigin(t,a,s){const g=function(C){return C.equals(t)};if(s!==void 0){if(l(this,Ha)[s].find(g)!==void 0)throw new Error("Cannot append same time origin twice");l(this,Ha)[s].splice(a,0,t)}if(s===void 0||s===l(this,Ed)){if(l(this,Qa).find(g)!==void 0)throw new Error("Cannot append same origin twice");X(this,Fd,!0),l(this,Qa).splice(a,0,t);const C=l(this,za).getValues();C[2]+=1,X(this,za,new cl(C))}}appendFrame(t,a){l(this,Ha)[a]=[t];const s=l(this,za).getValues(),g=l(this,ba).getValues();s.length===4?s[3]+=1:(s.push(2),g.push(1)),X(this,za,new cl(s)),X(this,ba,new dl(g))}toString(){return"Origin: "+this.getOrigin()+", Size: "+this.getSize()+", Spacing: "+this.getSpacing()+", Orientation: "+this.getOrientation()}equals(t){return t!==null&&this.getOrigin().equals(t.getOrigin())&&this.getSize().equals(t.getSize())&&this.getSpacing().equals(t.getSpacing())}isInBounds(t){return this.isIndexInBounds(this.worldToIndex(t))}isIndexInBounds(t,a){return this.getSize().isInBounds(t,a)}indexToWorld(t){const a=this.getSpacing(),s=new ce(t.get(0)*a.get(0),t.get(1)*a.get(1),t.get(2)*a.get(2)),g=this.getOrientation().multiplyPoint3D(s),C=t.getValues(),L=this.getOrigin();return C[0]=L.getX()+g.getX(),C[1]=L.getY()+g.getY(),C[2]=L.getZ()+g.getZ(),new re(C)}pointToWorld(t){const a=this.getSpacing(),s=new ce(t.getX()*a.get(0),t.getY()*a.get(1),t.getZ()*a.get(2)),g=this.getOrientation().multiplyPoint3D(s),C=this.getOrigin();return new ce(C.getX()+g.getX(),C.getY()+g.getY(),C.getZ()+g.getZ())}worldToIndex(t){const a=this.getOrigin(),s=new ce(t.get(0)-a.getX(),t.get(1)-a.getY(),t.get(2)-a.getZ()),g=this.getOrientation().getInverse().multiplyPoint3D(s),C=t.getValues(),L=this.getSpacing();return C[0]=Math.round(g.getX()/L.get(0)),C[1]=Math.round(g.getY()/L.get(1)),C[2]=Math.round(g.getZ()/L.get(2)),new m(C)}worldToPoint(t){const a=this.getOrigin(),s=new ce(t.get(0)-a.getX(),t.get(1)-a.getY(),t.get(2)-a.getZ()),g=this.getOrientation().getInverse().multiplyPoint3D(s),C=t.getValues(),L=this.getSpacing();return C[0]=g.getX()/L.get(0),C[1]=g.getY()/L.get(1),C[2]=g.getZ()/L.get(2),new ce(C[0],C[1],C[2])}}Qa=new WeakMap,za=new WeakMap,ba=new WeakMap,Ha=new WeakMap,Ed=new WeakMap,ds=new WeakMap,Fd=new WeakMap,Vm=new WeakSet,mI=function(){const t=function(a){if(a.length<=1)return;const s=[];for(let L=0;L<a.length-1;++L){const k=a[L],V=a[L+1],z=k.getDistance(V);if(z===0)throw new Error("Zero slice spacing "+k.toString()+" "+V.toString());s.push(z)}const g=wp(s),C=le(g.mean,4);return g.stdDev>_&&p.warn("Varying slice spacing, value: "+C+" (mean: "+g.mean+", min: "+g.min+", max: "+g.max+", stdDev: "+g.stdDev+")"),C}(l(this,Qa));if(t!==void 0&&l(this,ba).get(2)!==t){p.trace("Using geometric spacing "+t+" instead of tag spacing "+l(this,ba).get(2));const a=l(this,ba).getValues();a[2]=t,X(this,ba,new dl(a))}};function kh(f,t){return t.getInverse().multiplyArray3D(f)}function E5(f,t){return t.multiplyArray3D(f)}function Rh(f){return("0"+f).slice(-2)}function xp(f){if(f===void 0||f.value.length!==1)return;const t=f.value[0];let a=4,s=6;return t.length===10&&(a=5,s=8),{year:parseInt(t.substring(0,4),10),monthIndex:t.length>=a+2?parseInt(t.substring(a,a+2),10)-1:0,day:t.length===s+2?parseInt(t.substring(s,s+2),10):0}}function fm(f){if(f===void 0||f.value.length!==1)return;const t=f.value[0],a=parseInt(t.substring(0,2),10),s=t.length>=4?parseInt(t.substring(2,4),10):0,g=t.length>=6?parseInt(t.substring(4,6),10):0,C=t.length>=8?t.substring(7,10):0;return{hours:a,minutes:s,seconds:g,milliseconds:C===0?0:parseInt(C,10)*Math.pow(10,3-C.length)}}function F5(f){return{year:f.getFullYear().toString(),monthIndex:Rh((f.getMonth()+1).toString()),day:Rh(f.getDate().toString())}}function M5(f){return{hours:Rh(f.getHours().toString()),minutes:Rh(f.getMinutes().toString()),seconds:Rh(f.getSeconds().toString())}}function V5(f){return f.year+f.monthIndex+f.day}function B5(f){return f.hours+f.minutes+f.seconds}function N5(){return new B([1,0,0,0,0,1,0,-1,0])}const bo={Axial:"axial",Coronal:"coronal",Sagittal:"sagittal"};function U5(f){let t;return f===bo.Axial?t=H():f===bo.Coronal?t=N5():f===bo.Sagittal&&(t=new B([0,0,-1,1,0,0,0,-1,0])),t}function q5(f){const t=new M(f.get(0,0),f.get(1,0),f.get(2,0)),a=new M(f.get(0,1),f.get(1,1),f.get(2,1)),s=new M(f.get(0,2),f.get(1,2),f.get(2,2));return Tp(t)+Tp(a)+Tp(s)}function Tp(f){let t=new M(Math.abs(f.getX()),Math.abs(f.getY()),Math.abs(f.getZ())),a="";const s=f.getX()<0?"R":"L",g=f.getY()<0?"A":"P",C=f.getZ()<0?"I":"S",L=1e-4;for(let k=0;k<3;k++)if(t.getX()>L&&t.getX()>t.getY()&&t.getX()>t.getZ())a+=s,t=new M(0,t.getY(),t.getZ());else if(t.getY()>L&&t.getY()>t.getX()&&t.getY()>t.getZ())a+=g,t=new M(t.getX(),0,t.getZ());else{if(!(t.getZ()>L&&t.getZ()>t.getX()&&t.getZ()>t.getY()))break;a+=C,t=new M(t.getX(),t.getY(),0)}return a}function G5(f){let t;const a=Q5(f);return a!==void 0&&(t=function(s){let g;return["LPS","LAI","RPI","RAS","ALS","ARI","PLI","PRS"].includes(s)?g=bo.Axial:["LSA","LIP","RSP","RIA","ILA","IRP","SLP","SRA"].includes(s)?g=bo.Coronal:["PSL","PIR","ASR","AIL","IAR","IPL","SAL","SPR"].includes(s)&&(g=bo.Sagittal),g}(q5(a.asOneAndZeros()))),t}function Q5(f){let t;if(f!==void 0&&f.length===6){const a=new M(f[0],f[1],f[2]),s=new M(f[3],f[4],f[5]),g=a.crossProduct(s);t=new B([a.getX(),s.getX(),g.getX(),a.getY(),s.getY(),g.getY(),a.getZ(),s.getZ(),g.getZ()])}return t}function z5(f,t){let a=H();return t!==void 0&&(a=f.asOneAndZeros().getInverse().multiply(t)),a.getAbs()}function Pp(f){const t=f["00280010"];if(t===void 0)throw new Error("Missing DICOM image number of rows");if(t.value.length===0)throw new Error("Empty DICOM image number of rows");const a=f["00280011"];if(a===void 0)throw new Error("Missing DICOM image number of columns");if(a.value.length===0)throw new Error("Empty DICOM image number of columns");return[a.value[0],t.value[0]]}function H5(f){if(f["00280030"]===void 0)return null;const t=f["00280030"],a=[parseFloat(t.value[1]),parseFloat(t.value[0])];return f["00180088"]!==void 0&&a.push(parseFloat(f["00180088"].value[0])),new dl(a)}function rs(f,t,a){let s="";if(f===void 0)s+=" "+t+" is undefined,";else if(f.value.length===0)s+=" "+t+" is empty,";else if(a!==void 0)for(let g=0;g<a.length;++g)f.value.includes(a[g])||(s+=" "+t+" does not contain "+a[g]+" (value: "+f.value+"),");return s}class W5{getTime(t){}}class Y5{constructor(){W(this,qu);W(this,Md)}getWarning(){return l(this,qu)}checkElements(t){let a;X(this,qu,void 0),Pp(t);const s=t["00080060"];if(s!==void 0&&(a=s.value[0],a==="PT")){const g=function(C){let L,k="";k+=rs(C["00280051"],"Corrected Image (00280051)",["ATTN","DECY"]),k+=rs(C["00541102"],"Decay Correction (00541102)",["START"]),k+=rs(C["00541001"],"Units (00541001)",["BQML"]);const V=C["00101030"],z=rs(V," PatientWeight (00101030)");if(z.length===0){const oe=parseFloat(V.value[0]);isNaN(oe)?k+=" PatientWeight is not a number":L=oe}else k+=z;const Q=function(oe){let me,De="";const Oe=xp(oe["00080021"]);let ke,We,Ee;const Ne=oe["00540016"];if(De+=rs(Ne,"RadiopharmaceuticalInformationSequence (00540016)"),Ne!==void 0){Ne.value.length!==1&&p.warn("Found more than 1 istopes in RadiopharmaceuticalInformation Sequence.");const st="RadionuclideTotalDose (00181074)",pt=Ne.value[0]["00181074"];if(me=rs(pt,st),me.length===0){const Qn=parseFloat(pt.value[0]);isNaN(Qn)?De+=" TotalDose is not a number":ke=Qn}else De+=me;const Ut="RadionuclideHalfLife (00181075)",Kt=Ne.value[0]["00181075"];if(me=rs(Kt,Ut),me.length===0){const Qn=parseFloat(Kt.value[0]);isNaN(Qn)?De+=" HalfLife is not a number":We=Qn}else De+=me;const It=Ne.value[0]["00181078"];let rn,ut;if(It===void 0)rn=Oe,ut=fm(Ne.value[0]["00181072"]);else{const Qn=function(mn){if(mn===void 0||mn.value.length!==1)return;const Vn=mn.value[0].split("&")[0],vt=new vi("DA");vt.value=[Vn.substring(0,8)];const ft=xp(vt),Kn=new vi("TM");return Kn.value=[Vn.substring(8)],{date:ft,time:Vn.length>=9?fm(Kn):void 0}}(It);rn=Qn.date,ut=Qn.time}ut===void 0&&(ut={hours:0,minutes:0,seconds:0,milliseconds:0}),Ee=new Date(rn.year,rn.monthIndex,rn.day,ut.hours,ut.minutes,ut.seconds,ut.milliseconds)}const Ue=fm(oe["00080031"]);let Re=new Date(Oe.year,Oe.monthIndex,Oe.day,Ue.hours,Ue.minutes,Ue.seconds,Ue.milliseconds);const Ze=oe["00080022"],Je=oe["00080032"];if(Ze!==void 0&&Je!==void 0){const st=xp(Ze),pt=fm(Je),Ut=new Date(st.year,st.monthIndex,st.day,pt.hours,pt.minutes,pt.seconds,pt.milliseconds);if(Re>Ut){const Kt="Series date/time is after Aquisition date/time (diff="+(Re.getTime()-Ut.getTime()).toString()+"ms) ";p.debug(Kt);let It=0;const rn="FrameReferenceTime (00541300)",ut=oe["00541300"];De+=rs(ut,rn),ut!==void 0&&(It=ut.value[0]);let Qn=0;const mn="ActualFrameDuration (0018,1242)",Vn=oe["00181242"];if(De+=rs(Vn,mn),Vn!==void 0&&(Qn=Vn.value[0]),It>0&&Qn>0){Qn/=1e3,It/=1e3;const vt=Math.log(2)/We,ft=vt*Qn,Kn=1/vt*Math.log(ft/(1-Math.exp(-ft)))-It;Re=new Date(st.year,st.monthIndex,st.day,pt.hours,pt.minutes,pt.seconds+Kn,pt.milliseconds)}}}let tt;if(Re!==void 0&&Ee!==void 0&&ke!==void 0&&We!==void 0){const st=(Re.getTime()-Ee.getTime())/1e3;tt=ke*Math.pow(2,-st/We)}return{value:tt,warning:De}}(C);k+=Q.warning;const ee={};return k.length!==0?ee.warning="Cannot calculate PET SUV:"+k:ee.value=1e3*L/Q.value,ee}(t);X(this,Md,g.value),X(this,qu,g.warning)}return l(this,qu)}create(t,a,s){const g=Pp(t),C=[g[0],g[1],1],L=t["00280008"];if(L!==void 0){const At=parseInt(L.value[0],10);At>1&&C.push(At)}const k=new cl(C),V=function(At){let Xe=1,ct=1;const wt=["00280030","00181164","00182010","00280034"];for(let ln=0;ln<wt.length;++ln){const Zn=At[wt[ln]];if(Zn&&Zn.value.length===2){Xe=parseFloat(Zn.value[0]),ct=parseFloat(Zn.value[1]);break}}return ct===0&&(p.warn("Zero column spacing."),ct=1),Xe===0&&(p.warn("Zero row spacing."),Xe=1),new dl([ct,Xe,1])}(t),z=t["00020010"].value[0],Q=pp(z),ee=vp(z),oe=Sp(z),me=t["00200032"];let De=new Array(0,0,0);me!==void 0&&(De=[parseFloat(me.value[0]),parseFloat(me.value[1]),parseFloat(me.value[2])]);const Oe=function(At){const Xe=At["00200037"];let ct;return Xe!==void 0&&(ct=Q5(Xe.value.map(wt=>parseFloat(wt)))),ct}(t),ke=new ce(De[0],De[1],De[2]),We=new W5().getTime(t),Ee=new vd(ke,k,V,Oe,We);let Ne;const Ue=t["00080018"];Ue!==void 0&&(Ne=Ue.value[0]);let Re=1;const Ze=t["00280002"];Ze!==void 0&&(Re=Ze.value[0]);const Je=k.getTotalSize()*Re;if(Je!==a.length){if(p.warn("Badly sized pixel buffer: "+a.length+" != "+Je),!(Je<a.length))throw new Error("Underestimated buffer size, can't fix it...");a=a.slice(0,k.getTotalSize())}const tt=new ku(Ee,a,[Ne]),st=t["00280004"];if(st!==void 0){let At=st.value[0].toUpperCase();(Q||ee||oe)&&At!=="MONOCHROME1"&&At!=="MONOCHROME2"&&(At="RGB"),At==="RGB"&&Re===1&&(At="PALETTE COLOR"),tt.setPhotometricInterpretation(At)}const pt=t["00280006"];pt!==void 0&&tt.setPlanarConfiguration(pt.value[0]);let Ut=1;const Kt=t["00281053"];if(Kt!==void 0){const At=parseFloat(Kt.value[0]);isNaN(At)||(Ut=At)}let It=0;const rn=t["00281052"];if(rn!==void 0){const At=parseFloat(rn.value[0]);isNaN(At)||(It=At)}const ut={numberOfFiles:s},Qn=t["00080060"];Qn!==void 0&&(ut.Modality=Qn.value[0]);let mn=!1,Vn=1;l(this,Md)!==void 0&&(mn=!0,Vn=l(this,Md),p.info("Applying PET SUV calibration: "+Vn),Ut*=Vn,It*=Vn);const vt=new dm(Ut,It);tt.setRescaleSlopeAndIntercept(vt);const ft=function(At){let Xe;const ct=t[At];return ct!==void 0&&(Xe=ct.value[0]),Xe};if(ut.TransferSyntaxUID=ft("00020010"),ut.MediaStorageSOPClassUID=ft("00020002"),ut.SOPClassUID=ft("00080016"),ut.Modality=ft("00080060"),ut.ImageType=ft("00080008"),ut.SamplesPerPixel=ft("00280002"),ut.PhotometricInterpretation=ft("00280004"),ut.PixelRepresentation=ft("00280103"),ut.BitsAllocated=ft("00280100"),ut.BitsStored=ft("00280101"),ut.HighBit=ft("00280102"),ut.StudyDate=ft("00080020"),ut.StudyTime=ft("00080030"),ut.StudyInstanceUID=ft("0020000D"),ut.StudyID=ft("00200010"),ut.SeriesInstanceUID=ft("0020000E"),ut.SeriesNumber=ft("00200011"),ut.ReferringPhysicianName=ft("00080090"),ut.PatientName=ft("00100010"),ut.PatientID=ft("00100020"),ut.PatientBirthDate=ft("00100030"),ut.PatientSex=ft("00100040"),ut.Manufacturer=ft("00080070"),ut.ManufacturerModelName=ft("00081090"),ut.DeviceSerialNumber=ft("00181000"),ut.SoftwareVersions=ft("00181020"),ut.ImageOrientationPatient=ft("00200037"),ut.FrameOfReferenceUID=ft("00200052"),ut.IsSigned=ut.PixelRepresentation===1,mn)ut.pixelUnit="SUV";else{const At=function(Xe){let ct;const wt=["00281054","00541001"];for(let ln=0;ln<wt.length;++ln){const Zn=Xe[wt[ln]];if(Zn!==void 0){ct=Zn.value[0];break}}if(ct===void 0){const ln=Xe["00080060"];ln!==void 0&&ln.value[0]==="CT"&&(ct="HU")}return ct}(t);At!==void 0&&(ut.pixelUnit=At)}const Kn={},Ti=t["00281050"],Jt=t["00281051"],zn=t["00281055"];if(Ti!==void 0&&Jt!==void 0){let At;for(let Xe=0;Xe<Ti.value.length;++Xe){const ct=parseFloat(Ti.value[Xe]);let wt=parseFloat(Jt.value[Xe]);ct&&wt&&wt!==0&&(At="",zn!==void 0&&(At=zn.value[Xe]),At===""&&(At="Default"+Xe),wt*=Vn,wt<1&&(wt=1),Kn[At]={wl:[new b(ct*Vn,wt)],name:At}),wt===0&&p.warn("Zero window width found in DICOM.")}}if(ut.windowPresets=Kn,tt.getPhotometricInterpretation()==="PALETTE COLOR"){const At=t["00281201"],Xe=t["00281202"],ct=t["00281203"];let wt,ln,Zn;const Xi=t["00281101"];if(Xi!==void 0&&Xi.value.length===3){if(Xi.value[2]===16){let sr=!1,ho=Xi.value[0];ho===0&&(ho=65536);const p1=At.vl;if(p1!==2*ho&&(sr=!0,p.info("16bits lut but size is not double. desc: "+ho+" vl: "+p1)),parseInt(t["00280100"].value[0],10)===8&&(sr=!0,p.info("Scaling 16bits color lut since bits allocated is 8.")),sr){const X0=function(M_){return M_>>8};wt=At.value.map(X0),ln=Xe.value.map(X0),Zn=ct.value.map(X0)}}else if(Xi.value[2]===8){p.info("Scaling 16bits color lut since the lut descriptor is 8.");let sr=At.value.slice(0);wt=Array.from(new Uint8Array(sr.buffer)),sr=Xe.value.slice(0),ln=Array.from(new Uint8Array(sr.buffer)),sr=ct.value.slice(0),Zn=Array.from(new Uint8Array(sr.buffer))}}A.palette={red:wt,green:ln,blue:Zn}}const S1=t["00082144"];return S1!==void 0&&(ut.RecommendedDisplayFrameRate=parseInt(S1.value[0],10)),tt.setMeta(ut),tt}}qu=new WeakMap,Md=new WeakMap;class $5{constructor(t,a){W(this,Wa,!0);W(this,ra);a!==void 0&&X(this,Wa,a),X(this,ra,new DataView(t))}writeUint8(t,a){return l(this,ra).setUint8(t,a),t+Uint8Array.BYTES_PER_ELEMENT}writeInt8(t,a){return l(this,ra).setInt8(t,a),t+Int8Array.BYTES_PER_ELEMENT}writeUint16(t,a){return l(this,ra).setUint16(t,a,l(this,Wa)),t+Uint16Array.BYTES_PER_ELEMENT}writeInt16(t,a){return l(this,ra).setInt16(t,a,l(this,Wa)),t+Int16Array.BYTES_PER_ELEMENT}writeUint32(t,a){return l(this,ra).setUint32(t,a,l(this,Wa)),t+Uint32Array.BYTES_PER_ELEMENT}writeUint64(t,a){return l(this,ra).setBigUint64(t,a,l(this,Wa)),t+BigUint64Array.BYTES_PER_ELEMENT}writeInt32(t,a){return l(this,ra).setInt32(t,a,l(this,Wa)),t+Int32Array.BYTES_PER_ELEMENT}writeInt64(t,a){return l(this,ra).setBigInt64(t,a,l(this,Wa)),t+BigInt64Array.BYTES_PER_ELEMENT}writeFloat32(t,a){return l(this,ra).setFloat32(t,a,l(this,Wa)),t+Float32Array.BYTES_PER_ELEMENT}writeFloat64(t,a){return l(this,ra).setFloat64(t,a,l(this,Wa)),t+Float64Array.BYTES_PER_ELEMENT}writeHex(t,a){const s=parseInt(a,16);return l(this,ra).setUint16(t,s,l(this,Wa)),t+Uint16Array.BYTES_PER_ELEMENT}writeBinaryArray(t,a){if(a.length%8!=0)throw new Error("Cannot write boolean array as binary.");let s=null,g=null;for(let C=0,L=a.length;C<L;C+=8){s=0;for(let k=0;k<8;++k)g=a[C+k]===0?0:1,s+=g<<k;t=this.writeUint8(t,s)}return t}writeUint8Array(t,a){for(let s=0,g=a.length;s<g;++s)t=this.writeUint8(t,a[s]);return t}writeInt8Array(t,a){for(let s=0,g=a.length;s<g;++s)t=this.writeInt8(t,a[s]);return t}writeUint16Array(t,a){for(let s=0,g=a.length;s<g;++s)t=this.writeUint16(t,a[s]);return t}writeInt16Array(t,a){for(let s=0,g=a.length;s<g;++s)t=this.writeInt16(t,a[s]);return t}writeUint32Array(t,a){for(let s=0,g=a.length;s<g;++s)t=this.writeUint32(t,a[s]);return t}writeUint64Array(t,a){for(let s=0,g=a.length;s<g;++s)t=this.writeUint64(t,a[s]);return t}writeInt32Array(t,a){for(let s=0,g=a.length;s<g;++s)t=this.writeInt32(t,a[s]);return t}writeInt64Array(t,a){for(let s=0,g=a.length;s<g;++s)t=this.writeInt64(t,a[s]);return t}writeFloat32Array(t,a){for(let s=0,g=a.length;s<g;++s)t=this.writeFloat32(t,a[s]);return t}writeFloat64Array(t,a){for(let s=0,g=a.length;s<g;++s)t=this.writeFloat64(t,a[s]);return t}}Wa=new WeakMap,ra=new WeakMap;let j5=0;class T9{constructor(t){Te(this,"action");Te(this,"value");this.action=t}}const P9={copy:function(f){return f},remove:function(){return null},clear:function(f){return f.value=[],f},replace:function(f,t){return f.value=[t],f}};function X5(f){const t="1.2.826.0.1.3680043.9.7278.1.";let a="";if(f==="ImplementationClassUID")a=t+"0.34.2";else{const s="."+new Date().toISOString().replace(/\D/g,"").substring(0,14);j5+=1;const g="."+j5;a=t;const C=29+g.length+s.length,L=Math.min(f.length,64-C);if(L>1){let k="";for(let V=0;V<L;++V)k+=f.charCodeAt(V);a+=k.substring(0,L)}a+=s+g}return a}function Ip(f){return f%2==0}function Ap(f){const t=Se[f];return t!==void 0&&t==="string"}function _p(f,t){const a=new Uint8Array(f.length+1);return a.set(f),a.set(t,f.length),a}class I9{encode(t){const a=new Uint8Array(t.length);for(let s=0,g=t.length;s<g;++s)a[s]=t.charCodeAt(s);return a}}const Lp="00080005",Op="00280100";class A9{constructor(){W(this,Qt);W(this,jh,!1);W(this,Xh,!0);W(this,Bm,{default:{action:"copy",value:null}});W(this,Ca,l(this,Bm));W(this,Vd,[]);W(this,Kh,new I9);W(this,Zh,l(this,Kh))}setUseUnVrForPrivateSq(t){X(this,jh,t)}setFixUnknownVR(t){X(this,Xh,t)}setRules(t,a){if(X(this,Ca,t),X(this,Vd,[]),a){const s=Object.keys(t);for(const g of s){const C=t[g];if(C.action==="replace"&&C.value!==void 0&&C.value!==null){let L,k=!1;if(g.length===8&&(k=yn(g).getNameFromDictionary()!==void 0),k)L=g;else{const V=md(g);V!==void 0&&(L=V.getKey())}L!==void 0&&l(this,Vd).push(L)}}}}useSpecialTextEncoder(){X(this,Zh,new TextEncoder)}getElementToWrite(t){const a=t.tag.getGroupName(),s=t.tag.getNameFromDictionary();let g;return g=l(this,Ca)[t.tag.getKey()]!==void 0?l(this,Ca)[t.tag.getKey()]:s!==void 0&&l(this,Ca)[s]!==void 0?l(this,Ca)[s]:l(this,Ca)[a]!==void 0?l(this,Ca)[a]:l(this,Ca).default,P9[g.action](t,g.value)}getBuffer(t){const a=t["00020010"].value[0],s=x5(a),g=T5(a);if(t[Lp]!==void 0){const vt=t[Lp].value[0];vt!==void 0&&vt!=="ISO-IR 6"&&(p.debug("Change charset to UTF, was: "+vt),this.useSpecialTextEncoder(),t[Lp].value=["ISO_IR 192"])}let C;t[Op]!==void 0&&(C=t[Op].value[0]);let L=132,k=0;const V=[],z=[];let Q,ee,oe=0;const me=new xt("0002","0000"),De=new xt("0002","0001"),Oe=new xt("0002","0012"),ke=new xt("0002","0013"),We=l(this,Vd).slice(),Ee=Object.keys(t);for(let vt=0,ft=Ee.length;vt<ft;++vt){const Kn=t[Ee[vt]];if(Kn.tag=yn(Ee[vt]),Q=this.getElementToWrite(Kn),!(Q===null||me.equals(Q.tag)||De.equals(Q.tag)||Oe.equals(Q.tag)||ke.equals(Q.tag))){k=0;const Ti=We.indexOf(Q.tag.getKey());Ti!==-1&&We.splice(Ti,1),l(this,Xh)&&_9(Q,!g),ie(this,Qt,gu).call(this,Q,Q.value,s,C),ee=Q.tag.getGroupName(),k+=Xr(Q.vr,ee!=="Meta Element"&&s),k+=Q.vl,ee==="Meta Element"?(V.push(Q),oe+=k):z.push(Q),L+=k}}for(const vt of We){const ft=yn(vt),Kn=new vi(ft.getVrFromDictionary());let Ti;if(Kn.tag=ft,l(this,Ca)[vt]!==void 0)Ti=l(this,Ca)[vt].value;else{const zn=ft.getNameFromDictionary();Ti=l(this,Ca)[zn].value}let Jt=Xr(Kn.vr,s);Jt+=ie(this,Qt,gu).call(this,Kn,[Ti],s),z.push(Kn),L+=Jt}const Ne=gm("FileMetaInformationVersion");let Ue=Xr(Ne.vr,!1);Ue+=ie(this,Qt,gu).call(this,Ne,[0,1],!1),V.push(Ne),oe+=Ue,L+=Ue;const Re=gm("ImplementationClassUID");let Ze=Xr(Re.vr,!1);const Je=X5("ImplementationClassUID").replace("-beta",".99");Ze+=ie(this,Qt,gu).call(this,Re,[Je],!1),V.push(Re),oe+=Ze,L+=Ze;const tt=gm("ImplementationVersionName");let st=Xr(tt.vr,!1);const pt="DWV_"+"0.34.2".replace("-beta",".99");st+=ie(this,Qt,gu).call(this,tt,[pt],!1),V.push(tt),oe+=st,L+=st;const Ut=function(vt,ft){return Pt(vt.tag,ft.tag)};V.sort(Ut),z.sort(Ut);const Kt=gm("FileMetaInformationGroupLength");let It=Xr(Kt.vr,!1);It+=ie(this,Qt,gu).call(this,Kt,new Uint32Array([oe]),!1),L+=It;const rn=new ArrayBuffer(L),ut=new $5(rn),Qn=new $5(rn,!g);let mn=128;mn=ut.writeUint8Array(mn,ie(this,Qt,hg).call(this,"DICM")),mn=ie(this,Qt,fu).call(this,ut,Kt,mn,!1);for(let vt=0,ft=V.length;vt<ft;++vt)mn=ie(this,Qt,fu).call(this,ut,V[vt],mn,!1);const Vn=132+It+oe;mn!==Vn&&p.warn("Bad size calculation... meta offset: "+mn+", calculated size:"+Vn+" (diff:"+(mn-Vn)+")");for(let vt=0,ft=z.length;vt<ft;++vt)mn=ie(this,Qt,fu).call(this,Qn,z[vt],mn,s);return mn!==L&&p.warn("Bad size calculation... final offset: "+mn+", calculated size:"+L+" (diff:"+(mn-L)+")"),rn}}jh=new WeakMap,Xh=new WeakMap,Bm=new WeakMap,Ca=new WeakMap,Vd=new WeakMap,Kh=new WeakMap,Zh=new WeakMap,Qt=new WeakSet,hg=function(t){return l(this,Kh).encode(t)},q2=function(t){return l(this,Zh).encode(t)},G2=function(t,a,s,g){let C;for(let L=0;L<s.length;++L){if(C=s[L],C.length===0)continue;let k=!1;const V=C.find(Q=>on(Q.tag));V!==void 0&&V.undefinedLength!==void 0&&(k=V.undefinedLength);const z=new vi("NONE");z.vl=k?4294967295:V.vl,z.tag=dn(),z.value=[],a=ie(this,Qt,fu).call(this,t,z,a,g);for(const Q of C)on(Q.tag)||ll(Q.tag)||(a=ie(this,Qt,fu).call(this,t,Q,a,g));if(k){const Q=new vi("NONE");Q.vl=0,Q.tag=new xt("FFFE","E00D"),Q.value=[],a=ie(this,Qt,fu).call(this,t,Q,a,g)}}return a},Q2=function(t,a,s,g,C){const L=s;if(a.vr!=="NONE")if(g instanceof Uint8Array)s=g.length===8*a.vl?t.writeBinaryArray(s,g):t.writeUint8Array(s,g);else if(g instanceof Int8Array)s=t.writeInt8Array(s,g);else if(g instanceof Uint16Array)s=t.writeUint16Array(s,g);else if(g instanceof Int16Array)s=t.writeInt16Array(s,g);else if(g instanceof Uint32Array)s=t.writeUint32Array(s,g);else if(g instanceof Int32Array)s=t.writeInt32Array(s,g);else if(g instanceof BigUint64Array)s=t.writeUint64Array(s,g);else if(g instanceof BigInt64Array)s=t.writeInt64Array(s,g);else{const k=Se[a.vr];if(k!==void 0)if(k==="Uint8")s=t.writeUint8Array(s,g);else if(k==="Uint16")s=t.writeUint16Array(s,g);else if(k==="Int16")s=t.writeInt16Array(s,g);else if(k==="Uint32")s=t.writeUint32Array(s,g);else if(k==="Int32")s=t.writeInt32Array(s,g);else if(k==="Uint64")s=t.writeUint64Array(s,g);else if(k==="Int64")s=t.writeInt64Array(s,g);else if(k==="Float32")s=t.writeFloat32Array(s,g);else if(k==="Float64")s=t.writeFloat64Array(s,g);else{if(k!=="string")throw new Error("Unknown VR type: "+k);s=t.writeUint8Array(s,g)}else if(a.vr==="SQ")s=ie(this,Qt,G2).call(this,t,s,g,C);else if(a.vr==="AT")for(let V=0;V<g.length;++V){const z=g[V]+"",Q=z.substring(1,5),ee=z.substring(6,10),oe=[parseInt(Q,16),parseInt(ee,16)];s=t.writeUint16Array(s,oe)}else a.vr==="xs"?s=g instanceof Int16Array?t.writeInt16Array(s,g):t.writeUint16Array(s,g):p.warn("Unknown VR: "+a.vr)}if(a.vr!=="SQ"&&a.vr!=="NONE"){const k=s-L;if(k!==a.vl){let V="Offset difference and VL are not equal: "+k+" != "+a.vl;V+=" (",a.tag!==void 0&&(V+=a.tag+", "),V+="vr:"+a.vr+")",p.warn(V)}}return s},vI=function(t,a,s,g,C){let L=!1;if(a.undefinedLength!==void 0&&(L=a.undefinedLength),L){const k={};k.FFFEE000={tag:dn(),vr:"NONE",vl:0,value:[]};for(let V=0;V<g.length;++V)k[V]={tag:dn(),vr:a.vr,vl:g[V].length,value:g[V]};s=ie(this,Qt,G2).call(this,t,s,[k],C)}else{let k=g[0];g.length>1&&(k=function(V){const z=V.length,Q=V[0].length;if(Q===void 0)return V;const ee=z*Q,oe=new V[0].constructor(ee);for(let me=0;me<z;me++){const De=me*Q;oe.set(V[me],De)}return oe}(g)),s=ie(this,Qt,Q2).call(this,t,a,s,k,C)}return s},fu=function(t,a,s,g){const C=a.tag.isWithVR(),L=!(!g&&C)||he(a.vr);s=t.writeHex(s,a.tag.getGroup()),s=t.writeHex(s,a.tag.getElement());let k=a.vr;l(this,jh)&&a.tag.isPrivate()&&k==="SQ"&&(p.warn("Write element using VR=UN for private sequence."),k="UN"),C&&!g&&(s=t.writeUint8Array(s,ie(this,Qt,hg).call(this,k)),L&&(s+=2));let V=!1;(a.vr==="SQ"||ul(a.tag))&&a.undefinedLength!==void 0&&(V=a.undefinedLength);let z=!1;on(a.tag)&&a.undefinedLength!==void 0&&(z=a.undefinedLength);let Q=a.vl;(V||z)&&(Q=4294967295),s=L?t.writeUint32(s,Q):t.writeUint16(s,Q);let ee=a.value;if(ee===void 0&&(ee=[]),s=ul(a.tag)?ie(this,Qt,vI).call(this,t,a,s,ee,g):ie(this,Qt,Q2).call(this,t,a,s,ee,g),V){const oe=new vi("NONE");oe.vl=0,oe.tag=new xt("FFFE","E0DD"),oe.value=[],s=ie(this,Qt,fu).call(this,t,oe,s,g)}return s},gu=function(t,a,s,g){let C=0;if(t.vr==="SQ"){if(a!==null&&a!==0){const k=[];let V=!1;t.undefinedLength!==void 0&&(V=t.undefinedLength,delete t.undefinedLength);for(let z=0;z<a.length;++z){const Q=a[z],ee=[];let oe=0;if(Q===null||Q===0)continue;let me=g;const De=Q[Op];De!==void 0&&De.value!==void 0&&(me=De.value[0]);const Oe=Object.keys(Q);for(let Ee=0,Ne=Oe.length;Ee<Ne;++Ee){const Ue=Oe[Ee],Re=Q[Ue];Re.tag=yn(Ue),on(Re.tag)||(oe+=ie(this,Qt,gu).call(this,Re,Re.value,s,me),ee.push(Re),oe+=Xr(Re.vr,s))}const ke={tag:dn(),vr:"NONE",vl:oe,value:[]};V&&(ke.undefinedLength=V),ee.push(ke),oe+=Xr(ke.vr,s),V&&(oe+=Xr("NONE",s));const We=function(Ee,Ne){return Pt(Ee.tag,Ne.tag)};ee.sort(We),C+=oe,k.push(ee)}V&&(C+=Xr("NONE",s)),t.value=k,t.vl=C,V&&(t.undefinedLength=V)}}else{if(Ap(L=t.vr)||L==="OB"){const k=function(V){let z="";return Ap(V)&&(z=V==="UI"?"\0":" "),z}(t.vr);if(Ap(t.vr)){let V;we(t.vr)?(a=ie(this,Qt,q2).call(this,a.join("\\")),V=ie(this,Qt,q2).call(this,k)):(a=ie(this,Qt,hg).call(this,a.join("\\")),V=ie(this,Qt,hg).call(this,k)),Ip(a.length)||(a=_p(a,V))}else t.vr==="OB"&&(a=function(V){if(V==null||V.length===void 0)throw new Error("Cannot pad undefined or null OB value.");if(V.length!==0&&V[0].length!==void 0){let z=0;for(let Q=0;Q<V.length;++Q)z+=V[Q].length;Ip(z)||(V[V.length-1]=_p(V[V.length-1],[0]))}else Ip(V.length)||(V=_p(V,[0]));return V}(a))}if(C=0,t.vr==="AT")C=4*a.length;else if(t.vr==="xs")C=a.length*Uint16Array.BYTES_PER_ELEMENT;else if(function(k){const V=Se[k];return V!==void 0&&V!=="string"}(t.vr)||t.vr==="ox"){if(ul(t.tag)&&Array.isArray(a)){C=0;for(let V=0;V<a.length;++V)C+=a[V].length}else C=a.length;const k=Se[t.vr];if(ul(t.tag)||t.vr==="ox")if(t.undefinedLength){const V=Xr("NONE",s);C+=V,C+=V*a.length,C+=V}else g!==void 0&&(g===1?C/=8:g===16&&(C*=Uint16Array.BYTES_PER_ELEMENT));else{if(k===void 0)throw new Error("Unsupported element: "+t.vr);{const V=function(z){let Q;return z==="Uint8"?Q=Uint8Array.BYTES_PER_ELEMENT:z==="Uint16"?Q=Uint16Array.BYTES_PER_ELEMENT:z==="Int16"?Q=Int16Array.BYTES_PER_ELEMENT:z==="Uint32"?Q=Uint32Array.BYTES_PER_ELEMENT:z==="Int32"?Q=Int32Array.BYTES_PER_ELEMENT:z==="Float32"?Q=Float32Array.BYTES_PER_ELEMENT:z==="Float64"?Q=Float64Array.BYTES_PER_ELEMENT:z==="Uint64"?Q=BigUint64Array.BYTES_PER_ELEMENT:z==="Int64"&&(Q=BigInt64Array.BYTES_PER_ELEMENT),Q}(k);if(V===void 0)throw new Error("Unknown bytes per element for VR type: "+k);C*=V}}}else C=a.length;t.value=a,t.vl=C}var L;return C};function _9(f,t){if(f.vr==="UN"){const a=f.tag.getVrFromDictionary();if(a!==void 0&&f.vr!==a){f.vr=a;const s=Se[f.vr];if(s!==void 0&&s!=="Uint8"&&s!=="string"){const g=function(C,L,k){let V;if(C.buffer===void 0)return V;const z=new cm(C.buffer,k),Q=C.byteOffset,ee=C.length,oe=Se[L];return oe==="Uint16"?V=z.readUint16Array(Q,ee):oe==="Uint32"?V=z.readUint32Array(Q,ee):oe==="Uint64"?V=z.readUint64Array(Q,ee):oe==="Int16"?V=Array.from(z.readInt16Array(Q,ee)):oe==="Int32"?V=Array.from(z.readInt32Array(Q,ee)):oe==="Int64"?V=z.readInt64Array(Q,ee):oe==="Float32"?V=Array.from(z.readFloat32Array(Q,ee)):oe==="Float64"&&(V=Array.from(z.readFloat64Array(Q,ee))),V}(f.value,f.vr,t);g!==void 0&&(f.value=g)}p.info("Element "+f.tag.getGroup()+" "+f.tag.getElement()+" VR changed from UN to "+f.vr)}}}function gm(f){const t=md(f),a=new vi(t.getVrFromDictionary());return a.tag=t,a}function mm(f){const t=Object.keys(f),a={};for(let s=0,g=t.length;s<g;++s){const C=md(t[s]);if(C===void 0)continue;const L=C.getVrFromDictionary();let k,V=!1;const z=f[t[s]];if(L==="SQ"){const ee=[];if(z.undefinedLength!==void 0&&(V=z.undefinedLength),z.value!==void 0&&z.value!==null)for(let oe=0;oe<z.value.length;++oe)ee.push(mm(z.value[oe]));else p.trace("Undefined or null simpleTag SQ value.");k=ee}else k=Array.isArray(z)?z:[z];const Q=new vi(L);Q.tag=C,Q.value=k,V&&(Q.undefinedLength=V),a[C.getKey()]=Q}return a}const os={CodeValue:"00080100",CodingSchemeDesignator:"00080102",CodeMeaning:"00080104",LongCodeValue:"00080119",URNCodeValue:"00080120"};class kp{constructor(t){Te(this,"meaning");Te(this,"value");Te(this,"longValue");Te(this,"urnValue");Te(this,"schemeDesignator");this.meaning=t}toString(){return"("+this.value+", "+this.schemeDesignator+", '"+this.meaning+"')"}}function Ou(f,t){return Object.keys(f).length===Object.keys(t).length&&Object.keys(f).every(a=>Object.prototype.hasOwnProperty.call(t,a)&&f[a]===t[a])}function Sd(f){const t=new kp(f[os.CodeMeaning].value[0]);if(f[os.CodeValue]!==void 0)t.value=f[os.CodeValue].value[0];else if(f[os.LongCodeValue]!==void 0)t.longValue=f[os.LongCodeValue].value[0];else{if(f[os.URNCodeValue]===void 0)throw new Error("Invalid code with no value, no long value and no urn value.");t.urnValue=f[os.URNCodeValue].value[0]}if(t.value!==void 0||t.longValue!==void 0){if(f[os.CodingSchemeDesignator]===void 0)throw new Error("No coding sheme designator when code value or long value is present");t.schemeDesignator=f[os.CodingSchemeDesignator].value[0]}return t}function hl(f){const t={};return f.value!==void 0?t.CodeValue=f.value:f.longValue!==void 0?t.LongCodeValue=f.longValue:f.urnValue!==void 0&&(t.URNCodeValue=f.urnValue),f.schemeDesignator!==void 0&&(t.CodingSchemeDesignator=f.schemeDesignator),t.CodeMeaning=f.meaning,t}const L9={111030:"Image Region",112039:"Tracking Identifier",112040:"Tracking Unique Identifier",113048:"Pixel by pixel Maximum",113049:"Pixel by pixel mean",113051:"Pixel by pixel Minimum",113061:"Standard Deviation",113076:"Segmentation",121055:"Path",121207:"Height",121322:"Source image for image processing operation",121324:"Source Image",122438:"Reference Points",125007:"Measurement Group",125309:"Short label",128773:"Reference Geometry"},O9={1483009:"Angle",42798e3:"Area",103355008:"Width",103339001:"Long axis",103340004:"Short axis",131190003:"Radius",261665006:"Unknown",410668003:"Length",718499004:"Color"},k9={1:"No units",mm:"Millimeter",deg:"Degree - plane angle",cm2:"Square centimeter","cm2/ml":"Square centimeter per milliliter","/cm":"Per centimeter","g/ml":"Gram per milliliter","g/ml{SUVbw}":"Standardized Uptake Value body weight","mg/ml":"Milligram per milliliter","umol/ml":"Micromole per milliliter","Bq/ml":"Becquerels per milliliter","mg/min/ml":"Milligrams per minute per milliliter","umol/min/ml":"Micromole per minute per milliliter","ml/min/g":"Milliliter per minute per gram","ml/g":"Milliliter per gram","ml/min/ml":"Milliliter per minute per milliliter","ml/ml":"Milliliter per milliliter","%":"Percentage","[hnsf'U]":"Hounsfield unit","10*23/ml":"Electron density","{counts}":"Counts","{counts}/s":"Counts per second","{propcounts}":"Proportional to counts","{propcounts}/s":"Proportional to counts per second"};function ya(f,t){let a,s;return t==="DCM"?a=L9[f]:t==="SCT"?a=O9[f]:t==="UCUM"&&(a=k9[f]),a!==void 0&&(s=new kp(a),s.schemeDesignator=t,s.value=f),s}function K5(){return ya("125007","DCM")}function Z5(){return ya("128773","DCM")}function J5(){return ya("121324","DCM")}function e4(){return ya("112039","DCM")}function t4(){return ya("125309","DCM")}function vm(){return ya("122438","DCM")}function n4(){return ya("718499004","SCT")}const Rp={angle:{key:"1483009",scheme:"SCT"},length:{key:"410668003",scheme:"SCT"},surface:{key:"42798000",scheme:"SCT"},height:{key:"121207",scheme:"DCM"},width:{key:"103355008",scheme:"SCT"},radius:{key:"131190003",scheme:"SCT"},a:{key:"103339001",scheme:"SCT"},b:{key:"103340004",scheme:"SCT"},min:{key:"113051",scheme:"DCM"},max:{key:"113048",scheme:"DCM"},mean:{key:"113049",scheme:"DCM"},stddev:{key:"113061",scheme:"DCM"}};function R9(f){let t;for(const a in Rp){const s=Rp[a];if(s.scheme===f.schemeDesignator&&s.key===f.value){t=a;break}}return t}const Ep={"unit.mm":"mm","unit.cm2":"cm2","unit.degree":"deg",HU:"[hnsf'U]",MGML:"mg/ml",ED:"10*23/ml",PCT:"%",CNTS:"{counts}",NONE:"1",CM2:"cm2",CM2ML:"cm2/ml",PCNT:"%",CPS:"{counts}/s",BQML:"Bq/ml",MGMINML:"mg/min/ml",UMOLMINML:"umol/min/ml",MLMING:"ml/min/g",MLG:"ml/g","1CM":"/cm",UMOLML:"umol/ml",PROPCNTS:"{propcounts}",PROPCPS:"{propcounts}/s",MLMINML:"ml/min/ml",MLML:"ml/ml",GML:"g/ml",SUV:"g/ml{SUVbw}"};function E9(f){let t;for(const a in Ep){const s=Ep[a];if(f.schemeDesignator==="UCUM"&&s===f.value){t=a;break}}return t}const i4="00620005",a4="00620009",r4="0062000C",o4="0062000D",s4="00620003",l4="0062000F",u4="00620020";class c4{constructor(t,a,s){Te(this,"number");Te(this,"label");Te(this,"algorithmType");Te(this,"algorithmName");Te(this,"displayValue");Te(this,"displayRGBValue");Te(this,"propertyTypeCode");Te(this,"propertyCategoryCode");Te(this,"trackingUid");Te(this,"trackingId");this.number=t,this.label=a,this.algorithmType=s}}function F9(f){const t=new c4(f["00620004"].value[0],f[i4]?f[i4].value[0]:"n/a",f["00620008"].value[0]);if(f[a4]!==void 0&&(t.algorithmName=f[a4].value[0]),f[r4]!==void 0)t.displayValue=f[r4].value[0];else if(f[o4]!==void 0){const s=f[o4].value,g=function(C){return function(L){function k(ee){let oe=null;return oe=ee<=.0031308?12.92*ee:1.055*Math.pow(ee,.416666667)-.055,Math.min(1,Math.max(0,oe))}const V=L.x/100,z=L.y/100,Q=L.z/100;return{r:Math.round(255*k(3.2406*V-1.5372*z-.4986*Q)),g:Math.round(255*k(-.9689*V+1.8758*z+.0415*Q)),b:Math.round(255*k(.0557*V-.204*z+1.057*Q))}}(function(L){function k(Q){let ee=null;return ee=Q>.206896552?Math.pow(Q,3):.128418549*Q-.017712903,ee}const V=E,z=(L.l+16)/116;return{x:V.x*k(z+L.a/500),y:V.y*k(z),z:V.z*k(z-L.b/200)}}(C))}({l:.001525902*(a={l:s[0],a:s[1],b:s[2]}).l,a:.003891051*a.a-128,b:.003891051*a.b-128});t.displayRGBValue=g}var a;if(f[s4]===void 0)throw new Error("Missing Segmented Property Category Code Sequence.");if(t.propertyCategoryCode=Sd(f[s4].value[0]),f[l4]===void 0)throw new Error("Missing Segmented Property Type Code Sequence.");return t.propertyTypeCode=Sd(f[l4].value[0]),f[u4]!==void 0&&(t.trackingId=f[u4].value[0],t.trackingUid=f["00620021"].value[0]),t}function M9(f){let t=f.algorithmType;t===void 0&&(t="MANUAL");const a={SegmentNumber:f.number,SegmentLabel:f.label,SegmentAlgorithmType:t};if(t!=="MANUAL"&&f.algorithmName!==void 0&&(a.SegmentAlgorithmName=f.algorithmName),f.displayRGBValue){const s=R(N(f.displayRGBValue));a.RecommendedDisplayCIELabValue=[Math.round(s.l),Math.round(s.a),Math.round(s.b)]}else a.RecommendedDisplayGrayscaleValue=f.displayValue;return f.propertyCategoryCode&&(a.SegmentedPropertyCategoryCodeSequence={value:[hl(f.propertyCategoryCode)]}),f.propertyTypeCode&&(a.SegmentedPropertyTypeCodeSequence={value:[hl(f.propertyTypeCode)]}),f.trackingId&&(a.TrackingID=f.trackingId,a.TrackingUID=f.trackingUid),a}const d4="00089124",h4="00082112",f4="00081150",g4="00081155",m4="00209116",v4="00289110";class V9{constructor(t,a,s,g){Te(this,"dimIndex");Te(this,"imagePosPat");Te(this,"derivationImages");Te(this,"refSegmentNumber");Te(this,"imageOrientationPatient");Te(this,"spacing");this.dimIndex=t,this.imagePosPat=a,this.derivationImages=s,this.refSegmentNumber=g}}function B9(f){const t=[];if(f[d4]!==void 0){const k=f[d4].value;for(let V=0;V<k.length;++V){const z=[];if(k[V][h4]!==void 0){const Q=k[V][h4].value;for(let ee=0;ee<Q.length;++ee){const oe={};Q[ee][f4]!==void 0&&(oe.referencedSOPClassUID=Q[ee][f4].value[0]),Q[ee][g4]!==void 0&&(oe.referencedSOPInstanceUID=Q[ee][g4].value[0]),z.push(oe)}}t.push({sourceImages:z})}}const a=f["00209111"].value[0]["00209157"].value,s=f["0062000A"].value,g=parseInt(s[0]["0062000B"].value[0],0),C=f["00209113"].value[0]["00200032"].value;for(let k=0;k<C.length;++k)C[k]=parseFloat(C[k]);const L=new V9(a,C,t,g);if(f[m4]!==void 0){const k=f[m4];if(k.value.length!==0){const V=k.value[0]["00200037"].value;V!==void 0&&(L.imageOrientationPatient=V)}}if(f[v4]!==void 0){const k=f[v4];if(k.value.length!==0){const V=H5(k.value[0]);V!==void 0&&(L.spacing=V)}else p.warn("No shared functional group pixel measure sequence items.")}return L}function N9(f){const t={FrameContentSequence:{value:[{DimensionIndexValues:f.dimIndex}]},PlanePositionSequence:{value:[{ImagePositionPatient:f.imagePosPat}]},SegmentIdentificationSequence:{value:[{ReferencedSegmentNumber:f.refSegmentNumber}]}};if(f.derivationImages!==void 0){const a=hl(ya("121322","DCM")),s=hl(ya("113076","DCM")),g=[];for(const C of f.derivationImages){const L=[];for(const k of C.sourceImages)L.push({PurposeOfReferenceCodeSequence:{value:[a]},ReferencedSOPClassUID:k.referencedSOPClassUID,ReferencedSOPInstanceUID:k.referencedSOPInstanceUID});g.push({DerivationCodeSequence:{value:[s]},SourceImageSequence:{value:L}})}t.DerivationImageSequence={value:g}}return t}function S4(f,t){return JSON.stringify(f)===JSON.stringify(t)}function U9(f,t){const a=f[t.tag];if(t.type===1||t.type===2){if(a===void 0)throw new Error("Missing or empty "+t.name)}else if(a===void 0)return;let s,g=!1;if(s=a.value.length===1?a.value[0]:a.value,Array.isArray(s))for(let C=0;C<t.enum.length;++C){if(!Array.isArray(t.enum[C]))throw new Error("Cannot compare array and non array tag value.");if(Ae(t.enum[C],s)){g=!0;break}}else g=t.enum.includes(s);if(!g)throw new Error("Unsupported "+t.name+" value: "+s)}function q9(f,t,a){const s=f.getNumberOfComponents();let g,C;s===3?(g=function(V){return{r:f.getValueAtOffset(V),g:f.getValueAtOffset(V+1),b:f.getValueAtOffset(V+2)}},C=function(V,z){return z.displayRGBValue!==void 0&&V.r===z.displayRGBValue.r&&V.g===z.displayRGBValue.g&&V.b===z.displayRGBValue.b}):(g=function(V){return f.getValueAtOffset(V)},C=function(V,z){return V===z.displayValue});const L=f.getGeometry().getSize().getDimSize(2),k={};for(let V=0;V<L;++V){const z=g((a+V)*s);for(const Q of t){const ee=Q.number-1;C(z,Q)&&(k[ee]===void 0&&(k[ee]=new Uint8Array(L)),k[ee][V]=1)}}return k}const Sm=[{name:"TransferSyntaxUID",tag:"00020010",type:"1",enum:[Ve,Me,He]},{name:"MediaStorageSOPClassUID",tag:"00020002",type:"1",enum:["1.2.840.10008.5.1.4.1.1.66.4"]},{name:"SOPClassUID",tag:"00020002",type:"1",enum:["1.2.840.10008.5.1.4.1.1.66.4"]},{name:"Modality",tag:"00080060",type:"1",enum:["SEG"]},{name:"SegmentationType",tag:"00620001",type:"1",enum:["BINARY"]},{name:"DimensionOrganizationType",tag:"00209311",type:"3",enum:["3D"]},{name:"ImageType",tag:"00080008",type:"1",enum:[["DERIVED","PRIMARY"]]},{name:"SamplesPerPixel",tag:"00280002",type:"1",enum:[1]},{name:"PhotometricInterpretation",tag:"00280004",type:"1",enum:["MONOCHROME2"]},{name:"PixelRepresentation",tag:"00280103",type:"1",enum:[0]},{name:"BitsAllocated",tag:"00280100",type:"1",enum:[1]},{name:"BitsStored",tag:"00280101",type:"1",enum:[1]},{name:"HighBit",tag:"00280102",type:"1",enum:[0]}];function p4(){const f={};for(let t=0;t<Sm.length;++t){const a=Sm[t];f[a.name]=a.enum[0]}return f}class Fp{constructor(){W(this,Nm)}getWarning(){return l(this,Nm)}checkElements(t){}create(t,a){for(let Xe=0;Xe<Sm.length;++Xe)U9(t,Sm[Xe]);const s=Pp(t),g=new cl([s[0],s[1],1]),C=g.getTotalSize();let L=1;const k=t["00280008"];if(k!==void 0&&(L=parseInt(k.value[0],10)),L!==a.length/C)throw new Error("Buffer and numberOfFrames meta are not equal."+L+" "+a.length/C);const V=function(Xe){const ct=Xe["00209221"];if(ct===void 0||ct.value.length!==1)throw new Error("Unsupported dimension organization sequence length");const wt=ct.value[0]["00209164"].value[0],ln=[],Zn=Xe["00209222"];if(Zn!==void 0){const Xi=Zn.value;if(Xi.length!==2)throw new Error("Unsupported dimension index sequence length");let sr;for(let ho=0;ho<Xi.length;++ho){const p1=Xi[ho]["00209164"].value[0];if(p1!==wt)throw new Error("Dimension Index Sequence contains a unknown Dimension Organization");sr=Xi[ho]["00209165"].value[0];const X0={DimensionOrganizationUID:p1,DimensionIndexPointer:sr};Xi[ho]["00209421"]!==void 0&&(X0.DimensionDescriptionLabel=Xi[ho]["00209421"].value[0]),ln.push(X0)}if(sr!=="(0020,0032)")throw new Error("Unsupported non image position as last index")}return{organizations:{value:[{DimensionOrganizationUID:wt}]},indices:{value:ln}}}(t),z=t["00620002"];if(z===void 0)throw new Error("Missing or empty segmentation sequence");const Q=[];let ee,oe,me=!1;for(let Xe=0;Xe<z.value.length;++Xe){const ct=F9(z.value[Xe]);ct.displayRGBValue!==void 0&&(me=!0),Q.push(ct)}const De=t[52009229];if(De!==void 0){const Xe=De.value[0];if(Xe["00209116"]!==void 0){const ct=Xe["00209116"];ct.value.length!==0?oe=ct.value[0]["00200037"].value:p.warn("No shared functional group plane orientation sequence items.")}if(Xe["00289110"]!==void 0){const ct=Xe["00289110"];ct.value.length!==0?ee=H5(ct.value[0]):p.warn("No shared functional group pixel measure sequence items.")}}const Oe=function(Xe,ct){return Xe.some(function(wt){return S4(ct,wt)})},ke=function(Xe,ct){return Xe.findIndex(function(wt){return S4(ct,wt)})},We=t[52009230];if(We===void 0)throw new Error("Missing or empty per frame functional sequence");if(L!==We.value.length)throw new Error("perFrameFuncGroupSequence meta and numberOfFrames are not equal.");const Ee=[];for(let Xe=0;Xe<We.value.length;++Xe)Ee.push(B9(We.value[Xe]));const Ne=[];for(let Xe=0;Xe<Ee.length;++Xe){if(Oe(Ne,Ee[Xe].imagePosPat)||Ne.push(Ee[Xe].imagePosPat),Ee[Xe].imageOrientationPatient!==void 0){if(oe===void 0)oe=Ee[Xe].imageOrientationPatient;else if(!Ae(oe,Ee[Xe].imageOrientationPatient))throw new Error("Unsupported multi orientation dicom seg.")}if(Ee[Xe].spacing!==void 0){if(ee===void 0)ee=Ee[Xe].spacing;else if(!ee.equals(Ee[Xe].spacing))throw new Error("Unsupported multi resolution dicom seg.")}}if(ee===void 0)throw new Error("No spacing found for DICOM SEG");if(ee.length()!==3)throw new Error("Incomplete spacing found for DICOM SEG");if(oe===void 0)throw new Error("No imageOrientationPatient found for DICOM SEG");if(oe.length!==6)throw new Error("Incomplete imageOrientationPatient found for DICOM SEG");const Ue=new M(parseFloat(oe[0]),parseFloat(oe[1]),parseFloat(oe[2])),Re=new M(parseFloat(oe[3]),parseFloat(oe[4]),parseFloat(oe[5])),Ze=Ue.crossProduct(Re),Je=new B([Ue.getX(),Re.getX(),Ze.getX(),Ue.getY(),Re.getY(),Ze.getY(),Ue.getZ(),Re.getZ(),Ze.getZ()]);Ne.sort(function(Xe){const ct=Xe.getInverse();return function(wt,ln){const Zn=ct.multiplyArray3D(wt),Xi=ct.multiplyArray3D(ln);return Zn[2]-Xi[2]}}(Je));const tt=function(Xe){return new ce(Xe[0],Xe[1],Xe[2])},st=[];for(let Xe=0;Xe<Ne.length;++Xe)st.push(tt(Ne[Xe]));const pt=new vd(st[0],g,ee,Je),Ut=function(Xe){let ct=Xe>_;return ct&&(ct=Xe>10*_,ct?(ct=Xe>100*_,ct||p.warn("Using larger+ real world epsilon in SEG pos pat adding")):p.warn("Using larger real world epsilon in SEG pos pat adding")),ct},Kt=[];Kt.push(Ne[0]);let It=0;for(let Xe=1;Xe<Ne.length;++Xe){++It;let ct=new m([0,0,It]),wt=pt.indexToWorld(ct).get3D();const ln=st[Xe];let Zn=ln.getDistance(wt);const Xi=Zn;for(;Ut(Zn);)if(p.debug("Adding intermediate pos pats for DICOM seg at "+wt.toString()),Kt.push([wt.getX(),wt.getY(),wt.getZ()]),++It,ct=new m([0,0,It]),wt=pt.indexToWorld(ct).get3D(),Zn=ln.getDistance(wt),Zn>Xi)throw new Error("Test distance is increasing when adding intermediate pos pats");Kt.push(Ne[Xe])}const rn=Kt.length,ut=new vd(st[0],g,ee,Je),Qn=["0"];for(let Xe=1;Xe<rn;++Xe)ut.appendOrigin(tt(Kt[Xe]),Xe),Qn.push(Xe.toString());const mn=function(Xe){return function(ct){return ct.number===Xe}},Vn=me?3:1,vt=new a.constructor(Vn*C*rn);vt.fill(0);let ft=null,Kn=null;for(let Xe=0;Xe<Ee.length;++Xe){It=ke(Kt,Ee[Xe].imagePosPat),Kn=C*Xe,ft=C*It;const ct=Q.find(mn(Ee[Xe].refSegmentNumber));for(let wt=0;wt<C;++wt)if(a[Kn+wt]!==0){const ln=Vn*(ft+wt);me?(vt[ln]=ct.displayRGBValue.r,vt[ln+1]=ct.displayRGBValue.g,vt[ln+2]=ct.displayRGBValue.b):vt[ln]=ct.displayValue}}const Ti=new ku(ut,vt,Qn);me&&Ti.setPhotometricInterpretation("RGB");const Jt=p4(),zn=function(Xe){let ct;const wt=t[Xe];return wt!==void 0&&(ct=wt.value[0]),ct};Jt.StudyDate=zn("00080020"),Jt.StudyTime=zn("00080030"),Jt.StudyInstanceUID=zn("0020000D"),Jt.StudyID=zn("00200010"),Jt.SeriesDate=zn("00080021"),Jt.SeriesTime=zn("00080031"),Jt.SeriesInstanceUID=zn("0020000E"),Jt.SeriesNumber=zn("00200011"),Jt.ReferringPhysicianName=zn("00080090"),Jt.PatientName=zn("00100010"),Jt.PatientID=zn("00100020"),Jt.PatientBirthDate=zn("00100030"),Jt.PatientSex=zn("00100040"),Jt.Manufacturer=zn("00080070"),Jt.ManufacturerModelName=zn("00081090"),Jt.DeviceSerialNumber=zn("00181000"),Jt.SoftwareVersions=zn("00181020"),Jt.DimensionOrganizationSequence=V.organizations,Jt.DimensionIndexSequence=V.indices,Jt.custom={segments:Q,frameInfos:Ee,SOPInstanceUID:t["00080018"].value[0]},Jt.numberOfFiles=rn;const S1=t["00200052"];S1&&(Jt.FrameOfReferenceUID=S1.value[0]);const At=t["00282110"];return At&&(Jt.LossyImageCompression=At.value[0]),Ti.setMeta(Jt),Ti}toDicom(t,a,s,g){const C=t.getMeta();a===void 0&&(a=C.segments);const L=t.getGeometry(),k=L.getSize();C.Rows=k.get(1),C.Columns=k.get(0);const V=new Date;C.ContentDate=V5(F5(V)),C.ContentTime=B5(M5(V)),s!==void 0&&(C.StudyInstanceUID=s.getMeta().StudyInstanceUID);const z=[];for(const Re of a)z.push(M9(Re));var Q,ee;C.SegmentSequence={value:z},C.SharedFunctionalGroupsSequence={value:[{PlaneOrientationSequence:{value:[(ee=L.getOrientation(),{ImageOrientationPatient:[ee.get(0,0),ee.get(1,0),ee.get(2,0),ee.get(0,1),ee.get(1,1),ee.get(2,1)]})]},PixelMeasuresSequence:{value:[(Q=L.getSpacing(),{SpacingBetweenSlices:Q.get(2),PixelSpacing:[Q.get(1),Q.get(0)]})]}}]};const oe=function(Re,Ze){const Je=Re.getGeometry().getSize(),tt=Je.getDimSize(2),st={};for(let pt=0;pt<Je.get(2);++pt){const Ut=q9(Re,Ze,pt*tt),Kt=Object.keys(Ut);for(const It of Kt)st[It]===void 0&&(st[It]={}),st[It][pt]=Ut[It]}return st}(t,a),me=[],De=[],Oe=[];for(const Re of a){const Ze=Re.number,Je=Ze-1;if(oe[Je]===void 0)continue;const tt=Object.keys(oe[Je]);for(let st=tt.length-1;st>=0;--st){const pt=Number.parseInt(tt[st],10);De.push(oe[Je][pt]);const Ut=t.getGeometry().getOrigins()[pt],Kt=[Ut.getX(),Ut.getY(),Ut.getZ()],It={dimIndex:[Ze,tt.length-st],imagePosPat:Kt,refSegmentNumber:Ze};if(s!==void 0){const rn=s.getGeometry().worldToIndex(new re([Ut.getX(),Ut.getY(),Ut.getZ()]));It.derivationImages=[{sourceImages:[{referencedSOPInstanceUID:s.getImageUid(rn),referencedSOPClassUID:s.getMeta().SOPClassUID}]}],Oe.push({ReferencedSOPInstanceUID:s.getImageUid(rn),ReferencedSOPClassUID:s.getMeta().SOPClassUID})}me.push(It)}}C.NumberOfFrames=De.length.toString();const ke=[];for(const Re of me)ke.push(N9(Re));if(C.PerFrameFunctionalGroupsSequence={value:ke},s!==void 0){const Re=[];Re.push({ReferencedInstanceSequence:{value:Oe},SeriesInstanceUID:s.getMeta().SeriesInstanceUID}),C.ReferencedSeriesSequence={value:Re}}g!==void 0&&function(Re,Ze){const Je=Object.keys(Ze);for(const tt of Je)Re[tt]!==void 0&&p.trace("Overwritting tag: "+tt),Re[tt]=Ze[tt]}(C,g);const We=mm(C),Ee=k.getDimSize(2),Ne=De.length*Ee/8,Ue=new vi("OB");return Ue.tag=new xt("7FE0","0010"),Ue.vl=Ne,Ue.value=De,We["7FE00010"]=Ue,We}}Nm=new WeakMap;function G9(f){return new Y5().create(f,f["7FE00010"].value[0],1)}function Q9(f){return new Fp().create(f,f["7FE00010"].value[0])}const ty=class ty{constructor(t,a,s){W(this,Do);W(this,pi);W(this,Nt);W(this,Ya);W(this,Il,new dm(1,0));W(this,wo,null);W(this,Bd,!0);W(this,Nd,!0);W(this,Ud,"MONOCHROME2");W(this,Jh,0);W(this,ri);W(this,ui,{});W(this,Al,null);W(this,_l,null);W(this,qd,null);W(this,Gd,new Ni);W(this,Ll,t=>{l(this,Gd).fireEvent(t)});X(this,pi,t),X(this,Nt,a),X(this,Ya,s),X(this,ri,l(this,Nt).length/l(this,pi).getSize().getTotalSize())}getImageUid(t){let a=l(this,Ya)[0];return l(this,Ya).length!==1&&t!==void 0&&(a=l(this,Ya)[this.getSecondaryOffset(t)]),a}getOriginForImageUid(t){let a;const s=l(this,Ya).indexOf(t);return s!==-1&&(a=this.getGeometry().getOrigins()[s]),a}includesImageUid(t){return l(this,Ya).includes(t)}containsImageUids(t){return function(a,s){if(a===null||s===null||a===void 0||s===void 0||a.length===0||s.length===0||s.length>a.length)return!1;for(const g of s)if(!a.includes(g))return!1;return!0}(l(this,Ya),t)}getGeometry(){return l(this,pi)}getBuffer(){return l(this,Nt)}canQuantify(){return this.getNumberOfComponents()===1}canWindowLevel(){return this.isMonochrome()}isMonochrome(){return this.getPhotometricInterpretation().match(/MONOCHROME/)!==null}canScroll(t){const a=this.getGeometry().getSize();let s=1;return l(this,ui).numberOfFiles!==void 0&&(s=l(this,ui).numberOfFiles),a.canScroll(t)||s!==1}getSecondaryOffset(t){return l(this,pi).getSize().indexToOffset(t,2)}getRescaleSlopeAndIntercept(t){let a=l(this,Il);if(!this.isConstantRSI()){if(t===void 0)throw new Error("Cannot get non constant RSI with empty slice index.");const s=this.getSecondaryOffset(t);l(this,wo)[s]!==void 0?a=l(this,wo)[s]:p.warn("undefined non constant rsi at "+s)}return a}setRescaleSlopeAndIntercept(t,a){if(X(this,Bd,l(this,Bd)&&t.isID()),l(this,Nd)){if(!l(this,Il).equals(t))if(a===void 0)X(this,Il,t);else{X(this,Nd,!1),X(this,wo,[]);for(let s=0,g=ie(this,Do,z2).call(this);s<g;++s)l(this,wo).push(l(this,Il));X(this,Il,null),l(this,wo).splice(a,0,t)}}else{if(a===void 0)throw new Error("Cannot store non constant RSI with empty slice index.");l(this,wo).splice(a,0,t)}}isIdentityRSI(){return l(this,Bd)}isConstantRSI(){return l(this,Nd)}getPhotometricInterpretation(){return l(this,Ud)}setPhotometricInterpretation(t){X(this,Ud,t)}getPlanarConfiguration(){return l(this,Jh)}setPlanarConfiguration(t){X(this,Jh,t)}getNumberOfComponents(){return l(this,ri)}getMeta(){return l(this,ui)}setMeta(t){X(this,ui,t)}getValueAtOffset(t){return l(this,Nt)[t]}getOffsets(t){let a;if(typeof t=="number"){if(l(this,ri)!==1)throw new Error("Number of components is not 1 for getting single value.");a=[t]}else if(t.r!==void 0&&t.g!==void 0&&t.b!==void 0){if(l(this,ri)!==3)throw new Error("Number of components is not 3 for getting RGB value.");a=[t.r,t.g,t.b]}const s=[];let g;for(let C=0;C<l(this,Nt).length;C+=l(this,ri)){g=!0;for(let L=0;L<l(this,ri);++L)if(l(this,Nt)[C+L]!==a[L]){g=!1;break}g&&s.push(C)}return s}hasValues(t){if(t===void 0||t.length===0)return[];const a=[];for(let z=0;z<t.length;++z)l(this,ri)===1?a.push([t[z]]):l(this,ri)===3&&a.push([t[z].r,t[z].g,t[z].b]);let s;l(this,ri)===1?s=function(z,Q){return z[0]===Q[0]}:l(this,ri)===3&&(s=function(z,Q){return z[0]===Q[0]&&z[1]===Q[1]&&z[2]===Q[2]});const g=function(z){return function(Q){return s(Q,z)}},C=new Array(t.length);C.fill(!1);const L=a.slice();let k,V;for(let z=0,Q=l(this,Nt).length;z<Q;z+=l(this,ri)){V=[];for(let ee=0;ee<L.length;++ee){k=!0;for(let oe=0;oe<l(this,ri);++oe)if(l(this,Nt)[z+oe]!==L[ee][oe]){k=!1;break}k&&(C[a.findIndex(g(L[ee]))]=!0,V.push(ee))}for(let ee=0;ee<V.length;++ee)L.splice(V[ee],1);if(L.length===0)break}return C}clone(){const t=l(this,Nt).slice(0),a=new ty(this.getGeometry(),t,l(this,Ya));if(this.isConstantRSI())a.setRescaleSlopeAndIntercept(this.getRescaleSlopeAndIntercept());else for(let s=0;s<ie(this,Do,z2).call(this);++s)a.setRescaleSlopeAndIntercept(ie(this,Do,SI).call(this,s),s);return a.setPhotometricInterpretation(this.getPhotometricInterpretation()),a.setPlanarConfiguration(this.getPlanarConfiguration()),a.setMeta(this.getMeta()),a}appendSlice(t){if(t===null)throw new Error("Cannot append null slice");const a=t.getGeometry().getSize();let s=l(this,pi).getSize();if(a.get(2)!==1)throw new Error("Cannot append more than one slice");if(s.get(0)!==a.get(0))throw new Error("Cannot append a slice with different number of columns");if(s.get(1)!==a.get(1))throw new Error("Cannot append a slice with different number of rows");if(!l(this,pi).getOrientation().equals(t.getGeometry().getOrientation(),1e-4))throw new Error("Cannot append a slice with different orientation");if(l(this,Ud)!==t.getPhotometricInterpretation())throw new Error("Cannot append a slice with different photometric interpretation");for(const Ee in l(this,ui))if(Ee!=="windowPresets"&&Ee!=="numberOfFiles"&&Ee!=="custom"&&l(this,ui)[Ee]!==t.getMeta()[Ee])throw new Error("Cannot append a slice with different "+Ee+": "+l(this,ui)[Ee]+" != "+t.getMeta()[Ee]);const g=t.getDataRange(),C=this.getDataRange();X(this,Al,{min:Math.min(g.min,C.min),max:Math.max(g.max,C.max)});const L=t.getRescaledDataRange(),k=this.getRescaledDataRange();X(this,_l,{min:Math.min(L.min,k.min),max:Math.max(L.max,k.max)});const V=t.getGeometry().getInitialTime();let z=!1;V===void 0||l(this,pi).hasSlicesAtTime(V)||(this.appendFrame(V,t.getGeometry().getOrigin()),s=l(this,pi).getSize(),z=!0);const Q=function(Ee,Ne){const Ue=Ne.getInitialTime(),Re=[];return Re.push(0),Re.push(0),Re.push(Ee.getSliceIndex(Ne.getOrigin(),Ue)),Ue!==void 0&&Re.push(Ue),new m(Re)}(l(this,pi),t.getGeometry()),ee=l(this,ri)*s.getDimSize(2);if(l(this,ui).numberOfFiles===void 0)throw new Error("Missing number of files for buffer manipulation.");const oe=ee*l(this,ui).numberOfFiles;l(this,Nt).length!==oe&&ie(this,Do,H2).call(this,oe);const me=Q.get(2);let De=me;V!==void 0&&(De+=l(this,pi).getCurrentNumberOfSlicesBeforeTime(V));const Oe=De*ee,ke=l(this,pi).getCurrentTotalNumberOfSlices()*ee;Oe<ke&&l(this,Nt).set(l(this,Nt).subarray(Oe,ke),Oe+ee),l(this,Nt).set(t.getBuffer(),Oe),z||l(this,pi).appendOrigin(t.getGeometry().getOrigin(),me,V),this.setRescaleSlopeAndIntercept(t.getRescaleSlopeAndIntercept(),De);const We=l(this,Ya).length;if(l(this,Ya).splice(De,0,t.getImageUid()),l(this,ui).windowPresets!==void 0){const Ee=l(this,ui).windowPresets,Ne=t.getMeta().windowPresets,Ue=Object.keys(Ne);let Re=null;for(let Ze=0;Ze<Ue.length;++Ze){Re=Ue[Ze];const Je=Ne[Re],tt=Ee[Re];if(tt!==void 0){if((tt.perslice===void 0||tt.perslice===!1)&&!tt.wl[0].equals(Je.wl[0])){tt.perslice=!0;for(let st=0;st<We-1;++st)tt.wl.push(tt.wl[0])}tt.perslice!==void 0&&tt.perslice===!0&&Ee[Re].wl.splice(De,0,Je.wl[0])}else Ee[Re]=Ne[Re]}}l(this,Ll).call(this,{type:"imagegeometrychange"})}appendFrameBuffer(t,a){const s=l(this,pi).getSize(),g=l(this,ri)*s.getDimSize(2);if(l(this,ui).numberOfFiles===void 0)throw new Error("Missing number of files for frame buffer manipulation.");const C=g*l(this,ui).numberOfFiles;l(this,Nt).length!==C&&ie(this,Do,H2).call(this,C),a>=l(this,ui).numberOfFiles?p.warn("Ignoring frame at index "+a+" (size: "+l(this,ui).numberOfFiles+")"):(l(this,Nt).set(t,g*a),this.appendFrame(a,new ce(0,0,0)))}appendFrame(t,a){l(this,pi).appendFrame(a,t),l(this,Ll).call(this,{type:"appendframe"})}getDataRange(){return l(this,Al)||X(this,Al,this.calculateDataRange()),l(this,Al)}getRescaledDataRange(){return l(this,_l)||X(this,_l,this.calculateRescaledDataRange()),l(this,_l)}getHistogram(){if(!l(this,qd)){const t=this.calculateHistogram();X(this,Al,t.dataRange),X(this,_l,t.rescaledDataRange),X(this,qd,t.histogram)}return l(this,qd)}addEventListener(t,a){l(this,Gd).add(t,a)}removeEventListener(t,a){l(this,Gd).remove(t,a)}setAtOffsets(t,a){let s,g;if(typeof a=="number"){if(l(this,ri)!==1)throw new Error("Number of components is not 1 for setting single value.");s=[a]}else if(a.r!==void 0&&a.g!==void 0&&a.b!==void 0){if(l(this,ri)!==3)throw new Error("Number of components is not 3 for setting RGB value.");s=[a.r,a.g,a.b]}for(let C=0,L=t.length;C<L;++C){g=t[C];for(let k=0;k<l(this,ri);++k)l(this,Nt)[g+k]=s[k]}l(this,Ll).call(this,{type:"imagecontentchange"})}setAtOffsetsAndGetOriginals(t,a){const s=[];for(let g=0;g<t.length;++g){const C=t[g];let L=3*C[0],k={r:l(this,Nt)[L],g:l(this,Nt)[L+1],b:l(this,Nt)[L+2]};const V=[];V.push({index:0,colour:k});for(let z=0;z<C.length;++z){L=3*C[z];const Q={r:l(this,Nt)[L],g:l(this,Nt)[L+1],b:l(this,Nt)[L+2]};k.r===Q.r&&k.g===Q.g&&k.b===Q.b||(V.push({index:z,colour:Q}),k=Q),l(this,Nt)[L]=a.r,l(this,Nt)[L+1]=a.g,l(this,Nt)[L+2]=a.b}s.push(V)}return l(this,Ll).call(this,{type:"imagecontentchange"}),s}setAtOffsetsWithIterator(t,a){for(let s=0;s<t.length;++s){const g=t[s];let C;Array.isArray(a)?C=R5(a[s],g.length):a.r!==void 0&&a.g!==void 0&&a.b!==void 0&&(C=R5([{index:0,colour:a}],g.length));let L=C.next();for(;!L.done;){const k=3*g[L.index];l(this,Nt)[k]=L.value.r,l(this,Nt)[k+1]=L.value.g,l(this,Nt)[k+2]=L.value.b,L=C.next()}}l(this,Ll).call(this,{type:"imagecontentchange"})}getValue(t,a,s,g){const C=new m([t,a,s,g||0]);return this.getValueAtOffset(this.getGeometry().getSize().indexToOffset(C))}getValueAtIndex(t){return this.getValueAtOffset(this.getGeometry().getSize().indexToOffset(t))}getRescaledValue(t,a,s,g){g===void 0&&(g=0);let C=this.getValue(t,a,s,g);if(!this.isIdentityRSI())if(this.isConstantRSI())C=this.getRescaleSlopeAndIntercept().apply(C);else{const L=new m([t,a,s,g]);C=this.getRescaleSlopeAndIntercept(L).apply(C)}return C}getRescaledValueAtIndex(t){return this.getRescaledValueAtOffset(this.getGeometry().getSize().indexToOffset(t))}getRescaledValueAtOffset(t){let a=this.getValueAtOffset(t);if(!this.isIdentityRSI())if(this.isConstantRSI())a=this.getRescaleSlopeAndIntercept().apply(a);else{const s=this.getGeometry().getSize().offsetToIndex(t);a=this.getRescaleSlopeAndIntercept(s).apply(a)}return a}calculateDataRange(){let t=this.getValueAtOffset(0),a=t,s=0;const g=this.getGeometry().getSize();let C=g.getTotalSize();g.length()>=3&&(C=g.getDimSize(3));for(let L=0;L<C;++L)s=this.getValueAtOffset(L),s>a&&(a=s),s<t&&(t=s);return{min:t,max:a}}calculateRescaledDataRange(){if(this.isIdentityRSI())return this.getDataRange();if(this.isConstantRSI()){const t=this.getDataRange(),a=this.getRescaleSlopeAndIntercept().apply(t.min),s=this.getRescaleSlopeAndIntercept().apply(t.max);return{min:a<s?a:s,max:a>s?a:s}}{let t=this.getRescaledValueAtOffset(0),a=t,s=0;const g=this.getGeometry().getSize();let C=g.getTotalSize();g.length()===3&&(C=g.getDimSize(3));for(let L=0;L<C;++L)s=this.getRescaledValueAtOffset(L),s>a&&(a=s),s<t&&(t=s);return{min:t,max:a}}}calculateHistogram(){const t=this.getGeometry().getSize(),a=[];let s=this.getValueAtOffset(0),g=s,C=0,L=this.getRescaledValueAtOffset(0),k=L,V=0;for(let oe=0,me=t.getTotalSize();oe<me;++oe)C=this.getValueAtOffset(oe),C>g&&(g=C),C<s&&(s=C),V=this.getRescaledValueAtOffset(oe),V>k&&(k=V),V<L&&(L=V),a[V]=(a[V]||0)+1;const z={min:s,max:g},Q={min:L,max:k},ee=[];for(let oe=L;oe<=k;++oe)ee.push([oe,a[oe]||0]);return{dataRange:z,rescaledDataRange:Q,histogram:ee}}convolute2D(t){if(t.length!==9)throw new Error("The convolution matrix does not have a length of 9; it has "+t.length);const a=this.clone(),s=a.getBuffer(),g=this.getGeometry().getSize(),C=g.getDimSize(2)*this.getNumberOfComponents();for(let L=0;L<g.get(2);++L)this.convoluteBuffer(t,s,L*C);return a}convoluteBuffer(t,a,s){const g=this.getGeometry().getSize(),C=g.get(0),L=g.get(1),k=this.getNumberOfComponents();let V=1,z=1;k===3&&(this.getPlanarConfiguration()===0?V=3:z=g.getDimSize(2));const Q=[];Q[0]=(-C-1)*V,Q[1]=-C*V,Q[2]=(1-C)*V,Q[3]=-V,Q[4]=0,Q[5]=1*V,Q[6]=(C-1)*V,Q[7]=C*V,Q[8]=(C+1)*V;const ee=[];ee[0]=Q[4],ee[1]=Q[4],ee[2]=Q[5],ee[3]=Q[4],ee[4]=Q[4],ee[5]=Q[5],ee[6]=Q[7],ee[7]=Q[7],ee[8]=Q[8];const oe=[];oe[0]=Q[1],oe[1]=Q[1],oe[2]=Q[2],oe[3]=Q[4],oe[4]=Q[4],oe[5]=Q[5],oe[6]=Q[7],oe[7]=Q[7],oe[8]=Q[8];const me=[];me[0]=Q[1],me[1]=Q[1],me[2]=Q[2],me[3]=Q[4],me[4]=Q[4],me[5]=Q[5],me[6]=Q[4],me[7]=Q[4],me[8]=Q[5];const De=[];De[0]=Q[3],De[1]=Q[4],De[2]=Q[5],De[3]=Q[3],De[4]=Q[4],De[5]=Q[5],De[6]=Q[6],De[7]=Q[7],De[8]=Q[8];const Oe=[];Oe[0]=Q[0],Oe[1]=Q[1],Oe[2]=Q[2],Oe[3]=Q[3],Oe[4]=Q[4],Oe[5]=Q[5],Oe[6]=Q[3],Oe[7]=Q[4],Oe[8]=Q[5];const ke=[];ke[0]=Q[3],ke[1]=Q[4],ke[2]=Q[4],ke[3]=Q[3],ke[4]=Q[4],ke[5]=Q[4],ke[6]=Q[6],ke[7]=Q[7],ke[8]=Q[7];const We=[];We[0]=Q[0],We[1]=Q[1],We[2]=Q[1],We[3]=Q[3],We[4]=Q[4],We[5]=Q[4],We[6]=Q[6],We[7]=Q[7],We[8]=Q[7];const Ee=[];Ee[0]=Q[0],Ee[1]=Q[1],Ee[2]=Q[1],Ee[3]=Q[3],Ee[4]=Q[4],Ee[5]=Q[4],Ee[6]=Q[3],Ee[7]=Q[4],Ee[8]=Q[4];let Ne=s,Ue=0,Re=[];for(let Ze=0;Ze<k;++Ze){Ne+=Ze*z;for(let Je=0;Je<L;++Je)for(let tt=0;tt<C;++tt){Re=Q,tt===0&&Je===0?Re=ee:tt===0&&Je===L-1?Re=me:tt===C-1&&Je===0?Re=ke:tt===C-1&&Je===L-1?Re=Ee:tt===0&&Je!==L-1&&Je!==0?Re=oe:tt===C-1&&Je!==L-1&&Je!==0?Re=We:tt!==0&&tt!==C-1&&Je===0?Re=De:tt!==0&&tt!==C-1&&Je===L-1&&(Re=Oe),Ue=0;for(let st=0;st<9;++st)Ue+=this.getValueAtOffset(Ne+Re[st])*t[st];a[Ne]=Ue,Ne+=V}}}transform(t){const a=this.clone(),s=a.getBuffer();for(let g=0,C=s.length;g<C;++g)s[g]=t(a.getValueAtOffset(g));return a}compose(t,a){const s=this.clone(),g=s.getBuffer();for(let C=0,L=g.length;C<L;++C)g[C]=Math.floor(a(this.getValueAtOffset(C),t.getValueAtOffset(C)));return s}};pi=new WeakMap,Nt=new WeakMap,Ya=new WeakMap,Il=new WeakMap,wo=new WeakMap,Bd=new WeakMap,Nd=new WeakMap,Ud=new WeakMap,Jh=new WeakMap,ri=new WeakMap,ui=new WeakMap,Al=new WeakMap,_l=new WeakMap,qd=new WeakMap,Gd=new WeakMap,Do=new WeakSet,z2=function(){return l(this,pi).getSize().getTotalSize(2)},SI=function(t){return l(this,wo)[t]},H2=function(t){let a=l(this,Nt);if(X(this,Nt,I5(8*l(this,Nt).BYTES_PER_ELEMENT,l(this,ui).IsSigned?1:0,t)),l(this,Nt)===null)throw new Error("Cannot reallocate data for image.");l(this,Nt).set(a),a=null},Ll=new WeakMap;let ku=ty;class y4{create(t,a){const s=new b4(a);a.getPhotometricInterpretation()==="MONOCHROME1"?s.setColourMap("invPlain"):a.getPhotometricInterpretation()==="PALETTE COLOR"&&(A.palette!==void 0?s.setColourMap("palette"):p.warn("Cannot find Palette lut"));let g={};if(a.getMeta().windowPresets!==void 0&&(g=a.getMeta().windowPresets),g.minmax={name:"minmax"},S!==void 0){const C=a.getMeta().Modality;for(const L in S[C]){const k=S[C][L];g[L]={wl:[new b(k.center,k.width)],name:L}}}return s.setWindowPresets(g),s.init(),s}}const pd=["wlchange","wlpresetadd","colourmapchange","positionchange","opacitychange","alphafuncchange"];function z9(f,t){return new y4().create(f,t)}class b4{constructor(t){W(this,Rl);W(this,bn);W(this,Gu);W(this,Qu);W(this,yi,{minmax:{name:"minmax"}});W(this,Ir,null);W(this,Ol);W(this,Qd,"plain");W(this,kl,null);W(this,zd);W(this,Hd,new Ni);W(this,ef,function(t,a){return 255});W(this,xo,t=>{l(this,Hd).fireEvent(t)});X(this,bn,t),l(this,bn).addEventListener("appendframe",()=>{const a=this.getCurrentIndex();if(a.length()===3){const s=a.getValues();s.push(0),this.setCurrentIndex(new m(s))}})}getImage(){return l(this,bn)}setImage(t){X(this,bn,t)}getOrientation(){return l(this,zd)}setOrientation(t){X(this,zd,t)}init(){this.setInitialIndex()}setInitialIndex(){const t=l(this,bn).getGeometry().getSize(),a=new Array(t.length());a.fill(0),a[0]=Math.floor(t.get(0)/2),a[1]=Math.floor(t.get(1)/2),a[2]=Math.floor(t.get(2)/2),this.setCurrentIndex(new m(a),!0)}getPlaybackMilliseconds(t){return t||(t=10),Math.round(1e3/t)}getAlphaFunction(){return l(this,ef)}setAlphaFunction(t){X(this,ef,t),l(this,xo).call(this,{type:"alphafuncchange"})}getWindowPresets(){return l(this,yi)}getWindowPresetsNames(){return Object.keys(l(this,yi))}setWindowPresets(t){X(this,yi,t)}addWindowPresets(t){const a=Object.keys(t);let s=null;for(let g=0;g<a.length;++g)if(s=a[g],l(this,yi)[s]!==void 0){if(l(this,yi)[s].perslice!==void 0&&l(this,yi)[s].perslice===!0)throw new Error("Cannot add perslice preset");l(this,yi)[s]=t[s]}else l(this,yi)[s]=t[s],l(this,xo).call(this,{type:"wlpresetadd",name:s})}getCurrentWindowPresetName(){return l(this,Ir)}getColourMap(){return l(this,Qd)}setColourMap(t){if(!A[t])throw new Error("Unknown colour map: '"+t+"'");X(this,Qd,t),l(this,xo).call(this,{type:"colourmapchange",value:[t]})}getCurrentPosition(){return l(this,kl)}getCurrentIndex(){const t=this.getCurrentPosition();return t?this.getImage().getGeometry().worldToIndex(t):null}getCurrentImageUid(){return l(this,bn).getImageUid(this.getCurrentIndex())}getOriginForImageUid(t){return l(this,bn).getOriginForImageUid(t)}includesImageUid(t){return l(this,bn).includesImageUid(t)}isPositionInBounds(t){t===void 0&&(t=l(this,kl));const a=l(this,bn).getGeometry(),s=a.worldToIndex(t),g=[this.getScrollIndex()];return s.length()===4&&g.push(3),a.isIndexInBounds(s,g)}getOrigin(t){const a=l(this,bn).getGeometry();let s=0;return t!==void 0&&(s=a.worldToIndex(t).get(2)),a.getOrigins()[s]}setCurrentPosition(t,a){const s=l(this,bn).getGeometry(),g=s.worldToIndex(t),C=[this.getScrollIndex()];return g.length()===4&&C.push(3),s.isIndexInBounds(g,C)?this.setCurrentIndex(g,a):(a||(X(this,kl,t),l(this,xo).call(this,{type:"positionchange",value:[g.getValues(),t.getValues()],valid:!1})),!1)}setCurrentIndex(t,a){a===void 0&&(a=!1);const s=l(this,bn).getGeometry(),g=s.indexToWorld(t),C=[this.getScrollIndex()];if(t.length()===4&&C.push(3),!s.isIndexInBounds(t,C))return a||(X(this,kl,g),l(this,xo).call(this,{type:"positionchange",value:[t.getValues(),g.getValues()],valid:!1})),!1;let L=null,k=null;if(this.getCurrentPosition()&&(k=this.getCurrentIndex()),k)if(k.canCompare(t))L=k.compare(t);else{L=[];const V=Math.min(k.length(),t.length());for(let Q=0;Q<V;++Q)k.get(Q)!==t.get(Q)&&L.push(Q);const z=Math.max(k.length(),t.length());for(let Q=V;Q<z;++Q)L.push(Q)}else{L=[];for(let V=0;V<t.length();++V)L.push(V)}if(X(this,kl,g),!a){const V={type:"positionchange",value:[t.getValues(),g.getValues()],diffDims:L,data:{imageUid:l(this,bn).getImageUid(t)}};if(l(this,bn).canQuantify()){const z=l(this,bn).getRescaledValueAtIndex(t);V.value.push(z)}l(this,xo).call(this,V)}return!0}setWindowLevel(t,a,s){if(a===void 0&&(a="manual"),a!=="manual"&&l(this,yi)[a]===void 0)throw new Error("Unknown window level preset: '"+a+"'");s===void 0&&(s=!1);const g=!t.equals(l(this,Ol)),C=l(this,Ir)!==a;(g||C)&&(X(this,Ol,t),X(this,Ir,a),a==="manual"&&(l(this,yi)[a]!==void 0?l(this,yi)[a].wl[0]=t:this.addWindowPresets({manual:{wl:[t],name:"manual"}})),l(this,xo).call(this,{type:"wlchange",value:[t.center,t.width,a],wc:t.center,ww:t.width,skipGenerate:s}))}getWindowLevel(){return ie(this,Rl,W2).call(this).getVoiLut().getWindowLevel()}setWindowLevelPreset(t,a){const s=this.getWindowPresets()[t];if(s===void 0)throw new Error("Unknown window level preset: '"+t+"'");t==="minmax"&&s.wl===void 0&&(s.wl=[this.getWindowLevelMinMax()]);let g=s.wl[0];if(s.perslice!==void 0&&s.perslice===!0){const C=l(this,bn).getSecondaryOffset(this.getCurrentIndex());g=s.wl[C]}this.setWindowLevel(g,t,a)}setWindowLevelPresetById(t,a){const s=Object.keys(this.getWindowPresets());this.setWindowLevelPreset(s[t],a)}addEventListener(t,a){l(this,Hd).add(t,a)}removeEventListener(t,a){l(this,Hd).remove(t,a)}getWindowLevelMinMax(){const t=this.getImage().getRescaledDataRange(),a=t.min;let s=t.max-a;return s<1&&(p.warn("Zero or negative window width, defaulting to one."),s=1),new b(a+s/2,s)}setWindowLevelMinMax(){const t=this.getWindowLevelMinMax();this.setWindowLevel(t,"minmax")}generateImageData(t,a){a===void 0&&(this.getCurrentIndex()||this.setInitialIndex(),a=this.getCurrentIndex());const s=this.getImage(),g=!s.isConstantRSI(),C=k5(s,a,g,this.getOrientation()),L=s.getPhotometricInterpretation();switch(L){case"MONOCHROME1":case"MONOCHROME2":(function(k,V,z,Q,ee){let oe=0,me=0,De=V.next();for(;!De.done;)me=Q.getValue(De.value),k.data[oe]=ee.red[me],k.data[oe+1]=ee.green[me],k.data[oe+2]=ee.blue[me],k.data[oe+3]=z(De.value,De.index),oe+=4,De=V.next()})(t,C,this.getAlphaFunction(),ie(this,Rl,W2).call(this),ie(this,Rl,Y2).call(this));break;case"PALETTE COLOR":(function(k,V,z,Q,ee){const oe=function(ke){return ke>>8};ee&&p.info("Scaling 16bits data to 8bits.");let me=0,De=0,Oe=V.next();for(;!Oe.done;)De=Oe.value,ee?(k.data[me]=oe(Q.red[De]),k.data[me+1]=oe(Q.green[De]),k.data[me+2]=oe(Q.blue[De])):(k.data[me]=Q.red[De],k.data[me+1]=Q.green[De],k.data[me+2]=Q.blue[De]),k.data[me+3]=z(De,Oe.index),me+=4,Oe=V.next()})(t,C,this.getAlphaFunction(),ie(this,Rl,Y2).call(this),s.getMeta().BitsStored===16);break;case"RGB":(function(k,V,z){let Q=0,ee=V.next();for(;!ee.done;)k.data[Q]=ee.value[0],k.data[Q+1]=ee.value[1],k.data[Q+2]=ee.value[2],k.data[Q+3]=z(ee.value,ee.index),Q+=4,ee=V.next()})(t,C,this.getAlphaFunction());break;case"YBR_FULL":(function(k,V,z){let Q=0,ee=null,oe=V.next();for(;!oe.done;)me=oe.value[0],De=oe.value[1],ee={r:me+1.402*((Oe=oe.value[2])-128),g:me-.34414*(De-128)-.71414*(Oe-128),b:me+1.772*(De-128)},k.data[Q]=ee.r,k.data[Q+1]=ee.g,k.data[Q+2]=ee.b,k.data[Q+3]=z(oe.value,oe.index),Q+=4,oe=V.next();var me,De,Oe})(t,C,this.getAlphaFunction());break;default:throw new Error("Unsupported photometric interpretation: "+L)}}getScrollIndex(){let t=null;const a=this.getOrientation();return t=a!==void 0?a.getThirdColMajorDirection():2,t}isAquisitionOrientation(){return Y(l(this,zd))}}bn=new WeakMap,Gu=new WeakMap,Qu=new WeakMap,yi=new WeakMap,Ir=new WeakMap,Ol=new WeakMap,Qd=new WeakMap,kl=new WeakMap,zd=new WeakMap,Hd=new WeakMap,ef=new WeakMap,Rl=new WeakSet,W2=function(){if(l(this,Ir)&&l(this,yi)[l(this,Ir)]!==void 0&&l(this,yi)[l(this,Ir)].perslice!==void 0&&l(this,yi)[l(this,Ir)].perslice===!0){this.getCurrentIndex()||this.setInitialIndex();const s=this.getCurrentIndex(),g=l(this,bn).getSecondaryOffset(s),C=l(this,yi)[l(this,Ir)].wl[g];this.setWindowLevel(C,l(this,Ir),!0)}if(l(this,Ol)===void 0&&this.setWindowLevelPresetById(0,!0),l(this,Qu)===void 0||l(this,bn).isConstantRSI()!==l(this,Qu)){let s,g;X(this,Qu,l(this,bn).isConstantRSI()),l(this,Qu)?(s=l(this,bn).getRescaleSlopeAndIntercept(),g=!0):(s=new dm(1,0),g=!1);const C=new v(s,l(this,bn).getMeta().BitsStored);X(this,Gu,new w(C,l(this,bn).getMeta().IsSigned,g))}const t=l(this,Gu).getVoiLut();let a;if(t!==void 0&&(a=t.getWindowLevel()),t===void 0||!l(this,Ol).equals(a)){const s=new y(l(this,Ol));l(this,Gu).setVoiLut(s)}return l(this,Gu)},Y2=function(){return A[l(this,Qd)]},xo=new WeakMap;class Mp{constructor(t,a){W(this,zu);W(this,To);W(this,Hu);W(this,qi);W(this,$a);X(this,zu,t),X(this,To,t.getRealSpacing()),X(this,Hu,t.getOrientation()),X(this,qi,a),X(this,$a,function(s,g){let C=s.asOneAndZeros().multiply(g);return s.asOneAndZeros().getAbs().equals(N5().getAbs())&&(C=C.getAbs()),C}(l(this,Hu),a))}getViewOrientation(){return l(this,qi)}getTargetOrientation(){return l(this,$a)}getOffset3DFromPlaneOffset(t){const a=new M(t.x,t.y,0),s=this.getTargetDeOrientedVector3D(a);return new M(s.getX()*l(this,To).get(0),s.getY()*l(this,To).get(1),s.getZ()*l(this,To).get(2))}getPlaneOffsetFromOffset3D(t){const a=new M(t.x/l(this,To).get(0),t.y/l(this,To).get(1),t.z/l(this,To).get(2)),s=this.getTargetOrientedVector3D(a);return{x:s.getX(),y:s.getY()}}getTargetOrientedVector3D(t){let a=t;return l(this,$a)!==void 0&&(a=l(this,$a).getInverse().multiplyVector3D(t)),a}getTargetDeOrientedVector3D(t){let a=t;return l(this,$a)!==void 0&&(a=l(this,$a).multiplyVector3D(t)),a}getTargetDeOrientedPoint3D(t){let a=t;return l(this,$a)!==void 0&&(a=l(this,$a).multiplyPoint3D(t)),a}getImageOrientedVector3D(t){let a=t;if(l(this,qi)!==void 0){const s=E5([t.getX(),t.getY(),t.getZ()],l(this,qi));a=new M(s[0],s[1],s[2])}return a}getImageOrientedPoint3D(t){let a=t;if(l(this,qi)!==void 0){const s=E5([t.getX(),t.getY(),t.getZ()],l(this,qi));a=new ce(s[0],s[1],s[2])}return a}getImageDeOrientedVector3D(t){let a=t;if(l(this,qi)!==void 0){const s=kh([t.getX(),t.getY(),t.getZ()],l(this,qi));a=new M(s[0],s[1],s[2])}return a}getImageDeOrientedPoint3D(t){let a=t;if(l(this,qi)!==void 0){const s=kh([t.getX(),t.getY(),t.getZ()],l(this,qi));a=new ce(s[0],s[1],s[2])}return a}getPositionFromPlanePoint(t,a){const s=new ce(t.getX(),t.getY(),a),g=this.getImageOrientedPoint3D(s);return l(this,zu).pointToWorld(g)}getPlanePointFromPosition(t){const a=l(this,zu).worldToPoint(t);return this.getImageDeOrientedPoint3D(a)}getCosines(){return[(t=l(this,$a)).get(0,0),t.get(1,0),t.get(2,0),t.get(0,1),t.get(1,1),t.get(2,1)];var t}getPlanePoints(t){const a=this.getPlanePointFromPosition(t),s=this.getPositionFromPlanePoint(new K(0,0),a.getZ()),g=this.getCosines();return[s,new ce(g[0],g[1],g[2]),new ce(g[3],g[4],g[5])]}worldToIndex(t){return l(this,zu).worldToIndex(t)}isAquisitionOrientation(){return Y(l(this,qi))}getTargetOrientedPositiveXYZ(t){const a=kh([t.x,t.y,t.z],l(this,$a));return{x:a[0],y:a[1],z:a[2]}}getScrollIndex(){let t=null;return t=l(this,qi)!==void 0?l(this,qi).getThirdColMajorDirection():2,t}getNativeScrollIndex(){let t=null;return t=l(this,Hu)!==void 0?l(this,Hu).getThirdColMajorDirection():2,t}}zu=new WeakMap,To=new WeakMap,Hu=new WeakMap,qi=new WeakMap,$a=new WeakMap;class C4{constructor(t){W(this,ci);W(this,rt);W(this,no);W(this,hs);W(this,tf,!1);if(t.getImage()===void 0)throw new Error("View does not have an image, cannot setup controller");X(this,rt,t),X(this,no,new Mp(t.getImage().getGeometry(),t.getOrientation())),t.getImage().getMeta().Modality==="SEG"&&X(this,tf,!0)}getPlaneHelper(){return l(this,no)}isMask(){return l(this,tf)}initialise(){this.setWindowLevelPresetById(0),this.setCurrentPosition(this.getPositionFromPlanePoint(new K(0,0)))}getModality(){return l(this,rt).getImage().getMeta().Modality}getWindowLevelPresetsNames(){return l(this,rt).getWindowPresetsNames()}addWindowLevelPresets(t){return l(this,rt).addWindowPresets(t)}setWindowLevelPreset(t){l(this,rt).setWindowLevelPreset(t)}setWindowLevelPresetById(t){l(this,rt).setWindowLevelPresetById(t)}isPlaying(){return l(this,hs)!==void 0}getCurrentPosition(){return l(this,rt).getCurrentPosition()}getCurrentIndex(){return l(this,rt).getCurrentIndex()}getCurrentImageUid(){return l(this,rt).getCurrentImageUid()}getOriginForImageUid(t){return l(this,rt).getOriginForImageUid(t)}includesImageUid(t){return l(this,rt).includesImageUid(t)}getCurrentOrientedIndex(){let t=l(this,rt).getCurrentIndex();if(l(this,rt).getOrientation()!==void 0){const a=l(this,no).getImageDeOrientedVector3D(new M(t.get(0),t.get(1),t.get(2)));t=new m([a.getX(),a.getY(),a.getZ()])}return t}getScrollIndex(){return l(this,rt).getScrollIndex()}getCurrentScrollIndexValue(){return l(this,rt).getCurrentIndex().get(l(this,rt).getScrollIndex())}getOrigin(t){return l(this,rt).getOrigin(t)}isAquisitionOrientation(){return l(this,rt).isAquisitionOrientation()}getPlanePoints(t){return l(this,no).getPlanePoints(t)}getCurrentScrollPosition(){const t=l(this,rt).getScrollIndex();return l(this,rt).getCurrentPosition().get(t)}generateImageData(t,a){l(this,rt).generateImageData(t,a)}setImage(t){l(this,rt).setImage(t)}get2DSpacing(){return l(this,rt).getImage().getGeometry().getSpacing(l(this,rt).getOrientation()).get2D()}getRescaledImageValue(t){const a=l(this,rt).getImage();if(!a.canQuantify())return;const s=a.getGeometry(),g=s.worldToIndex(t);let C;return s.isIndexInBounds(g)&&(C=a.getRescaledValueAtIndex(g)),C}getPixelUnit(){return l(this,rt).getImage().getMeta().pixelUnit}getImageRegionValues(t,a){let s=l(this,rt).getImage();const g=l(this,rt).getOrientation();let C=this.getCurrentIndex(),L=!0;Y(g)||(s=ie(this,ci,$2).call(this,s,C,L,g),C=new m([0,0,0]),L=!1);const k=function(z,Q,ee,oe,me){if(z.getNumberOfComponents()!==1)throw new Error("Unsupported number of components for region iterator: "+z.getNumberOfComponents());ee===void 0&&(ee=!1);let De=null;De=ee?function(Ne){return z.getRescaledValueAtOffset(Ne)}:function(Ne){return z.getValueAtOffset(Ne)};const Oe=z.getGeometry().getSize();oe===void 0&&(oe=new K(0,0)),me===void 0&&(me=new K(Oe.get(0)-1,Oe.get(1)));const ke=Oe.indexToOffset(Q.getWithNew2D(oe.getX(),oe.getY())),We=Oe.indexToOffset(Q.getWithNew2D(me.getX(),me.getY()-1)),Ee=Math.max(1,me.getX()-oe.getX());return function(Ne,Ue,Re,Ze,Je,tt){let st=Ue,pt=0;return{next:function(){if(st<Re){const Ut={value:Ne(st),done:!1,index:st};return pt+=1,st+=1,pt===Je&&(pt=0,st+=tt),Ut}return{done:!0,index:Re}}}}(De,ke,We+1,0,Ee,Oe.get(0)-Ee)}(s,C,L,t,a);let V=[];return k&&(V=bp(k)),V}getImageVariableRegionValues(t){let a=l(this,rt).getImage();const s=l(this,rt).getOrientation();let g=this.getCurrentIndex(),C=!0;Y(s)||(a=ie(this,ci,$2).call(this,a,g,C,s),g=new m([0,0,0]),C=!1);const L=function(V,z,Q,ee){if(V.getNumberOfComponents()!==1)throw new Error("Unsupported number of components for region iterator: "+V.getNumberOfComponents());Q===void 0&&(Q=!1);let oe=null;oe=Q?function(Ne){return V.getRescaledValueAtOffset(Ne)}:function(Ne){return V.getValueAtOffset(Ne)};const me=V.getGeometry().getSize(),De=[];let Oe,ke=null,We=null,Ee=null;for(let Ne=0;Ne<ee.length;++Ne){Oe=ee[Ne];const Ue=Oe[1][0]-Oe[0][0];Ue!==0&&(Ee=Ne,ke||(ke=Oe[0]),De.push([Oe[0][0],Ue,me.get(0)-Oe[1][0]]))}if(Ee!==null&&(We=ee[Ee][1]),De.length!==0)return function(Ne,Ue,Re,Ze,Je){let tt=Ue,st=0,pt=0;return{next:function(){if(tt<Re){const Ut={value:Ne(tt),done:!1,index:tt};return pt+=1,tt+=1,pt===Je[st][1]&&(pt=0,tt+=Je[st][2],st+=1,st<Je.length&&(tt+=Je[st][0])),Ut}return{done:!0,index:Re}}}}(oe,me.indexToOffset(z.getWithNew2D(ke[0],ke[1])),me.indexToOffset(z.getWithNew2D(We[0],We[1]))+1,0,De)}(a,g,C,t);let k=[];return L&&(k=bp(L)),k}canQuantifyImage(){return l(this,rt).getImage().canQuantify()}canWindowLevel(){return this.isMonochrome()}isMonochrome(){return l(this,rt).getImage().isMonochrome()}canScroll(){return l(this,rt).getImage().canScroll(l(this,rt).getOrientation())}getImageSize(){return l(this,rt).getImage().getGeometry().getSize(l(this,rt).getOrientation())}moreThanOne(t){return this.getImageSize().moreThanOne(t)}getImageWorldSize(){const t=l(this,rt).getImage().getGeometry(),a=t.getSize(l(this,rt).getOrientation()).get2D(),s=t.getSpacing(l(this,rt).getOrientation()).get2D();return{x:a.x*s.x,y:a.y*s.y}}getImageRescaledDataRange(){return l(this,rt).getImage().getRescaledDataRange()}equalImageMeta(t){const a=l(this,rt).getImage().getMeta(),s=Object.keys(t);for(let g=0;g<s.length;++g){const C=s[g];if(a[C]===void 0||a[C]!==t[C])return!1}return!0}isPositionInBounds(t){return l(this,rt).isPositionInBounds(t)}setCurrentPosition(t,a){return l(this,rt).setCurrentPosition(t,a)}getPositionFromPlanePoint(t,a){a===void 0&&(a=this.getCurrentScrollIndexValue());const s=new ce(t.getX(),t.getY(),a),g=l(this,no).getImageOrientedPoint3D(s),C=l(this,rt).getImage().getGeometry().pointToWorld(g);return this.getCurrentPosition().mergeWith3D(C)}getPlanePositionFromPosition(t){const a=l(this,rt).getImage().getGeometry().worldToPoint(t),s=l(this,no).getImageDeOrientedPoint3D(a);return new K(s.getX(),s.getY())}getIndexFromPosition(t){return l(this,rt).getImage().getGeometry().worldToIndex(t)}setCurrentIndex(t,a){return l(this,rt).setCurrentIndex(t,a)}getPlanePositionFromPlanePoint(t){const a=this.getCurrentScrollIndexValue(),s=new ce(t.getX(),t.getY(),a),g=l(this,no).getTargetDeOrientedPoint3D(s),C=l(this,rt).getImage().getGeometry().getRealSpacing();return new ce(g.getX()*C.get(0),g.getY()*C.get(1),g.getZ()*C.get(2))}getOffset3DFromPlaneOffset(t){return l(this,no).getOffset3DFromPlaneOffset(t)}getIncrementPosition(t){return l(this,rt).getImage().getGeometry().indexToWorld(ie(this,ci,Gv).call(this,t))}getDecrementPosition(t){return l(this,rt).getImage().getGeometry().indexToWorld(ie(this,ci,Qv).call(this,t))}getIncrementScrollPosition(){return l(this,rt).getImage().getGeometry().indexToWorld(ie(this,ci,j2).call(this))}getDecrementScrollPosition(){return l(this,rt).getImage().getGeometry().indexToWorld(ie(this,ci,X2).call(this))}incrementIndex(t,a){return this.setCurrentIndex(ie(this,ci,Gv).call(this,t),a)}decrementIndex(t,a){return this.setCurrentIndex(ie(this,ci,Qv).call(this,t),a)}decrementScrollIndex(t){return this.setCurrentIndex(ie(this,ci,X2).call(this),t)}incrementScrollIndex(t){return this.setCurrentIndex(ie(this,ci,j2).call(this),t)}play(){if(this.canScroll())if(l(this,hs)===void 0){const t=l(this,rt).getImage(),a=t.getMeta().RecommendedDisplayFrameRate,s=l(this,rt).getPlaybackMilliseconds(a),g=t.getGeometry().getSize().canScroll3D();X(this,hs,window.setInterval(()=>{let C=!1;if(C=g?this.incrementScrollIndex():this.incrementIndex(3),!C){const L=this.getCurrentIndex().getValues(),k=l(this,rt).getOrientation();g?L[k.getThirdColMajorDirection()]=0:L[3]=0;const V=new m(L),z=l(this,rt).getImage().getGeometry();this.setCurrentPosition(z.indexToWorld(V))}},s))}else this.stop()}stop(){l(this,hs)!==void 0&&(clearInterval(l(this,hs)),X(this,hs,void 0))}getWindowLevel(){return l(this,rt).getWindowLevel()}getCurrentWindowPresetName(){return l(this,rt).getCurrentWindowPresetName()}setWindowLevel(t){l(this,rt).setWindowLevel(t)}getColourMap(){return l(this,rt).getColourMap()}setColourMap(t){l(this,rt).setColourMap(t)}setViewAlphaFunction(t){l(this,rt).setAlphaFunction(t)}bindImageAndLayer(t){const a=l(this,rt).getImage();a.addEventListener("imagecontentchange",t.onimagecontentchange),a.addEventListener("imagegeometrychange",t.onimagegeometrychange)}unbindImageAndLayer(t){const a=l(this,rt).getImage();a.removeEventListener("imagecontentchange",t.onimagecontentchange),a.removeEventListener("imagegeometrychange",t.onimagegeometrychange)}}rt=new WeakMap,no=new WeakMap,hs=new WeakMap,tf=new WeakMap,ci=new WeakSet,$2=function(t,a,s,g){const C=bp(k5(t,a,s,g)),L=t.getGeometry().getSize(g).getValues();L[2]=1;const k=new cl(L),V=t.getGeometry().getSpacing(g).getValues();V[2]=1;const z=new dl(V),Q=new ce(0,0,0),ee=new vd(Q,k,z);return new ku(ee,C)},Gv=function(t){const a=this.getCurrentIndex(),s=new Array(a.length());s.fill(0),t<s.length?s[t]=1:console.warn("Cannot increment given index: ",t,s.length);const g=new m(s);return a.add(g)},Qv=function(t){const a=this.getCurrentIndex(),s=new Array(a.length());s.fill(0),t<s.length?s[t]=-1:console.warn("Cannot decrement given index: ",t,s.length);const g=new m(s);return a.add(g)},j2=function(){return ie(this,ci,Gv).call(this,this.getScrollIndex())},X2=function(){return ie(this,ci,Qv).call(this,this.getScrollIndex())};class H9{constructor(){W(this,Wu,0)}getSum(){return l(this,Wu)}add(t){X(this,Wu,l(this,Wu)+function(a){return a.wheelDeltaY===void 0?-a.deltaY:a.wheelDeltaY>45?1:a.wheelDeltaY<-45?-1:-a.deltaY/60}(t))}clear(){X(this,Wu,0)}isTick(){return Math.abs(l(this,Wu))>=1}}Wu=new WeakMap;class Eh{constructor(t){W(this,nf);W(this,Yu,new H9);X(this,nf,t)}wheel(t){l(this,Yu).add(t);const a=l(this,Yu).getSum()>=0;if(!l(this,Yu).isTick())return;l(this,Yu).clear(),t.preventDefault();const s=Gt(t),g=l(this,nf).getLayerGroupByDivId(s.groupDivId),C=g.getActiveViewLayer().getViewController();let L;g.canScroll()?L=a?C.getIncrementScrollPosition():C.getDecrementScrollPosition():g.moreThanOne(3)&&(L=a?C.getIncrementPosition(3):C.getDecrementPosition(3)),L!==void 0&&g.isPositionInBounds(L)&&C.setCurrentPosition(L)}}nf=new WeakMap,Yu=new WeakMap;class sn{constructor(t,a){W(this,af);W(this,rf);X(this,af,t),X(this,rf,a)}getBegin(){return l(this,af)}getEnd(){return l(this,rf)}equals(t){return t!==null&&this.getBegin().equals(t.getBegin())&&this.getEnd().equals(t.getEnd())}getDeltaX(){return this.getEnd().getX()-this.getBegin().getX()}getDeltaY(){return this.getEnd().getY()-this.getBegin().getY()}getLength(){return Math.sqrt(this.getDeltaX()*this.getDeltaX()+this.getDeltaY()*this.getDeltaY())}getWorldLength(t){let a=null;if(t!==null){const s=this.getDeltaX()*t.x,g=this.getDeltaY()*t.y;a=Math.sqrt(s*s+g*g)}return a}getMidpoint(){return new K((this.getBegin().getX()+this.getEnd().getX())/2,(this.getBegin().getY()+this.getEnd().getY())/2)}getCentroid(){return this.getMidpoint()}getSlope(){return this.getDeltaY()/this.getDeltaX()}getIntercept(){return(this.getEnd().getX()*this.getBegin().getY()-this.getBegin().getX()*this.getEnd().getY())/this.getDeltaX()}getInclination(){return 180-180*Math.atan2(this.getDeltaY(),this.getDeltaX())/Math.PI}quantify(t){const a={},s=t.get2DSpacing(),g=this.getWorldLength(s);return g!==null&&(a.length={value:g,unit:"unit.mm"}),a}}af=new WeakMap,rf=new WeakMap;function Vp(f,t){const a=f.getDeltaX(),s=f.getDeltaY(),g=t.getDeltaX(),C=t.getDeltaY(),L=a*g+s*C,k=a*C-s*g;return 360-(180-180*Math.atan2(k,L)/Math.PI)}function Bp(f,t){const a=f.getDeltaX(),s=f.getDeltaY();return a*t.getDeltaX()+s*t.getDeltaY()==0}function Kr(f,t,a,s){s===void 0&&(s={x:1,y:1});const g=-s.x*s.x/(s.y*s.y*f.getSlope());return D4(g,t.getY()-g*t.getX(),t,a,s)}function w4(f,t,a,s){const g=D4(f.getSlope(),f.getIntercept(),f.getBegin(),t,s);let C;return C=function(L,k){const V=Math.min(k.getBegin().getX(),k.getEnd().getX()),z=Math.max(k.getBegin().getX(),k.getEnd().getX()),Q=Math.min(k.getBegin().getY(),k.getEnd().getY()),ee=Math.max(k.getBegin().getY(),k.getEnd().getY());return L.getX()>=V&&L.getX()<=z&&L.getY()>=Q&&L.getY()<=ee}(g.getBegin(),f)?g.getBegin():g.getEnd(),Kr(f,C,a,s)}function D4(f,t,a,s,g){g===void 0&&(g={x:1,y:1});let C=0,L=0,k=0,V=0;if(I(f,0,_))C=a.getX()-s/(2*g.x),L=a.getY(),k=a.getX()+s/(2*g.x),V=a.getY();else if(Math.abs(f)>1e6)C=a.getX(),L=a.getY()-s/(2*g.y),k=a.getX(),V=a.getY()+s/(2*g.y);else{const z=g.x*g.x,Q=g.y*g.y,ee=s/(2*Math.sqrt(z+Q*f*f));C=a.getX()-ee,L=f*C+t,k=a.getX()+ee,V=f*k+t}return new sn(new K(C,L),new K(k,V))}var W9=d(944),Ye=d.n(W9);class pm{constructor(t){W(this,ja);W(this,$u,{});W(this,Wd,new Ni);W(this,Yd);W(this,of);W(this,ju,t=>{l(this,Wd).fireEvent(t)});X(this,ja,t!==void 0?t:[]),X(this,Yd,!0)}getList(){return l(this,ja)}getLength(){return l(this,ja).length}isEditable(){return l(this,Yd)}setEditable(t){X(this,Yd,t),l(this,ju).call(this,{type:"annotationgroupeditablechange",data:t})}getColour(){return l(this,of)}setColour(t){X(this,of,t)}add(t){l(this,ja).push(t),l(this,ju).call(this,{type:"annotationadd",data:t})}update(t,a){const s=l(this,ja).findIndex(g=>g.id===t.id);s!==-1?((a.includes("mathShape")||a.includes("textExpr"))&&t.updateQuantification(),l(this,ja)[s]=t,l(this,ju).call(this,{type:"annotationupdate",data:t,keys:a})):p.warn("Cannot find annotation to update")}remove(t){const a=l(this,ja).findIndex(s=>s.id===t);if(a!==-1){const s=l(this,ja).splice(a,1)[0];l(this,ju).call(this,{type:"annotationremove",data:s})}else p.warn("Cannot find annotation to remove")}setViewController(t){for(const a of l(this,ja))a.setViewController(t),a.updateQuantification()}find(t){return l(this,ja).find(a=>a.id===t)}getMeta(){return l(this,$u)}hasMeta(t){return l(this,$u)[t]!==void 0}getMetaValue(t){return l(this,$u)[t]}setMetaValue(t,a){l(this,$u)[t]=a}addEventListener(t,a){l(this,Wd).add(t,a)}removeEventListener(t,a){l(this,Wd).remove(t,a)}}ja=new WeakMap,$u=new WeakMap,Wd=new WeakMap,Yd=new WeakMap,of=new WeakMap,ju=new WeakMap;class x4{constructor(t){W(this,wa);X(this,wa,t!==void 0?t:new pm)}getAnnotation(t){return l(this,wa).find(t)}getAnnotationGroup(){return l(this,wa)}isAnnotationGroupEditable(){return l(this,wa).isEditable()}setAnnotationGroupEditable(t){l(this,wa).setEditable(t)}addAnnotation(t){l(this,wa).add(t)}updateAnnotation(t,a){l(this,wa).update(t,a)}removeAnnotation(t){l(this,wa).remove(t)}removeAnnotationWithCommand(t,a){const s=this.getAnnotation(t);if(s===void 0)return void p.warn("Cannot create remove command for undefined annotation: "+t);const g=new qp(s,this);a(g),g.execute()}updateAnnotationWithCommand(t,a,s,g){const C=this.getAnnotation(t);if(C===void 0)return void p.warn("Cannot create update command for undefined annotation: "+t);const L=new Eu(C,a,s,this);g(L),L.execute()}removeAllAnnotationsWithCommand(t){for(const a of l(this,wa).getList())this.removeAnnotationWithCommand(a.id,t)}hasAnnotationMeta(t){return l(this,wa).hasMeta(t)}setAnnotationMeta(t,a){l(this,wa).setMetaValue(t,a)}}wa=new WeakMap;class ym{constructor(){W(this,Um,10);W(this,qm,"Verdana");W(this,Gm,"#fff");W(this,sf,"#ffff80");W(this,$d,{x:1,y:1});W(this,fs,{x:1,y:1});W(this,Qm,2);W(this,zm,{x:.25,y:.25});W(this,Hm,.2);W(this,Wm,3)}getFontFamily(){return l(this,qm)}getFontSize(){return l(this,Um)}getStrokeWidth(){return l(this,Qm)}getTextColour(){return l(this,Gm)}getLineColour(){return l(this,sf)}setLineColour(t){X(this,sf,t)}setBaseScale(t){X(this,$d,t)}setZoomScale(t){X(this,fs,t)}getBaseScale(){return l(this,$d)}getZoomScale(){return l(this,fs)}scale(t){return t/l(this,$d).x}applyZoomScale(t){return{x:t/l(this,fs).x,y:t/l(this,fs).y}}applyZoomRatio(t){return t*l(this,fs).x/l(this,fs).y}getShadowOffset(){return l(this,zm)}getTagOpacity(){return l(this,Hm)}getTextPadding(){return l(this,Wm)}getFontStr(){return"normal "+this.getFontSize()+"px sans-serif"}getLineHeight(){return this.getFontSize()+this.getFontSize()/5}getScaledFontSize(){return this.scale(this.getFontSize())}getScaledStrokeWidth(){return this.scale(this.getStrokeWidth())}getShadowLineColour(){return t=this.getLineColour(),s=t,.001172549*(a={r:parseInt(s.substring(1,3),16),g:parseInt(s.substring(3,5),16),b:parseInt(s.substring(5,7),16)}).r+.002301961*a.g+447059e-9*a.b<.5?"#fff":"#000";var t,a,s}}Um=new WeakMap,qm=new WeakMap,Gm=new WeakMap,sf=new WeakMap,$d=new WeakMap,fs=new WeakMap,Qm=new WeakMap,zm=new WeakMap,Hm=new WeakMap,Wm=new WeakMap;function Np(f){return f.name()==="label"}function fl(f){return f.name()==="shape"}function T4(f){return f.name()==="position-group"}function bm(f){const t=f.getChildren(fl)[0];if(t instanceof Ye().Line)return t}function Vt(f,t){const a=f.getChildren(function(s){return s.id()==="anchor"+t})[0];if(a instanceof Ye().Ellipse)return a}function Up(f){return function(t){return t.id()===f}}function Ru(f,t,a,s){const g=s.applyZoomScale(6),C={x:Math.abs(g.x),y:Math.abs(g.y)};return new(Ye()).Ellipse({x:f,y:t,stroke:"#999",fill:"rgba(100,100,100,0.7",strokeWidth:s.getStrokeWidth(),strokeScaleEnabled:!1,radius:C,radiusX:C.x,radiusY:C.y,name:"anchor",id:a.toString(),dragOnTop:!1,draggable:!0,visible:!1})}function P4(f){return parseInt(f.substring(6),10)}class gl{constructor(t,a){W(this,lf);W(this,uf);X(this,lf,new K(Math.min(t.getX(),a.getX()),Math.min(t.getY(),a.getY()))),X(this,uf,new K(Math.max(t.getX(),a.getX()),Math.max(t.getY(),a.getY())))}getBegin(){return l(this,lf)}getEnd(){return l(this,uf)}equals(t){return t!==null&&this.getBegin().equals(t.getBegin())&&this.getEnd().equals(t.getEnd())}getSurface(){const t=this.getBegin(),a=this.getEnd();return Math.abs(a.getX()-t.getX())*Math.abs(a.getY()-t.getY())}getWorldSurface(t){return function(a,s,g){let C=null;return s!==null&&g!==null&&(C=a*s*g),C}(this.getSurface(),t.x,t.y)}getRealWidth(){return this.getEnd().getX()-this.getBegin().getX()}getRealHeight(){return this.getEnd().getY()-this.getBegin().getY()}getWidth(){return Math.abs(this.getRealWidth())}getHeight(){return Math.abs(this.getRealHeight())}getRound(){return{min:new K(Math.round(this.getBegin().getX()),Math.round(this.getBegin().getY())),max:new K(Math.round(this.getEnd().getX()),Math.round(this.getEnd().getY()))}}getCentroid(){return new K(this.getBegin().getX()+this.getWidth()/2,this.getBegin().getY()+this.getHeight()/2)}quantify(t,a){const s={},g=t.get2DSpacing();s.width={value:this.getWidth()*g.x,unit:"unit.mm"},s.height={value:this.getHeight()*g.y,unit:"unit.mm"};const C=this.getWorldSurface(g);if(C!==null&&(s.surface={value:C/100,unit:"unit.cm2"}),t.canQuantifyImage()){const L=this.getRound(),k=t.getImageRegionValues(L.min,L.max),V=t.getPixelUnit(),z=Cp(k,a);s.min={value:z.min,unit:V},s.max={value:z.max,unit:V},s.mean={value:z.mean,unit:V},s.stdDev={value:z.stdDev,unit:V},z.median!==void 0&&(s.median={value:z.median,unit:V}),z.p25!==void 0&&(s.p25={value:z.p25,unit:V}),z.p75!==void 0&&(s.p75={value:z.p75,unit:V})}return s}}lf=new WeakMap,uf=new WeakMap;function Y9(f,t,a){const s=f.getValues(),g=s.slice(),C=[],L=t[0],k=Math.floor(L/2),V=t[1],z=Math.floor(V/2),Q=a[0],ee=a[1];for(let oe=0;oe<V;++oe){g[ee]=s[ee]-z+oe;for(let me=0;me<L;++me)g[Q]=s[Q]-k+me,C.push(new m(g.slice()))}return C}class Sr{constructor(t){W(this,oa,[]);t!==void 0&&X(this,oa,t)}getPoint(t){return l(this,oa)[t]}getPoints(){return l(this,oa)}getLength(){return l(this,oa).length}addPoint(t){l(this,oa).push(t)}addPoints(t){X(this,oa,l(this,oa).concat(t))}getCentroid(){let t,a=0,s=0,g=0;for(let C=0;C<l(this,oa).length;++C){const L=l(this,oa)[C];let k;k=C===l(this,oa).length-1?l(this,oa)[0]:l(this,oa)[C+1];const V=L.getX()*k.getY()-k.getX()*L.getY();a+=V,s+=(L.getX()+k.getX())*V,g+=(L.getY()+k.getY())*V}if(a!==0){const C=1/(3*a);t=new K(C*s,C*g)}return t}}oa=new WeakMap;class ml{constructor(t){W(this,Ar);if(t.length>3)throw new Error("Too many points for a protractor");X(this,Ar,t.slice(0,3))}getPoint(t){return l(this,Ar)[t]}getLength(){return l(this,Ar).length}getCentroid(){return l(this,Ar)[1]}quantify(t,a){const s={};if(l(this,Ar).length===3){let g=Vp(new sn(l(this,Ar)[0],l(this,Ar)[1]),new sn(l(this,Ar)[1],l(this,Ar)[2]));g>180&&(g=360-g),s.angle={value:g,unit:"unit.degree"}}return s}}Ar=new WeakMap;class vl{constructor(t,a,s){W(this,jd);W(this,cf);W(this,df);X(this,jd,t),X(this,cf,a),X(this,df,s)}getCenter(){return l(this,jd)}getCentroid(){return l(this,jd)}getA(){return l(this,cf)}getB(){return l(this,df)}equals(t){return t!==null&&this.getCenter().equals(t.getCenter())&&this.getA()===t.getA()&&this.getB()===t.getB()}getSurface(){return Math.PI*this.getA()*this.getB()}getWorldSurface(t){return function(a,s,g){let C=null;return s!==null&&g!==null&&(C=a*s*g),C}(this.getSurface(),t.x,t.y)}getRound(){const t=this.getCenter().getX(),a=this.getCenter().getY(),s=this.getA(),g=this.getB(),C=s/g,L=Math.pow(g,2),k=a+g,V=[];for(let z=a-g;z<k;++z){const Q=L-Math.pow(z-a,2);if(Math.abs(Q)<1e-7)continue;const ee=C*Math.sqrt(Q);ee<.5||V.push([[Math.round(t-ee),Math.round(z)],[Math.round(t+ee),Math.round(z)]])}return V}quantify(t,a){const s={},g=t.get2DSpacing();s.a={value:this.getA()*g.x,unit:"unit.mm"},s.b={value:this.getB()*g.y,unit:"unit.mm"};const C=this.getWorldSurface(g);if(C!==null&&(s.surface={value:C/100,unit:"unit.cm2"}),t.canQuantifyImage()){const L=this.getRound();if(L.length!==0){const k=t.getImageVariableRegionValues(L),V=t.getPixelUnit(),z=Cp(k,a);s.min={value:z.min,unit:V},s.max={value:z.max,unit:V},s.mean={value:z.mean,unit:V},s.stdDev={value:z.stdDev,unit:V},z.median!==void 0&&(s.median={value:z.median,unit:V}),z.p25!==void 0&&(s.p25={value:z.p25,unit:V}),z.p75!==void 0&&(s.p75={value:z.p75,unit:V})}}return s}}jd=new WeakMap,cf=new WeakMap,df=new WeakMap;function $9(f,t,a){const s=f.getValues(),g=s.slice(),C=[],L=t[0],k=t[1],V=L/k,z=Math.pow(k,2),Q=a[0],ee=a[1];for(let oe=0;oe<k;++oe){const me=Math.round(V*Math.sqrt(z-Math.pow(oe,2))),De=s[ee]+oe,Oe=s[ee]-oe;for(let ke=0;ke<me;++ke){const We=s[Q]+ke,Ee=s[Q]-ke;g[Q]=We,g[ee]=De,C.push(new m(g.slice())),Oe!==De&&(g[ee]=Oe,C.push(new m(g.slice()))),Ee!==We&&(g[Q]=Ee,g[ee]=De,C.push(new m(g.slice())),Oe!==De&&(g[ee]=Oe,C.push(new m(g.slice()))))}}return C}class Sl{constructor(t,a){W(this,Xd);W(this,hf);X(this,Xd,t),X(this,hf,a)}getCenter(){return l(this,Xd)}getCentroid(){return l(this,Xd)}getRadius(){return l(this,hf)}equals(t){return t!==null&&this.getCenter().equals(t.getCenter())&&this.getRadius()===t.getRadius()}getSurface(){return Math.PI*this.getRadius()*this.getRadius()}getWorldSurface(t){return function(a,s,g){let C=null;return s!==null&&g!==null&&(C=a*s*g),C}(this.getSurface(),t.x,t.y)}getRound(){const t=this.getCenter().getX(),a=this.getCenter().getY(),s=this.getRadius(),g=Math.pow(s,2),C=a+s,L=[];for(let k=a-s;k<C;++k){const V=g-Math.pow(k-a,2);if(Math.abs(V)<1e-7)continue;const z=Math.sqrt(V);z<.5||L.push([[Math.round(t-z),Math.round(k)],[Math.round(t+z),Math.round(k)]])}return L}quantify(t,a){const s={},g=t.get2DSpacing();s.radius={value:this.getRadius()*g.x,unit:"unit.mm"};const C=this.getWorldSurface(g);if(C!==null&&(s.surface={value:C/100,unit:"unit.cm2"}),t.canQuantifyImage()){const L=this.getRound();if(L.length!==0){const k=t.getImageVariableRegionValues(L),V=t.getPixelUnit(),z=Cp(k,a);s.min={value:z.min,unit:V},s.max={value:z.max,unit:V},s.mean={value:z.mean,unit:V},s.stdDev={value:z.stdDev,unit:V},z.median!==void 0&&(s.median={value:z.median,unit:V}),z.p25!==void 0&&(s.p25={value:z.p25,unit:V}),z.p75!==void 0&&(s.p75={value:z.p75,unit:V})}}return s}}Xd=new WeakMap,hf=new WeakMap;class j9{constructor(t,a){W(this,Yn);W(this,Xu);W(this,ff);W(this,Po,null);W(this,oi,null);W(this,El);W(this,Da);W(this,Kd,!1);X(this,Xu,t),X(this,ff,a)}setShape(t,a,s){if(X(this,oi,t),X(this,El,a),X(this,Da,s),l(this,oi)){if(ie(this,Yn,K2).call(this),X(this,Po,s.getFactory()),l(this,Po)===null)throw new Error("Could not find a factory to update shape.");ie(this,Yn,Z2).call(this)}}getShape(){return l(this,oi)}getAnnotation(){return l(this,Da)}isActive(){return l(this,Kd)}enable(){X(this,Kd,!0),l(this,oi)&&(ie(this,Yn,Hv).call(this,!0),l(this,oi).getLayer()&&l(this,oi).getLayer().draw())}disable(){X(this,Kd,!1),l(this,oi)&&(ie(this,Yn,Hv).call(this,!1),l(this,oi).getLayer()&&l(this,oi).getLayer().draw())}reset(){X(this,oi,void 0),X(this,El,void 0),X(this,Da,void 0)}resetAnchors(){ie(this,Yn,K2).call(this),ie(this,Yn,Z2).call(this),ie(this,Yn,Hv).call(this,!0)}setAnchorsActive(t){let a=null;a=t?s=>{ie(this,Yn,J2).call(this,s)}:s=>{ie(this,Yn,pI).call(this,s)},ie(this,Yn,zv).call(this,a)}}Xu=new WeakMap,ff=new WeakMap,Po=new WeakMap,oi=new WeakMap,El=new WeakMap,Da=new WeakMap,Kd=new WeakMap,Yn=new WeakSet,zv=function(t){l(this,oi)&&l(this,oi).getParent()&&l(this,oi).getParent().find(".anchor").forEach(t)},Hv=function(t){ie(this,Yn,zv).call(this,function(a){a.visible(t)})},K2=function(){ie(this,Yn,zv).call(this,function(t){t.remove()})},Z2=function(){if(!l(this,oi)||!l(this,oi).getLayer())return;const t=l(this,oi).getParent(),a=l(this,Po).getAnchors(l(this,oi),l(this,Xu).getStyle());for(let s=0;s<a.length;++s)ie(this,Yn,J2).call(this,a[s]),t.add(a[s])},J2=function(t){let a;t.on("dragstart.edit",s=>{s.cancelBubble=!0,a={mathShape:l(this,Da).mathShape,referencePoints:l(this,Da).referencePoints}}),t.on("dragmove.edit",s=>{const g=s.target;g instanceof Ye().Shape&&(function(C,L){const k=L.getParent();(function(V,z,Q){V.x()<z.getX()?V.x(z.getX()):V.x()>Q.getX()&&V.x(Q.getX()),V.y()<z.getY()?V.y(z.getY()):V.y()>Q.getY()&&V.y(Q.getY())})(L,new K(-k.x(),-k.y()),new K(C.x-k.x(),C.y-k.y()))}(l(this,El).getBaseSize(),g),l(this,Po).constrainAnchorMove!==void 0&&l(this,Po).constrainAnchorMove(g),l(this,Po).updateAnnotationOnAnchorMove(l(this,Da),g),l(this,Po).updateShapeGroupOnAnchorMove(l(this,Da),g,l(this,Xu).getStyle()),g.getLayer()?g.getLayer().draw():p.warn("No layer to draw the anchor!"),s.cancelBubble=!0)}),t.on("dragend.edit",s=>{const g={mathShape:l(this,Da).mathShape,referencePoints:l(this,Da).referencePoints},C=new Eu(l(this,Da),a,g,l(this,El).getDrawController());l(this,Xu).addToUndoStack(C),l(this,ff).call(this,{type:"annotationupdate",data:l(this,Da),dataid:l(this,El).getDataId(),keys:Object.keys(g)}),a={mathShape:g.mathShape,referencePoints:g.referencePoints},s.cancelBubble=!0}),t.on("mousedown touchstart",s=>{s.target.moveToTop()}),t.on("mouseover.edit",s=>{const g=s.target;g instanceof Ye().Shape&&(g.stroke("#ddd"),g.getLayer()?g.getLayer().draw():p.warn("No layer to draw the anchor!"))}),t.on("mouseout.edit",s=>{const g=s.target;g instanceof Ye().Shape&&(g.stroke("#999"),g.getLayer()?g.getLayer().draw():p.warn("No layer to draw the anchor!"))})},pI=function(t){t.off("dragstart.edit"),t.off("dragmove.edit"),t.off("dragend.edit"),t.off("mousedown touchstart"),t.off("mouseover.edit"),t.off("mouseout.edit")};class X9{constructor(){W(this,$n);this.createTrashIcon()}createTrashIcon(){X(this,$n,new(Ye()).Group);const t=new(Ye()).Line({points:[-10,-10,10,10],stroke:"red"}),a=new(Ye()).Line({points:[10,-10,-10,10],stroke:"red"});l(this,$n).width(20),l(this,$n).height(20),l(this,$n).add(t),l(this,$n).add(a)}activate(t){const a=t.getKonvaStage(),s=a.scale(),g=t.getKonvaLayer(),C={x:1/s.x,y:1/s.y};l(this,$n).x(a.offset().x+a.width()/(2*s.x)),l(this,$n).y(a.offset().y+a.height()/(15*s.y)),l(this,$n).scale(C),g.add(l(this,$n)),g.draw()}changeChildrenColourOnTrashHover(t,a,s){if(this.isOverTrash(t))return this.changeGroupChildrenColour(l(this,$n),"orange"),void this.changeGroupChildrenColour(a,"red");this.changeGroupChildrenColour(l(this,$n),"red"),this.changeGroupChildrenColour(a,s)}changeGroupChildrenColour(t,a){t.getChildren().forEach(function(s){s instanceof Ye().Shape&&s.stroke!==void 0&&s.stroke(a)})}remove(){l(this,$n).remove()}isOverTrash(t){const a=l(this,$n).width()*Math.abs(l(this,$n).scaleX())/2,s=l(this,$n).height()*Math.abs(l(this,$n).scaleY())/2;return Math.abs(t.x-l(this,$n).x())<a&&Math.abs(t.y-l(this,$n).y())<s}}$n=new WeakMap;class I4{constructor(t,a){W(this,sa);W(this,gs);W(this,di);W(this,ms);W(this,gf,"pointer");W(this,Ku);W(this,Fl);W(this,Zd);X(this,gs,t),X(this,Zd,a),X(this,di,new j9(t,a)),X(this,ms,new X9)}setEditorShape(t,a){const s=a.getDrawController();t&&t instanceof Ye().Shape&&t!==l(this,di).getShape()&&s.isAnnotationGroupEditable()&&(l(this,di).disable(),l(this,di).setShape(t,a,a.getDrawController().getAnnotation(t.getParent().id())),l(this,di).enable())}getEditorShapeGroup(){let t;if(!l(this,di).isActive()||(t=l(this,di).getShape().getParent(),t instanceof Ye().Group))return t}getEditorAnnotation(){let t;return l(this,di).isActive()&&(t=l(this,di).getAnnotation()),t}disableAndResetEditor(){l(this,di).disable(),l(this,di).reset()}storeMouseOverCursor(t){X(this,gf,t)}onMouseOutShapeGroup(){l(this,Ku)!==void 0&&(document.body.style.cursor=l(this,Ku),X(this,Ku,void 0)),l(this,Fl)!==void 0&&l(this,Fl).opacity(1)}addShapeGroupListeners(t,a,s){ie(this,sa,bI).call(this,t),ie(this,sa,wI).call(this,t,a,s),ie(this,sa,DI).call(this,t,a,s),t.on("dblclick",()=>{const g=a.textExpr;_4.openRoiDialog(a,C=>{const L=C.textExpr,k=new Eu(C,{textExpr:g},{textExpr:L},s.getDrawController());l(this,gs).addToUndoStack(k),k.execute()})})}removeShapeListeners(t){ie(this,sa,CI).call(this,t),t.off("dblclick");const a=t.getChildren(fl)[0];a instanceof Ye().Shape&&(a.draggable(!1),a.off("dragstart.draw"),a.off("dragmove.draw"),a.off("dragend.draw"));const s=t.getChildren(Np)[0];s instanceof Ye().Label&&(s.draggable(!1),s.off("dragstart.draw"),s.off("dragend.draw"))}}gs=new WeakMap,di=new WeakMap,ms=new WeakMap,gf=new WeakMap,Ku=new WeakMap,Fl=new WeakMap,Zd=new WeakMap,sa=new WeakSet,eb=function(t,a){const s=a.getKonvaStage();return{x:s.offset().x+t.x/s.scale().x,y:s.offset().y+t.y/s.scale().y}},yI=function(){X(this,Ku,document.body.style.cursor),document.body.style.cursor=l(this,gf),l(this,Fl).opacity(.75)},bI=function(t){t.on("mouseover",()=>{X(this,Fl,t),ie(this,sa,yI).call(this)}),t.on("mouseout",()=>{this.onMouseOutShapeGroup(),X(this,Fl,void 0)})},CI=function(t){t.off("mouseover"),t.off("mouseout")},wI=function(t,a,s){const g=s.getKonvaLayer(),C=t.getChildren(fl)[0];if(!(C instanceof Ye().Shape))return;let L,k,V,z;C.draggable(!0),C.on("dragstart.draw",Q=>{z=C.stroke(),L={x:C.x(),y:C.y()},k={x:Q.target.x(),y:Q.target.y()},V={mathShape:a.mathShape,referencePoints:a.referencePoints},l(this,ms).activate(s),l(this,di).setAnchorsActive(!1),g.draw()}),C.on("dragmove.draw",Q=>{const ee=function(Ne,Ue){return{min:new K(0,0),max:new K(Ne.x-Math.abs(Ue.width()),Ne.y-Math.abs(Ue.height()))}}(s.getBaseSize(),C);if(ee&&!function(Ne,Ue,Re){const Ze=Ne.getClientRect({relativeTo:Ne.getParent()});return Ze.x>Ue.getX()&&Ze.x<Re.getX()&&Ze.y>Ue.getY()&&Ze.y<Re.getY()}(C,ee.min,ee.max))return C.x(k.x),void C.y(k.y);const oe={x:Q.target.x()-k.x,y:Q.target.y()-k.y},me=t.getChildren(),De=a.labelPosition===void 0;for(const Ne of me)Ne===Q.target||Ne.name()==="label"&&!De||Ne.name()==="connector"||Ne.move(oe);k={x:Q.target.x(),y:Q.target.y()};const Oe=a.getFactory();Oe.updateAnnotationOnTranslation(a,oe),Oe.updateLabelContent(a,t,l(this,gs).getStyle()),Oe.updateConnector(t);const ke=Wn(Q.evt),We={x:ke.getX(),y:ke.getY()},Ee=ie(this,sa,eb).call(this,We,s);l(this,ms).changeChildrenColourOnTrashHover(Ee,t,z),g.draw()}),C.on("dragend.draw",Q=>{if(l(this,ms).remove(),Q===void 0||Q.evt===void 0)return;const ee=C.x(),oe=C.y(),me=Wn(Q.evt),De={x:me.getX(),y:me.getY()},Oe=ie(this,sa,eb).call(this,De,s);if(l(this,ms).isOverTrash(Oe)){t.x(L.x),t.y(L.y),l(this,di).disable(),l(this,di).reset(),l(this,ms).changeGroupChildrenColour(t,z),a.mathShape=V.mathShape,a.referencePoints=V.referencePoints;const ke=new qp(a,s.getDrawController());l(this,gs).addToUndoStack(ke),ke.execute(),this.onMouseOutShapeGroup()}else{const ke={x:ee-L.x,y:oe-L.y};if(ke.x!==0||ke.y!==0){const We={mathShape:a.mathShape,referencePoints:a.referencePoints},Ee=new Eu(a,V,We,s.getDrawController());l(this,gs).addToUndoStack(Ee),l(this,Zd).call(this,{type:"annotationupdate",data:a,dataid:s.getDataId(),keys:Object.keys(We)}),V={mathShape:We.mathShape,referencePoints:We.referencePoints}}l(this,di).setAnchorsActive(!0),l(this,di).resetAnchors()}g.draw(),L={x:C.x(),y:C.y()}})},DI=function(t,a,s){const g=t.getChildren(Np)[0];if(!(g instanceof Ye().Label))return;let C,L;g.draggable(!0),g.on("dragstart.draw",()=>{C={x:g.x(),y:g.y()},L=a.labelPosition}),g.on("dragmove.draw",()=>{a.getFactory().updateConnector(t)}),g.on("dragend.draw",()=>{const k=g.x()-C.x,V=g.y()-C.y;if(k!==0||V!==0){const z=new K(g.x(),g.y());a.labelPosition=z;const Q=new Eu(a,{labelPosition:L},{labelPosition:z},s.getDrawController());l(this,gs).addToUndoStack(Q),l(this,Zd).call(this,{type:"annotationupdate",data:a,dataid:s.getDataId(),keys:["labelPosition"]}),L=z}C={x:g.x(),y:g.y()}})};class yd{constructor(t){W(this,hn);W(this,xa);W(this,bt,null);W(this,Zu);W(this,Jd);W(this,_r,{x:1,y:1});W(this,Lr,{x:1,y:1,z:1});W(this,Or,{x:0,y:0});W(this,Io,{x:0,y:0});W(this,Ta,{x:0,y:0});W(this,Gi,{x:0,y:0});W(this,mf);W(this,Pa);W(this,e0);W(this,vf);W(this,Ju);W(this,io);W(this,Sf,!0);W(this,t0,new Ni);W(this,n0,t=>{t.srclayerid=this.getId(),t.dataid=l(this,e0),l(this,t0).fireEvent(t)});X(this,xa,t),l(this,xa).className+=" drawLayer"}setShapeHandler(t){X(this,io,t)}getDataId(){return l(this,e0)}getReferenceLayerId(){return l(this,vf)}getKonvaStage(){return l(this,bt)}getKonvaLayer(){return l(this,bt).getLayers()[0]}getDrawController(){return l(this,mf)}setPlaneHelper(t){X(this,Pa,t)}getId(){return l(this,xa).id}removeFromDOM(){l(this,xa).remove()}getBaseSize(){return l(this,Zu)}getOpacity(){return l(this,bt).opacity()}setOpacity(t){l(this,bt).opacity(Math.min(Math.max(t,0),1))}addFlipOffsetX(){const t=l(this,bt).scale(),a=l(this,bt).size();l(this,Gi).x+=a.width/t.x;const s=l(this,bt).offset();s.x+=l(this,Gi).x,l(this,bt).offset(s)}addFlipOffsetY(){const t=l(this,bt).scale(),a=l(this,bt).size();l(this,Gi).y+=a.height/t.y;const s=l(this,bt).offset();s.y+=l(this,Gi).y,l(this,bt).offset(s)}flipScaleX(){l(this,Lr).x*=-1}flipScaleY(){l(this,Lr).y*=-1}flipScaleZ(){l(this,Lr).z*=-1}setScale(t,a){const s=l(this,Pa).getTargetOrientedPositiveXYZ({x:t.x*l(this,Lr).x,y:t.y*l(this,Lr).y,z:t.z*l(this,Lr).z}),g={x:l(this,_r).x*s.x,y:l(this,_r).y*s.y},C=l(this,bt).offset();if(Math.abs(t.x)===1&&Math.abs(t.y)===1&&Math.abs(t.z)===1){const L={x:C.x-l(this,Ta).x,y:C.y-l(this,Ta).y};X(this,Ta,{x:0,y:0}),l(this,bt).offset(L)}else if(a!==void 0){let L=l(this,Pa).getPlaneOffsetFromOffset3D({x:a.getX(),y:a.getY(),z:a.getZ()});L={x:L.x+l(this,Or).x,y:L.y+l(this,Or).y};const k=k4(C,l(this,bt).scale(),g,L),V={x:l(this,Ta).x+k.x-C.x,y:l(this,Ta).y+k.y-C.y};X(this,Ta,V),l(this,bt).offset(k)}l(this,bt).scale(g),ie(this,hn,II).call(this,g)}initScale(t,a){const s=l(this,Pa).getTargetOrientedPositiveXYZ({x:t.x*l(this,Lr).x,y:t.y*l(this,Lr).y,z:t.z*l(this,Lr).z}),g={x:l(this,_r).x*s.x,y:l(this,_r).y*s.y};l(this,bt).scale(g),X(this,Ta,{x:a.x/l(this,_r).x,y:a.y/l(this,_r).y});const C=l(this,bt).offset();l(this,bt).offset({x:C.x+l(this,Ta).x,y:C.y+l(this,Ta).y})}setOffset(t){const a=l(this,Pa).getPlaneOffsetFromOffset3D(t);l(this,bt).offset({x:a.x+l(this,Io).x+l(this,Or).x+l(this,Ta).x+l(this,Gi).x,y:a.y+l(this,Io).y+l(this,Or).y+l(this,Ta).y+l(this,Gi).y})}setBaseOffset(t,a){const s=l(this,Pa).getNativeScrollIndex(),g=l(this,Pa).getPlaneOffsetFromOffset3D({x:s===0?t.getX():a.getX(),y:s===1?t.getY():a.getY(),z:s===2?t.getZ():a.getZ()}),C=l(this,Or).x!==g.x||l(this,Or).y!==g.y;if(C){const L=l(this,bt).offset();l(this,bt).offset({x:L.x-l(this,Or).x+g.x,y:L.y-l(this,Or).y+g.y}),X(this,Or,g)}return C}display(t){l(this,xa).style.display=t?"":"none"}isVisible(){return l(this,xa).style.display===""}draw(){l(this,bt).draw()}initialise(t,a,s){X(this,Zu,t),X(this,Jd,a),X(this,vf,s),X(this,bt,new(Ye()).Stage({container:l(this,xa),width:l(this,Zu).x,height:l(this,Zu).y,listening:!1})),l(this,bt).getContent().setAttribute("style","");const g=new(Ye()).Layer({listening:!1,visible:!0});l(this,bt).add(g)}setAnnotationGroup(t,a,s){if(X(this,e0,a),t.addEventListener("annotationadd",g=>{ie(this,hn,Wv).call(this,g.data,!0),this.getKonvaLayer().draw()}),t.addEventListener("annotationupdate",g=>{ie(this,hn,TI).call(this,g.data),this.getKonvaLayer().draw()}),t.addEventListener("annotationremove",g=>{ie(this,hn,ib).call(this,g.data),this.getKonvaLayer().draw()}),t.addEventListener("annotationgroupeditablechange",g=>{this.activateCurrentPositionShapes(g.data)}),X(this,mf,new x4(t)),t.getLength()!==0)for(const g of t.getList())ie(this,hn,Wv).call(this,g,!1),s(new Cm(g,this.getDrawController()))}activateCurrentPositionShapes(t){const a=this.getKonvaLayer();if(l(this,bt).listening(!1),l(this,io)!==void 0){l(this,io).disableAndResetEditor();const g=a.getChildren();for(const C of g)C instanceof Ye().Group&&C.getChildren().forEach(L=>{L instanceof Ye().Group&&l(this,io).removeShapeListeners(L)})}const s=this.getDrawController();if(t&&s.getAnnotationGroup().isEditable()){l(this,bt).listening(!0);const g=this.getCurrentPosGroup().getChildren();g.length!==0&&a.listening(!0),l(this,io)!==void 0&&g.forEach(C=>{if(C instanceof Ye().Group){const L=s.getAnnotation(C.id());l(this,io).addShapeGroupListeners(C,L,this)}})}a.draw()}fitToContainer(t,a,s){l(this,bt).width(t.x),l(this,bt).height(t.y);const g={x:a*l(this,Jd).x,y:a*l(this,Jd).y},C={x:l(this,bt).scale().x*g.x/l(this,_r).x,y:l(this,bt).scale().y*g.y/l(this,_r).y};l(this,bt).scale().x===C.x&&l(this,bt).scale().y===C.y||(X(this,_r,g),l(this,bt).scale(C));const L={x:s.x/g.x,y:s.y/g.y},k={x:t.x/g.x,y:t.y/g.y},V={x:l(this,Gi).x!==0?k.x:0,y:l(this,Gi).y!==0?k.y:0};l(this,Io).x===L.x&&l(this,Io).y===L.y&&l(this,Gi).x===V.x&&l(this,Gi).y===V.y||(l(this,bt).offset({x:l(this,bt).offset().x+L.x-l(this,Io).x+V.x-l(this,Gi).x,y:l(this,bt).offset().y+L.y-l(this,Io).y+V.y-l(this,Gi).y}),X(this,Gi,V),X(this,Io,L))}isAnnotationVisible(t){const a=this.getGroup(t);return a!==void 0&&a.isVisible()}setAnnotationVisibility(t,a){const s=this.getGroup(t);return s!==void 0&&(a===void 0&&(a=!s.isVisible()),s.visible(a),this.draw(),!0)}setLabelsVisibility(t){X(this,Sf,t);const a=this.getKonvaLayer().getChildren();for(const s of a)if(s instanceof Ye().Group){const g=s.getChildren();for(const C of g)C instanceof Ye().Group&&ie(this,hn,ab).call(this,C,t)}}setLabelVisibility(t){ie(this,hn,ab).call(this,t,l(this,Sf))}deleteDraw(t,a){}deleteDraws(t){}getNumberOfDraws(){const t=this.getKonvaLayer().getChildren();let a=0;for(const s of t)s instanceof Ye().Group&&(a+=s.getChildren().length);return a}bindInteraction(){l(this,bt).listening(!0),l(this,xa).style.pointerEvents="auto";const t=bd;for(let a=0;a<t.length;++a)l(this,xa).addEventListener(t[a],l(this,n0))}unbindInteraction(){l(this,bt).listening(!1),l(this,xa).style.pointerEvents="none";const t=bd;for(let a=0;a<t.length;++a)l(this,xa).removeEventListener(t[a],l(this,n0))}setCurrentPosition(t,a){a===void 0&&(a=l(this,Pa).worldToIndex(t));const s=l(this,Pa).getPlanePoints(t);let g;g=l(this,Pa).isAquisitionOrientation()?[s[0]]:s;const C=ie(this,hn,nb).call(this,g);return ie(this,hn,PI).call(this,C),l(this,n0).call(this,{type:"positionchange",value:[a.getValues(),t.getValues()],valid:!0}),!0}getCurrentPosGroup(){if(l(this,Ju)===void 0)return;const t=this.getKonvaLayer().getChildren(s=>s.id()===l(this,Ju));let a;return t.length===1?t[0]instanceof Ye().Group&&(a=t[0]):t.length===0?(a=new(Ye()).Group,a.name("position-group"),a.id(l(this,Ju)),a.visible(!0),this.getKonvaLayer().add(a)):p.warn("Unexpected number of draw position groups"),a}getGroup(t){const a=this.getKonvaLayer().findOne("#"+t);return a===void 0&&p.warn("Cannot find node with id: "+t),a}addEventListener(t,a){l(this,t0).add(t,a)}removeEventListener(t,a){l(this,t0).remove(t,a)}}xa=new WeakMap,bt=new WeakMap,Zu=new WeakMap,Jd=new WeakMap,_r=new WeakMap,Lr=new WeakMap,Or=new WeakMap,Io=new WeakMap,Ta=new WeakMap,Gi=new WeakMap,mf=new WeakMap,Pa=new WeakMap,e0=new WeakMap,vf=new WeakMap,Ju=new WeakMap,io=new WeakMap,Sf=new WeakMap,t0=new WeakMap,hn=new WeakSet,tb=function(t){let a;return a=t.planePoints!==void 0?t.planePoints:[t.planeOrigin],ie(this,hn,nb).call(this,a)},nb=function(t){let a="";for(const s of t)a.length!==0&&(a+="-"),a+=pe([le(s.getX(),2),le(s.getY(),2),le(s.getZ(),2)]);return a},xI=function(t){let a;const s=ie(this,hn,tb).call(this,t),g=this.getKonvaLayer().getChildren(Up(s));if(g.length!==0){const C=g[0];if(!(C instanceof Ye().Group))return;const L=C.getChildren(Up(t.id));L.length!==0&&L[0]instanceof Ye().Group&&(a=L[0])}return a},Wv=function(t,a){if(!t.isCompatibleView(l(this,Pa)))return;const s=ie(this,hn,tb).call(this,t);let g=this.getKonvaLayer().getChildren(Up(s))[0];if(g===void 0&&(g=new(Ye()).Group({id:s,name:"position-group",visible:a}),this.getKonvaLayer().add(g)),!(g instanceof Ye().Group))return;const C=new ym,L=this.getKonvaStage();C.setZoomScale(L.scale());const k=t.getFactory().createShapeGroup(t,C);g.add(k),a&&l(this,io)!==void 0&&l(this,io).addShapeGroupListeners(k,t,this),this.setLabelVisibility(k)},ib=function(t){const a=ie(this,hn,xI).call(this,t);return a instanceof Ye().Group?(a.remove(),!0):(p.debug("No shape group to remove"),!1)},TI=function(t){ie(this,hn,ib).call(this,t)&&ie(this,hn,Wv).call(this,t,!0)},ab=function(t,a){const s=t.getChildren(Np)[0];if(s instanceof Ye().Label&&(a===void 0&&(a=!s.isVisible()),s.getText()!==void 0&&s.getText().text().length!==0)){s.visible(a);const g=t.getChildren(C=>C.className==="Line"&&C.name()==="connector")[0];g&&g.visible(a)}},PI=function(t){X(this,Ju,t);const a=this.getKonvaLayer().getChildren(T4);let s;for(let g=0,C=a.length;g<C;++g)s=!1,t!==void 0&&a[g].id()===t&&(s=!0),a[g].visible(s);this.getKonvaLayer().draw()},n0=new WeakMap,II=function(t){const a=2/t.x,s=2/t.y,g=l(this,bt).find("Label");for(let C=0;C<g.length;++C)g[C].scale({x:a,y:s})};class Cm{constructor(t,a){W(this,ec);W(this,i0);X(this,ec,t),X(this,i0,a)}getName(){return"AddAnnotation-"+l(this,ec).id}execute(){l(this,i0).addAnnotation(l(this,ec))}undo(){l(this,i0).removeAnnotation(l(this,ec).id)}}ec=new WeakMap,i0=new WeakMap;class qp{constructor(t,a){W(this,tc);W(this,a0);X(this,tc,t),X(this,a0,a)}getName(){return"RemoveAnnotation-"+l(this,tc).id}execute(){l(this,a0).removeAnnotation(l(this,tc).id)}undo(){l(this,a0).addAnnotation(l(this,tc))}}tc=new WeakMap,a0=new WeakMap;class Eu{constructor(t,a,s,g){W(this,vs);W(this,r0);W(this,o0);W(this,s0);X(this,vs,t),X(this,r0,g),X(this,o0,a),X(this,s0,s)}getName(){return"UpdateAnnotation-"+l(this,vs).id}execute(){const t=Object.keys(l(this,s0));for(const a of t)l(this,vs)[a]=l(this,s0)[a];l(this,r0).updateAnnotation(l(this,vs),t)}undo(){const t=Object.keys(l(this,o0));for(const a of t)l(this,vs)[a]=l(this,o0)[a];l(this,r0).updateAnnotation(l(this,vs),t)}}vs=new WeakMap,r0=new WeakMap,o0=new WeakMap,s0=new WeakMap;var K9=d(324),wm=d.n(K9);class Fh{constructor(t,a){this.pointArray=t?t.slice():[],this.controlPointIndexArray=a?a.slice():[]}getPoint(t){return this.pointArray[t]}isControlPoint(t){const a=this.pointArray.indexOf(t);if(a!==-1)return this.controlPointIndexArray.indexOf(a)!==-1;throw new Error("Error: isControlPoint called with not in list point.")}getLength(){return this.pointArray.length}addPoint(t){this.pointArray.push(t)}addControlPoint(t){const a=this.pointArray.indexOf(t);if(a===-1)throw new Error("Cannot mark a non registered point as control point.");this.controlPointIndexArray.push(a)}addPoints(t){this.pointArray=this.pointArray.concat(t)}appenPath(t){const a=this.pointArray.length;this.pointArray=this.pointArray.concat(t.pointArray);const s=[];for(let g=0;g<t.controlPointIndexArray.length;++g)s[g]=t.controlPointIndexArray[g]+a;this.controlPointIndexArray=this.controlPointIndexArray.concat(s)}}class Z9{constructor(t,a){this.bucketCount=1<<t,this.mask=this.bucketCount-1,this.size=0,this.loc=0,this.cost=a!==void 0?a:function(s){return s},this.buckets=this.buildArray(this.bucketCount)}push(t){const a=this.getBucket(t);t.next=this.buckets[a],this.buckets[a]=t,this.size++}pop(){if(this.size===0)throw new Error("Cannot pop, bucketQueue is empty.");for(;this.buckets[this.loc]===null;)this.loc=(this.loc+1)%this.bucketCount;const t=this.buckets[this.loc];return this.buckets[this.loc]=t.next,t.next=null,this.size--,t}remove(t){if(!t)return!1;const a=this.getBucket(t);let s=this.buckets[a];for(;s!==null&&(s.next===null||t.x!==s.next.x||t.y!==s.next.y);)s=s.next;return s!==null&&(s.next=s.next.next,this.size--,!0)}isEmpty(){return this.size===0}getBucket(t){return this.cost(t)&this.mask}buildArray(t){const a=new Array(t);for(let s=0;s<a.length;s++)a[s]=null;return a}}const J9=2/(3*Math.PI);function Gp(f,t,a,s,g){const C=f[s][a],L=t[s][a];let k=Math.sqrt(C*C+L*L);k=Math.max(k,1e-100),g.x=C/k,g.y=L/k}class e_{constructor(){W(this,Ym,t=>Math.round(this.searchGran*this.cost[t.y][t.x]));this.width=-1,this.height=-1,this.curPoint=null,this.searchGranBits=8,this.searchGran=1<<this.searchGranBits,this.pointsPerPost=500,this.greyscale=null,this.laplace=null,this.gradient=null,this.gradX=null,this.gradY=null,this.parents=null,this.working=!1,this.trained=!1,this.trainingPoints=null,this.edgeWidth=2,this.trainingLength=32,this.edgeGran=256,this.edgeTraining=null,this.gradPointsNeeded=32,this.gradGran=1024,this.gradTraining=null,this.insideGran=256,this.insideTraining=null,this.outsideGran=256,this.outsideTraining=null}getTrainingIdx(t,a){return Math.round((t-1)*a)}getTrainedEdge(t){return this.edgeTraining[this.getTrainingIdx(this.edgeGran,t)]}getTrainedGrad(t){return this.gradTraining[this.getTrainingIdx(this.gradGran,t)]}getTrainedInside(t){return this.insideTraining[this.getTrainingIdx(this.insideGran,t)]}getTrainedOutside(t){return this.outsideTraining[this.getTrainingIdx(this.outsideGran,t)]}setWorking(t){this.working=t}setDimensions(t,a){this.width=t,this.height=a}setData(t){if(this.width===-1||this.height===-1)throw new Error("Dimensions have not been set.");this.greyscale=function(s,g,C){const L={data:[]};for(let k=0;k<C;k++){L.data[k]=[];for(let V=0;V<g;V++){const z=4*(k*g+V);L.data[k][V]=(s[z]+s[z+1]+s[z+2])/765}}return L.dx=function(k,V){return k+1===this.data[V].length&&k--,this.data[V][k+1]-this.data[V][k]},L.dy=function(k,V){return V+1===this.data.length&&V--,this.data[V][k]-this.data[V+1][k]},L.gradMagnitude=function(k,V){const z=this.dx(k,V),Q=this.dy(k,V);return Math.sqrt(z*z+Q*Q)},L.laplace=function(k,V){let z=-16*this.data[V][k];return z+=this.data[V-2][k],z+=this.data[V-1][k-1]+2*this.data[V-1][k]+this.data[V-1][k+1],z+=this.data[V][k-2]+2*this.data[V][k-1]+2*this.data[V][k+1]+this.data[V][k+2],z+=this.data[V+1][k-1]+2*this.data[V+1][k]+this.data[V+1][k+1],z+=this.data[V+2][k],z},L}(t,this.width,this.height),this.laplace=function(s){const g=[];g[0]=[],g[1]=[];for(let C=1;C<s.data.length;C++)g[0][C]=1,g[1][C]=1;for(let C=2;C<s.data.length-2;C++){g[C]=[],g[C][0]=1,g[C][1]=1;for(let L=2;L<s.data[C].length-2;L++)g[C][L]=s.laplace(L,C)>.33?0:1;g[C][s.data[C].length-2]=1,g[C][s.data[C].length-1]=1}g[s.data.length-2]=[],g[s.data.length-1]=[];for(let C=1;C<s.data.length;C++)g[s.data.length-2][C]=1,g[s.data.length-1][C]=1;return g}(this.greyscale),this.gradient=function(s){const g=[];let C=0,L=0,k=0;for(k=0;k<s.data.length-1;k++){for(g[k]=[],L=0;L<s.data[k].length-1;L++)g[k][L]=s.gradMagnitude(L,k),C=Math.max(g[k][L],C);g[k][s.data[k].length-1]=g[k][s.data.length-2]}g[s.data.length-1]=[];for(let V=0;V<g[0].length;V++)g[s.data.length-1][V]=g[s.data.length-2][V];for(k=0;k<g.length;k++)for(L=0;L<g[k].length;L++)g[k][L]=1-g[k][L]/C;return g}(this.greyscale),this.gradX=function(s){const g=[];for(let C=0;C<s.data.length;C++){g[C]=[];for(let L=0;L<s.data[C].length-1;L++)g[C][L]=s.dx(L,C);g[C][s.data[C].length-1]=g[C][s.data[C].length-2]}return g}(this.greyscale),this.gradY=function(s){const g=[];for(let C=0;C<s.data.length-1;C++){g[C]=[];for(let L=0;L<s.data[C].length;L++)g[C][L]=s.dy(L,C)}g[s.data.length-1]=[];for(let C=0;C<s.data[0].length;C++)g[s.data.length-1][C]=g[s.data.length-2][C];return g}(this.greyscale);const a=function(s,g,C,L){const k={inside:[],outside:[]},V={x:-1,y:-1};for(let z=0;z<g.length;z++){k.inside[z]=[],k.outside[z]=[];for(let Q=0;Q<g[z].length;Q++){Gp(g,C,Q,z,V);let ee=Math.round(Q+s*V.y),oe=Math.round(z-s*V.x),me=Math.round(Q-s*V.y),De=Math.round(z+s*V.x);ee=Math.max(Math.min(ee,g[z].length-1),0),me=Math.max(Math.min(me,g[z].length-1),0),oe=Math.max(Math.min(oe,g.length-1),0),De=Math.max(Math.min(De,g.length-1),0),k.inside[z][Q]=L.data[oe][ee],k.outside[z][Q]=L.data[De][me]}}return k}(this.edgeWidth,this.gradX,this.gradY,this.greyscale);this.inside=a.inside,this.outside=a.outside,this.edgeTraining=[],this.gradTraining=[],this.insideTraining=[],this.outsideTraining=[]}findTrainingPoints(t){const a=[];if(this.parents!==null)for(let s=0;s<this.trainingLength&&t;s++)a.push(t),t=this.parents[t.y][t.x];return a}resetTraining(){this.trained=!1}doTraining(t){if(this.trainingPoints=this.findTrainingPoints(t),this.trainingPoints.length<8)return;const a=[];this.calculateTraining(a,this.edgeGran,this.greyscale,this.edgeTraining),this.calculateTraining(a,this.gradGran,this.gradient,this.gradTraining),this.calculateTraining(a,this.insideGran,this.inside,this.insideTraining),this.calculateTraining(a,this.outsideGran,this.outside,this.outsideTraining),this.trainingPoints.length<this.gradPointsNeeded&&this.addInStaticGrad(this.trainingPoints.length,this.gradPointsNeeded),this.trained=!0}calculateTraining(t,a,s,g){let C=0;for(t.length=a,C=0;C<a;C++)t[C]=0;let L=1;for(C=0;C<this.trainingPoints.length;C++){const k=this.trainingPoints[C],V=this.getTrainingIdx(a,s[k.y][k.x]);t[V]+=1,L=Math.max(L,t[V])}for(C=0;C<a;C++)t[C]=1-t[C]/L;(function(k,V){V[0]=.4*k[0]+.5*k[1]+.1*k[1],V[1]=.25*k[0]+.4*k[1]+.25*k[2]+.1*k[3];for(let Q=2;Q<k.length-2;Q++)V[Q]=.05*k[Q-2]+.25*k[Q-1]+.4*k[Q]+.25*k[Q+1]+.05*k[Q+2];const z=k.length;V[z-2]=.25*k[z-1]+.4*k[z-2]+.25*k[z-3]+.1*k[z-4],V[z-1]=.4*k[z-1]+.5*k[z-2]+.1*k[z-3]})(t,g)}addInStaticGrad(t,a){for(let s=0;s<this.gradGran;s++)this.gradTraining[s]=Math.min(this.gradTraining[s],1-s*(a-t)/(a*this.gradGran))}gradDirection(t,a,s,g){return function(C,L,k,V,z,Q){const ee={x:-1,y:-1},oe={x:-1,y:-1};Gp(C,L,k,V,ee),Gp(C,L,z,Q,oe);let me=ee.y*(z-k)-ee.x*(Q-V),De=oe.y*(z-k)-oe.x*(Q-V);return me<0&&(me=-me,De=-De),k!==z&&V!==Q&&(me*=Math.SQRT1_2,De*=Math.SQRT1_2),J9*(Math.acos(me)+Math.acos(De))}(this.gradX,this.gradY,t,a,s,g)}dist(t,a,s,g){let C=this.gradient[g][s];t!==s&&a!==g||(C*=Math.SQRT1_2);const L=this.laplace[g][s],k=this.gradDirection(t,a,s,g);return this.trained?.3*this.getTrainedGrad(C)+.3*L+.1*(k+this.getTrainedEdge(this.greyscale.data[a][t])+this.getTrainedInside(this.inside[a][t])+this.getTrainedOutside(this.outside[a][t])):.43*C+.43*L+.11*k}adj(t){const a=[],s=Math.max(t.x-1,0),g=Math.max(t.y-1,0),C=Math.min(t.x+1,this.greyscale.data[0].length-1),L=Math.min(t.y+1,this.greyscale.data.length-1);let k=0;for(let V=g;V<=L;V++)for(let z=s;z<=C;z++)z===t.x&&V===t.y||(a[k++]={x:z,y:V});return a}setPoint(t){this.setWorking(!0),this.curPoint=t;let a=0,s=0;for(this.visited=[],s=0;s<this.height;s++)for(this.visited[s]=[],a=0;a<this.width;a++)this.visited[s][a]=!1;for(this.parents=[],s=0;s<this.height;s++)this.parents[s]=[];for(this.cost=[],s=0;s<this.height;s++)for(this.cost[s]=[],a=0;a<this.width;a++)this.cost[s][a]=Number.MAX_VALUE;this.cost[t.y][t.x]=0,this.pq=new Z9(this.searchGranBits,l(this,Ym)),this.pq.push(t)}doWork(){if(!this.working)return;this.timeout=null;let t=0;const a=[];for(;!this.pq.isEmpty()&&t<this.pointsPerPost;){const s=this.pq.pop();a.push(s),a.push(this.parents[s.y][s.x]),this.visited[s.y][s.x]=!0;const g=this.adj(s);for(let C=0;C<g.length;C++){const L=g[C],k=this.cost[s.y][s.x]+this.dist(s.x,s.y,L.x,L.y);k<this.cost[L.y][L.x]&&(this.cost[L.y][L.x]!==Number.MAX_VALUE&&this.pq.remove(L),this.cost[L.y][L.x]=k,this.parents[L.y][L.x]=s,this.pq.push(L))}t++}return a}}Ym=new WeakMap;const pl={labelText:{arrow:{"*":""},circle:{"*":"{surface}"},ellipse:{"*":"{surface}"},protractor:{"*":"{angle}"},rectangle:{"*":"{surface}"},roi:{"*":""},ruler:{"*":"{length}"}}};class Fu{constructor(t){W(this,pf);X(this,pf,t)}getPosition(t){let a=t.labelPosition;return a===void 0&&(a=l(this,pf).call(this,t)),a}create(t,a){const s=new(Ye()).Text({fontSize:a.getFontSize(),fontFamily:a.getFontFamily(),fill:t.colour,padding:a.getTextPadding(),shadowColor:a.getShadowLineColour(),shadowOffset:a.getShadowOffset(),name:"text"}),g=t.getText();s.setText(g);const C=a.applyZoomScale(1),L={x:2*C.x,y:2*C.y},k=this.getPosition(t),V=new(Ye()).Label({x:k.getX(),y:k.getY(),scale:L,visible:g.length!==0,name:"label"});return V.add(s),V.add(new(Ye()).Tag({fill:t.colour,opacity:a.getTagOpacity()})),V}updatePosition(t,a){const s=a.getChildren(function(C){return C.name()==="label"})[0];if(!(s instanceof Ye().Label))return;const g=this.getPosition(t);s.position({x:g.getX(),y:g.getY()})}getLabelAnchorsPosition(t){const a=t.x(),s=t.y(),g=t.width()*t.scale().x,C=t.height()*t.scale().y;return[new K(a+g/2,s),new K(a,s+C/2),new K(a+g/2,s+C),new K(a+g,s+C/2)]}getClosestPoints(t,a){let s=t[0].getDistance(a[0]),g=t[0],C=a[0];for(const L of t)for(const k of a){const V=L.getDistance(k);V<s&&(s=V,g=L,C=k)}return[g,C]}getConnector(t,a,s){const g=this.getLabelAnchorsPosition(a),C=this.getClosestPoints(t,g);return new(Ye()).Line({points:[C[0].getX(),C[0].getY(),C[1].getX(),C[1].getY()],stroke:a.getText().fill(),strokeWidth:s.getStrokeWidth(),strokeScaleEnabled:!1,visible:a.visible(),dash:[10,7],name:"connector"})}updateConnector(t,a){const s=t.getChildren(function(k){return k.name()==="label"})[0];if(!(s instanceof Ye().Label))return;const g=this.getLabelAnchorsPosition(s),C=this.getClosestPoints(a,g),L=t.getChildren(function(k){return k.name()==="connector"})[0];L instanceof Ye().Line&&L.points([C[0].getX(),C[0].getY(),C[1].getX(),C[1].getY()])}updateContent(t,a){const s=a.getChildren(function(C){return C.name()==="label"})[0];if(!(s instanceof Ye().Label))return;const g=t.getText();s.getText().setText(g),s.visible()&&s.visible(g.length!==0)}}pf=new WeakMap;class t_{constructor(){W(this,yf,0);W(this,bf,0);W(this,Cf,null)}getMin(){return l(this,yf)}setMin(t){X(this,yf,t)}getMax(){return l(this,bf)}setMax(t){X(this,bf,t)}getName(){return"Threshold"}setOriginalImage(t){X(this,Cf,t)}getOriginalImage(){return l(this,Cf)}update(){const t=this.getOriginalImage(),a=t.getDataRange().min;return t.transform(s=>s<this.getMin()||s>this.getMax()?a:s)}}yf=new WeakMap,bf=new WeakMap,Cf=new WeakMap;class n_{constructor(){W(this,wf,null)}getName(){return"Sharpen"}setOriginalImage(t){X(this,wf,t)}getOriginalImage(){return l(this,wf)}update(){return this.getOriginalImage().convolute2D([0,-1,0,-1,5,-1,0,-1,0])}}wf=new WeakMap;class i_{constructor(){W(this,Df,null)}getName(){return"Sobel"}setOriginalImage(t){X(this,Df,t)}getOriginalImage(){return l(this,Df)}update(){const t=this.getOriginalImage(),a=t.convolute2D([1,0,-1,2,0,-2,1,0,-1]),s=t.convolute2D([1,2,1,0,0,0,-1,-2,-1]);return a.compose(s,function(g,C){return Math.sqrt(g*g+C*C)})}}Df=new WeakMap;class Qp{constructor(t,a,s){W(this,nc);W(this,Ao);W(this,Ml);X(this,nc,t),X(this,Ao,a),X(this,Ml,s)}getName(){return"Filter-"+l(this,nc).getName()}execute(){l(this,Ml).setImage(l(this,Ao),l(this,nc).update()),l(this,Ml).render(l(this,Ao));const t={type:"filterrun",id:this.getName(),dataId:l(this,Ao)};this.onExecute(t)}undo(){l(this,Ml).setImage(l(this,Ao),l(this,nc).getOriginalImage()),l(this,Ml).render(l(this,Ao));const t={type:"filterundo",id:this.getName(),dataid:l(this,Ao)};this.onUndo(t)}onExecute(t){}onUndo(t){}}nc=new WeakMap,Ao=new WeakMap,Ml=new WeakMap;const A4={},Mh={},a_={WindowLevel:(i3=class{constructor(f){W(this,kr);W(this,Ss);W(this,ic,!1);W(this,ac);W(this,xf);Te(this,"mousedown",f=>{const t=Wn(f),a=Gt(f);ie(this,kr,rb).call(this,t,a.groupDivId)});Te(this,"mousemove",f=>{const t=Wn(f),a=Gt(f);ie(this,kr,ob).call(this,t,a.groupDivId)});Te(this,"mouseup",f=>{ie(this,kr,Yv).call(this)});Te(this,"mouseout",f=>{ie(this,kr,Yv).call(this)});Te(this,"touchstart",f=>{const t=ia(f),a=Gt(f);ie(this,kr,rb).call(this,t[0],a.groupDivId)});Te(this,"touchmove",f=>{const t=ia(f),a=Gt(f);ie(this,kr,ob).call(this,t[0],a.groupDivId)});Te(this,"touchend",f=>{ie(this,kr,Yv).call(this)});Te(this,"dblclick",f=>{const t=Gt(f),a=Wn(f),s=l(this,Ss).getLayerGroupByDivId(t.groupDivId).getActiveViewLayer(),g=s.displayToPlaneIndex(a),C=s.getViewController();if(!C.isMonochrome())return;const L=l(this,Ss).getData(s.getDataId()).image,k=new b(L.getRescaledValueAtIndex(C.getCurrentIndex().getWithNew2D(g.get(0),g.get(1))),C.getWindowLevel().width);C.setWindowLevel(k)});Te(this,"wheel",f=>{l(this,xf).wheel(f)});Te(this,"keydown",f=>{f.context="WindowLevel",l(this,Ss).onKeydown(f)});X(this,Ss,f),X(this,xf,new Eh(f))}activate(f){}init(){}setFeatures(f){}},Ss=new WeakMap,ic=new WeakMap,ac=new WeakMap,xf=new WeakMap,kr=new WeakSet,rb=function(f,t){l(this,Ss).getLayerGroupByDivId(t).getActiveViewLayer().getViewController().isMonochrome()&&(X(this,ic,!0),X(this,ac,f))},ob=function(f,t){if(!l(this,ic))return;const a=l(this,Ss).getLayerGroupByDivId(t).getActiveViewLayer().getViewController(),s=f.getX()-l(this,ac).getX(),g=l(this,ac).getY()-f.getY(),C=a.getImageRescaledDataRange(),L=.01*(C.max-C.min),k=a.getWindowLevel().center,V=a.getWindowLevel().width,z=k+Math.round(g*L);let Q=V+Math.round(s*L);var ee;Q=(ee=Q)<1?1:ee;const oe=new b(z,Q);a.setWindowLevel(oe),X(this,ac,f)},Yv=function(){l(this,ic)&&X(this,ic,!1)},i3),Scroll:(a3=class{constructor(f){W(this,bi);W(this,_o);W(this,rc,!1);W(this,oc);W(this,Tf);W(this,Lo);W(this,Pf,!1);W(this,sc);Te(this,"mousedown",f=>{const t=Wn(f),a=Gt(f);ie(this,bi,sb).call(this,t,a.groupDivId)});Te(this,"mousemove",f=>{const t=Wn(f),a=Gt(f);ie(this,bi,lb).call(this,t,a.groupDivId)});Te(this,"mouseup",f=>{ie(this,bi,$v).call(this)});Te(this,"mouseout",f=>{ie(this,bi,$v).call(this),ie(this,bi,jv).call(this)});Te(this,"touchstart",f=>{X(this,Lo,setTimeout(()=>{this.dblclick(f)},500));const t=ia(f),a=Gt(f);ie(this,bi,sb).call(this,t[0],a.groupDivId)});Te(this,"touchmove",f=>{l(this,Lo)!==null&&(clearTimeout(l(this,Lo)),X(this,Lo,null));const t=ia(f),a=Gt(f);ie(this,bi,lb).call(this,t[0],a.groupDivId)});Te(this,"touchend",f=>{l(this,Lo)!==null&&(clearTimeout(l(this,Lo)),X(this,Lo,null)),ie(this,bi,$v).call(this)});Te(this,"wheel",f=>{l(this,Tf).wheel(f)});Te(this,"keydown",f=>{f.context="Scroll",l(this,_o).onKeydown(f)});Te(this,"dblclick",f=>{const t=Gt(f);l(this,_o).getLayerGroupByDivId(t.groupDivId).getActiveViewLayer().getViewController().play()});X(this,_o,f),X(this,Tf,new Eh(f))}activate(f){f||ie(this,bi,jv).call(this)}setFeatures(f){f.displayTooltip!==void 0&&X(this,Pf,f.displayTooltip)}init(){}},_o=new WeakMap,rc=new WeakMap,oc=new WeakMap,Tf=new WeakMap,Lo=new WeakMap,Pf=new WeakMap,sc=new WeakMap,bi=new WeakSet,sb=function(f,t){ie(this,bi,jv).call(this);const a=l(this,_o).getLayerGroupByDivId(t).getActiveViewLayer(),s=a.getViewController();s.isPlaying()&&s.stop(),X(this,rc,!0),X(this,oc,f);const g=a.displayToPlanePos(f),C=s.getPositionFromPlanePoint(g);s.setCurrentPosition(C)},lb=function(f,t){if(!l(this,rc))return void(l(this,Pf)&&ie(this,bi,AI).call(this,f,t));const a=l(this,_o).getLayerGroupByDivId(t),s=a.getActiveViewLayer().getViewController();let g;const C=f.getY()-l(this,oc).getY(),L=Math.abs(C)>15;L&&a.canScroll()&&(g=C>0?s.getDecrementScrollPosition():s.getIncrementScrollPosition());const k=f.getX()-l(this,oc).getX(),V=Math.abs(k)>15;V&&a.moreThanOne(3)&&(g=k>0?s.getIncrementPosition(3):s.getDecrementPosition(3)),g!==void 0&&a.isPositionInBounds(g)&&s.setCurrentPosition(g),(V||L)&&X(this,oc,f)},$v=function(){l(this,rc)&&X(this,rc,!1)},AI=function(f,t){const a=l(this,_o).getLayerGroupByDivId(t);X(this,sc,t),a.showTooltip(f)},jv=function(){l(this,sc)!==void 0&&(l(this,_o).getLayerGroupByDivId(l(this,sc)).removeTooltipDiv(),X(this,sc,void 0))},a3),ZoomAndPan:(r3=class{constructor(f){W(this,la);W(this,ps);W(this,ys,!1);W(this,bs);W(this,Cs);W(this,l0);W(this,u0);W(this,$m,f=>{X(this,ys,!0),X(this,bs,f[0]),X(this,Cs,!1),X(this,l0,new sn(f[0],f[1])),X(this,u0,l(this,l0).getMidpoint())});W(this,jm,(f,t)=>{if(!l(this,ys))return;X(this,Cs,!0);const a=new sn(f[0],f[1]).getLength()/l(this,l0).getLength(),s=l(this,ps).getLayerGroupByDivId(t),g=s.getActiveViewLayer(),C=g.getViewController();if(a===1){const L=f[0].getY()-l(this,bs).getY();if(Math.abs(L)<15)return;if(s.canScroll()){let k;k=L>0?C.getIncrementScrollPosition():C.getDecrementScrollPosition(),k!==void 0&&s.isPositionInBounds(k)&&C.setCurrentPosition(k)}}else{const L=(a-1)/10;if(Math.abs(L)%.1<=.05&&l(this,u0)!==void 0){const k=g.displayToMainPlanePos(l(this,u0)),V=C.getPlanePositionFromPlanePoint(k);s.addScale(L,V),s.draw()}}});Te(this,"mousedown",f=>{const t=Wn(f);ie(this,la,ub).call(this,t)});Te(this,"mousemove",f=>{const t=Wn(f),a=Gt(f);ie(this,la,cb).call(this,t,a.groupDivId)});Te(this,"mouseup",f=>{if(!l(this,Cs)){const t=Wn(f),a=Gt(f);ie(this,la,db).call(this,t,a.groupDivId)}ie(this,la,Xv).call(this)});Te(this,"mouseout",f=>{ie(this,la,Xv).call(this)});Te(this,"touchstart",f=>{const t=ia(f);t.length===1?ie(this,la,ub).call(this,t[0]):t.length===2&&l(this,$m).call(this,t)});Te(this,"touchmove",f=>{const t=ia(f),a=Gt(f);t.length===1?ie(this,la,cb).call(this,t[0],a.groupDivId):t.length===2&&l(this,jm).call(this,t,a.groupDivId)});Te(this,"touchend",f=>{if(!l(this,Cs)){const t=Wn(f),a=Gt(f);ie(this,la,db).call(this,t,a.groupDivId)}ie(this,la,Xv).call(this)});Te(this,"wheel",f=>{f.preventDefault();const t=-f.deltaY/500,a=Gt(f),s=Wn(f),g=l(this,ps).getLayerGroupByDivId(a.groupDivId),C=g.getActiveViewLayer(),L=C.getViewController(),k=C.displayToMainPlanePos(s),V=L.getPlanePositionFromPlanePoint(k);g.addScale(t,V),g.draw()});Te(this,"keydown",f=>{f.context="ZoomAndPan",l(this,ps).onKeydown(f)});X(this,ps,f)}activate(f){}init(){}setFeatures(f){}},ps=new WeakMap,ys=new WeakMap,bs=new WeakMap,Cs=new WeakMap,l0=new WeakMap,u0=new WeakMap,la=new WeakSet,ub=function(f){X(this,ys,!0),X(this,bs,f),X(this,Cs,!1)},$m=new WeakMap,cb=function(f,t){if(!l(this,ys))return;X(this,Cs,!0);const a=f.getX()-l(this,bs).getX(),s=f.getY()-l(this,bs).getY(),g=l(this,ps).getLayerGroupByDivId(t),C=g.getActiveViewLayer(),L=C.getViewController(),k=C.displayToPlaneScale(new K(a,s)),V=L.getOffset3DFromPlaneOffset({x:k.getX(),y:k.getY()});g.addTranslation({x:V.getX(),y:V.getY(),z:V.getZ()}),g.draw(),X(this,bs,f)},jm=new WeakMap,db=function(f,t){const a=l(this,ps).getLayerGroupByDivId(t).getActiveViewLayer(),s=a.getViewController(),g=a.displayToPlanePos(f),C=s.getPositionFromPlanePoint(g);s.setCurrentPosition(C)},Xv=function(){l(this,ys)&&X(this,ys,!1)},r3),Opacity:(o3=class{constructor(f){W(this,Rr);W(this,c0);W(this,lc,!1);W(this,d0);W(this,If);Te(this,"mousedown",f=>{const t=Wn(f);ie(this,Rr,hb).call(this,t)});Te(this,"mousemove",f=>{const t=Wn(f),a=Gt(f);ie(this,Rr,fb).call(this,t,a.groupDivId)});Te(this,"mouseup",f=>{ie(this,Rr,Kv).call(this)});Te(this,"mouseout",f=>{ie(this,Rr,Kv).call(this)});Te(this,"touchstart",f=>{const t=ia(f);ie(this,Rr,hb).call(this,t[0])});Te(this,"touchmove",f=>{const t=ia(f),a=Gt(f);ie(this,Rr,fb).call(this,t[0],a.groupDivId)});Te(this,"touchend",f=>{ie(this,Rr,Kv).call(this)});Te(this,"wheel",f=>{l(this,If).wheel(f)});Te(this,"keydown",f=>{f.context="Opacity",l(this,c0).onKeydown(f)});X(this,c0,f),X(this,If,new Eh(f))}activate(f){}init(){}setFeatures(f){}},c0=new WeakMap,lc=new WeakMap,d0=new WeakMap,If=new WeakMap,Rr=new WeakSet,hb=function(f){X(this,lc,!0),X(this,d0,f)},fb=function(f,t){if(!l(this,lc))return;const a=f.getX()-l(this,d0).getX();if(Math.abs(a)>15){const s=l(this,c0).getLayerGroupByDivId(t).getActiveViewLayer(),g=s.getOpacity();s.setOpacity(g+a/200),s.draw(),X(this,d0,f)}},Kv=function(){l(this,lc)&&X(this,lc,!1)},o3),Draw:(s3=class{constructor(f){W(this,$t);W(this,jn);W(this,Af);W(this,Oo);W(this,Xa,!1);W(this,h0,null);W(this,Er,null);W(this,Oi,null);W(this,_f);W(this,si,[]);W(this,Ia,null);W(this,Lf,!0);W(this,Of,[]);W(this,Fr);W(this,f0,!1);W(this,Ka,{});W(this,g0,!1);W(this,m0,[]);Te(this,"mousedown",f=>{if(l(this,Xa))return;const t=Wn(f),a=Gt(f);ie(this,$t,gb).call(this,t,a.groupDivId)});Te(this,"mousemove",f=>{if(!l(this,Xa))return;const t=Wn(f),a=Gt(f);ie(this,$t,kI).call(this,t,a.groupDivId)});Te(this,"mouseup",f=>{if(!l(this,Xa))return;const t=Gt(f);ie(this,$t,mb).call(this,t.groupDivId)});Te(this,"dblclick",f=>{if(l(this,Er)&&l(this,Er).getNPoints()!==void 0||!l(this,Xa))return;if(l(this,si).length===0)return void p.warn("Draw dblclick but no points...");const t=Gt(f),a=l(this,jn).getLayerGroupByDivId(t.groupDivId);ie(this,$t,Sb).call(this,l(this,si),a),ie(this,$t,Zv).call(this)});Te(this,"mouseout",f=>{if(!l(this,Xa))return;const t=Gt(f);ie(this,$t,mb).call(this,t.groupDivId)});Te(this,"touchstart",f=>{if(l(this,Xa))return;const t=ia(f),a=Gt(f);ie(this,$t,gb).call(this,t[0],a.groupDivId)});Te(this,"touchmove",f=>{if(!l(this,Xa))return;const t=Gt(f),a=ia(f),s=l(this,jn).getLayerGroupByDivId(t.groupDivId),g=s.getActiveViewLayer().displayToPlanePos(a[0]);(Math.abs(g.getX()-l(this,Ia).getX())>0||Math.abs(g.getY()-l(this,Ia).getY())>0)&&(l(this,si).length!==1&&l(this,si).pop(),X(this,Ia,g),l(this,si).push(l(this,Ia)),l(this,si).length<l(this,Er).getNPoints()&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{l(this,si).push(l(this,Ia))},l(this,Er).getTimeout())),ie(this,$t,vb).call(this,l(this,si),s))});Te(this,"touchend",f=>{this.dblclick(f)});Te(this,"wheel",f=>{l(this,Lf)&&l(this,Af).wheel(f)});Te(this,"keydown",f=>{l(this,Xa)||(f.context="Draw",l(this,jn).onKeydown(f));const t=l(this,Fr).getEditorAnnotation();if((f.key==="Delete"||f.key==="Backspace")&&t!==void 0){const a=l(this,jn).getActiveLayerGroup().getActiveDrawLayer().getDrawController(),s=new qp(t,a);l(this,jn).addToUndoStack(s),s.execute(),l(this,Fr).onMouseOutShapeGroup()}if(f.key==="Escape"&&l(this,Oi)!==null){const a=l(this,Oi).getLayer();l(this,Oi).destroy(),X(this,Oi,null),ie(this,$t,Zv).call(this),a.draw()}});W(this,v0,f=>{if(l(this,Ka)[f.type]!==void 0)for(let t=0;t<l(this,Ka)[f.type].length;++t)l(this,Ka)[f.type][t](f)});X(this,jn,f),X(this,Af,new Eh(f)),X(this,Fr,new I4(f,l(this,v0))),X(this,Oo,f.getStyle())}activate(f){f||l(this,Fr).onMouseOutShapeGroup();const t=l(this,jn).getDrawLayers();for(const a of t)a!==void 0&&ie(this,$t,yb).call(this,a,f);l(this,jn).addEventListener("drawlayeradd",a=>{const s=l(this,jn).getDrawLayers(function(g){return g.getId()===a.layerid});s.length===1&&ie(this,$t,yb).call(this,s[0],f)})}setOptions(f){X(this,h0,f)}getOptionsType(){return"factory"}setFeatures(f){if(f.autoShapeColour!==void 0&&X(this,f0,f.autoShapeColour),f.shapeColour!==void 0&&(l(this,Oo).setLineColour(f.shapeColour),X(this,f0,!1)),f.shapeName!==void 0){if(!this.hasShape(f.shapeName))throw new Error("Unknown shape: '"+f.shapeName+"'");X(this,_f,f.shapeName)}f.mouseOverCursor!==void 0&&l(this,Fr).storeMouseOverCursor(f.mouseOverCursor),f.withScroll!==void 0&&X(this,Lf,f.withScroll),f.blacklist!==void 0&&X(this,Of,f.blacklist)}init(){}getEventNames(){return["annotationupdate","annotationselect","warn"]}addEventListener(f,t){l(this,Ka)[f]===void 0&&(l(this,Ka)[f]=[]),l(this,Ka)[f].push(t)}removeEventListener(f,t){if(l(this,Ka)[f]!==void 0)for(let a=0;a<l(this,Ka)[f].length;++a)l(this,Ka)[f][a]===t&&l(this,Ka)[f].splice(a,1)}hasShape(f){return l(this,h0)[f]!==void 0}},jn=new WeakMap,Af=new WeakMap,Oo=new WeakMap,Xa=new WeakMap,h0=new WeakMap,Er=new WeakMap,Oi=new WeakMap,_f=new WeakMap,si=new WeakMap,Ia=new WeakMap,Lf=new WeakMap,Of=new WeakMap,Fr=new WeakMap,f0=new WeakMap,Ka=new WeakMap,g0=new WeakMap,m0=new WeakMap,$t=new WeakSet,gb=function(f,t){const a=l(this,jn).getLayerGroupByDivId(t);let s=a.getActiveDrawLayer();if(s===void 0){const L=a.getActiveViewLayer().getDataId(),k=l(this,jn).getData(L).image.getMeta().SeriesInstanceUID;if(l(this,Of).includes(k))return void l(this,v0).call(this,{type:"warn",message:"Cannot create draw layer, data is in black list"});const V=l(this,jn).createAnnotationData(L);l(this,jn).addAndRenderAnnotationData(V,t,L),s=a.getActiveDrawLayer(),s.setShapeHandler(l(this,Fr)),a.setActiveDrawLayerByDataId(s.getDataId())}const g=s.getDrawController().getAnnotationGroup(),C=s.getKonvaStage();if(l(this,Oo).setZoomScale(C.scale()),g.isEditable()){const L=C.getIntersection({x:f.getX(),y:f.getY()});L?ie(this,$t,OI).call(this,s,L):ie(this,$t,_I).call(this,a,f)}},_I=function(f,t){l(this,Fr).disableAndResetEditor(),ie(this,$t,LI).call(this);const a=f.getActiveViewLayer();X(this,Ia,a.displayToPlanePos(t)),l(this,si).push(l(this,Ia))},LI=function(){X(this,Xa,!0),X(this,Er,new(l(this,h0))[l(this,_f)]),X(this,si,[])},Zv=function(){X(this,Xa,!1),X(this,si,[])},OI=function(f,t){let a=t.getParent();t instanceof Ye().Tag&&(a=a.getParent());const s=a.find(".shape")[0];s instanceof Ye().Shape&&(l(this,v0).call(this,{type:"annotationselect",annotationid:a.id(),dataid:f.getDataId()}),l(this,Fr).setEditorShape(s,f))},kI=function(f,t){const a=l(this,jn).getLayerGroupByDivId(t),s=a.getActiveViewLayer().displayToPlanePos(f);(Math.abs(s.getX()-l(this,Ia).getX())>0||Math.abs(s.getY()-l(this,Ia).getY())>0)&&(l(this,g0)&&l(this,si).pop(),X(this,Ia,s),X(this,g0,!0),l(this,si).push(l(this,Ia)),ie(this,$t,vb).call(this,l(this,si),a))},mb=function(f){if(l(this,si).length!==0){if(l(this,si).length===l(this,Er).getNPoints()){const t=l(this,jn).getLayerGroupByDivId(f);ie(this,$t,Sb).call(this,l(this,si),t),ie(this,$t,Zv).call(this)}X(this,g0,!1)}else p.warn("Draw mouseup but no points...")},vb=function(f,t){l(this,Oi)&&(l(this,Oi).destroy(),X(this,Oi,null));const a=t.getActiveDrawLayer(),s=a.getDrawController(),g=a.getKonvaLayer(),C=t.getActiveViewLayer().getViewController();if(l(this,f0)){const V=["#ffff80","#ff80ff","#80ffff","#80ff80","8080ff","ff8080"],z=a.getId(),Q=z.substring(z.length-1),ee=V[parseInt(Q,10)-1];ee!==void 0&&l(this,Oo).setLineColour(ee)}const L=new Mu,k=s.getAnnotationGroup().getColour();L.colour=k!==void 0?k:l(this,Oo).getLineColour(),L.init(C),l(this,Er).setAnnotationMathShape(L,f),X(this,Oi,l(this,Er).createShapeGroup(L,l(this,Oo))),a.setLabelVisibility(l(this,Oi)),l(this,Oi).getChildren(fl)[0].listening(!1),g.listening(!1),g.add(l(this,Oi)),g.draw()},Sb=function(f,t){l(this,Oi)&&(l(this,Oi).destroy(),X(this,Oi,null));const a=t.getActiveDrawLayer(),s=a.getKonvaLayer(),g=a.getDrawController(),C=t.getActiveViewLayer().getViewController(),L=new Mu,k=g.getAnnotationGroup().getColour();L.colour=k!==void 0?k:l(this,Oo).getLineColour(),L.id=hm(),L.init(C),l(this,Er).setAnnotationMathShape(L,f);const V=new Cm(L,g);l(this,jn).addToUndoStack(V),V.execute(),s.listening(!0)},pb=function(f){const t=f.getId();return l(this,m0)[t]===void 0&&(l(this,m0)[t]=()=>{f.activateCurrentPositionShapes(!0)}),l(this,m0)[t]},yb=function(f,t){f.setShapeHandler(l(this,Fr)),f.activateCurrentPositionShapes(t),t?l(this,jn).addEventListener("positionchange",ie(this,$t,pb).call(this,f)):l(this,jn).removeEventListener("positionchange",ie(this,$t,pb).call(this,f))},v0=new WeakMap,s3),Filter:(l3=class{constructor(f){W(this,S0);W(this,ua,null);W(this,Vl,0);W(this,p0,new Ni);Te(this,"keydown",f=>{f.context="Filter",l(this,S0).onKeydown(f)});W(this,uc,f=>{l(this,p0).fireEvent(f)});X(this,S0,f)}activate(f){for(const t in l(this,ua))f?(l(this,ua)[t].addEventListener("filterrun",l(this,uc)),l(this,ua)[t].addEventListener("filter-undo",l(this,uc))):(l(this,ua)[t].removeEventListener("filterrun",l(this,uc)),l(this,ua)[t].removeEventListener("filter-undo",l(this,uc)))}setOptions(f){X(this,ua,{});for(const t in f)l(this,ua)[t]=new f[t](l(this,S0))}getOptionsType(){return"instance"}init(){for(const f in l(this,ua))l(this,ua)[f].init()}getEventNames(){return["filterrun","filterundo"]}addEventListener(f,t){l(this,p0).add(f,t)}removeEventListener(f,t){l(this,p0).remove(f,t)}getSelectedFilter(){return l(this,Vl)}setFeatures(f){if(f.filterName!==void 0){if(!this.hasFilter(f.filterName))throw new Error("Unknown filter: '"+f.filterName+"'");l(this,Vl)&&l(this,Vl).activate(!1),X(this,Vl,l(this,ua)[f.filterName]),l(this,Vl).activate(!0)}if(f.run!==void 0&&f.run){let t={};f.runArgs!==void 0&&(t=f.runArgs),this.getSelectedFilter().run(t)}}getFilterList(){return l(this,ua)}hasFilter(f){return l(this,ua)[f]}},S0=new WeakMap,ua=new WeakMap,Vl=new WeakMap,p0=new WeakMap,uc=new WeakMap,l3),Floodfill:(u3=class{constructor(f){W(this,hi);W(this,Mr);W(this,Xm,5);W(this,Km,0);W(this,Zm,2e3);W(this,Bl,null);W(this,cc,null);W(this,ws,10);W(this,ko,null);W(this,dc,!1);W(this,Za);W(this,ao);W(this,hc,null);W(this,y0,[]);W(this,kf,!1);W(this,Nl,new ym);W(this,Rf,new Ni);W(this,Ef,(f,t)=>{const a=l(this,Mr).getLayerGroupByDivId(t).getActiveViewLayer().displayToPlaneIndex(f);return{x:a.get(0),y:a.get(1)}});Te(this,"mousedown",f=>{const t=Wn(f),a=Gt(f);ie(this,hi,bb).call(this,t,a.groupDivId)});Te(this,"mousemove",f=>{const t=Wn(f),a=Gt(f);ie(this,hi,Cb).call(this,t,a.groupDivId)});Te(this,"mouseup",f=>{ie(this,hi,Jv).call(this)});Te(this,"mouseout",f=>{ie(this,hi,Jv).call(this)});Te(this,"touchstart",f=>{const t=ia(f),a=Gt(f);ie(this,hi,bb).call(this,t[0],a.groupDivId)});Te(this,"touchmove",f=>{const t=ia(f),a=Gt(f);ie(this,hi,Cb).call(this,t[0],a.groupDivId)});Te(this,"touchend",f=>{ie(this,hi,Jv).call(this)});Te(this,"keydown",f=>{f.context="Floodfill",l(this,Mr).onKeydown(f)});X(this,Mr,f)}setExtend(f){X(this,kf,f)}getExtend(){return l(this,kf)}extend(f,t,a){if(!l(this,ao))throw"'initialpoint' not found. User must click before use extend!";const s=a.getActiveViewLayer().getViewController(),g=s.getCurrentIndex(),C=s.getImageSize(),L=l(this,ko)||l(this,ws);for(let k=g.get(2),V=t||C.get(2);k<V&&ie(this,hi,fg).call(this,l(this,ao),L,a);k++)s.incrementIndex(2);s.setCurrentPosition(g);for(let k=g.get(2),V=f||0;k>V&&ie(this,hi,fg).call(this,l(this,ao),L,a);k--)s.decrementIndex(2);s.setCurrentPosition(g)}onThresholdChange(f){}activate(f){f&&(l(this,Nl).setBaseScale(l(this,Mr).getBaseScale()),this.setFeatures({shapeColour:l(this,Nl).getLineColour()}))}init(){}getEventNames(){return["drawcreate","drawchange","drawmove","drawdelete"]}addEventListener(f,t){l(this,Rf).add(f,t)}removeEventListener(f,t){l(this,Rf).remove(f,t)}setFeatures(f){f.shapeColour!==void 0&&l(this,Nl).setLineColour(f.shapeColour)}},Mr=new WeakMap,Xm=new WeakMap,Km=new WeakMap,Zm=new WeakMap,Bl=new WeakMap,cc=new WeakMap,ws=new WeakMap,ko=new WeakMap,dc=new WeakMap,Za=new WeakMap,ao=new WeakMap,hc=new WeakMap,y0=new WeakMap,kf=new WeakMap,Nl=new WeakMap,Rf=new WeakMap,Ef=new WeakMap,hi=new WeakSet,RI=function(f,t,a){X(this,y0,[]);const s={data:l(this,Bl).data,width:l(this,Bl).width,height:l(this,Bl).height,bytes:4};X(this,cc,wm().floodFill(s,f.x,f.y,t)),X(this,cc,wm().gaussBlurOnlyBorder(l(this,cc),l(this,Xm)));let g=wm().traceContours(l(this,cc));if(g=wm().simplifyContours(g,l(this,Km),l(this,Zm)),g.length>0&&g[0].points[0].x){if(a)return g[0].points;for(let C=0,L=g[0].points.length;C<L;C++)l(this,y0).push(new K(g[0].points[C].x,g[0].points[C].y));return l(this,y0)}return[]},fg=function(f,t,a){if(X(this,hc,ie(this,hi,RI).call(this,f,t,!1)),l(this,hc).length!==0){const s=a.getActiveDrawLayer().getDrawController(),g=new Sr(l(this,hc));let C;if(l(this,Za)===void 0){X(this,Za,new Mu),l(this,Za).colour=l(this,Nl).getLineColour(),l(this,Za).id=hm();const L=a.getActiveViewLayer().getViewController();l(this,Za).init(L),l(this,Za).mathShape=g,C=new Cm(l(this,Za),s)}else{const L=l(this,Za).mathShape;C=new Eu(l(this,Za),{mathShape:L},{mathShape:g},s)}l(this,Mr).addToUndoStack(C),C.execute()}return l(this,hc).length!==0},bb=function(f,t){X(this,Za,void 0);const a=l(this,Mr).getLayerGroupByDivId(t),s=a.getActiveViewLayer();let g=a.getActiveDrawLayer();if(g===void 0){const C=a.getActiveViewLayer().getDataId(),L=l(this,Mr).createAnnotationData(C);l(this,Mr).addAndRenderAnnotationData(L,t,C),g=a.getActiveDrawLayer(),a.setActiveDrawLayerByDataId(g.getDataId())}X(this,Bl,s.getImageData()),l(this,Bl)?(l(this,Nl).setZoomScale(g.getKonvaLayer().getAbsoluteScale()),X(this,dc,!0),X(this,ao,l(this,Ef).call(this,f,t)),ie(this,hi,fg).call(this,l(this,ao),l(this,ws),a),this.onThresholdChange(l(this,ws))):p.error("No image found")},Cb=function(f,t){if(!l(this,dc))return;const a=l(this,Ef).call(this,f,t);X(this,ko,Math.round(Math.sqrt(Math.pow(l(this,ao).x-a.x,2)+Math.pow(l(this,ao).y-a.y,2))/2)),X(this,ko,l(this,ko)<l(this,ws)?l(this,ws):l(this,ko)-l(this,ws)),ie(this,hi,fg).call(this,l(this,ao),l(this,ko),l(this,Mr).getLayerGroupByDivId(t)),this.onThresholdChange(l(this,ko))},Jv=function(){l(this,dc)&&X(this,dc,!1)},u3),Livewire:(c3=class{constructor(f){W(this,Qi);W(this,Vr);W(this,fc,!1);W(this,b0);W(this,Ja);W(this,Ul,new ym);W(this,Ds,new Fh);W(this,Ro,new Fh);W(this,xs,[]);W(this,Ff,5);W(this,Mf,new Ni);W(this,Ts,new e_);Te(this,"mousedown",f=>{const t=Wn(f),a=Gt(f);ie(this,Qi,Db).call(this,t,a.groupDivId)});Te(this,"mousemove",f=>{const t=Wn(f),a=Gt(f);ie(this,Qi,xb).call(this,t,a.groupDivId)});Te(this,"mouseout",f=>{});Te(this,"dblclick",f=>{ie(this,Qi,Tb).call(this)});Te(this,"touchstart",f=>{const t=ia(f),a=Gt(f);ie(this,Qi,Db).call(this,t[0],a.groupDivId)});Te(this,"touchmove",f=>{const t=ia(f),a=Gt(f);ie(this,Qi,xb).call(this,t[0],a.groupDivId)});Te(this,"touchend",f=>{});Te(this,"keydown",f=>{f.context="Livewire",l(this,Vr).onKeydown(f)});X(this,Vr,f)}mouseup(f){}activate(f){if(f){const t=l(this,Vr).getActiveLayerGroup().getActiveViewLayer(),a=t.getViewController().getImageSize();l(this,Ts).setDimensions(a.get(0),a.get(1)),l(this,Ts).setData(t.getImageData().data),l(this,Ul).setBaseScale(l(this,Vr).getBaseScale()),this.setFeatures({shapeColour:l(this,Ul).getLineColour()})}}init(){}getEventNames(){return["drawcreate","drawchange","drawmove","drawdelete"]}addEventListener(f,t){l(this,Mf).add(f,t)}removeEventListener(f,t){l(this,Mf).remove(f,t)}setFeatures(f){f.shapeColour!==void 0&&l(this,Ul).setLineColour(f.shapeColour)}},Vr=new WeakMap,fc=new WeakMap,b0=new WeakMap,Ja=new WeakMap,Ul=new WeakMap,Ds=new WeakMap,Ro=new WeakMap,xs=new WeakMap,Ff=new WeakMap,Mf=new WeakMap,Qi=new WeakSet,wb=function(f){const t=f.get(1);for(let a=0;a<t;++a)l(this,xs)[a]=[]},EI=function(){X(this,Ds,new Fh),X(this,Ro,new Fh)},Ts=new WeakMap,Db=function(f,t){const a=l(this,Vr).getLayerGroupByDivId(t),s=a.getActiveViewLayer(),g=s.getViewController().getImageSize(),C=s.displayToPlaneIndex(f);if(l(this,fc)){const L=Math.abs(C.get(0)-l(this,b0).getX()),k=Math.abs(C.get(1)-l(this,b0).getY());if(L<l(this,Ff)&&k<l(this,Ff))ie(this,Qi,Tb).call(this);else{X(this,Ds,l(this,Ro)),ie(this,Qi,wb).call(this,g);const V={x:C.get(0),y:C.get(1)};l(this,Ts).doTraining(V),l(this,Ds).addControlPoint(l(this,Ro).getPoint(0))}}else{X(this,Ja,void 0),X(this,fc,!0),X(this,b0,new K(C.get(0),C.get(1))),ie(this,Qi,EI).call(this),ie(this,Qi,wb).call(this,g);let L=a.getActiveDrawLayer();if(L===void 0){const z=a.getActiveViewLayer().getDataId(),Q=l(this,Vr).createAnnotationData(z);l(this,Vr).addAndRenderAnnotationData(Q,t,z),L=a.getActiveDrawLayer(),a.setActiveDrawLayerByDataId(L.getDataId())}l(this,Ul).setZoomScale(L.getKonvaLayer().getAbsoluteScale());const k={x:C.get(0),y:C.get(1)};l(this,Ts).doTraining(k);const V=new K(C.get(0),C.get(1));l(this,Ds).addPoint(V),l(this,Ds).addControlPoint(V)}},xb=function(f,t){if(!l(this,fc))return;const a=l(this,Vr).getLayerGroupByDivId(t),s=a.getActiveViewLayer().displayToPlaneIndex(f);let g={x:s.get(0),y:s.get(1)};l(this,Ts).setPoint(g);let C=[],L=!1;for(;!l(this,xs)[g.y][g.x]&&!L;)if(C=l(this,Ts).doWork(),C.length===0)L=!0;else for(let Q=0;Q<C.length-1;Q+=2){const ee=C[Q],oe=C[Q+1];l(this,xs)[ee.y][ee.x]=oe}for(X(this,Ro,new Fh),L=!1;g&&!L;)l(this,Ro).addPoint(new K(g.x,g.y)),l(this,xs)[g.y]&&l(this,xs)[g.y][g.x]?g=l(this,xs)[g.y][g.x]:L=!0;l(this,Ro).appenPath(l(this,Ds));const k=a.getActiveDrawLayer().getDrawController(),V=new Sr(l(this,Ro).pointArray);let z;if(l(this,Ja)===void 0){X(this,Ja,new Mu),l(this,Ja).colour=l(this,Ul).getLineColour(),l(this,Ja).id=hm();const Q=a.getActiveViewLayer().getViewController();l(this,Ja).init(Q),l(this,Ja).mathShape=V,z=new Cm(l(this,Ja),k)}else{const Q=l(this,Ja).mathShape;z=new Eu(l(this,Ja),{mathShape:Q},{mathShape:V},k)}l(this,Vr).addToUndoStack(z),z.execute()},Tb=function(){X(this,fc,!1)},c3)},zp={draw:{ArrowFactory:(d3=class{constructor(){W(this,Cn);W(this,Vf,"arrow");W(this,ql,new Fu(ie(this,Cn,UI)))}static supports(f){return f instanceof K}getName(){return l(this,Vf)}getGroupName(){return l(this,Vf)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(f,t){f.mathShape=ie(this,Cn,MI).call(this,t),f.referencePoints=[t[1]],f.setTextExpr(ie(this,Cn,VI).call(this)),f.updateQuantification()}createShapeGroup(f,t){const a=new(Ye()).Group;a.name(this.getGroupName()),a.visible(!0),a.id(f.id);const s=ie(this,Cn,BI).call(this,f,t);a.add(s);const g=ie(this,Cn,NI).call(this,f,t);for(const k of g)a.add(k);const C=l(this,ql).create(f,t);a.add(C);const L=ie(this,Cn,Pb).call(this,s);return a.add(l(this,ql).getConnector(L,C,t)),a}getAnchors(f,t){const a=ie(this,Cn,FI).call(this,f),s=[];for(let g=0;g<a.length;++g)s.push(Ru(a[g].getX(),a[g].getY(),"anchor"+g,t));return s}constrainAnchorMove(f){}updateShapeGroupOnAnchorMove(f,t,a){const s=t.getParent();s instanceof Ye().Group&&(ie(this,Cn,qI).call(this,f,t,a),this.updateLabelContent(f,s,a),f.labelPosition===void 0?l(this,ql).updatePosition(f,s):this.updateConnector(s))}updateAnnotationOnAnchorMove(f,t){const a=t.getParent();if(!(a instanceof Ye().Group))return;const s=ie(this,Cn,eS).call(this,a),g=Vt(a,0),C=Vt(a,1),L=new K(g.x()-s.x(),g.y()-s.y()),k=new K(C.x()-s.x(),C.y()-s.y());f.mathShape=L,f.referencePoints=[k],f.updateQuantification()}updateAnnotationOnTranslation(f,t){const a=f.mathShape,s=f.referencePoints[0],g=new sn(a,s),C=g.getBegin(),L=new K(C.getX()+t.x,C.getY()+t.y),k=g.getEnd(),V=new K(k.getX()+t.x,k.getY()+t.y);f.mathShape=L,f.referencePoints=[V],f.updateQuantification()}updateLabelContent(f,t,a){l(this,ql).updateContent(f,t)}updateConnector(f){const t=ie(this,Cn,eS).call(this,f),a=ie(this,Cn,Pb).call(this,t);l(this,ql).updateConnector(f,a)}},Vf=new WeakMap,ql=new WeakMap,Cn=new WeakSet,Pb=function(f){const t=f.points(),a=f.x(),s=f.y(),g=(t[0]+t[2])/2+a,C=(t[1]+t[3])/2+s;return[new K(g,C)]},FI=function(f){const t=f.points(),a=f.x(),s=f.y();return[new K(t[0]+a,t[1]+s),new K(t[2]+a,t[3]+s)]},MI=function(f){return f[0]},VI=function(){return pl.labelText.arrow},BI=function(f,t){const a=f.mathShape,s=f.referencePoints[0],g=new sn(a,s),C=new(Ye()).Line({points:[a.getX(),a.getY(),s.getX(),s.getY()],stroke:f.colour,strokeWidth:t.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),L=Kr(g,a,20,t.getZoomScale()),k=Kr(g,s,20,t.getZoomScale());return C.hitFunc(function(V){V.beginPath(),V.moveTo(L.getBegin().getX(),L.getBegin().getY()),V.lineTo(L.getEnd().getX(),L.getEnd().getY()),V.lineTo(k.getEnd().getX(),k.getEnd().getY()),V.lineTo(k.getBegin().getX(),k.getBegin().getY()),V.closePath(),V.fillStrokeShape(C)}),C},eS=function(f){return bm(f)},NI=function(f,t){const a=f.mathShape,s=f.referencePoints[0],g=new sn(a,s),C=w4(g,40,20,t.getZoomScale());return[new(Ye()).Line({points:[g.getBegin().getX(),g.getBegin().getY(),C.getBegin().getX(),C.getBegin().getY(),C.getEnd().getX(),C.getEnd().getY()],fill:f.colour,strokeWidth:t.getStrokeWidth(),strokeScaleEnabled:!1,closed:!0,name:"shape-triangle"})]},UI=function(f){return f.mathShape},qI=function(f,t,a){const s=f.mathShape,g=f.referencePoints[0],C=new sn(s,g),L=t.getParent();if(!(L instanceof Ye().Group))return;const k=ie(this,Cn,eS).call(this,L);k.position({x:0,y:0}),k.points([s.getX(),s.getY(),g.getX(),g.getY()]);const V=L.getChildren(function(De){return De.name()==="shape-triangle"})[0];if(!(V instanceof Ye().Line))return;const z=Vt(L,0),Q=Vt(L,1);switch(t.id()){case"anchor0":z.x(t.x()),z.y(t.y());break;case"anchor1":Q.x(t.x()),Q.y(t.y());break;default:p.error("Unhandled anchor id: "+t.id())}const ee=w4(C,40,20,a.getZoomScale());V.position({x:0,y:0}),V.points([C.getBegin().getX(),C.getBegin().getY(),ee.getBegin().getX(),ee.getBegin().getY(),ee.getEnd().getX(),ee.getEnd().getY()]);const oe=Kr(C,s,20,a.getZoomScale()),me=Kr(C,g,20,a.getZoomScale());k.hitFunc(function(De){De.beginPath(),De.moveTo(oe.getBegin().getX(),oe.getBegin().getY()),De.lineTo(oe.getEnd().getX(),oe.getEnd().getY()),De.lineTo(me.getEnd().getX(),me.getEnd().getY()),De.lineTo(me.getBegin().getX(),me.getBegin().getY()),De.closePath(),De.fillStrokeShape(k)})},HU=function(f,t){},WU=function(f,t){},d3),CircleFactory:(h3=class{constructor(){W(this,Tn);W(this,Bf,"circle");W(this,Ps,new Fu(ie(this,Tn,HI)))}static supports(f){return f instanceof Sl}getName(){return l(this,Bf)}getGroupName(){return l(this,Bf)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(f,t){f.mathShape=ie(this,Tn,QI).call(this,t),f.setTextExpr(ie(this,Tn,zI).call(this)),f.updateQuantification()}createShapeGroup(f,t){const a=new(Ye()).Group;a.name(this.getGroupName()),a.visible(!0),a.id(f.id);const s=ie(this,Tn,Ab).call(this,f,t);a.add(ie(this,Tn,Ab).call(this,f,t));const g=l(this,Ps).create(f,t);a.add(l(this,Ps).create(f,t));const C=ie(this,Tn,Ib).call(this,s);return a.add(l(this,Ps).getConnector(C,g,t)),a}getAnchors(f,t){const a=ie(this,Tn,GI).call(this,f),s=[];for(let g=0;g<a.length;++g)s.push(Ru(a[g].getX(),a[g].getY(),"anchor"+g,t));return s}constrainAnchorMove(f){const t=f.getParent();if(!(t instanceof Ye().Group))return;const a=Vt(t,0),s=Vt(t,1),g=Vt(t,2),C=Vt(t,3);switch(f.id()){case"anchor0":a.y(s.y());break;case"anchor1":s.y(a.y());break;case"anchor2":g.x(C.x());break;case"anchor3":C.x(g.x());break;default:p.error("Unhandled anchor id: "+f.id())}}updateShapeGroupOnAnchorMove(f,t,a){const s=t.getParent();s instanceof Ye().Group&&(ie(this,Tn,WI).call(this,f,t,a),this.updateLabelContent(f,s,a),f.labelPosition===void 0?l(this,Ps).updatePosition(f,s):this.updateConnector(s))}updateAnnotationOnAnchorMove(f,t){const a=f.mathShape,s=new K(a.getCenter().getX(),a.getCenter().getY()),g=new K(t.x(),t.y()),C=s.getDistance(g);f.mathShape=new Sl(s,C),f.updateQuantification()}updateAnnotationOnTranslation(f,t){const a=f.mathShape,s=a.getCenter(),g=new K(s.getX()+t.x,s.getY()+t.y);f.mathShape=new Sl(g,a.getRadius()),f.updateQuantification()}updateLabelContent(f,t,a){l(this,Ps).updateContent(f,t)}updateConnector(f){const t=ie(this,Tn,_b).call(this,f),a=ie(this,Tn,Ib).call(this,t);l(this,Ps).updateConnector(f,a)}},Bf=new WeakMap,Ps=new WeakMap,Tn=new WeakSet,Ib=function(f){const t=f.x(),a=f.y(),s=f.radius()*Math.sqrt(2)/2;return[new K(t-s,a-s),new K(t+s,a-s),new K(t-s,a+s),new K(t+s,a+s)]},GI=function(f){const t=f.x(),a=f.y(),s=f.radius();return[new K(t-s,a),new K(t+s,a),new K(t,a+s),new K(t,a-s)]},QI=function(f){const t=Math.abs(f[0].getX()-f[1].getX()),a=Math.abs(f[0].getY()-f[1].getY()),s=Math.round(Math.sqrt(t*t+a*a));return new Sl(f[0],s)},zI=function(){return pl.labelText.circle},Ab=function(f,t){const a=f.mathShape;return new(Ye()).Circle({x:a.getCenter().getX(),y:a.getCenter().getY(),radius:a.getRadius(),stroke:f.colour,strokeWidth:t.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})},_b=function(f){const t=f.getChildren(fl)[0];if(t instanceof Ye().Circle)return t},HI=function(f){const t=f.mathShape,a=t.getCenter(),s=t.getRadius();return new K(a.getX()-s,a.getY()+s)},WI=function(f,t,a){const s=f.mathShape,g=s.getCenter(),C=s.getRadius(),L=t.getParent();if(!(L instanceof Ye().Group))return;ie(this,Tn,_b).call(this,L).radius(C);const k=Vt(L,0),V=Vt(L,1),z=Vt(L,2),Q=Vt(L,3),ee=V.x()<k.x()?-1:1,oe=Q.y()<z.y()?1:-1;switch(t.id()){case"anchor0":k.x(t.x()),V.x(g.getX()+ee*C),z.y(g.getY()+C),Q.y(g.getY()-C);break;case"anchor1":V.x(t.x()),k.x(g.getX()-ee*C),z.y(g.getY()+C),Q.y(g.getY()-C);break;case"anchor2":z.y(t.y()),k.x(g.getX()-C),V.x(g.getX()+C),Q.y(g.getY()-oe*C);break;case"anchor3":Q.y(t.y()),k.x(g.getX()-C),V.x(g.getX()+C),z.y(g.getY()+oe*C);break;default:p.error("Unhandled anchor id: "+t.id())}},YI=function(f,t){const a=f.mathShape;let s=0,g=0;t!==void 0&&(s=t.x(),g=t.y());const C=new(Ye()).Group;C.name("shadow");const L=a.getRound();for(let k=0;k<L.length;++k){const V=L[k],z=V[0][0],Q=V[0][1],ee=V[1][0],oe=new(Ye()).Rect({x:z-s,y:Q-g,width:ee-z,height:1,fill:"grey",strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow-element"});C.add(oe)}return C},YU=function(f,t){const a=t.getChildren(function(s){return s.name()==="shadow"})[0];a!==void 0&&(a.destroy(),t.add(ie(this,Tn,YI).call(this,f,t)))},h3),EllipseFactory:(f3=class{constructor(){W(this,Pn);W(this,Nf,"ellipse");W(this,Is,new Fu(ie(this,Pn,KI)))}static supports(f){return f instanceof vl}getName(){return l(this,Nf)}getGroupName(){return l(this,Nf)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(f,t){f.mathShape=ie(this,Pn,jI).call(this,t),f.setTextExpr(ie(this,Pn,XI).call(this)),f.updateQuantification()}createShapeGroup(f,t){const a=new(Ye()).Group;a.name(this.getGroupName()),a.visible(!0),a.id(f.id);const s=ie(this,Pn,Ob).call(this,f,t);a.add(ie(this,Pn,Ob).call(this,f,t));const g=l(this,Is).create(f,t);a.add(l(this,Is).create(f,t));const C=ie(this,Pn,Lb).call(this,s);return a.add(l(this,Is).getConnector(C,g,t)),a}getAnchors(f,t){const a=ie(this,Pn,$I).call(this,f),s=[];for(let g=0;g<a.length;++g)s.push(Ru(a[g].getX(),a[g].getY(),"anchor"+g,t));return s}constrainAnchorMove(f){const t=f.getParent();if(!(t instanceof Ye().Group))return;const a=Vt(t,0),s=Vt(t,1),g=Vt(t,2),C=Vt(t,3);switch(f.id()){case"anchor0":a.y(s.y());break;case"anchor1":s.y(a.y());break;case"anchor2":g.x(C.x());break;case"anchor3":C.x(g.x());break;default:p.error("Unhandled anchor id: "+f.id())}}updateShapeGroupOnAnchorMove(f,t,a){const s=t.getParent();s instanceof Ye().Group&&(ie(this,Pn,ZI).call(this,f,t,a),this.updateLabelContent(f,s,a),f.labelPosition===void 0?l(this,Is).updatePosition(f,s):this.updateConnector(s))}updateAnnotationOnAnchorMove(f,t){const a=f.mathShape,s=a.getCenter();let g=a.getA(),C=a.getB();switch(t.id()){case"anchor0":g=s.getX()-t.x();break;case"anchor1":g=t.x()-s.getX();break;case"anchor2":C=t.y()-s.getY();break;case"anchor3":C=s.getY()-t.y();break;default:p.error("Unhandled anchor id: "+t.id())}f.mathShape=new vl(s,Math.abs(g),Math.abs(C)),f.updateQuantification()}updateAnnotationOnTranslation(f,t){const a=f.mathShape,s=a.getCenter(),g=new K(s.getX()+t.x,s.getY()+t.y);f.mathShape=new vl(g,a.getA(),a.getB()),f.updateQuantification()}updateLabelContent(f,t,a){l(this,Is).updateContent(f,t)}updateConnector(f){const t=ie(this,Pn,kb).call(this,f),a=ie(this,Pn,Lb).call(this,t);l(this,Is).updateConnector(f,a)}},Nf=new WeakMap,Is=new WeakMap,Pn=new WeakSet,Lb=function(f){const t=f.x(),a=f.y(),s=f.radiusX()*Math.sqrt(2)/2,g=f.radiusY()*Math.sqrt(2)/2;return[new K(t-s,a-g),new K(t+s,a-g),new K(t-s,a+g),new K(t+s,a+g)]},$I=function(f){const t=f.x(),a=f.y(),s=f.radius();return[new K(t-s.x,a),new K(t+s.x,a),new K(t,a+s.y),new K(t,a-s.y)]},jI=function(f){const t=Math.abs(f[0].getX()-f[1].getX()),a=Math.abs(f[0].getY()-f[1].getY());return new vl(f[0],t,a)},XI=function(){return pl.labelText.ellipse},Ob=function(f,t){const a=f.mathShape,s=a.getCenter(),g={x:a.getA(),y:a.getB()};return new(Ye()).Ellipse({x:s.getX(),y:s.getY(),radius:g,radiusX:g.x,radiusY:g.y,stroke:f.colour,strokeWidth:t.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})},kb=function(f){const t=f.getChildren(fl)[0];if(t instanceof Ye().Ellipse)return t},KI=function(f){const t=f.mathShape,a=t.getCenter();return new K(a.getX()-t.getA(),a.getY()+t.getB())},ZI=function(f,t,a){const s=f.mathShape,g=s.getCenter(),C=s.getA(),L=s.getB(),k=t.getParent();if(!(k instanceof Ye().Group))return;ie(this,Pn,kb).call(this,k).radius({x:C,y:L});const V=Vt(k,0),z=Vt(k,1),Q=Vt(k,2),ee=Vt(k,3),oe=z.x()<V.x()?-1:1,me=ee.y()<Q.y()?1:-1;switch(t.id()){case"anchor0":V.x(t.x()),z.x(g.getX()+oe*C),Q.y(g.getY()+L),ee.y(g.getY()-L);break;case"anchor1":z.x(t.x()),V.x(g.getX()-oe*C),Q.y(g.getY()+L),ee.y(g.getY()-L);break;case"anchor2":Q.y(t.y()),V.x(g.getX()-C),z.x(g.getX()+C),ee.y(g.getY()-me*L);break;case"anchor3":ee.y(t.y()),V.x(g.getX()-C),z.x(g.getX()+C),Q.y(g.getY()+me*L);break;default:p.error("Unhandled anchor id: "+t.id())}},JI=function(f,t){const a=f.mathShape;let s=0,g=0;t!==void 0&&(s=t.x(),g=t.y());const C=new(Ye()).Group;C.name("shadow");const L=a.getRound();for(let k=0;k<L.length;++k){const V=L[k],z=V[0][0],Q=V[0][1],ee=V[1][0],oe=new(Ye()).Rect({x:z-s,y:Q-g,width:ee-z,height:1,fill:"grey",strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow-element"});C.add(oe)}return C},$U=function(f,t){const a=t.getChildren(function(s){return s.name()==="shadow"})[0];a!==void 0&&(a.destroy(),t.add(ie(this,Pn,JI).call(this,f,t)))},f3),ProtractorFactory:(g3=class{constructor(){W(this,fn);W(this,Uf,"protractor");W(this,As,new Fu(ie(this,fn,aA)))}static supports(f){return f instanceof ml}getName(){return l(this,Uf)}getGroupName(){return l(this,Uf)+"-group"}getNPoints(){return 3}getTimeout(){return 500}setAnnotationMathShape(f,t){f.mathShape=ie(this,fn,tA).call(this,t),f.setTextExpr(ie(this,fn,nA).call(this)),f.updateQuantification()}createShapeGroup(f,t){const a=f.mathShape,s=new(Ye()).Group;s.name(this.getGroupName()),s.visible(!0),s.id(f.id);const g=ie(this,fn,Eb).call(this,f,t);if(s.add(ie(this,fn,Eb).call(this,f,t)),a.getLength()===this.getNPoints()){const C=ie(this,fn,iA).call(this,f,t);for(const V of C)s.add(V);const L=l(this,As).create(f,t);s.add(l(this,As).create(f,t));const k=ie(this,fn,Rb).call(this,g);s.add(l(this,As).getConnector(k,L,t))}return s}getAnchors(f,t){const a=ie(this,fn,eA).call(this,f),s=[];for(let g=0;g<a.length;++g)s.push(Ru(a[g].getX(),a[g].getY(),"anchor"+g,t));return s}constrainAnchorMove(f){}updateShapeGroupOnAnchorMove(f,t,a){const s=t.getParent();s instanceof Ye().Group&&(ie(this,fn,rA).call(this,f,t,a),this.updateLabelContent(f,s,a),f.labelPosition===void 0?l(this,As).updatePosition(f,s):this.updateConnector(s))}updateAnnotationOnAnchorMove(f,t){const a=t.getParent();if(!(a instanceof Ye().Group))return;const s=ie(this,fn,tS).call(this,a),g=Vt(a,0),C=Vt(a,1),L=Vt(a,2),k=new K(g.x()-s.x(),g.y()-s.y()),V=new K(C.x()-s.x(),C.y()-s.y()),z=new K(L.x()-s.x(),L.y()-s.y());f.mathShape=new ml([k,V,z]),f.updateQuantification()}updateAnnotationOnTranslation(f,t){const a=f.mathShape,s=[];for(let g=0;g<3;++g)s.push(new K(a.getPoint(g).getX()+t.x,a.getPoint(g).getY()+t.y));f.mathShape=new ml(s),f.updateQuantification()}updateLabelContent(f,t,a){l(this,As).updateContent(f,t)}updateConnector(f){const t=ie(this,fn,tS).call(this,f),a=ie(this,fn,Rb).call(this,t);l(this,As).updateConnector(f,a)}},Uf=new WeakMap,As=new WeakMap,fn=new WeakSet,Rb=function(f){const t=f.points(),a=f.x(),s=f.y();return[new K(t[2]+a,t[3]+s)]},eA=function(f){const t=f.points(),a=f.x(),s=f.y();return[new K(t[0]+a,t[1]+s),new K(t[2]+a,t[3]+s),new K(t[4]+a,t[5]+s)]},tA=function(f){return new ml(f)},nA=function(){return pl.labelText.protractor},Eb=function(f,t){const a=f.mathShape,s=[];for(let C=0;C<a.getLength();++C)s.push(a.getPoint(C).getX()),s.push(a.getPoint(C).getY());const g=new(Ye()).Line({points:s,stroke:f.colour,strokeWidth:t.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"});return a.getLength()===this.getNPoints()&&g.hitFunc(function(C){C.beginPath(),C.moveTo(a.getPoint(0).getX(),a.getPoint(0).getY()),C.lineTo(a.getPoint(1).getX(),a.getPoint(1).getY()),C.lineTo(a.getPoint(2).getX(),a.getPoint(2).getY()),C.closePath(),C.fillStrokeShape(g)}),g},tS=function(f){return bm(f)},iA=function(f,t){const a=f.mathShape,s=new sn(a.getPoint(0),a.getPoint(1)),g=new sn(a.getPoint(1),a.getPoint(2));let C=Vp(s,g),L=s.getInclination();C>180&&(C=360-C,L+=C);const k=33*Math.min(s.getLength(),g.getLength())/100;return[new(Ye()).Arc({innerRadius:k,outerRadius:k,stroke:f.colour,strokeWidth:t.getStrokeWidth(),strokeScaleEnabled:!1,angle:C,rotation:-L,x:a.getPoint(1).getX(),y:a.getPoint(1).getY(),name:"shape-arc"})]},aA=function(f){const t=f.mathShape,a=new sn(t.getPoint(0),t.getPoint(1)),s=new sn(t.getPoint(1),t.getPoint(2)),g=(a.getMidpoint().getX()+s.getMidpoint().getX())/2,C=(a.getMidpoint().getY()+s.getMidpoint().getY())/2;return new K(g,C)},rA=function(f,t,a){const s=f.mathShape,g=new sn(s.getPoint(0),s.getPoint(1)),C=new sn(s.getPoint(1),s.getPoint(2)),L=t.getParent();if(!(L instanceof Ye().Group))return;const k=ie(this,fn,tS).call(this,L);k.position({x:0,y:0}),k.points([s.getPoint(0).getX(),s.getPoint(0).getY(),s.getPoint(1).getX(),s.getPoint(1).getY(),s.getPoint(2).getX(),s.getPoint(2).getY()]);const V=L.getChildren(function(ke){return ke.name()==="shape-arc"})[0];if(!(V instanceof Ye().Arc))return;const z=Vt(L,0),Q=Vt(L,1),ee=Vt(L,2);switch(t.id()){case"anchor0":z.x(t.x()),z.y(t.y());break;case"anchor1":Q.x(t.x()),Q.y(t.y());break;case"anchor2":ee.x(t.x()),ee.y(t.y())}let oe=Vp(g,C),me=g.getInclination();oe>180&&(oe=360-oe,me+=oe);const De=33*Math.min(g.getLength(),C.getLength())/100;V.innerRadius(De),V.outerRadius(De),V.angle(oe),V.rotation(-me);const Oe={x:Q.x(),y:Q.y()};V.position(Oe),k.hitFunc(function(ke){ke.beginPath(),ke.moveTo(s.getPoint(0).getX(),s.getPoint(0).getY()),ke.lineTo(s.getPoint(1).getX(),s.getPoint(1).getY()),ke.lineTo(s.getPoint(2).getX(),s.getPoint(2).getY()),ke.closePath(),ke.fillStrokeShape(k)})},jU=function(f,t){},XU=function(f,t){},g3),RectangleFactory:(m3=class{constructor(){W(this,Mn);W(this,qf,"rectangle");W(this,Gl,new Fu(ie(this,Mn,cA)))}static supports(f){return f instanceof gl}getName(){return l(this,qf)}getGroupName(){return l(this,qf)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(f,t){f.mathShape=ie(this,Mn,sA).call(this,t),f.setTextExpr(ie(this,Mn,lA).call(this)),f.updateQuantification()}createShapeGroup(f,t){const a=new(Ye()).Group;a.name(this.getGroupName()),a.visible(!0),a.id(f.id);const s=ie(this,Mn,uA).call(this,f,t);a.add(s);const g=l(this,Gl).create(f,t);a.add(g);const C=ie(this,Mn,Fb).call(this,s);return a.add(l(this,Gl).getConnector(C,g,t)),a}getAnchors(f,t){const a=ie(this,Mn,oA).call(this,f),s=[];for(let g=0;g<a.length;++g)s.push(Ru(a[g].getX(),a[g].getY(),"anchor"+g,t));return s}constrainAnchorMove(f){}updateShapeGroupOnAnchorMove(f,t,a){const s=t.getParent();s instanceof Ye().Group&&(ie(this,Mn,dA).call(this,f,t,a),this.updateLabelContent(f,s,a),f.labelPosition===void 0?l(this,Gl).updatePosition(f,s):this.updateConnector(s))}updateAnnotationOnAnchorMove(f,t){const a=t.getParent();if(!(a instanceof Ye().Group))return;const s=Vt(a,0),g=Vt(a,2),C=new K(s.x(),s.y()),L=new K(g.x(),g.y());f.mathShape=new gl(C,L),f.updateQuantification()}updateAnnotationOnTranslation(f,t){const a=f.mathShape,s=a.getBegin(),g=new K(s.getX()+t.x,s.getY()+t.y),C=a.getEnd(),L=new K(C.getX()+t.x,C.getY()+t.y);f.mathShape=new gl(g,L),f.updateQuantification()}updateLabelContent(f,t,a){l(this,Gl).updateContent(f,t)}updateConnector(f){const t=ie(this,Mn,Mb).call(this,f),a=ie(this,Mn,Fb).call(this,t);l(this,Gl).updateConnector(f,a)}},qf=new WeakMap,Gl=new WeakMap,Mn=new WeakSet,Fb=function(f){const t=f.x(),a=f.y(),s=f.width(),g=f.height();return[new K(t+s/2,a),new K(t,a+g/2),new K(t+s/2,a+g),new K(t+s,a+g/2)]},oA=function(f){const t=f.x(),a=f.y(),s=f.width(),g=f.height();return[new K(t,a),new K(t+s,a),new K(t+s,a+g),new K(t,a+g)]},sA=function(f){return new gl(f[0],f[1])},lA=function(){return pl.labelText.rectangle},uA=function(f,t){const a=f.mathShape;return new(Ye()).Rect({x:a.getBegin().getX(),y:a.getBegin().getY(),width:a.getWidth(),height:a.getHeight(),stroke:f.colour,strokeWidth:t.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})},Mb=function(f){const t=f.getChildren(fl)[0];if(t instanceof Ye().Rect)return t},cA=function(f){const t=f.mathShape;return new K(t.getBegin().getX(),t.getEnd().getY())},dA=function(f,t,a){const s=f.mathShape,g=s.getBegin(),C=t.getParent();if(!(C instanceof Ye().Group))return;const L=ie(this,Mn,Mb).call(this,C);L.position({x:g.getX(),y:g.getY()}),L.size({width:s.getWidth(),height:s.getHeight()});const k=Vt(C,0),V=Vt(C,1),z=Vt(C,2),Q=Vt(C,3);switch(t.id()){case"anchor0":k.x(t.x()),k.y(t.y()),V.y(t.y()),Q.x(t.x());break;case"anchor1":V.x(t.x()),V.y(t.y()),k.y(t.y()),z.x(t.x());break;case"anchor2":z.x(t.x()),z.y(t.y()),Q.y(t.y()),V.x(t.x());break;case"anchor3":Q.x(t.x()),Q.y(t.y()),z.y(t.y()),k.x(t.x());break;default:p.error("Unhandled anchor id: "+t.id())}},hA=function(f,t){const a=f.mathShape.getRound(),s=a.max.getX()-a.min.getX(),g=a.max.getY()-a.min.getY();return new(Ye()).Rect({x:a.min.getX(),y:a.min.getY(),width:s,height:g,fill:"grey",strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow"})},KU=function(f,t){const a=t.getChildren(function(s){return s.name()==="shadow"})[0];a!==void 0&&(a.destroy(),t.add(ie(this,Mn,hA).call(this,f,t)))},m3),RoiFactory:(v3=class{constructor(){W(this,In);W(this,Gf,"roi");W(this,_s,new Fu(ie(this,In,vA)))}static supports(f){return f instanceof Sr}getName(){return l(this,Gf)}getGroupName(){return l(this,Gf)+"-group"}getNPoints(){}getTimeout(){return 100}setAnnotationMathShape(f,t){f.mathShape=ie(this,In,gA).call(this,t),f.setTextExpr(ie(this,In,mA).call(this)),f.updateQuantification()}createShapeGroup(f,t){const a=new(Ye()).Group;a.name(this.getGroupName()),a.visible(!0),a.id(f.id);const s=ie(this,In,Bb).call(this,f,t);a.add(ie(this,In,Bb).call(this,f,t));const g=l(this,_s).create(f,t);a.add(l(this,_s).create(f,t));const C=ie(this,In,Vb).call(this,s);return a.add(l(this,_s).getConnector(C,g,t)),a}getAnchors(f,t){const a=ie(this,In,fA).call(this,f),s=[];for(let g=0;g<a.length;++g)s.push(Ru(a[g].getX(),a[g].getY(),"anchor"+g,t));return s}constrainAnchorMove(f){}updateShapeGroupOnAnchorMove(f,t,a){const s=t.getParent();s instanceof Ye().Group&&(ie(this,In,SA).call(this,f,t,a),this.updateLabelContent(f,s,a),f.labelPosition===void 0?l(this,_s).updatePosition(f,s):this.updateConnector(s))}updateAnnotationOnAnchorMove(f,t){const a=t.getParent();if(!(a instanceof Ye().Group))return;const s=ie(this,In,nS).call(this,a),g=f.mathShape.getPoints().slice(),C=new K(t.x()-s.x(),t.y()-s.y());g[P4(t.id())]=C,f.mathShape=new Sr(g),f.updateQuantification()}updateAnnotationOnTranslation(f,t){const a=f.mathShape,s=[];for(let g=0;g<a.getLength();++g)s.push(new K(a.getPoint(g).getX()+t.x,a.getPoint(g).getY()+t.y));f.mathShape=new Sr(s),f.updateQuantification()}updateLabelContent(f,t,a){l(this,_s).updateContent(f,t)}updateConnector(f){const t=ie(this,In,nS).call(this,f),a=ie(this,In,Vb).call(this,t);l(this,_s).updateConnector(f,a)}},Gf=new WeakMap,_s=new WeakMap,In=new WeakSet,fA=function(f){const t=f.points(),a=f.x(),s=f.y(),g=[];for(let C=0;C<t.length;C+=2)g.push(new K(t[C]+a,t[C+1]+s));return g},Vb=function(f){const t=f.points(),a=f.x(),s=f.y(),g=[];for(let C=0;C<t.length;C+=2){const L=(C+2)%t.length,k=(t[C]+t[L])/2+a,V=(t[C+1]+t[L+1])/2+s;g.push(new K(k,V))}return g},gA=function(f){return new Sr(f)},mA=function(){return pl.labelText.roi},Bb=function(f,t){const a=f.mathShape,s=[];for(let g=0;g<a.getLength();++g)s.push(a.getPoint(g).getX()),s.push(a.getPoint(g).getY());return new(Ye()).Line({points:s,stroke:f.colour,strokeWidth:t.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape",closed:!0})},nS=function(f){return bm(f)},vA=function(f){const t=f.mathShape;return new K(t.getPoint(0).getX(),t.getPoint(0).getY())},SA=function(f,t,a){const s=t.getParent();if(!(s instanceof Ye().Group))return;const g=ie(this,In,nS).call(this,s),C=g.points(),L=2*P4(t.id());C[L]=t.x()-g.x(),C[L+1]=t.y()-g.y(),g.points(C);const k=s.getChildren(function(V){return V.id()===t.id()})[0];k.x(t.x()),k.y(t.y())},ZU=function(f,t){},JU=function(f,t){},v3),RulerFactory:(S3=class{constructor(){W(this,gn);W(this,Qf,"ruler");W(this,Ls,new Fu(ie(this,gn,wA)))}static supports(f){return f instanceof sn}getName(){return l(this,Qf)}getGroupName(){return l(this,Qf)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(f,t){f.mathShape=ie(this,gn,yA).call(this,t),f.setTextExpr(ie(this,gn,bA).call(this)),f.updateQuantification()}createShapeGroup(f,t){const a=new(Ye()).Group;a.name(this.getGroupName()),a.visible(!0),a.id(f.id);const s=ie(this,gn,Ub).call(this,f,t);a.add(ie(this,gn,Ub).call(this,f,t));const g=ie(this,gn,CA).call(this,f,t);for(const k of g)a.add(k);const C=l(this,Ls).create(f,t);a.add(l(this,Ls).create(f,t));const L=ie(this,gn,Nb).call(this,s);return a.add(l(this,Ls).getConnector(L,C,t)),a}getAnchors(f,t){const a=ie(this,gn,pA).call(this,f),s=[];for(let g=0;g<a.length;++g)s.push(Ru(a[g].getX(),a[g].getY(),"anchor"+g,t));return s}constrainAnchorMove(f){}updateShapeGroupOnAnchorMove(f,t,a){const s=t.getParent();s instanceof Ye().Group&&(ie(this,gn,DA).call(this,f,t,a),this.updateLabelContent(f,s,a),f.labelPosition===void 0?l(this,Ls).updatePosition(f,s):this.updateConnector(s))}updateAnnotationOnAnchorMove(f,t){const a=t.getParent();if(!(a instanceof Ye().Group))return;const s=ie(this,gn,iS).call(this,a),g=Vt(a,0),C=Vt(a,1),L=new K(g.x()-s.x(),g.y()-s.y()),k=new K(C.x()-s.x(),C.y()-s.y());f.mathShape=new sn(L,k),f.updateQuantification()}updateAnnotationOnTranslation(f,t){const a=f.mathShape,s=a.getBegin(),g=new K(s.getX()+t.x,s.getY()+t.y),C=a.getEnd(),L=new K(C.getX()+t.x,C.getY()+t.y);f.mathShape=new sn(g,L),f.updateQuantification()}updateLabelContent(f,t,a){l(this,Ls).updateContent(f,t)}updateConnector(f){const t=ie(this,gn,iS).call(this,f),a=ie(this,gn,Nb).call(this,t);l(this,Ls).updateConnector(f,a)}},Qf=new WeakMap,Ls=new WeakMap,gn=new WeakSet,Nb=function(f){const t=f.points(),a=f.x(),s=f.y(),g=(t[0]+t[2])/2+a,C=(t[1]+t[3])/2+s;return[new K(g,C)]},pA=function(f){const t=f.points(),a=f.x(),s=f.y();return[new K(t[0]+a,t[1]+s),new K(t[2]+a,t[3]+s)]},yA=function(f){return new sn(f[0],f[1])},bA=function(){return pl.labelText.ruler},Ub=function(f,t){const a=f.mathShape,s=new(Ye()).Line({points:[a.getBegin().getX(),a.getBegin().getY(),a.getEnd().getX(),a.getEnd().getY()],stroke:f.colour,strokeWidth:t.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),g=Kr(a,a.getBegin(),20,t.getZoomScale()),C=Kr(a,a.getEnd(),20,t.getZoomScale());return s.hitFunc(function(L){L.beginPath(),L.moveTo(g.getBegin().getX(),g.getBegin().getY()),L.lineTo(g.getEnd().getX(),g.getEnd().getY()),L.lineTo(C.getEnd().getX(),C.getEnd().getY()),L.lineTo(C.getBegin().getX(),C.getBegin().getY()),L.closePath(),L.fillStrokeShape(s)}),s},iS=function(f){return bm(f)},CA=function(f,t){const a=f.mathShape,s=Kr(a,a.getBegin(),20,t.getZoomScale()),g=new(Ye()).Line({points:[s.getBegin().getX(),s.getBegin().getY(),s.getEnd().getX(),s.getEnd().getY()],stroke:f.colour,strokeWidth:t.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape-tick0"}),C=Kr(a,a.getEnd(),20,t.getZoomScale());return[g,new(Ye()).Line({points:[C.getBegin().getX(),C.getBegin().getY(),C.getEnd().getX(),C.getEnd().getY()],stroke:f.colour,strokeWidth:t.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape-tick1"})]},wA=function(f){const t=f.mathShape,a=t.getBegin(),s=t.getEnd();let g=a;return a.getY()<s.getY()&&(g=s),g},DA=function(f,t,a){const s=f.mathShape,g=t.getParent();if(!(g instanceof Ye().Group))return;const C=ie(this,gn,iS).call(this,g);C.position({x:0,y:0}),C.points([s.getBegin().getX(),s.getBegin().getY(),s.getEnd().getX(),s.getEnd().getY()]);const L=g.getChildren(function(oe){return oe.name()==="shape-tick0"})[0];if(!(L instanceof Ye().Line))return;const k=g.getChildren(function(oe){return oe.name()==="shape-tick1"})[0];if(!(k instanceof Ye().Line))return;const V=Vt(g,0),z=Vt(g,1);switch(t.id()){case"anchor0":V.x(t.x()),V.y(t.y());break;case"anchor1":z.x(t.x()),z.y(t.y());break;default:p.error("Unhandled anchor id: "+t.id())}const Q=Kr(s,s.getBegin(),20,a.getZoomScale());L.position({x:0,y:0}),L.points([Q.getBegin().getX(),Q.getBegin().getY(),Q.getEnd().getX(),Q.getEnd().getY()]);const ee=Kr(s,s.getEnd(),20,a.getZoomScale());k.position({x:0,y:0}),k.points([ee.getBegin().getX(),ee.getBegin().getY(),ee.getEnd().getX(),ee.getEnd().getY()]),C.hitFunc(function(oe){oe.beginPath(),oe.moveTo(Q.getBegin().getX(),Q.getBegin().getY()),oe.lineTo(Q.getEnd().getX(),Q.getEnd().getY()),oe.lineTo(ee.getEnd().getX(),ee.getEnd().getY()),oe.lineTo(ee.getBegin().getX(),ee.getBegin().getY()),oe.closePath(),oe.fillStrokeShape(C)})},eq=function(f,t){},tq=function(f,t){},S3)},filter:{Threshold:(p3=class{constructor(f){W(this,gc);W(this,mc,new t_);W(this,C0,!0);W(this,w0,new Ni);W(this,zf,f=>{l(this,w0).fireEvent(f)});X(this,gc,f)}activate(f){f&&X(this,C0,!0)}init(){}run(f){if(f.dataId===void 0)throw new Error("No dataId to run threshod filter on.");if(l(this,mc).setMin(f.min),l(this,mc).setMax(f.max),l(this,C0)){const a=l(this,gc).getData(f.dataId).image;l(this,mc).setOriginalImage(a),X(this,C0,!1)}const t=new Qp(l(this,mc),f.dataId,l(this,gc));t.onExecute=l(this,zf),t.onUndo=l(this,zf),t.execute(),l(this,gc).addToUndoStack(t)}addEventListener(f,t){l(this,w0).add(f,t)}removeEventListener(f,t){l(this,w0).remove(f,t)}},gc=new WeakMap,mc=new WeakMap,C0=new WeakMap,w0=new WeakMap,zf=new WeakMap,p3),Sobel:(y3=class{constructor(f){W(this,vc);W(this,D0,new Ni);W(this,Hf,f=>{l(this,D0).fireEvent(f)});X(this,vc,f)}activate(f){}init(){}run(f){if(f.dataId===void 0)throw new Error("No dataId to run sobel filter on.");const t=new i_,a=l(this,vc).getData(f.dataId).image;t.setOriginalImage(a);const s=new Qp(t,f.dataId,l(this,vc));s.onExecute=l(this,Hf),s.onUndo=l(this,Hf),s.execute(),l(this,vc).addToUndoStack(s)}addEventListener(f,t){l(this,D0).add(f,t)}removeEventListener(f,t){l(this,D0).remove(f,t)}},vc=new WeakMap,D0=new WeakMap,Hf=new WeakMap,y3),Sharpen:(b3=class{constructor(f){W(this,Sc);W(this,x0,new Ni);W(this,Wf,f=>{l(this,x0).fireEvent(f)});X(this,Sc,f)}activate(f){}init(){}run(f){if(f.dataId===void 0)throw new Error("No dataId to run sharpen filter on.");const t=new n_,a=l(this,Sc).getData(f.dataId).image;t.setOriginalImage(a);const s=new Qp(t,f.dataId,l(this,Sc));s.onExecute=l(this,Wf),s.onUndo=l(this,Wf),s.execute(),l(this,Sc).addToUndoStack(s)}addEventListener(f,t){l(this,x0).add(f,t)}removeEventListener(f,t){l(this,x0).remove(f,t)}},Sc=new WeakMap,x0=new WeakMap,Wf=new WeakMap,b3)}};class Mu{constructor(){Te(this,"id");Te(this,"referenceSopUID");Te(this,"mathShape");Te(this,"referencePoints");Te(this,"colour");Te(this,"quantification");Te(this,"textExpr");Te(this,"labelPosition");Te(this,"planeOrigin");Te(this,"planePoints");W(this,er)}getOrientationName(){let t;return this.planePoints!==void 0&&(t=G5(this.planePoints[1].getValues().concat(this.planePoints[2].getValues()))),t}init(t){this.referenceSopUID===void 0?(X(this,er,t),this.referenceSopUID=t.getCurrentImageUid(),this.planeOrigin=t.getOriginForImageUid(this.referenceSopUID),t.isAquisitionOrientation()||(this.planePoints=t.getPlanePoints(t.getCurrentPosition()))):p.debug("Cannot initialise annotation twice")}isCompatibleView(t){let a=!1;if(this.planePoints===void 0)t.isAquisitionOrientation()&&(a=!0);else{const s=t.getCosines(),g=new ce(s[0],s[1],s[2]),C=new ce(s[3],s[4],s[5]);g.equals(this.planePoints[1])&&C.equals(this.planePoints[2])&&(a=!0)}return a}setViewController(t){t.includesImageUid(this.referenceSopUID)&&this.isCompatibleView(t.getPlaneHelper())&&(X(this,er,t),this.planeOrigin=t.getOriginForImageUid(this.referenceSopUID))}getCentroid(){let t;if(l(this,er)!==void 0&&this.mathShape.getCentroid!==void 0&&this.mathShape.getCentroid()!==void 0){let a=this.planeOrigin;this.planePoints!==void 0&&(a=this.planePoints[0]);const s=new re([a.getX(),a.getY(),a.getZ()]),g=l(this,er).getIndexFromPosition(s),C=l(this,er).getScrollIndex(),L=g.getValues()[C],k=this.mathShape.getCentroid();t=l(this,er).getPositionFromPlanePoint(k,L)}return t}setTextExpr(t){if(l(this,er)!==void 0){const a=l(this,er).getModality();t[a]!==void 0?this.textExpr=t[a]:this.textExpr=t["*"]}else p.warn("Cannot set text expr without a view controller")}getText(){return function(t,a){let s="";if(t==null||(s=t,a==null))return s;const g=ve(t);for(let C=0;C<g.length;++C){const L=a[g[C]];if(L!=null&&L.value!==null&&L.value!==void 0){let k=L.value.toPrecision(4);L.unit!==null&&L.unit!==void 0&&L.unit.length!==0&&(L.unit!=="unit.degree"&&(k+=" "),k+=$.t(L.unit));const V="{"+g[C]+"}";s=s.replace(V,k)}}return s}(this.textExpr,this.quantification)}updateQuantification(){l(this,er)!==void 0&&this.mathShape.quantify!==void 0&&(this.quantification=this.mathShape.quantify(l(this,er),ve(this.textExpr)))}getFactory(){let t;if(Mh.draw!==void 0)for(const a in Mh.draw){const s=Mh.draw[a];if(s.supports(this.mathShape)){t=new s;break}}if(t===void 0)for(const a in zp.draw){const s=zp.draw[a];if(s.supports(this.mathShape)){t=new s;break}}return t===void 0&&p.warn("No shape factory found for math shape"),t}}er=new WeakMap;const bd=["mousedown","mousemove","mouseup","mouseout","wheel","dblclick","touchstart","touchmove","touchend"],_4={openRoiDialog(f,t){const a=prompt("Label",f.textExpr);a!==null&&(f.textExpr=a,t(f))}};function L4(f){let t=0,a=0;if(f.length!==0&&f[0].target!==void 0){let g=f[0].target.offsetParent;for(;g;)isNaN(g.offsetLeft)||(t+=g.offsetLeft),isNaN(g.offsetTop)||(a+=g.offsetTop),g=g.offsetParent}else p.debug("No touch target offset parent.");const s=[];for(let g=0;g<f.length;++g)s.push(new K(f[g].pageX-t,f[g].pageY-a));return s}function ia(f){let t=[];return f.targetTouches!==void 0&&f.targetTouches.length!==0?t=L4(f.targetTouches):f.changedTouches!==void 0&&f.changedTouches.length!==0&&(t=L4(f.changedTouches)),t}function Wn(f){return new K(f.offsetX,f.offsetY)}function O4(f,t){const a=document.createElement("canvas");a.width=f,a.height=t;const s=document.createElement("canvas");s.width=1,s.height=1;const g=a.getContext("2d"),C=s.getContext("2d");return g&&(g.fillRect(f-1,t-1,1,1),C.drawImage(a,f-1,t-1,1,1,0,0,1,1)),C&&C.getImageData(0,0,1,1).data[3]!==0}class Ui{constructor(t){W(this,zl);W(this,Aa);W(this,An,null);W(this,ki,null);W(this,Ql,null);W(this,ca,null);W(this,Os,!0);W(this,pc,null);W(this,tr);W(this,T0);W(this,ks,1);W(this,Nn,{x:1,y:1});W(this,_a,{x:1,y:1});W(this,Br,{x:1,y:1,z:1});W(this,an,{x:0,y:0});W(this,zi,{x:0,y:0});W(this,Eo,{x:0,y:0});W(this,Hi,{x:0,y:0});W(this,Wi,{x:0,y:0});W(this,nr,null);W(this,Rs);W(this,P0,new Ni);W(this,Yf,!1);W(this,I0);W(this,A0);Te(this,"onimageset",t=>{l(this,Rs)===t.dataid&&(l(this,An).setImage(t.value[0]),ie(this,zl,aS).call(this,l(this,An).getImageSize().get2D()),X(this,nr,!0))});Te(this,"onimagecontentchange",t=>{l(this,Rs)===t.dataid&&(X(this,Os,l(this,An).isPositionInBounds()),X(this,nr,!0),this.draw())});Te(this,"onimagegeometrychange",t=>{if(l(this,Rs)===t.dataid){const a=l(this,An).getImageSize().get2D();if(l(this,tr).x!==a.x||l(this,tr).y!==a.y){if(l(this,I0)!==void 0&&l(this,A0)!==void 0){const s=l(this,An).getOrigin(),g=l(this,A0).minus(s),C=l(this,An).getOrigin(l(this,An).getCurrentPosition()),L=l(this,I0).minus(C);this.setBaseOffset(g,L)}ie(this,zl,aS).call(this,a),X(this,nr,!0),this.draw()}}});W(this,Es,t=>{t.srclayerid=this.getId(),t.dataid=l(this,Rs),l(this,P0).fireEvent(t)});W(this,Jm,t=>{t.skipGenerate!==void 0&&t.skipGenerate===!0||(X(this,nr,!0),this.draw())});W(this,ev,t=>{t.skipGenerate!==void 0&&t.skipGenerate===!0||(X(this,nr,!0),this.draw())});W(this,tv,t=>{if(t.skipGenerate===void 0||t.skipGenerate!==!0){let a=!0;if(t.valid!==void 0&&(a=t.valid),a){const s=[0,1,2],g=s.indexOf(l(this,An).getScrollIndex());s.splice(g,1),t.diffDims.filter(function(C){return s.indexOf(C)===-1}).length===0&&l(this,Os)||(X(this,Os,!0),X(this,nr,!0),this.draw())}else l(this,Os)&&(X(this,Os,!1),this.clear())}});W(this,nv,t=>{t.skipGenerate!==void 0&&t.skipGenerate===!0||(X(this,nr,!0),this.draw())});X(this,Aa,t),l(this,Aa).className+=" viewLayer"}getDataId(){return l(this,Rs)}getScale(){return l(this,Nn)}getAbsoluteZoomOffset(){return{x:l(this,Hi).x*l(this,_a).x,y:l(this,Hi).y*l(this,_a).y}}setImageSmoothing(t){X(this,Yf,t)}setView(t,a){X(this,Rs,a),t.addEventListener("wlchange",l(this,Jm)),t.addEventListener("colourmapchange",l(this,ev)),t.addEventListener("positionchange",l(this,tv)),t.addEventListener("alphafuncchange",l(this,nv));for(let s=0;s<pd.length;++s)t.addEventListener(pd[s],l(this,Es));X(this,An,new C4(t)),this.bindImage()}getViewController(){return l(this,An)}getImageData(){return l(this,pc)}bindImage(){l(this,An)&&l(this,An).bindImageAndLayer(this)}unbindImage(){l(this,An)&&l(this,An).unbindImageAndLayer(this)}getId(){return l(this,Aa).id}removeFromDOM(){l(this,Aa).remove()}getBaseSize(){return l(this,tr)}getImageWorldSize(){return l(this,An).getImageWorldSize()}getOpacity(){return l(this,ks)}setOpacity(t){if(t===l(this,ks))return;X(this,ks,Math.min(Math.max(t,0),1));const a={type:"opacitychange",value:[l(this,ks)]};l(this,Es).call(this,a)}addFlipOffsetX(){l(this,Wi).x+=l(this,ki).width/l(this,Nn).x,l(this,an).x+=l(this,Wi).x}addFlipOffsetY(){l(this,Wi).y+=l(this,ki).height/l(this,Nn).y,l(this,an).y+=l(this,Wi).y}flipScaleX(){l(this,Br).x*=-1}flipScaleY(){l(this,Br).y*=-1}flipScaleZ(){l(this,Br).z*=-1}setScale(t,a){const s=l(this,An).getPlaneHelper(),g=s.getTargetOrientedPositiveXYZ({x:t.x*l(this,Br).x,y:t.y*l(this,Br).y,z:t.z*l(this,Br).z}),C={x:l(this,_a).x*g.x,y:l(this,_a).y*g.y};if(Math.abs(t.x)===1&&Math.abs(t.y)===1&&Math.abs(t.z)===1){const L={x:l(this,an).x-l(this,Hi).x,y:l(this,an).y-l(this,Hi).y};X(this,Hi,{x:0,y:0}),X(this,an,L)}else if(a!==void 0){let L=s.getPlaneOffsetFromOffset3D({x:a.getX(),y:a.getY(),z:a.getZ()});L={x:L.x+l(this,zi).x,y:L.y+l(this,zi).y};const k=k4(l(this,an),l(this,Nn),C,L),V={x:l(this,Hi).x+k.x-l(this,an).x,y:l(this,Hi).y+k.y-l(this,an).y};X(this,Hi,V),X(this,an,k)}X(this,Nn,C)}initScale(t,a){const s=l(this,An).getPlaneHelper().getTargetOrientedPositiveXYZ({x:t.x*l(this,Br).x,y:t.y*l(this,Br).y,z:t.z*l(this,Br).z}),g={x:l(this,_a).x*s.x,y:l(this,_a).y*s.y};X(this,Nn,g),X(this,Hi,{x:a.x/l(this,_a).x,y:a.y/l(this,_a).y}),X(this,an,{x:l(this,an).x+l(this,Hi).x,y:l(this,an).y+l(this,Hi).y})}setBaseOffset(t,a,s,g){const C=l(this,An).getPlaneHelper(),L=C.getNativeScrollIndex(),k=C.getPlaneOffsetFromOffset3D({x:L===0?t.getX():a.getX(),y:L===1?t.getY():a.getY(),z:L===2?t.getZ():a.getZ()}),V=l(this,zi).x!==k.x||l(this,zi).y!==k.y;return s!==void 0&&g!==void 0&&(X(this,I0,s),X(this,A0,g)),V&&(X(this,an,{x:l(this,an).x-l(this,zi).x+k.x,y:l(this,an).y-l(this,zi).y+k.y}),X(this,zi,k)),V}setOffset(t){const a=l(this,An).getPlaneHelper().getPlaneOffsetFromOffset3D(t);X(this,an,{x:a.x+l(this,Eo).x+l(this,zi).x+l(this,Hi).x+l(this,Wi).x,y:a.y+l(this,Eo).y+l(this,zi).y+l(this,Hi).y+l(this,Wi).y})}displayToPlaneIndex(t){const a=this.displayToPlanePos(t);return new m([Math.floor(a.getX()),Math.floor(a.getY())])}displayToPlaneScale(t){return new K(t.getX()/l(this,Nn).x,t.getY()/l(this,Nn).y)}displayToPlanePos(t){const a=this.displayToPlaneScale(t);return new K(a.getX()+l(this,an).x,a.getY()+l(this,an).y)}planePosToDisplay(t){let a=(t.getX()-l(this,an).x+l(this,zi).x)*l(this,Nn).x,s=(t.getY()-l(this,an).y+l(this,zi).y)*l(this,Nn).y;return(a<0||a>=l(this,ki).width)&&(a=void 0),(s<0||s>=l(this,ki).height)&&(s=void 0),new K(a,s)}displayToMainPlanePos(t){const a=this.displayToPlanePos(t);return new K(a.getX()-l(this,zi).x,a.getY()-l(this,zi).y)}display(t){l(this,Aa).style.display=t?"":"none"}isVisible(){return l(this,Aa).style.display===""}draw(){if(!l(this,Os))return;let t={type:"renderstart",layerid:this.getId(),dataid:this.getDataId()};l(this,Es).call(this,t),l(this,nr)&&ie(this,zl,xA).call(this),l(this,ca).globalAlpha=l(this,ks),this.clear(),l(this,ca).setTransform(l(this,Nn).x,0,0,l(this,Nn).y,-1*l(this,an).x*l(this,Nn).x,-1*l(this,an).y*l(this,Nn).y),l(this,ca).imageSmoothingEnabled=l(this,Yf),l(this,ca).drawImage(l(this,Ql),0,0),t={type:"renderend",layerid:this.getId(),dataid:this.getDataId()},l(this,Es).call(this,t)}initialise(t,a,s){X(this,T0,a),X(this,ks,Math.min(Math.max(s,0),1)),X(this,ki,document.createElement("canvas")),l(this,Aa).appendChild(l(this,ki)),l(this,ki).getContext?(X(this,ca,l(this,ki).getContext("2d")),l(this,ca)?(X(this,Ql,document.createElement("canvas")),ie(this,zl,aS).call(this,t),X(this,nr,!0)):alert("Error: failed to get the 2D context.")):alert("Error: no canvas.getContext method.")}fitToContainer(t,a,s){let g=!1;if(l(this,ki).width!==t.x||l(this,ki).height!==t.y){if(!O4(t.x,t.y))throw new Error("Cannot resize canvas "+t.x+", "+t.y);l(this,ki).width=t.x,l(this,ki).height=t.y,g=!0}const C={x:a*l(this,T0).x,y:a*l(this,T0).y},L={x:l(this,Nn).x*C.x/l(this,_a).x,y:l(this,Nn).y*C.y/l(this,_a).y};l(this,Nn).x===L.x&&l(this,Nn).y===L.y||(X(this,_a,C),X(this,Nn,L),g=!0);const k={x:s.x/C.x,y:s.y/C.y},V={x:t.x/C.x,y:t.y/C.y},z={x:l(this,Wi).x!==0?V.x:0,y:l(this,Wi).y!==0?V.y:0};l(this,Eo).x===k.x&&l(this,Eo).y===k.y&&l(this,Wi).x===z.x&&l(this,Wi).y===z.y||(X(this,an,{x:l(this,an).x+k.x-l(this,Eo).x+z.x-l(this,Wi).x,y:l(this,an).y+k.y-l(this,Eo).y+z.y-l(this,Wi).y}),X(this,Wi,z),X(this,Eo,k),g=!0),g&&this.draw()}bindInteraction(){l(this,Aa).style.pointerEvents="auto";const t=bd;for(let a=0;a<t.length;++a){const s=t[a],g=s!=="wheel";l(this,Aa).addEventListener(s,l(this,Es),{passive:g})}}unbindInteraction(){l(this,Aa).style.pointerEvents="none";const t=bd;for(let a=0;a<t.length;++a)l(this,Aa).removeEventListener(t[a],l(this,Es))}addEventListener(t,a){l(this,P0).add(t,a)}removeEventListener(t,a){l(this,P0).remove(t,a)}setCurrentPosition(t,a){return l(this,An).setCurrentPosition(t)}clear(){l(this,ca).save(),l(this,ca).setTransform(1,0,0,1,0,0),l(this,ca).clearRect(0,0,l(this,ki).width,l(this,ki).height),l(this,ca).restore()}}Aa=new WeakMap,An=new WeakMap,ki=new WeakMap,Ql=new WeakMap,ca=new WeakMap,Os=new WeakMap,pc=new WeakMap,tr=new WeakMap,T0=new WeakMap,ks=new WeakMap,Nn=new WeakMap,_a=new WeakMap,Br=new WeakMap,an=new WeakMap,zi=new WeakMap,Eo=new WeakMap,Hi=new WeakMap,Wi=new WeakMap,nr=new WeakMap,Rs=new WeakMap,P0=new WeakMap,Yf=new WeakMap,I0=new WeakMap,A0=new WeakMap,zl=new WeakSet,aS=function(t){if(!O4(t.x,t.y))throw new Error("Cannot create canvas with size "+t.x+", "+t.y);X(this,tr,t),l(this,Ql).width=l(this,tr).x,l(this,Ql).height=l(this,tr).y,l(this,ca).clearRect(0,0,l(this,tr).x,l(this,tr).y),X(this,pc,l(this,ca).createImageData(l(this,tr).x,l(this,tr).y))},Es=new WeakMap,xA=function(){l(this,An).generateImageData(l(this,pc)),l(this,Ql).getContext("2d").putImageData(l(this,pc),0,0),X(this,nr,!1)},Jm=new WeakMap,ev=new WeakMap,tv=new WeakMap,nv=new WeakMap;function Dm(f){const t=f.split("-layer-");return t.length!==2&&p.warn("Not the expected layer div id format..."),{groupDivId:t[0],layerIndex:t[1],layerId:f}}function Gt(f){let t=null;const a=f.target.closest(".layer");return a&&a.id!==void 0&&(t=Dm(a.id)),t}function k4(f,t,a,s){const g=(s.x-f.x)*t.x,C=(s.y-f.y)*t.y;return{x:s.x-g/a.x,y:s.y-C/a.y}}class R4{constructor(t){W(this,qn);W(this,Un);W(this,Dt,[]);W(this,Nr,{x:1,y:1,z:1});W(this,Fo,{x:1,y:1,z:1});W(this,Ur,{x:0,y:0,z:0});W(this,Fs);W(this,Mo);W(this,_0,new Ni);W(this,yc,!1);W(this,bc,[]);W(this,Cc);W(this,$f);W(this,jf,!1);W(this,wc,t=>{ie(this,qn,gg).call(this)});Te(this,"updateLayersToPositionChange",t=>{for(const k of l(this,Dt))k!==void 0&&(k.removeEventListener("positionchange",this.updateLayersToPositionChange),k.removeEventListener("positionchange",l(this,Xn)));const a=new m(t.value[0]),s=new re(t.value[1]);X(this,$f,s),l(this,yc)&&ie(this,qn,gg).call(this,s);const g={};let C,L;for(const k of l(this,Dt)){if(k===void 0)continue;let V=!1;if(k instanceof Ui){const Q=k.getViewController(),ee=Q.getOrigin(),oe=Q.getOrigin(s);let me,De;if(L===void 0)C=ee,L=oe,me=new M(0,0,0),De=new M(0,0,0);else if(Q.isPositionInBounds(s)&&oe!==void 0){const Oe=C.minus(ee);me=new M(Oe.getX(),Oe.getY(),Oe.getZ());const ke=L.minus(oe);De=new M(ke.getX(),ke.getY(),ke.getZ())}me!==void 0&&De!==void 0&&(V=k.setBaseOffset(me,De,L,C),g[k.getId()]={scroll:me,plane:De})}if(k instanceof yd){const Q=g[k.getReferenceLayerId()];Q!==void 0&&(V=k.setBaseOffset(Q.scroll,Q.plane))}let z=!1;k.getId()!==t.srclayerid&&(z=k.setCurrentPosition(s,a)),!z&&V&&k.draw()}for(const k of l(this,Dt))k!==void 0&&(k.addEventListener("positionchange",this.updateLayersToPositionChange),k.addEventListener("positionchange",l(this,Xn)))});W(this,Xn,t=>{l(this,_0).fireEvent(t)});X(this,Un,t)}getShowCrosshair(){return l(this,yc)}setShowCrosshair(t){X(this,yc,t),t?(this.addEventListener("offsetchange",l(this,wc)),this.addEventListener("zoomchange",l(this,wc)),ie(this,qn,gg).call(this)):(this.removeEventListener("offsetchange",l(this,wc)),this.removeEventListener("zoomchange",l(this,wc)),ie(this,qn,rS).call(this))}setImageSmoothing(t){X(this,jf,t);for(const a of l(this,Dt))a instanceof Ui&&a.setImageSmoothing(t)}getDivId(){return l(this,Un).id}getScale(){return l(this,Nr)}getBaseScale(){return l(this,Fo)}getAddedScale(){return{x:l(this,Nr).x/l(this,Fo).x,y:l(this,Nr).y/l(this,Fo).y,z:l(this,Nr).z/l(this,Fo).z}}getOffset(){return l(this,Ur)}getNumberOfLayers(){let t=0;return l(this,Dt).forEach(a=>{a!==void 0&&t++}),t}includes(t){if(t===void 0)return!1;for(const a of l(this,Dt))if(a!==void 0&&a.getId()===t)return!0;return!1}getViewLayers(t){t===void 0&&(t=function(){return!0});const a=[];for(const s of l(this,Dt))s instanceof Ui&&t(s)&&a.push(s);return a}someViewLayer(t){let a=!1;for(const s of l(this,Dt))if(s instanceof Ui&&t(s)){a=!0;break}return a}getDrawLayers(t){t===void 0&&(t=function(){return!0});const a=[];for(const s of l(this,Dt))s instanceof yd&&t(s)&&a.push(s);return a}getNumberOfViewLayers(){let t=0;return l(this,Dt).forEach(a=>{a!==void 0&&a instanceof Ui&&t++}),t}getActiveViewLayer(){let t;if(l(this,Fs)!==void 0){const a=l(this,Dt)[l(this,Fs)];a instanceof Ui&&(t=a)}return t}getBaseViewLayer(){let t;for(const a of l(this,Dt))if(a instanceof Ui){t=a;break}if(t!==void 0)return t;p.warn("No layer found")}getViewLayersByDataId(t){return this.getViewLayers(function(a){return a.getDataId()===t})}searchViewLayers(t){const a=[];for(const s of l(this,Dt))s instanceof Ui&&s.getViewController().equalImageMeta(t)&&a.push(s);return a}getViewDataIndices(){const t=[];for(const a of l(this,Dt))a instanceof Ui&&t.push(a.getDataId());return t}getActiveDrawLayer(){let t;if(l(this,Mo)!==void 0){const a=l(this,Dt)[l(this,Mo)];a instanceof yd&&(t=a)}return t}getDrawLayersByDataId(t){return this.getDrawLayers(function(a){return a.getDataId()===t})}setActiveViewLayer(t){l(this,Dt)[t]instanceof Ui?(X(this,Fs,t),l(this,Xn).call(this,{type:"activelayerchange",value:[l(this,Dt)[t]]})):p.warn("No view layer to set as active with index: "+t)}setActiveViewLayerByDataId(t){let a;for(let s=0;s<l(this,Dt).length;++s)if(l(this,Dt)[s]instanceof Ui&&l(this,Dt)[s].getDataId()===t){a=s;break}a!==void 0?this.setActiveViewLayer(a):p.warn("No view layer to set as active with dataId: "+t)}setActiveDrawLayer(t){X(this,Mo,t),l(this,Xn).call(this,{type:"activelayerchange",value:[l(this,Dt)[t]]})}setActiveDrawLayerByDataId(t){let a;for(let s=0;s<l(this,Dt).length;++s)if(l(this,Dt)[s]instanceof yd&&l(this,Dt)[s].getDataId()===t){a=s;break}a!==void 0?this.setActiveDrawLayer(a):p.warn("No draw layer to set as active with dataId: "+t)}addViewLayer(){const t=l(this,Dt).length,a=ie(this,qn,qb).call(this);l(this,Un).append(a);const s=new Ui(a);return s.setImageSmoothing(l(this,jf)),l(this,Dt).push(s),this.setActiveViewLayer(t),ie(this,qn,TA).call(this,s),s}addDrawLayer(){X(this,Mo,l(this,Dt).length);const t=ie(this,qn,qb).call(this);l(this,Un).append(t);const a=new yd(t);return l(this,Dt).push(a),ie(this,qn,IA).call(this,a),a}empty(){X(this,Dt,[]),X(this,Fs,void 0),X(this,Mo,void 0),ie(this,qn,rS).call(this);const t=l(this,Un).getElementsByClassName("layer");if(t)for(;t.length>0;)t[0].remove()}removeLayersByDataId(t){for(const a of l(this,Dt))a!==void 0&&a.getDataId()===t&&this.removeLayer(a)}removeLayer(t){const a=l(this,Dt).findIndex(s=>s===t);if(a===-1)throw new Error("Cannot find layer to remove");t instanceof Ui?(ie(this,qn,PA).call(this,t),l(this,Fs)===a&&X(this,Fs,void 0)):(ie(this,qn,AA).call(this,t),l(this,Mo)===a&&X(this,Mo,void 0)),l(this,Dt)[a]=void 0,t.removeFromDOM()}showTooltip(t){this.removeTooltipDiv();const a=this.getActiveViewLayer(),s=a.getViewController(),g=a.displayToPlanePos(t),C=s.getPositionFromPlanePoint(g),L=s.getRescaledImageValue(C);if(L!==void 0){const k=document.createElement("span");k.id="scroll-tooltip",k.style.left=t.getX()+10+"px",k.style.top=t.getY()+10+"px";let V=le(L,3).toString();s.getPixelUnit()!==void 0&&(V+=" "+s.getPixelUnit()),k.appendChild(document.createTextNode(V)),X(this,Cc,k),l(this,Un).appendChild(k)}}removeTooltipDiv(){l(this,Cc)!==void 0&&(l(this,Cc).remove(),X(this,Cc,void 0))}isPositionInBounds(t){return this.someViewLayer(function(a){return a.getViewController().isPositionInBounds(t)})}canScroll(){return this.someViewLayer(function(t){return t.getViewController().canScroll()})}moreThanOne(t){return this.someViewLayer(function(a){return a.getViewController().moreThanOne(t)})}getDivToWorldSizeRatio(){if(l(this,Un).offsetWidth===0&&l(this,Un).offsetHeight===0)throw new Error("Cannot fit to zero sized container.");const t=this.getMaxWorldSize();if(t!==void 0){if(l(this,Un).offsetHeight===0){const a=l(this,Un).offsetWidth/t.x,s=t.y*a;l(this,Un).style.height=s+"px"}return Math.min(l(this,Un).offsetWidth/t.x,l(this,Un).offsetHeight/t.y)}}fitToContainer(t){const a=this.getMaxWorldSize();if(a===void 0)return;const s={x:l(this,Un).offsetWidth,y:l(this,Un).offsetHeight},g={x:-.5*(s.x-Math.floor(a.x*t)),y:-.5*(s.y-Math.floor(a.y*t))};for(const C of l(this,Dt))C!==void 0&&C.fitToContainer(s,t,g);l(this,yc)&&ie(this,qn,gg).call(this)}getMaxWorldSize(){let t={x:0,y:0};for(const a of l(this,Dt))if(a instanceof Ui){const s=a.getImageWorldSize();s.x>t.x&&(t.x=s.x),s.y>t.y&&(t.y=s.y)}return t.x===0&&t.y===0&&(t=void 0),t}flipScaleZ(){l(this,Fo).z*=-1,this.setScale(l(this,Fo))}addScale(t,a){const s={x:l(this,Nr).x*(1+t),y:l(this,Nr).y*(1+t),z:l(this,Nr).z*(1+t)};this.setScale(s,a)}setScale(t,a){X(this,Nr,t);for(const g of l(this,Dt))g!==void 0&&g.setScale(l(this,Nr),a);const s=[t.x,t.y,t.z];a!==void 0&&(s.push(a.getX()),s.push(a.getY()),s.push(a.getZ())),l(this,Xn).call(this,{type:"zoomchange",value:s})}addTranslation(t){this.setOffset({x:l(this,Ur).x-t.x,y:l(this,Ur).y-t.y,z:l(this,Ur).z-t.z})}setOffset(t){X(this,Ur,t);for(const a of l(this,Dt))a!==void 0&&a.setOffset(l(this,Ur));l(this,Xn).call(this,{type:"offsetchange",value:[l(this,Ur).x,l(this,Ur).y,l(this,Ur).z]})}reset(){this.setScale(l(this,Fo)),this.setOffset({x:0,y:0,z:0})}draw(){for(const t of l(this,Dt))t!==void 0&&t.draw()}display(t){for(const a of l(this,Dt))a!==void 0&&a.display(t)}addEventListener(t,a){l(this,_0).add(t,a)}removeEventListener(t,a){l(this,_0).remove(t,a)}}Un=new WeakMap,Dt=new WeakMap,Nr=new WeakMap,Fo=new WeakMap,Ur=new WeakMap,Fs=new WeakMap,Mo=new WeakMap,_0=new WeakMap,yc=new WeakMap,bc=new WeakMap,Cc=new WeakMap,$f=new WeakMap,jf=new WeakMap,wc=new WeakMap,qn=new WeakSet,TA=function(t){t.addEventListener("positionchange",this.updateLayersToPositionChange);for(const a of pd)t.addEventListener(a,l(this,Xn));t.addEventListener("renderstart",l(this,Xn)),t.addEventListener("renderend",l(this,Xn))},PA=function(t){t.removeEventListener("positionchange",this.updateLayersToPositionChange);for(const a of pd)t.removeEventListener(a,l(this,Xn));t.removeEventListener("renderstart",l(this,Xn)),t.removeEventListener("renderend",l(this,Xn)),t.unbindImage()},IA=function(t){t.addEventListener("positionchange",this.updateLayersToPositionChange),t.addEventListener("positionchange",l(this,Xn)),t.addEventListener("drawcreate",l(this,Xn)),t.addEventListener("drawdelete",l(this,Xn))},AA=function(t){t.removeEventListener("positionchange",this.updateLayersToPositionChange),t.removeEventListener("positionchange",l(this,Xn)),t.removeEventListener("drawcreate",l(this,Xn)),t.removeEventListener("drawdelete",l(this,Xn))},qb=function(){const t=document.createElement("div");return t.id=this.getDivId()+"-layer-"+l(this,Dt).length,t.className="layer",t.style.pointerEvents="none",t},gg=function(t){let a;t===void 0&&(t=l(this,$f)),ie(this,qn,rS).call(this);for(const C of l(this,Dt))if(C instanceof Ui){a=C;break}if(a===void 0)return void p.warn("No layer to show crosshair");const s=a.getViewController().getPlanePositionFromPosition(t),g=a.planePosToDisplay(s);if(g.getY()!==void 0){const C=document.createElement("hr");C.id=this.getDivId()+"-scroll-crosshair-horizontal",C.className="horizontal",C.style.width=l(this,Un).offsetWidth+"px",C.style.left="0px",C.style.top=g.getY()+"px",l(this,bc).push(C),l(this,Un).appendChild(C)}if(g.getX()!==void 0){const C=document.createElement("hr");C.id=this.getDivId()+"-scroll-crosshair-vertical",C.className="vertical",C.style.width=l(this,Un).offsetHeight+"px",C.style.left=g.getX()+"px",C.style.top="0px",l(this,bc).push(C),l(this,Un).appendChild(C)}},rS=function(){for(const t of l(this,bc))t.remove();X(this,bc,[])},Xn=new WeakMap;const E4={WindowLevelBinder:class{constructor(){Te(this,"getEventType",function(){return"wlchange"});Te(this,"getCallback",function(f){return function(t){const a=f.getViewLayersByDataId(t.dataid);if(a.length!==0){const s=a[0].getViewController();if(t.value.length===2){const g=new b(t.value[0],t.value[1]);s.setWindowLevel(g)}t.value.length===3&&s.setWindowLevelPreset(t.value[2])}}})}},PositionBinder:class{constructor(){Te(this,"getEventType",function(){return"positionchange"});Te(this,"getCallback",function(f){return function(t){const a=t.value[1],s=f.getActiveViewLayer().getViewController(),g=s.getCurrentPosition(),C=g.length(),L=a.length;L!==C&&(L===C-1?a.push(g.get(C-1)):L===C+1&&a.pop()),s.setCurrentPosition(new re(a))}})}},ZoomBinder:class{constructor(){Te(this,"getEventType",function(){return"zoomchange"});Te(this,"getCallback",function(f){return function(t){const a={x:t.value[0],y:t.value[1],z:t.value[2]};let s;t.value.length===6&&(s=new ce(t.value[3],t.value[4],t.value[5])),f.setScale(a,s),f.draw()}})}},OffsetBinder:class{constructor(){Te(this,"getEventType",function(){return"offsetchange"});Te(this,"getCallback",function(f){return function(t){f.setOffset({x:t.value[0],y:t.value[1],z:t.value[2]}),f.draw()}})}},OpacityBinder:class{constructor(){Te(this,"getEventType",function(){return"opacitychange"});Te(this,"getCallback",function(f){return function(t){if(t.dataid===void 0)return;const a=f.getViewLayersByDataId(t.dataid),s=f.getBaseViewLayer();a.length!==0&&s!==a[0]&&(a[0].setOpacity(t.value),a[0].draw())}})}},ColourMapBinder:class{constructor(){Te(this,"getEventType",function(){return"colourmapchange"});Te(this,"getCallback",function(f){return function(t){const a=f.getViewLayersByDataId(t.dataid);a.length!==0&&a[0].getViewController().setColourMap(t.value[0])}})}}};class r_{constructor(){W(this,oo);W(this,Ct,[]);W(this,Ms);W(this,Xf,!1);W(this,ro,[]);W(this,qr,null)}getLayerGroup(t){return l(this,Ct)[t]}getNumberOfLayerGroups(){return l(this,Ct).length}getActiveLayerGroup(){return this.getLayerGroup(l(this,Ms))}setActiveLayerGroup(t){this.getLayerGroup(t)!==void 0?X(this,Ms,t):p.warn("No layer group to set as active with index: "+t)}getViewLayersByDataId(t){let a=[];for(let s=0;s<l(this,Ct).length;++s)a=a.concat(l(this,Ct)[s].getViewLayersByDataId(t));return a}getViewLayers(t){let a=[];for(let s=0;s<l(this,Ct).length;++s)a=a.concat(l(this,Ct)[s].getViewLayers(t));return a}getDrawLayersByDataId(t){let a=[];for(let s=0;s<l(this,Ct).length;++s)a=a.concat(l(this,Ct)[s].getDrawLayersByDataId(t));return a}getDrawLayers(t){let a=[];for(let s=0;s<l(this,Ct).length;++s)a=a.concat(l(this,Ct)[s].getDrawLayers(t));return a}addLayerGroup(t){X(this,Ms,l(this,Ct).length);const a=new R4(t);a.setImageSmoothing(l(this,Xf));const s=l(this,qr)&&l(this,qr).length!==0;return s&&this.unbindLayerGroups(),l(this,Ct).push(a),s&&this.bindLayerGroups(),a}getLayerGroupByDivId(t){return l(this,Ct).find(function(a){return a.getDivId()===t})}setBinders(t){if(t==null)throw new Error("Cannot set null or undefined binders");l(this,ro).length!==0&&this.unbindLayerGroups(),X(this,ro,t.slice()),this.bindLayerGroups()}empty(){this.unbindLayerGroups();for(let t=0;t<l(this,Ct).length;++t)l(this,Ct)[t].empty();X(this,Ct,[]),X(this,Ms,void 0)}removeLayersByDataId(t){for(const a of l(this,Ct))a.removeLayersByDataId(t)}removeLayerGroup(t){const a=l(this,Ct).findIndex(s=>s===t);if(a===-1)throw new Error("Cannot find layerGroup to remove");this.unbindLayerGroups(),t.empty(),l(this,Ct).splice(a,1),l(this,Ms)===a&&X(this,Ms,void 0),this.bindLayerGroups()}reset(){for(let t=0;t<l(this,Ct).length;++t)l(this,Ct)[t].reset()}draw(){for(let t=0;t<l(this,Ct).length;++t)l(this,Ct)[t].draw()}fitToContainer(){let t;const a=[];for(let s=0;s<l(this,Ct).length;++s){const g=l(this,Ct)[s].getDivToWorldSizeRatio();g!==void 0&&(a.push(s),(t===void 0||g<t)&&(t=g))}if(t!==void 0)for(let s=0;s<l(this,Ct).length;++s)a.includes(s)&&l(this,Ct)[s].fitToContainer(t)}bindLayerGroups(){if(l(this,Ct).length!==0&&l(this,Ct).length!==1&&l(this,ro).length!==0){X(this,qr,new Array(l(this,Ct).length));for(let t=0;t<l(this,Ct).length;++t)for(let a=0;a<l(this,ro).length;++a)ie(this,oo,Qb).call(this,t,l(this,ro)[a])}}unbindLayerGroups(){if(l(this,Ct).length!==0&&l(this,Ct).length!==1&&l(this,ro).length!==0&&l(this,qr)){for(let t=0;t<l(this,Ct).length;++t)for(let a=0;a<l(this,ro).length;++a)ie(this,oo,zb).call(this,t,l(this,ro)[a]);X(this,qr,null)}}setImageSmoothing(t){X(this,Xf,t);for(let a=0;a<l(this,Ct).length;++a)l(this,Ct)[a].setImageSmoothing(t)}}Ct=new WeakMap,Ms=new WeakMap,Xf=new WeakMap,ro=new WeakMap,qr=new WeakMap,oo=new WeakSet,Gb=function(t,a){l(this,qr)[a]===void 0&&(l(this,qr)[a]=[]);let s=l(this,qr)[a].find(function(g){return g.binder===t});return s===void 0&&(s={binder:t,callback:g=>{ie(this,oo,zb).call(this,a,t),t.getCallback(l(this,Ct)[a])(g),ie(this,oo,Qb).call(this,a,t)}},l(this,qr)[a].push(s)),s.callback},Qb=function(t,a){for(let s=0;s<l(this,Ct).length;++s)s!==t&&l(this,Ct)[t].addEventListener(a.getEventType(),ie(this,oo,Gb).call(this,a,s))},zb=function(t,a){for(let s=0;s<l(this,Ct).length;++s)s!==t&&l(this,Ct)[t].removeEventListener(a.getEventType(),ie(this,oo,Gb).call(this,a,s))};class o_{constructor(t){W(this,Gr);W(this,Kf);X(this,Kf,t)}fromJSON(t){const a=JSON.parse(t);let s=null;if(a.version==="0.1")s=ie(this,Gr,_A).call(this,a);else if(a.version==="0.2")s=ie(this,Gr,LA).call(this,a);else if(a.version==="0.3")s=ie(this,Gr,OA).call(this,a);else if(a.version==="0.4")s=ie(this,Gr,kA).call(this,a);else{if(a.version!=="0.5")throw new Error("Unknown state file format version: '"+a.version+"'.");s=ie(this,Gr,RA).call(this,a)}return s}apply(t,a){const s=t.getActiveLayerGroup().getActiveViewLayer().getViewController(),g=new b(a["window-center"],a["window-width"]);s.setWindowLevel(g),s.setCurrentIndex(new m(a.position));const C=t.getActiveLayerGroup().getBaseScale();let L=null,k=null;if(a.scaleCenter!==void 0){L={x:a.scale*C.x,y:a.scale*C.y,z:1};const V=a.scaleCenter.x-a.scaleCenter.x*a.scale,z=a.scaleCenter.y-a.scaleCenter.y*a.scale,Q=V+a.translation.x*L.x,ee=z+a.translation.y*L.y;k={x:-Q/L.x,y:-ee/L.y,z:0}}else L={x:a.scale.x*C.x,y:a.scale.y*C.y,z:C.z},k={x:a.offset.x,y:a.offset.y,z:0};t.getActiveLayerGroup().setScale(L),t.getActiveLayerGroup().setOffset(k),t.setDrawings(a.drawings,a.drawingsDetails,l(this,Kf))}}Kf=new WeakMap,Gr=new WeakSet,_A=function(t){const a=function(s){const g=[],C={};let L,k;for(let V=0,z=s.length;V<z;++V){g[V]=[];for(let Q=0,ee=s[V].length;Q<ee;++Q){L=s[V][Q];const oe=[];for(let me=0,De=L.length;me<De;++me){k=Ye().Node.create(L[me]),k.visible(!0);let Oe={x:0,y:0};const ke=k.getChildren(function(tt){return tt.name()==="shape"})[0];if(ke.stroke(G(ke.stroke())),k.name()==="line-group"){k.name("ruler-group");const tt=new(Ye()).Line({points:[ke.points()[0],ke.points()[1],ke.points()[0],ke.points()[1]],name:"shape-tick0"});k.add(tt);const st=new(Ye()).Line({points:[ke.points()[2],ke.points()[3],ke.points()[2],ke.points()[3]],name:"shape-tick1"});k.add(st)}const We=k.getChildren(function(tt){return tt.name()==="arc"});We.length===1&&We[0].name("shape-arc");const Ee=k.getChildren(function(tt){return tt.name()==="text"});let Ne=new(Ye()).Text({name:"text",text:""});Ee.length===1?(Oe.x=Ee[0].x(),Oe.y=Ee[0].y(),Ee[0].remove(),Ne=Ee[0]):ke.points().length!==0&&(Oe={x:ke.points()[0],y:ke.points()[1]});const Ue=new(Ye()).Label({x:Oe.x,y:Oe.y,name:"label"});Ue.add(Ne),Ue.add(new(Ye()).Tag),k.add(Ue),oe.push(JSON.stringify(k.toObject()));let Re=Ne.text();const Ze=Re.length;let Je=null;k.name()==="ruler-group"?(Je={length:{value:parseFloat(Re.substring(0,Ze-2)),unit:Re.substring(-2)}},Re="{length}"):k.name()==="ellipse-group"||k.name()==="rectangle-group"?(Je={surface:{value:parseFloat(Re.substring(0,Ze-3)),unit:Re.substring(-3)}},Re="{surface}"):k.name()!=="protractor-group"&&k.name()!=="rectangle-group"||(Je={angle:{value:parseFloat(Re.substring(0,Ze-1)),unit:Re.substring(-1)}},Re="{angle}"),C[k.id()]={textExpr:Re,longText:"",quant:Je}}g[V].push(oe)}}return{drawings:g,drawingsDetails:C}}(t.drawings);return t.drawings=F4(a.drawings).toObject(),t.drawingsDetails=Hp(a.drawingsDetails),(t=xm(t)).drawings=Tm(t.drawings),t},LA=function(t){return t.drawings=F4(t.drawings).toObject(),t.drawingsDetails=Hp(function(a){const s={},g=typeof a=="string"?JSON.parse(a):a;for(let C=0,L=g.length;C<L;++C)for(let k=0,V=g[C].length;k<V;++k)for(let z=0,Q=g[C][k].length;z<Q;++z){const ee=g[C][k][z];s[ee.id]={textExpr:ee.textExpr,longText:ee.longText,quant:ee.quant}}return s}(t.drawingsDetails)),(t=xm(t)).drawings=Tm(t.drawings),t},OA=function(t){return t.drawingsDetails=Hp(t.drawingsDetails),(t=xm(t)).drawings=Tm(t.drawings),t},kA=function(t){return(t=xm(t)).drawings=Tm(t.drawings),t},RA=function(t){return t};function F4(f){let t,a,s;const g=new(Ye()).Layer({listening:!1,visible:!0}),C=typeof f=="string"?JSON.parse(f):f;for(let k=0,V=C.length;k<V;++k)for(let z=0,Q=C[k].length;z<Q;++z)if(a=C[k][z],a.length!==0){s=new(Ye()).Group({id:(L=new m([1,1,k,z]),"slice-"+L.get(2)+"_frame-"+(L.length()===4?L.get(3):0)),name:"position-group",visible:!1});for(let ee=0,oe=a.length;ee<oe;++ee)t=Ye().Node.create(a[ee]),t.draggable(!0),t.getChildren().forEach(function(me){me.draggable(!1)}),s.add(t);g.add(s)}var L;return g}function Hp(f){const t={},a=Object.keys(f);for(let s=0,g=a.length;s<g;++s){const C=f[a[s]];t[a[s]]={meta:{textExpr:C.textExpr,longText:C.longText,quantification:C.quant}}}return t}function xm(f){const t=f.position;return f.position=[t.i,t.j,t.k],f}function Tm(f){const t=f.children;for(let a=0,s=t.length;a<s;++a){const g=t[a],C=g.attrs.id.split("_"),L=parseInt(C[0].substring(6),10),k=parseInt(C[1].substring(6),10);let V="#2-";V+=L===0&&k!==0?k:L,g.attrs.id=V}return f}function Vh(f){let t;return window.location.origin!=="null"&&(t=window.location.origin),new URL(f,t)}function M4(f){const t={};let a=null;if(f&&(a=f.indexOf("?"))!==-1){t.base=f.substring(0,a);let s=f.indexOf("#");s===-1&&(s=f.length);const g=f.substring(a+1,s);t.query=function(C){const L={};if(C){const k=C.split("&");for(let V=0;V<k.length;++V){const z=k[V].split("=");L[z[0]]?(L[z[0]]instanceof Array||(L[z[0]]=[L[z[0]]]),L[z[0]].push(z[1])):L[z[0]]=z[1]}}return L}(g)}return t}class V4{constructor(){W(this,La,[]);W(this,da,0);W(this,L0,new Ni);W(this,Dc,t=>{l(this,L0).fireEvent(t)})}getStackSize(){return l(this,La).length}getCurrentStackIndex(){return l(this,da)}add(t){X(this,La,l(this,La).slice(0,l(this,da))),l(this,La).push(t),++lr(this,da)._,l(this,Dc).call(this,{type:"undoadd",command:t.getName()})}remove(t){let a=!1;const s=l(this,La).findIndex(function(g){return g.getName()===t});return s!==-1&&(l(this,La).splice(s,1),--lr(this,da)._,a=!0,l(this,Dc).call(this,{type:"undoremove",command:t})),a}undo(){l(this,da)>0&&(--lr(this,da)._,l(this,La)[l(this,da)].undo(),l(this,Dc).call(this,{type:"undo",command:l(this,La)[l(this,da)].getName()}))}redo(){l(this,da)<l(this,La).length&&(l(this,La)[l(this,da)].execute(),l(this,Dc).call(this,{type:"redo",command:l(this,La)[l(this,da)].getName()}),++lr(this,da)._)}addEventListener(t,a){l(this,L0).add(t,a)}removeEventListener(t,a){l(this,L0).remove(t,a)}}La=new WeakMap,da=new WeakMap,L0=new WeakMap,Dc=new WeakMap;class B4{constructor(t){W(this,Yi);W(this,Hl);W(this,Vo,null);W(this,Wl,[]);W(this,O0,{});X(this,Hl,t)}init(){for(const t in l(this,Hl))l(this,Hl)[t].init();this.enableShortcuts(!0)}enableShortcuts(t){t?window.addEventListener("keydown",ie(this,Yi,mg).call(this,"window","keydown"),!0):window.removeEventListener("keydown",ie(this,Yi,mg).call(this,"window","keydown"),!0)}getToolList(){return l(this,Hl)}hasTool(t){return this.getToolList()[t]!==void 0}getSelectedTool(){return l(this,Vo)}getSelectedToolEventHandler(t){return this.getSelectedTool()[t]}setSelectedTool(t){if(!this.hasTool(t))throw new Error("Unknown tool: '"+t+"'");l(this,Vo)&&l(this,Vo).activate(!1),X(this,Vo,l(this,Hl)[t]),l(this,Vo).activate(!0)}setToolFeatures(t){this.getSelectedTool()&&this.getSelectedTool().setFeatures(t)}bindLayerGroup(t,a){const s=t.getDivId();t.addEventListener("activelayerchange",ie(this,Yi,EA).call(this,s)),ie(this,Yi,Hb).call(this,s,a)}}Hl=new WeakMap,Vo=new WeakMap,Wl=new WeakMap,O0=new WeakMap,Yi=new WeakSet,Hb=function(t,a){l(this,O0)[t]!==void 0&&ie(this,Yi,MA).call(this,l(this,O0)[t]),l(this,O0)[t]=a,ie(this,Yi,FA).call(this,a)},EA=function(t){return a=>{const s=a.value[0];s!==void 0&&ie(this,Yi,Hb).call(this,t,s)}},FA=function(t){t.bindInteraction();const a=bd;for(let s=0;s<a.length;++s)t.addEventListener(a[s],ie(this,Yi,mg).call(this,t.getId(),a[s]))},MA=function(t){t.unbindInteraction();const a=bd;for(let s=0;s<a.length;++s)t.removeEventListener(a[s],ie(this,Yi,mg).call(this,t.getId(),a[s]))},mg=function(t,a){if(l(this,Wl)[t]===void 0&&(l(this,Wl)[t]=[]),l(this,Wl)[t][a]===void 0){const s=g=>{if(l(this,Vo)){const C=l(this,Vo)[g.type];C&&C(g)}};l(this,Wl)[t][a]=s}return l(this,Wl)[t][a]};class Wp{constructor(t){W(this,Tc);W(this,Yl,[]);W(this,xc,2);W(this,Zf);Te(this,"onprogress",t=>{if(!t.lengthComputable||t.subindex===void 0||t.index===void 0)return;const a=100*t.loaded/t.total;l(this,Yl)[t.index][t.subindex]=a;let s=null;s=t.item!==void 0?t.item:{loaded:ie(this,Tc,Wb).call(this,t.index),total:100,source:t.source},l(this,Zf).call(this,{lengthComputable:!0,loaded:ie(this,Tc,VA).call(this),total:100,item:s})});X(this,Zf,t)}setNumberOfDimensions(t){X(this,xc,t)}setNToLoad(t){for(let a=0;a<t;++a){l(this,Yl)[a]=[];for(let s=0;s<l(this,xc);++s)l(this,Yl)[a][s]=0}}getMonoProgressHandler(t,a){return s=>{s.index=t,s.subindex=a,this.onprogress(s)}}getUndefinedMonoProgressHandler(t){return a=>{a.subindex=t,this.onprogress(a)}}}Yl=new WeakMap,xc=new WeakMap,Zf=new WeakMap,Tc=new WeakSet,Wb=function(t){let a=0;for(let s=0;s<l(this,xc);++s)a+=l(this,Yl)[t][s];return a/l(this,xc)},VA=function(){let t=0;const a=l(this,Yl).length;for(let s=0;s<a;++s)t+=ie(this,Tc,Wb).call(this,s);return Math.round(t/a)};class N4{constructor(){W(this,wn);W(this,$l,null);W(this,ir,[]);W(this,jl,null);W(this,k0,0);W(this,R0,0);W(this,Pc);W(this,Jf);W(this,iv,t=>{lr(this,k0)._++,l(this,k0)===l(this,$l).length&&this.onload({source:l(this,$l)})});W(this,Ic,t=>{lr(this,R0)._++,l(this,R0)===l(this,$l).length&&this.onloadend({source:l(this,$l)})})}getDefaultCharacterSet(){return l(this,Jf)}setDefaultCharacterSet(t){X(this,Jf,t)}load(t,a){this.onloadstart({source:t}),t.length===1&&(de(t[0],"DICOMDIR")||de(t[0],".dcmdir"))?ie(this,wn,zA).call(this,t[0],a):ie(this,wn,Yb).call(this,t,a)}abort(){X(this,Pc,!0);for(let t=0;t<l(this,ir).length;++t)l(this,ir)[t].readyState!==4&&l(this,ir)[t].abort();l(this,jl)&&l(this,jl).isLoading()&&l(this,jl).abort()}onloadstart(t){}onprogress(t){}onloaditem(t){}onload(t){}onloadend(t){}onerror(t){}onabort(t){}}$l=new WeakMap,ir=new WeakMap,jl=new WeakMap,k0=new WeakMap,R0=new WeakMap,Pc=new WeakMap,Jf=new WeakMap,wn=new WeakSet,BA=function(t){X(this,$l,t),X(this,k0,0),X(this,R0,0),X(this,Pc,!1),ie(this,wn,UA).call(this),ie(this,wn,GA).call(this)},NA=function(t){l(this,ir).push(t)},UA=function(){X(this,ir,[])},qA=function(t){X(this,jl,t)},GA=function(){X(this,jl,null)},iv=new WeakMap,Ic=new WeakMap,oh=function(t,a){return s=>{s.source=a,t(s)}},QA=function(t,a,s){return g=>{const C=g.target.status;C!==200&&C!==0?(this.onerror({source:a,error:"GET "+g.target.responseURL+" "+g.target.status+" ("+g.target.statusText+")",target:g.target}),l(this,Ic).call(this)):t.load(g.target.response,a,s)}},Yb=function(t,a){if(t===void 0||t.length===0)return;ie(this,wn,BA).call(this,t);const s=new Wp(this.onprogress);s.setNToLoad(t.length);const g=[];for(let ee=0;ee<wd.length;++ee)g.push(new wd[ee]);let C=t[0],L=null,k=!1;for(let ee=0;ee<g.length;++ee)if(L=g[ee],L.canLoadUrl(C,a)){k=!0,L.setOptions({numberOfFiles:t.length,defaultCharacterSet:this.getDefaultCharacterSet()}),L.onprogress=s.getUndefinedMonoProgressHandler(1),L.onloaditem=this.onloaditem,L.onload=l(this,iv),L.onloadend=l(this,Ic),L.onerror=this.onerror,L.onabort=this.onabort,ie(this,wn,qA).call(this,L);break}if(!k)throw new Error("No loader found for url: "+C);let V=0;const z=()=>{V<l(this,ir).length-1&&!l(this,Pc)&&(++V,l(this,ir)[V].send(null))};for(let ee=0;ee<t.length;++ee){if(C=t[ee],!L.canLoadUrl(C,a))throw new Error("Input url of different type: "+C);const oe=new XMLHttpRequest;if(oe.open("GET",C,!0),a!==void 0){if(a.requestHeaders!==void 0){const Oe=a.requestHeaders;for(let ke=0;ke<Oe.length;++ke)Oe[ke].name!==void 0&&Oe[ke].value!==void 0&&oe.setRequestHeader(Oe[ke].name,Oe[ke].value)}a.withCredentials!==void 0&&(oe.withCredentials=a.withCredentials)}oe.onprogress=ie(this,wn,oh).call(this,s.getMonoProgressHandler(ee,0),C),oe.onload=ie(this,wn,QA).call(this,L,C,ee),oe.onloadend=z;const me=ie(this,wn,oh).call(this,this.onerror,C);oe.onerror=Oe=>{l(this,Ic).call(this),me(Oe)};const De=ie(this,wn,oh).call(this,this.onabort,C);oe.onabort=Oe=>{l(this,Ic).call(this),De(Oe)},L.loadUrlAs()===1&&(oe.responseType="arraybuffer"),ie(this,wn,NA).call(this,oe)}let Q=l(this,ir).length;a!==void 0&&a.batchSize!==void 0&&Q!==0&&(Q=Math.min(a.batchSize,l(this,ir).length));for(let ee=0;ee<Q;++ee)l(this,Pc)||(V=ee,l(this,ir)[V].send(null))},zA=function(t,a){const s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer",s.onload=g=>{const C=g.target.status;if(C!==200&&C!==0)this.onerror({source:t,error:"GET "+g.target.responseURL+" "+g.target.status+" ("+g.target.statusText+")",target:g.target}),this.onloadend({});else{const L=function(z){const Q=new yp;Q.parse(z);const ee=Q.getDicomElements();if(ee["00041220"]===void 0||ee["00041220"].value===void 0)return void p.warn("No Directory Record Sequence found in DICOMDIR.");const oe=ee["00041220"].value;if(oe.length===0)return void p.warn("The Directory Record Sequence of the DICOMDIR is empty.");const me=[];let De=null,Oe=null;for(let ke=0;ke<oe.length;++ke){if(oe[ke]["00041430"]===void 0||oe[ke]["00041430"].value===void 0)continue;const We=oe[ke]["00041430"].value[0];if(We==="STUDY")Oe=[],me.push(Oe);else if(We==="SERIES")De=[],Oe.push(De);else if(We==="IMAGE"){if(oe[ke]["00041500"]===void 0||oe[ke]["00041500"].value===void 0)continue;const Ee=oe[ke]["00041500"].value;De.push(Ee.join("/"))}}return me}(g.target.response)[0][0],k=t.split("/").slice(0,-1).join("/"),V=[];for(let z=0;z<L.length;++z)V.push(k+"/"+L[z]);ie(this,wn,Yb).call(this,V,a)}},s.onerror=g=>{ie(this,wn,oh).call(this,this.onerror,t)(g),this.onloadend({})},s.onabort=g=>{ie(this,wn,oh).call(this,this.onabort,t)(g),this.onloadend({})},s.send(null)};class s_{constructor(t){W(this,e1);Te(this,"handleWorkerError",t=>{ie(this,e1,$b).call(this),this.onerror({error:t}),this.onworkend({type:"work-end"})});this.poolSize=t,this.taskQueue=[],this.freeThreads=[];for(let a=0;a<t;++a)this.freeThreads.push(new l_(this));this.runningThreads=[]}addWorkerTask(t){if(this.freeThreads.length===this.poolSize&&this.onworkstart({type:"work-start"}),this.freeThreads.length>0){const a=this.freeThreads.shift();this.runningThreads.push(a),a.run(t)}else this.taskQueue.push(t)}abort(){ie(this,e1,$b).call(this),this.onabort({type:"work-abort"}),this.onworkend({type:"work-end"})}onTaskEnd(t){if(this.taskQueue.length>0){const a=this.taskQueue.shift();t.run(a)}else{t.stop(),this.freeThreads.push(t);for(let a=0;a<this.runningThreads.length;++a)this.runningThreads[a].getId()===t.getId()&&this.runningThreads.splice(a,1);this.freeThreads.length===this.poolSize&&(this.onwork({type:"work"}),this.onworkend({type:"work-end"}))}}onworkstart(t){}onworkitem(t){}onwork(t){}onworkend(t){}onerror(t){}onabort(t){}}e1=new WeakSet,$b=function(){this.taskQueue=[];for(let t=0;t<this.runningThreads.length;++t)this.runningThreads[t].stop();this.runningThreads=[]};class l_{constructor(t){Te(this,"onmessage",t=>{t.itemNumber=this.runningTask.info.itemNumber,t.numberOfItems=this.runningTask.info.numberOfItems,t.index=this.runningTask.info.index,this.parentPool.onworkitem(t),this.parentPool.onTaskEnd(this)});Te(this,"onerror",t=>{t.itemNumber=this.runningTask.info.itemNumber,t.numberOfItems=this.runningTask.info.numberOfItems,t.index=this.runningTask.info.index,this.parentPool.handleWorkerError(t),this.stop()});this.parentPool=t,this.id=Math.random().toString(36).substring(2,15),this.runningTask=null,this.worker}getId(){return this.id}run(t){this.runningTask=t,this.worker===void 0&&(this.worker=new Worker(this.runningTask.script),this.worker.onmessage=this.onmessage,this.worker.onerror=this.onerror),this.worker.postMessage(this.runningTask.startMessage)}stop(){this.worker!==void 0&&(this.worker.terminate(),this.worker=void 0)}}class u_{constructor(t,a,s){this.script=t,this.startMessage=a,this.info=s}}const c_=typeof JpegImage<"u",d_=typeof jpeg<"u"&&jpeg.lossless!==void 0,h_=typeof JpxImage<"u",Pm={jpeg2000:"","jpeg-lossless":"","jpeg-baseline":"",rle:""};class f_{constructor(t,a){W(this,t1);W(this,so,new s_(10));W(this,n1,!1);X(this,t1,t)}decode(t,a,s){l(this,n1)||(X(this,n1,!0),l(this,so).onworkstart=this.ondecodestart,l(this,so).onworkitem=this.ondecodeditem,l(this,so).onwork=this.ondecoded,l(this,so).onworkend=this.ondecodeend,l(this,so).onerror=this.onerror,l(this,so).onabort=this.onabort);const g=new u_(l(this,t1),{buffer:t,meta:a},s);l(this,so).addWorkerTask(g)}abort(){l(this,so).abort()}ondecodestart(t){}ondecodeditem(t){}ondecoded(t){}ondecodeend(t){}onerror(t){}onabort(t){}}t1=new WeakMap,so=new WeakMap,n1=new WeakMap;class g_{constructor(t,a){W(this,Xl);W(this,i1);W(this,a1,0);X(this,Xl,t),X(this,i1,a)}decode(t,a,s){++lr(this,a1)._;let g=null,C=null;if(l(this,Xl)==="jpeg-lossless"){if(!d_)throw new Error("No JPEG Lossless decoder provided");const L=a.bitsAllocated/8,k=new Uint8Array(t);g=new jpeg.lossless.Decoder;const V=g.decode(k.buffer,0,k.buffer.byteLength,L);a.bitsAllocated===8?C=a.isSigned?new Int8Array(V.buffer):new Uint8Array(V.buffer):a.bitsAllocated===16&&(C=a.isSigned?new Int16Array(V.buffer):new Uint16Array(V.buffer))}else if(l(this,Xl)==="jpeg-baseline"){if(!c_)throw new Error("No JPEG Baseline decoder provided");g=new JpegImage,g.parse(t),C=g.getData(g.width,g.height)}else if(l(this,Xl)==="jpeg2000"){if(!h_)throw new Error("No JPEG 2000 decoder provided");g=new JpxImage,g.parse(t),C=g.tiles[0].items}else l(this,Xl)==="rle"&&(g=new dwvdecoder.RleDecoder,C=g.decode(t,a.bitsAllocated,a.isSigned,a.sliceSize,a.samplesPerPixel,a.planarConfiguration));this.ondecodeditem({data:[C],index:s.index,numberOfItems:s.numberOfItems,itemNumber:s.itemNumber}),l(this,a1)===l(this,i1)&&(this.ondecoded({}),this.ondecodeend({}))}abort(){this.onabort({}),this.ondecodeend({})}ondecodestart(t){}ondecodeditem(t){}ondecoded(t){}ondecodeend(t){}onerror(t){}onabort(t){}}Xl=new WeakMap,i1=new WeakMap,a1=new WeakMap;class m_{constructor(t,a){W(this,r1,!1);W(this,ar,null);Pm!==void 0&&Pm[t]!==void 0?X(this,ar,new f_(Pm[t],a)):X(this,ar,new g_(t,a))}decode(t,a,s){l(this,r1)||(X(this,r1,!0),l(this,ar).ondecodestart=this.ondecodestart,l(this,ar).ondecodeditem=this.ondecodeditem,l(this,ar).ondecoded=this.ondecoded,l(this,ar).ondecodeend=this.ondecodeend,l(this,ar).onerror=this.onerror,l(this,ar).onabort=this.onabort),l(this,ar).decode(t,a,s)}abort(){l(this,ar).abort()}ondecodestart(t){}ondecodeditem(t){}ondecoded(t){}ondecodeend(t){}onerror(t){}onabort(t){}}r1=new WeakMap,ar=new WeakMap;const Co={NumericValue:"0040A30A",FloatingPointValue:"0040A161",RationalNumeratorValue:"0040A162",RationalDenominatorValue:"0040A163",MeasurementUnitsCodeSequence:"004008EA"};class U4{constructor(){Te(this,"numericValue");Te(this,"floatingPointValue");Te(this,"rationalNumeratorValue");Te(this,"rationalDenominatorValue");Te(this,"measurementUnitsCode")}toString(){return this.numericValue+" "+this.measurementUnitsCode.toString()}}function v_(f){const t={};return f.measurementUnitsCode!==void 0&&(t.MeasurementUnitsCodeSequence={value:[hl(f.measurementUnitsCode)]}),f.floatingPointValue!==void 0&&(t.FloatingPointValue=f.floatingPointValue),f.rationalNumeratorValue!==void 0&&(t.RationalNumeratorValue=f.rationalNumeratorValue),f.rationalDenominatorValue!==void 0&&(t.RationalDenominatorValue=f.rationalDenominatorValue),f.numericValue!==void 0&&(t.NumericValue=f.numericValue),t}const Im={MeasuredValueSequence:"0040A300",NumericValueQualifierCodeSequence:"0040A301"};class q4{constructor(){Te(this,"measuredValue");Te(this,"numericValueQualifierCode")}toString(){let t=this.measuredValue.toString();return this.numericValueQualifierCode!==void 0&&(t+=" "+this.numericValueQualifierCode.toString()),t}}function S_(f){const t={};return f.measuredValue!==void 0&&(t.MeasuredValueSequence={value:[v_(f.measuredValue)]}),f.numericValueQualifierCode!==void 0&&(t.NumericValueQualifierCodeSequence={value:[hl(f.numericValueQualifierCode)]}),t}const Am={ReferencedSOPClassUID:"00081150",ReferencedSOPInstanceUID:"00081155"};class G4{constructor(){Te(this,"referencedSOPClassUID");Te(this,"referencedSOPInstanceUID")}toString(){return this.referencedSOPInstanceUID+" (class: "+this.referencedSOPClassUID+")"}}function Q4(f){const t=new G4;return f[Am.ReferencedSOPClassUID]!==void 0&&(t.referencedSOPClassUID=f[Am.ReferencedSOPClassUID].value[0]),f[Am.ReferencedSOPInstanceUID]!==void 0&&(t.referencedSOPInstanceUID=f[Am.ReferencedSOPInstanceUID].value[0]),t}function z4(f){const t={};return f.referencedSOPClassUID!==void 0&&(t.ReferencedSOPClassUID=f.referencedSOPClassUID),f.referencedSOPInstanceUID!==void 0&&(t.ReferencedSOPInstanceUID=f.referencedSOPInstanceUID),t}const Cd={ReferencedFrameNumber:"00081160",ReferencedSOPSequence:"00081199",ReferencedSegmentNumber:"0062000B"};class H4{constructor(){Te(this,"referencedSOPSequence");Te(this,"referencedFrameNumber");Te(this,"referencedSegmentNumber");Te(this,"fiducialUID")}toString(){return this.referencedSOPSequence.toString()}}function p_(f){const t={};return f.referencedFrameNumber!==void 0&&(t.ReferencedFrameNumber=f.referencedFrameNumber),f.referencedSOPSequence!==void 0&&(t.ReferencedSOPSequence={value:[z4(f.referencedSOPSequence)]}),f.referencedSegmentNumber!==void 0&&(t.ReferencedSegmentNumber=f.referencedSegmentNumber),t}const yl={PixelOriginInterpretation:"00480301",GraphicData:"00700022",GraphicType:"00700023",FiducialUID:"0070031A"},Yp="POINT",_m="MULTIPOINT",Bh="POLYLINE",W4="CIRCLE",Y4="ELLIPSE";class Lm{constructor(){Te(this,"graphicData");Te(this,"graphicType");Te(this,"pixelOriginInterpretation");Te(this,"fiducialUID")}toString(){return this.graphicType+" {"+this.graphicData+"}"}}function y_(f){const t={};return f.pixelOriginInterpretation!==void 0&&(t.PixelOriginInterpretation=f.pixelOriginInterpretation),f.graphicData!==void 0&&(t.GraphicData=f.graphicData),f.graphicType!==void 0&&(t.GraphicType=f.graphicType),f.fiducialUID!==void 0&&(t.FiducialUID=f.fiducialUID),t}const bl={GraphicData:"00700022",GraphicType:"00700023",ReferencedFrameofReferenceUID:"30060024",FiducialUID:"0070031A"};class $4{constructor(){Te(this,"graphicData");Te(this,"graphicType");Te(this,"referencedFrameofReferenceUID");Te(this,"fiducialUID")}toString(){return this.graphicType+"{"+this.graphicData+"}"}}function b_(f){const t={};return f.graphicData!==void 0&&(t.GraphicData=f.graphicData),f.graphicType!==void 0&&(t.GraphicType=f.graphicType),f.referencedFrameofReferenceUID!==void 0&&(t.ReferencedFrameofReferenceUID=f.referencedFrameofReferenceUID),f.fiducialUID!==void 0&&(t.FiducialUID=f.fiducialUID),t}const Zr={ReferencedSOPSequence:"00081199",RelationshipType:"0040A010",ValueType:"0040A040",ConceptNameCodeSequence:"0040A043",ConceptCodeSequence:"0040A168",ContentSequence:"0040A730",DateTime:"0040A120",Date:"0040A121",Time:"0040A122",UID:"0040A124",PersonName:"0040A123",TextValue:"0040A160",ContinuityOfContent:"0040A050"},$p="CONTAINS",pr="HAS PROPERTIES",j4="SELECTED FROM",Zt={text:"TEXT",num:"NUM",code:"CODE",uidref:"UIDREF",composite:"COMPOSITE",image:"IMAGE",scoord:"SCOORD",scoord3d:"SCOORD3D",container:"CONTAINER"},X4={TEXT:"TextValue",DATE:"Date",TIME:"Time",DATETIME:"DateTime",UIDREF:"UID",PNAME:"PersonName",CONTAINER:"ContinuityOfContent"};class yr{constructor(t){Te(this,"valueType");Te(this,"conceptNameCode");Te(this,"relationshipType");Te(this,"contentSequence");Te(this,"value");this.valueType=t}toString(t){t===void 0&&(t="");let a="";if(this.relationshipType!==void 0&&(a+="("+this.relationshipType+") "),a+=this.valueType+": ",this.conceptNameCode!==void 0&&(a+=this.conceptNameCode.toString()),a+=" = "+this.value.toString(),this.contentSequence!==void 0)for(const s of this.contentSequence)a+=`
`+t+"- "+s.toString(t+"  ");return a}}function Om(f){let t="";f[Zr.ValueType]!==void 0&&(t=f[Zr.ValueType].value[0]);const a=new yr(t);if(f[Zr.RelationshipType]!==void 0&&(a.relationshipType=f[Zr.RelationshipType].value[0]),f[Zr.ConceptNameCodeSequence]!==void 0&&(a.conceptNameCode=Sd(f[Zr.ConceptNameCodeSequence].value[0])),t===Zt.code)a.value=Sd(f[Zr.ConceptCodeSequence].value[0]);else if(t===Zt.num)a.value=function(s){const g=new q4;return s[Im.MeasuredValueSequence]!==void 0&&(g.measuredValue=function(C){const L=new U4;return C[Co.NumericValue]!==void 0&&(L.numericValue=C[Co.NumericValue].value[0]),C[Co.FloatingPointValue]!==void 0&&(L.floatingPointValue=C[Co.FloatingPointValue].value[0]),C[Co.RationalNumeratorValue]!==void 0&&(L.rationalNumeratorValue=C[Co.RationalNumeratorValue].value[0]),C[Co.RationalDenominatorValue]!==void 0&&(L.rationalDenominatorValue=C[Co.RationalDenominatorValue].value[0]),C[Co.MeasurementUnitsCodeSequence]!==void 0&&(L.measurementUnitsCode=Sd(C[Co.MeasurementUnitsCodeSequence].value[0])),L}(s[Im.MeasuredValueSequence].value[0])),s[Im.NumericValueQualifierCodeSequence]!==void 0&&(g.numericValueQualifierCode=Sd(s[Im.NumericValueQualifierCodeSequence].value[0])),g}(f);else if(t===Zt.image)a.value=function(s){const g=new H4;return s[Cd.ReferencedFrameNumber]!==void 0&&(g.referencedFrameNumber=s[Cd.ReferencedFrameNumber].value[0]),s[Cd.ReferencedSOPSequence]!==void 0&&(g.referencedSOPSequence=Q4(s[Cd.ReferencedSOPSequence].value[0])),s[Cd.ReferencedSegmentNumber]!==void 0&&(g.referencedSegmentNumber=s[Cd.ReferencedSegmentNumber].value[0]),g}(f);else if(t===Zt.composite)a.value=Q4(f[Zr.ReferencedSOPSequence].value[0]);else if(t===Zt.scoord)a.value=function(s){const g=new Lm;return s[yl.GraphicData]!==void 0&&(g.graphicData=s[yl.GraphicData].value),s[yl.GraphicType]!==void 0&&(g.graphicType=s[yl.GraphicType].value[0]),s[yl.PixelOriginInterpretation]!==void 0&&(g.pixelOriginInterpretation=s[yl.PixelOriginInterpretation].value[0]),s[yl.FiducialUID]!==void 0&&(g.fiducialUID=s[yl.FiducialUID].value[0]),g}(f);else if(t===Zt.scoord3d)a.value=function(s){const g=new $4;return s[bl.GraphicData]!==void 0&&(g.graphicData=s[bl.GraphicData].value),s[bl.GraphicType]!==void 0&&(g.graphicType=s[bl.GraphicType].value[0]),s[bl.ReferencedFrameofReferenceUID]!==void 0&&(g.referencedFrameofReferenceUID=s[bl.ReferencedFrameofReferenceUID].value[0]),s[bl.FiducialUID]!==void 0&&(g.fiducialUID=s[bl.FiducialUID].value[0]),g}(f);else{const s=X4[t];s!==void 0?a.value=f[Zr[s]].value[0]:console.warn("Unsupported input ValueType: "+t)}if(f[Zr.ContentSequence]!==void 0){a.contentSequence=[];for(const s of f[Zr.ContentSequence].value)a.contentSequence.push(Om(s))}return a}function jp(f){let t={};if(f.relationshipType!==void 0&&(t.RelationshipType=f.relationshipType),f.valueType!==void 0&&(t.ValueType=f.valueType),f.conceptNameCode!==void 0&&(t.ConceptNameCodeSequence={value:[hl(f.conceptNameCode)]}),f.valueType==="CODE")t.ConceptCodeSequence={value:[hl(f.value)]};else if(f.valueType===Zt.num)t={...t,...S_(f.value)};else if(f.valueType===Zt.image)t={...t,...p_(f.value)};else if(f.valueType===Zt.composite)t={...t,...z4(f.value)};else if(f.valueType===Zt.scoord)t={...t,...y_(f.value)};else if(f.valueType===Zt.scoord3d)t={...t,...b_(f.value)};else{const a=X4[f.valueType];a!==void 0?t[a]=f.value:console.warn("Unsupported output ValueType: "+f.valueType)}if(f.contentSequence!==void 0){t.ContentSequence={value:[]};for(const a of f.contentSequence)t.ContentSequence.value.push(jp(a))}return t}function C_(f,t,a){const s=function(k){const V=Rp[k];let z;return V!==void 0&&(z=ya(V.key,V.scheme)),z}(f);if(s===void 0)return;const g=new yr(Zt.num);g.relationshipType=$p,g.conceptNameCode=s;const C=new U4;C.numericValue=t,C.measurementUnitsCode=function(k){const V=Ep[k];let z;return V!==void 0?z=ya(V,"UCUM"):V===void 0&&(z=ya("1","UCUM")),z}(a);const L=new q4;return L.measuredValue=C,g.value=L,g}class km{constructor(){W(this,E0);W(this,Kl)}getWarning(){return l(this,Kl)}checkElements(t){X(this,Kl,void 0);const a=Om(t);return a.conceptNameCode!==void 0?a.conceptNameCode.value!==K5().value&&X(this,Kl,"Not a measurement group"):X(this,Kl,"No root concept name code"),l(this,Kl)}create(t){const a=[],s=Om(t);for(const k of s.contentSequence)k.valueType===Zt.scoord&&a.push(ie(this,E0,HA).call(this,k));const g=new pm(a),C=function(k){let V;const z=t[k];return z!==void 0&&(V=z.value[0]),V};g.setMetaValue("StudyInstanceUID",C("0020000D")),g.setMetaValue("Modality",C("00080060")),g.setMetaValue("PatientName",C("00100010")),g.setMetaValue("PatientID",C("00100020")),g.setMetaValue("PatientBirthDate",C("00100030")),g.setMetaValue("PatientSex",C("00100040"));const L=t["00081115"];if(L!==void 0){const k=L.value[0]["0020000E"];k!==void 0&&g.setMetaValue("ReferencedSeriesSequence",{value:[{SeriesInstanceUID:k.value[0]}]})}return g}toDicom(t,a){let s=t.getMeta();s.TransferSyntaxUID="1.2.840.10008.1.2.1",s.SOPClassUID="1.2.840.10008.5.1.4.1.1.88.11",s.MediaStorageSOPClassUID="1.2.840.10008.5.1.4.1.1.88.11",s.CompletionFlag="PARTIAL",s.VerificationFlag="UNVERIFIED";const g=new Date;s.ContentDate=V5(F5(g)),s.ContentTime=B5(M5(g));const C=[];for(const L of t.getList())C.push(ie(this,E0,WA).call(this,L));if(C.length!==0){const L=new yr(Zt.container);L.conceptNameCode=K5(),L.contentSequence=C,s={...s,...jp(L)}}return a!==void 0&&function(L,k){const V=Object.keys(k);for(const z of V)L[z]!==void 0&&p.trace("Overwritting tag: "+z),L[z]=k[z]}(s,a),mm(s)}}Kl=new WeakMap,E0=new WeakSet,HA=function(t){const a=new Mu;a.mathShape=function(s){const g=s.graphicData.length;if(g%2!=0)throw new Error("Expecting even number of coordinates in scroord data");const C=[];for(let z=0;z<g;z+=2)C.push(new K(parseFloat(s.graphicData[z]),parseFloat(s.graphicData[z+1])));let L=!1;const k=C.length;if(k>2){const z=C[0],Q=C[k-1];L=z.equals(Q)}let V;if(s.graphicType===Yp){if(C.length!==1)throw new Error("Expecting 1 point for point");V=C[0]}else if(s.graphicType===W4){if(C.length!==2)throw new Error("Expecting 2 points for circles");const z=C[0],Q=C[1].getDistance(z);V=new Sl(z,Q)}else if(s.graphicType===Y4){if(C.length!==4)throw new Error("Expecting 4 points for ellipses");const z=C[0].getDistance(C[1])/2,Q=C[2].getDistance(C[3])/2,ee=new K(C[0].getX()+z,C[0].getY());V=new vl(ee,z,Q)}else if(s.graphicType===Bh)if(L)if(C.length===5){const z=new sn(C[0],C[1]),Q=new sn(C[1],C[2]),ee=new sn(C[2],C[3]),oe=new sn(C[3],C[4]);V=Bp(z,Q)&&Bp(Q,ee)&&Bp(ee,oe)?new gl(C[0],C[2]):new Sr(C.slice(0,-1))}else V=new Sr(C.slice(0,-1));else C.length===2?V=new sn(C[0],C[1]):C.length===3&&(V=new ml([C[0],C[1],C[2]]));return V}(t.value),a.id=hm(),a.textExpr="";for(const s of t.contentSequence){if(s.valueType===Zt.image&&s.relationshipType===j4&&Ou(s.conceptNameCode,J5())&&(a.referenceSopUID=s.value.referencedSOPSequence.referencedSOPInstanceUID),s.valueType===Zt.uidref&&s.relationshipType===pr&&Ou(s.conceptNameCode,e4())&&(a.id=s.value),s.valueType===Zt.text&&s.relationshipType===pr&&Ou(s.conceptNameCode,t4())&&(a.textExpr=s.value,s.contentSequence!==void 0))for(const g of s.contentSequence)g.valueType===Zt.scoord&&g.relationshipType===pr&&Ou(g.conceptNameCode,vm())&&(a.labelPosition=new K(g.value.graphicData[0],g.value.graphicData[1]));if(s.valueType===Zt.text&&s.relationshipType===pr&&Ou(s.conceptNameCode,n4())&&(a.colour=s.value),s.valueType===Zt.scoord&&s.relationshipType===pr&&Ou(s.conceptNameCode,vm())&&s.value.graphicType===_m){const g=[];for(let C=0;C<s.value.graphicData.length;C+=2)g.push(new K(s.value.graphicData[C],s.value.graphicData[C+1]));a.referencePoints=g}if(s.valueType===Zt.scoord3d&&s.relationshipType===pr&&Ou(s.conceptNameCode,Z5())&&s.value.graphicType===_m){const g=s.value.graphicData,C=[],L=Math.floor(g.length/3);for(let k=0;k<L;++k){const V=3*k;C.push(new ce(g[V],g[V+1],g[V+2]))}a.planePoints=C}if(s.valueType===Zt.num&&s.relationshipType===$p){const g=R9(s.conceptNameCode);if(g===void 0)continue;const C=s.value.measuredValue,L=E9(C.measurementUnitsCode);a.quantification===void 0&&(a.quantification={}),a.quantification[g]={value:C.numericValue,unit:L}}}return a},WA=function(t){const a=new yr(Zt.scoord);a.relationshipType=$p,t.mathShape instanceof sn?a.conceptNameCode=ya("121055","DCM"):a.conceptNameCode=ya("111030","DCM"),a.value=function(Q){const ee=new Lm;if(Q instanceof K)ee.graphicData=[Q.getX().toString(),Q.getY().toString()],ee.graphicType=Yp;else if(Q instanceof sn)ee.graphicData=[Q.getBegin().getX().toString(),Q.getBegin().getY().toString(),Q.getEnd().getX().toString(),Q.getEnd().getY().toString()],ee.graphicType=Bh;else if(Q instanceof ml){ee.graphicData=[];for(let oe=0;oe<3;++oe)ee.graphicData.push(Q.getPoint(oe).getX().toString()),ee.graphicData.push(Q.getPoint(oe).getY().toString());ee.graphicType=Bh}else if(Q instanceof Sr){ee.graphicData=[];for(let me=0;me<Q.getLength();++me)ee.graphicData.push(Q.getPoint(me).getX().toString()),ee.graphicData.push(Q.getPoint(me).getY().toString());const oe=Q.getPoint(0);ee.graphicData.push(oe.getX().toString()),ee.graphicData.push(oe.getY().toString()),ee.graphicType=Bh}else if(Q instanceof Sl){const oe=Q.getCenter(),me=new K(oe.getX()+Q.getRadius(),oe.getY());ee.graphicData=[oe.getX().toString(),oe.getY().toString(),me.getX().toString(),me.getY().toString()],ee.graphicType=W4}else if(Q instanceof vl){const oe=Q.getCenter(),me=Q.getA(),De=Q.getB();ee.graphicData=[(oe.getX()-me).toString(),oe.getY().toString(),(oe.getX()+me).toString(),oe.getY().toString(),oe.getX().toString(),(oe.getY()-De).toString(),oe.getX().toString(),(oe.getY()+De).toString()],ee.graphicType=Y4}else if(Q instanceof gl){const oe=Q.getBegin(),me=Q.getEnd();ee.graphicData=[oe.getX().toString(),oe.getY().toString(),oe.getX().toString(),me.getY().toString(),me.getX().toString(),me.getY().toString(),me.getX().toString(),oe.getY().toString(),oe.getX().toString(),oe.getY().toString()],ee.graphicType=Bh}return ee}(t.mathShape);const s=[],g=new yr(Zt.image);g.relationshipType=j4,g.conceptNameCode=J5();const C=new G4;C.referencedSOPClassUID="",C.referencedSOPInstanceUID=t.referenceSopUID;const L=new H4;L.referencedSOPSequence=C,g.value=L,s.push(g);const k=new yr(Zt.uidref);k.relationshipType=pr,k.conceptNameCode=e4(),k.value=t.id,s.push(k);const V=new yr(Zt.text);if(V.relationshipType=pr,V.conceptNameCode=t4(),V.value=t.textExpr,t.labelPosition!==void 0){const Q=new yr(Zt.scoord);Q.relationshipType=pr,Q.conceptNameCode=vm();const ee=new Lm;ee.graphicType=Yp;const oe=[t.labelPosition.getX().toString(),t.labelPosition.getY().toString()];ee.graphicData=oe,Q.value=ee,V.contentSequence=[Q]}s.push(V);const z=new yr(Zt.text);if(z.relationshipType=pr,z.conceptNameCode=n4(),z.value=t.colour,s.push(z),t.referencePoints!==void 0){const Q=new yr(Zt.scoord);Q.relationshipType=pr,Q.conceptNameCode=vm();const ee=new Lm;ee.graphicType=_m;const oe=[];for(const me of t.referencePoints)oe.push(me.getX().toString()),oe.push(me.getY().toString());ee.graphicData=oe,Q.value=ee,s.push(Q)}if(t.planePoints!==void 0){const Q=new yr(Zt.scoord3d);Q.relationshipType=pr,Q.conceptNameCode=Z5();const ee=new $4;ee.graphicType=_m;const oe=[];for(const me of t.planePoints)oe.push(me.getX().toString()),oe.push(me.getY().toString()),oe.push(me.getZ().toString());ee.graphicData=oe,Q.value=ee,s.push(Q)}if(t.quantification!==void 0)for(const Q in t.quantification){const ee=C_(Q,t.quantification[Q].value,t.quantification[Q].unit);ee!==void 0&&s.push(ee)}return a.contentSequence=s,a};class Xp{constructor(t){Te(this,"meta");Te(this,"image");Te(this,"annotationGroup");this.meta=t}}class w_{constructor(){W(this,ha);W(this,Ci,{});W(this,o1,-1);W(this,F0,new Ni);W(this,Zl,t=>{l(this,F0).fireEvent(t)})}getNextDataId(){return++lr(this,o1)._,l(this,o1).toString()}getDataIds(){return Object.keys(l(this,Ci))}reset(){X(this,Ci,{})}get(t){return l(this,Ci)[t]}getDataIdsFromSopUids(t){const a=[];if(t===void 0||t.length===0)return a;const s=Object.keys(l(this,Ci));for(const g of s)l(this,Ci)[g].image!==void 0&&l(this,Ci)[g].image.containsImageUids(t)&&a.push(g);return a}setImage(t,a){l(this,Ci)[t].image=a,l(this,Zl).call(this,{type:"dataimageset",value:[a],dataid:t}),a.addEventListener("imagecontentchange",ie(this,ha,ur).call(this,t)),a.addEventListener("imagegeometrychange",ie(this,ha,ur).call(this,t))}add(t,a){if(l(this,Ci)[t]!==void 0)throw new Error("Data id already used in storage: "+t);l(this,Ci)[t]=a,l(this,Zl).call(this,{type:"dataadd",dataid:t}),a.image!==void 0&&(a.image.addEventListener("imagecontentchange",ie(this,ha,ur).call(this,t)),a.image.addEventListener("imagegeometrychange",ie(this,ha,ur).call(this,t))),a.annotationGroup!==void 0&&(a.annotationGroup.addEventListener("annotationadd",ie(this,ha,ur).call(this,t)),a.annotationGroup.addEventListener("annotationupdate",ie(this,ha,ur).call(this,t)),a.annotationGroup.addEventListener("annotationremove",ie(this,ha,ur).call(this,t)))}remove(t){if(l(this,Ci)[t]!==void 0){const a=l(this,Ci)[t].image;a!==void 0&&(a.removeEventListener("imagecontentchange",ie(this,ha,ur).call(this,t)),a.removeEventListener("imagegeometrychange",ie(this,ha,ur).call(this,t)));const s=l(this,Ci)[t].annotationGroup;s!==void 0&&(s.removeEventListener("annotationadd",ie(this,ha,ur).call(this,t)),s.removeEventListener("annotationupdate",ie(this,ha,ur).call(this,t)),s.removeEventListener("annotationremove",ie(this,ha,ur).call(this,t))),delete l(this,Ci)[t],l(this,Zl).call(this,{type:"dataremove",dataid:t})}}update(t,a){if(l(this,Ci)[t]===void 0)throw new Error("Cannot find data to update: "+t);const s=l(this,Ci)[t];s.image!==void 0&&a.image!==void 0&&s.image.appendSlice(a.image);let g="";g=a.meta["00020010"]!==void 0?"00200013":"imageUid",s.meta=function(C,L,k,V){const z={};if(!k)throw new Error("Cannot merge object with an undefined id key: "+k);if(!Object.prototype.hasOwnProperty.call(C,k))throw new Error("Id key not found in first object while merging: "+k+", obj: "+C);if(!Object.prototype.hasOwnProperty.call(L,k))throw new Error("Id key not found in second object while merging: "+k+", obj: "+L);let Q=!1;if(Object.prototype.hasOwnProperty.call(C[k],"merged")&&C[k].merged&&(Q=!0),!Object.prototype.hasOwnProperty.call(C[k],V))throw new Error("Id value not found in first object while merging: "+k+", valueKey: "+V+", ojb: "+C);if(!Object.prototype.hasOwnProperty.call(L[k],V))throw new Error("Id value not found in second object while merging: "+k+", valueKey: "+V+", ojb: "+L);let ee=C[k][V];const oe=L[k][V][0];if(z[k]=C[k],Q){for(let ke=0;ke<ee.length;++ke)if(ee[ke]===oe)throw new Error("The first object already contains id2: "+oe+", id1: "+ee);z[k][V].push(oe)}else{if(ee=ee[0],ee===oe)throw new Error("Cannot merge object with same ids: "+ee+", id2: "+oe);z[k][V].push(oe),z[k].merged=!0}const me=Object.keys(C),De=Object.keys(L).filter(function(ke){return me.indexOf(ke)<0}),Oe=me.concat(De);for(let ke=0;ke<Oe.length;++ke){const We=Oe[ke];if(We!==k){let Ee,Ne,Ue,Re,Ze;if(Object.prototype.hasOwnProperty.call(C,We)&&(Ee=C[We],Object.prototype.hasOwnProperty.call(Ee,V)&&(Ne=Ee[V])),Object.prototype.hasOwnProperty.call(L,We)&&(Ue=L[We],Object.prototype.hasOwnProperty.call(Ue,V)&&(Re=Ue[V])),Ee!==void 0?Ze=Ee:Ue!==void 0&&(Ze=Ue),!Ce(Ne,Re))if(Q){if(Array.isArray(Ne)){Ze[V]={};for(let Je=0;Je<ee.length;++Je)Ze[V][ee[Je]]=Ne}else Ze[V]=Ne;Ze[V]===void 0&&(Ze[V]={}),Ze[V][oe]=Re}else{const Je={};Je[ee]=Ne,Je[oe]=Re,Ze[V]=Je}z[We]=Ze}}return z}(s.meta,a.meta,g,"value"),l(this,Zl).call(this,{type:"dataupdate",dataid:t})}addEventListener(t,a){l(this,F0).add(t,a)}removeEventListener(t,a){l(this,F0).remove(t,a)}}Ci=new WeakMap,o1=new WeakMap,F0=new WeakMap,Zl=new WeakMap,ha=new WeakSet,ur=function(t){return a=>{a.dataid=t,l(this,Zl).call(this,a)}};class D_{constructor(){W(this,wi);W(this,Ac);W(this,Qr,null);W(this,_c,[]);W(this,Jl,[]);W(this,Vs,[]);W(this,s1,[])}setOptions(t){X(this,Ac,t)}convert(t,a,s){this.onloadstart({source:a,index:s});const g=new yp;let C;l(this,Ac).defaultCharacterSet!==void 0&&g.setDefaultCharacterSet(l(this,Ac).defaultCharacterSet);try{g.parse(t),C=ie(this,wi,YA).call(this,g.getDicomElements()),C!==void 0&&C.checkElements(g.getDicomElements())}catch(L){return this.onerror({error:L,source:a}),void this.onloadend({source:a})}l(this,_c)[s]=g,l(this,s1)[s]=C,C instanceof km?ie(this,wi,KA).call(this,s,a):ie(this,wi,ZA).call(this,s,a)}abort(){l(this,Qr)&&l(this,Qr).abort()}onloadstart(t){}onloaditem(t){}onprogress(t){}onload(t){}onloadend(t){}onerror(t){}onabort(t){}}Ac=new WeakMap,Qr=new WeakMap,_c=new WeakMap,Jl=new WeakMap,Vs=new WeakMap,s1=new WeakMap,wi=new WeakSet,YA=function(t){let a;const s=t["00080060"];if(s!==void 0){const g=s.value[0];g==="SEG"?a=new Fp:g==="SR"&&(a=new km)}return a===void 0&&t["7FE00010"]!==void 0&&(a=new Y5),a},oS=function(t,a){const s=l(this,_c)[t].getDicomElements(),g=l(this,s1)[t];if(g!==void 0)try{const C=new Xp(s);g instanceof km?C.annotationGroup=g.create(s):C.image=g.create(s,l(this,Jl)[t],l(this,Ac).numberOfFiles),this.onloaditem({data:C,source:a,warn:g.getWarning()})}catch(C){this.onerror({error:C,source:a}),this.onloadend({source:a})}},$A=function(t,a){this.onprogress({lengthComputable:!0,loaded:100,total:100,index:t,source:a}),ie(this,wi,oS).call(this,t,a),this.onload({source:a}),this.onloadend({source:a})},jA=function(t,a,s){const g=l(this,_c)[t],C={bitsAllocated:g.getDicomElements()["00280100"].value[0],isSigned:g.getDicomElements()["00280103"].value[0]===1},L=g.getDicomElements()["00280011"],k=g.getDicomElements()["00280010"];L!==void 0&&k!==void 0&&(C.sliceSize=L.value[0]*k.value[0]);const V=g.getDicomElements()["00280002"];V!==void 0&&(C.samplesPerPixel=V.value[0]);const z=g.getDicomElements()["00280006"];z!==void 0&&(C.planarConfiguration=z.value[0]);const Q=a.length;l(this,Qr)===null&&(X(this,Qr,new m_(s,Q)),l(this,Qr).ondecodeditem=ee=>{ie(this,wi,XA).call(this,ee),ee.itemNumber+1===ee.numberOfItems&&(this.onload(ee),this.onloadend(ee))},l(this,Qr).onerror=this.onerror,l(this,Qr).onabort=this.onabort);for(let ee=0;ee<Q;++ee)l(this,Qr).decode(a[ee],C,{itemNumber:ee,numberOfItems:Q,index:t})},XA=function(t){this.onprogress({lengthComputable:!0,loaded:t.itemNumber+1,total:t.numberOfItems,index:t.index,source:origin});const a=t.index,s=t.data[0];if(t.numberOfItems!==1){if(l(this,Vs)[a]===void 0){l(this,Vs)[a]=s.length;const g=t.numberOfItems*l(this,Vs)[a];try{l(this,Jl)[a]=new s.constructor(g)}catch(C){if(C instanceof RangeError){const L=Math.floor(Math.log(g)/Math.log(2));p.error("Cannot allocate "+s.constructor.name+" of size: "+g+" (>2^"+L+") for decompressed data.")}return l(this,Qr).abort(),this.onerror({error:C,source:origin}),void this.onloadend({source:origin})}}s.length!==l(this,Vs)[a]&&p.warn("Unsupported varying decompressed data size: "+s.length+" != "+l(this,Vs)[a]),l(this,Jl)[a].set(s,l(this,Vs)[a]*t.itemNumber)}else l(this,Jl)[a]=s;t.itemNumber===0&&ie(this,wi,oS).call(this,a,origin)},KA=function(t,a){ie(this,wi,oS).call(this,t,a),this.onload({source:a}),this.onloadend({source:a})},ZA=function(t,a){const s=l(this,_c)[t],g=s.getDicomElements()["7FE00010"].value;s.getDicomElements()["7FE00010"].value=[],l(this,Jl)[t]=g[0];const C=function(L){let k;return pp(L)?k="jpeg2000":vp(L)?k="jpeg-baseline":Sp(L)?k="jpeg-lossless":P5(L)&&(k="rle"),k}(s.getDicomElements()["00020010"].value[0]);C!==void 0?ie(this,wi,jA).call(this,t,g,C):ie(this,wi,$A).call(this,t,a)};class Kp{constructor(){W(this,nu);W(this,eu,null);W(this,tu,null);W(this,M0,0);W(this,V0,0);W(this,l1);W(this,av,t=>{lr(this,M0)._++,l(this,M0)===l(this,eu).length&&this.onload({source:l(this,eu)})});W(this,rv,t=>{lr(this,V0)._++,l(this,V0)===l(this,eu).length&&this.onloadend({source:l(this,eu)})})}getDefaultCharacterSet(){return l(this,l1)}setDefaultCharacterSet(t){X(this,l1,t)}load(t){if(t===void 0||t.length===0)return;ie(this,nu,JA).call(this,t),this.onloadstart({source:t});const a=new Wp(this.onprogress);a.setNToLoad(t.length),a.setNumberOfDimensions(1);const s=[];for(let k=0;k<wd.length;++k)s.push(new wd[k]);let g=t[0],C=null,L=!1;for(let k=0;k<s.length;++k)if(C=s[k],C.canLoadMemory(g)){L=!0,C.setOptions({numberOfFiles:t.length,defaultCharacterSet:this.getDefaultCharacterSet()}),C.onprogress=a.getUndefinedMonoProgressHandler(0),C.onloaditem=this.onloaditem,C.onload=l(this,av),C.onloadend=l(this,rv),C.onerror=this.onerror,C.onabort=this.onabort,ie(this,nu,e9).call(this,C);break}if(!L)throw new Error("No loader found for data: "+g.filename);for(let k=0;k<t.length;++k){if(g=t[k],!C.canLoadMemory(g))throw new Error("Input data of different type: "+g.filename);C.load(g.data,g.filename,k)}}abort(){l(this,tu)&&l(this,tu).isLoading()&&l(this,tu).abort()}onloadstart(t){}onprogress(t){}onloaditem(t){}onload(t){}onloadend(t){}onerror(t){}onabort(t){}}eu=new WeakMap,tu=new WeakMap,M0=new WeakMap,V0=new WeakMap,l1=new WeakMap,nu=new WeakSet,JA=function(t){X(this,eu,t),X(this,M0,0),X(this,V0,0),ie(this,nu,t9).call(this)},e9=function(t){X(this,tu,t)},t9=function(){X(this,tu,null)},av=new WeakMap,rv=new WeakMap;function Rm(f){return parseInt(f,36).toString()}function K4(f){const t=f.data.length,a=new Uint8Array(t/4*3);let s=0;for(let g=0;g<t;g+=4)a[s]=f.data[g],a[s+1]=f.data[g+1],a[s+2]=f.data[g+2],s+=3;return a}function Z4(f,t,a,s,g,C){const L=new cl([f,t,1]),k=new dl([1,1,1]),V=new ce(0,0,a),z=new vd(V,L,k),Q=new ku(z,s,[C]);Q.setPhotometricInterpretation("RGB");const ee={BitsStored:8};return g!==void 0&&(ee.numberOfFiles=g),Q.setMeta(ee),Q}var x_=d(654),T_=d.n(x_);const wd=[(C3=class{constructor(){W(this,u1,{});W(this,iu,!1);W(this,rr,new D_)}setOptions(f){X(this,u1,f)}isLoading(){return l(this,iu)}load(f,t,a){l(this,iu)||(l(this,rr).setOptions(l(this,u1)),l(this,rr).onloadstart=this.onloadstart,l(this,rr).onprogress=this.onprogress,l(this,rr).onloaditem=this.onloaditem,l(this,rr).onload=this.onload,l(this,rr).onloadend=s=>{X(this,iu,!1),this.onloadend(s)},l(this,rr).onerror=s=>{s.source=t,this.onerror(s)},l(this,rr).onabort=this.onabort),X(this,iu,!0),l(this,rr).convert(f,t,a)}abort(){X(this,iu,!1),l(this,rr).abort()}canLoadFile(f){const t=ye(f.name);return t===null||t==="dcm"}canLoadUrl(f,t){if(t!==void 0){if(t.forceLoader!==void 0&&t.forceLoader==="dicom")return!0;if(t.requestHeaders!==void 0){const k=function(z){return z.name==="Accept"},V=t.requestHeaders.find(k);if(V!==void 0){const z="application/dicom";return j(V.value,z)&&V.value[z.length]!=="+"}}}const a=Vh(f),s=ye(a.pathname),g=s===null,C=s==="dcm",L=a.searchParams.get("contentType");return L!=null?L==="application/dicom":g||C}canLoadMemory(f){const t=f["Content-Type"];if(t!==void 0&&t.startsWith("application/dicom"))return!0;if(f.filename!==void 0){const a=new File(["from memory"],f.filename);return this.canLoadFile(a)}return!1}loadFileAs(){return ss.ArrayBuffer}loadUrlAs(){return 1}onloadstart(f){}onprogress(f){}onloaditem(f){}onload(f){}onloadend(f){}onerror(f){}onabort(f){}},u1=new WeakMap,iu=new WeakMap,rr=new WeakMap,C3),(w3=class{constructor(){W(this,Lc,!1)}setOptions(f){}isLoading(){return l(this,Lc)}load(f,t,a){X(this,Lc,!0),this.onloadstart({source:t});try{this.onprogress({lengthComputable:!0,loaded:100,total:100,index:a,source:t});const s={data:f,source:t};this.onloaditem(s),this.onload(s)}catch(s){this.onerror({error:s,source:t})}finally{X(this,Lc,!1),this.onloadend({source:t})}}abort(){X(this,Lc,!1),this.onabort({}),this.onloadend({})}canLoadFile(f){return ye(f.name)==="json"}canLoadUrl(f,t){if(t!==void 0){if(t.forceLoader!==void 0&&t.forceLoader==="json")return!0;if(t.requestHeaders!==void 0){const a=function(g){return g.name==="Accept"},s=t.requestHeaders.find(a);if(s!==void 0)return j(s.value,"application/json")||j(s.value,"application/dicom+json")}}return ye(Vh(f).pathname)==="json"}canLoadMemory(f){const t=f["Content-Type"];if(t!==void 0&&t.startsWith("application/json"))return!0;if(f.filename!==void 0){const a=new File(["from memory"],f.filename);return this.canLoadFile(a)}return!1}loadFileAs(){return ss.Text}loadUrlAs(){return 0}onloadstart(f){}onprogress(f){}onloaditem(f){}onload(f){}onloadend(f){}onerror(f){}onabort(f){}},Lc=new WeakMap,w3),(D3=class{constructor(){W(this,Oc,!1)}setOptions(f){}isLoading(){return l(this,Oc)}load(f,t,a){this.onloadstart({source:t}),X(this,Oc,!0);const s=new Kp;s.onprogress=g=>{g.loaded=50+g.loaded/2,g.index=a,this.onprogress(g)},s.onloaditem=this.onloaditem,s.onload=this.onload,s.onloadend=g=>{X(this,Oc,!1),this.onloadend(g)},s.onerror=this.onerror,s.onabort=this.onabort,s.load(function(g){const C=new Uint8Array(g),L=[];if(C.length===0)return L;const k=ue(new Uint8Array([13,10,13,10]));let V=J(C,k,0);if(V===void 0)throw new Error("Can't find the end of the first multipart header");const z=Le(C.slice(0,V)).split(`\r
`);let Q;for(let De=0;De<z.length;++De)if(z[De][0]==="-"&&z[De][1]==="-"){Q=z[De];break}if(Q===void 0)throw new Error("Can't find the boundary between multi-parts");const ee=ue(Pe(Q)),oe=Q.length;let me=J(C,ee,0);for(;V!==void 0;){const De={},Oe=Le(C.slice(me+oe,V)).split(`\r
`);for(let Ee=0;Ee<Oe.length;++Ee){const Ne=Oe[Ee],Ue=Ne.indexOf(":");if(Ue!==-1){const Re=Ne.substring(0,Ue).trim(),Ze=Ne.substring(Ue+1).trim();De[Re]=Ze}}if(me=J(C,ee,V),me===void 0)break;const ke=V+4,We=me-2;De.data=ke<We?C.slice(ke,We).buffer:new Uint8Array,L.push(De),V=J(C,k,me+oe)}return L}(f))}abort(){X(this,Oc,!1),this.onabort({}),this.onloadend({})}canLoadFile(f){return!1}canLoadUrl(f,t){if(t!==void 0){if(t.forceLoader!==void 0&&t.forceLoader==="multipart")return!0;if(t.requestHeaders!==void 0){const a=function(g){return g.name==="Accept"},s=t.requestHeaders.find(a);if(s!==void 0)return j(s.value,"multipart/related")}}return!1}canLoadMemory(f){return!1}loadFileAs(){return ss.ArrayBuffer}loadUrlAs(){return 1}onloadstart(f){}onprogress(f){}onloaditem(f){}onload(f){}onloadend(f){}onerror(f){}onabort(f){}},Oc=new WeakMap,D3),(x3=class{constructor(){W(this,ov);W(this,B0,!1)}setOptions(f){}isLoading(){return!0}load(f,t,a){X(this,B0,!1);const s=new Image;if(s.onload=()=>{try{if(!l(this,B0)){this.onprogress({lengthComputable:!0,loaded:100,total:100,index:a,source:t});const g=function(C,L,k){const V=C.width,z=C.height,Q=document.createElement("canvas");Q.width=V,Q.height=z;const ee=Q.getContext("2d");ee.drawImage(C,0,0);const oe=ee.getImageData(0,0,V,z),me={};let De;typeof L=="string"?(me.origin={value:L},De=Rm(L)):(me.fileName={value:L.name},De=Rm(L.name),me.fileType={value:L.type},me.fileLastModifiedDate={value:L.lastModified}),me.imageWidth={value:V},me.imageHeight={value:z};const Oe=k||0;me.imageUid={value:Oe},me.seriesUid={value:De};const ke=Z4(V,z,Oe,K4(oe),1,Oe.toString()),We=ke.getMeta();return We.SeriesInstanceUID=De,ke.setMeta(We),{data:{image:ke,meta:me},source:L}}(s,t,a);this.onloaditem(g),this.onload(g)}}catch(g){this.onerror({error:g,source:t})}finally{this.onloadend({source:t})}},typeof f=="string")s.src=f;else if(typeof t=="string"){const g=t.split(".").pop().toLowerCase();s.src=ie(this,ov,n9).call(this,f,g)}}abort(){X(this,B0,!0),this.onabort({}),this.onloadend({})}canLoadFile(f){return f.type!==void 0&&f.type.match("image.*")!==null}canLoadUrl(f,t){if(t!==void 0){if(t.forceLoader!==void 0&&t.forceLoader==="rawimage")return!0;if(t.requestHeaders!==void 0){const L=function(V){return V.name==="Accept"},k=t.requestHeaders.find(L);if(k!==void 0)return j(k.value,"image/")}}const a=Vh(f),s=ye(a.pathname),g=s==="jpeg"||s==="jpg"||s==="png"||s==="gif",C=a.searchParams.get("contentType");return C!=null?C==="image/jpeg"||C==="image/png"||C==="image/gif":g}canLoadMemory(f){if(f.filename!==void 0){const t=new File(["from memory"],f.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return ss.DataURL}loadUrlAs(){return 1}onloadstart(f){}onprogress(f){}onloaditem(f){}onload(f){}onloadend(f){}onerror(f){}onabort(f){}},B0=new WeakMap,ov=new WeakSet,n9=function(f,t){let a=t;a&&a!=="jpg"||(a="jpeg");const s=new Blob([f],{type:"image/"+a});return window.URL.createObjectURL(s)},x3),(T3=class{constructor(){W(this,sv)}setOptions(f){}isLoading(){return!0}load(f,t,a){const s=document.createElement("video");if(typeof t=="string"){const g=t.split(".").pop().toLowerCase();s.src=ie(this,sv,i9).call(this,f,g)}else s.src=f;s.onloadedmetadata=g=>{try{(function(C,L,k,V,z,Q,ee){const oe=C.videoWidth,me=C.videoHeight,De=Math.ceil(30*C.duration),Oe={};let ke;typeof Q=="string"?(Oe.origin={value:Q},ke=Rm(Q)):(Oe.fileName={value:Q.name},ke=Rm(Q.name),Oe.fileType={value:Q.type},Oe.fileLastModifiedDate={value:Q.lastModified}),Oe.imageWidth={value:oe},Oe.imageHeight={value:me},Oe.numberOfFrames={value:De},Oe.imageUid={value:0},Oe.seriesUid={value:ke};const We=document.createElement("canvas");We.width=oe,We.height=me;const Ee=We.getContext("2d");C.addEventListener("seeked",function Ze(Je){(function(){V({lengthComputable:!0,loaded:Ne,total:De,index:ee,source:Q}),Ee.drawImage(C,0,0);const tt=K4(Ee.getImageData(0,0,oe,me));if(Ne===0){Ue=Z4(oe,me,1,tt,De,ee.toString());const st=Ue.getMeta();st.SeriesInstanceUID=ke,Ue.setMeta(st),L({data:{image:Ue,meta:Oe},source:Q})}else Ue.appendFrameBuffer(tt,Ne);++Ne})(),Re+=1/30,Re<=Je.target.duration?this.currentTime=Re:(k({source:Q}),z({source:Q}),C.removeEventListener("seeked",Ze))},!1);let Ne=0,Ue=null,Re=0;C.currentTime=Re})(g.target,this.onloaditem,this.onload,this.onprogress,this.onloadend,t,a)}catch(C){this.onerror({error:C,source:t}),this.onloadend({source:t})}}}abort(){this.onabort({}),this.onloadend({})}canLoadFile(f){return f.type!==void 0&&f.type.match("video.*")!==null}canLoadUrl(f,t){if(t!==void 0){if(t.forceLoader!==void 0&&t.forceLoader==="rawvideo")return!0;if(t.requestHeaders!==void 0){const s=function(C){return C.name==="Accept"},g=t.requestHeaders.find(s);if(g!==void 0)return j(g.value,"video/")}}const a=ye(Vh(f).pathname);return a==="mp4"||a==="ogg"||a==="webm"}canLoadMemory(f){if(f.filename!==void 0){const t=new File(["from memory"],f.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return ss.DataURL}loadUrlAs(){return 1}onloadstart(f){}onprogress(f){}onloaditem(f){}onload(f){}onloadend(f){}onerror(f){}onabort(f){}},sv=new WeakSet,i9=function(f,t){const a=new Uint8Array(f);let s="";for(let g=0;g<a.byteLength;++g)s+=String.fromCharCode(a[g]);return"data:video/"+t+";base64,"+window.btoa(s)},T3),(P3=class{constructor(){W(this,c1);W(this,kc,!1);W(this,N0,"");W(this,Bo,[]);W(this,No,null)}setOptions(f){}isLoading(){return l(this,kc)}load(f,t,a){this.onloadstart({source:t}),X(this,kc,!0),T_().loadAsync(f).then(s=>{X(this,Bo,[]),X(this,No,s.file(/.*\.dcm/));const g=l(this,Bo).length;X(this,N0,l(this,No)[g].name),l(this,No)[g].async("arrayBuffer").then(C=>{ie(this,c1,jb).call(this,C,t,a)})})}abort(){X(this,kc,!1),this.onabort({}),this.onloadend({})}canLoadFile(f){return ye(f.name)==="zip"}canLoadUrl(f,t){if(t!==void 0){if(t.forceLoader!==void 0&&t.forceLoader==="zip")return!0;if(t.requestHeaders!==void 0){const a=function(g){return g.name==="Accept"},s=t.requestHeaders.find(a);if(s!==void 0)return j(s.value,"application/zip")}}return ye(Vh(f).pathname)==="zip"}canLoadMemory(f){const t=f["Content-Type"];if(t!==void 0&&t.startsWith("application/zip"))return!0;if(f.filename!==void 0){const a=new File(["from memory"],f.filename);return this.canLoadFile(a)}return!1}loadFileAs(){return ss.ArrayBuffer}loadUrlAs(){return 1}onloadstart(f){}onprogress(f){}onloaditem(f){}onload(f){}onloadend(f){}onerror(f){}onabort(f){}},kc=new WeakMap,N0=new WeakMap,Bo=new WeakMap,No=new WeakMap,c1=new WeakSet,jb=function(f,t,a){l(this,Bo).push({filename:l(this,N0),data:f});const s=100*l(this,Bo).length/l(this,No).length;if(this.onprogress({lengthComputable:!0,loaded:s/2,total:100,index:a,item:{loaded:s,total:100,source:t}}),l(this,Bo).length<l(this,No).length){const g=l(this,Bo).length;X(this,N0,l(this,No)[g].name),l(this,No)[g].async("arrayBuffer").then(C=>{ie(this,c1,jb).call(this,C,t,a)})}else{const g=new Kp;g.onprogress=C=>{C.loaded=50+C.loaded/2,C.index=a,this.onprogress(C)},g.onloaditem=this.onloaditem,g.onload=this.onload,g.onloadend=C=>{X(this,kc,!1),this.onloadend(C)},g.onerror=this.onerror,g.onabort=this.onabort,g.load(l(this,Bo))}},P3)],ss={Text:0,ArrayBuffer:1,DataURL:2};class J4{constructor(){W(this,Di);W(this,au,null);W(this,ru,[]);W(this,ou,null);W(this,U0,0);W(this,q0,0);W(this,d1);W(this,lv,t=>{lr(this,U0)._++,l(this,U0)===l(this,au).length&&this.onload({source:l(this,au)})});W(this,G0,t=>{lr(this,q0)._++,l(this,q0)===l(this,au).length&&this.onloadend({source:l(this,au)})})}getDefaultCharacterSet(){return l(this,d1)}setDefaultCharacterSet(t){X(this,d1,t)}load(t){if(t===void 0||t.length===0)return;ie(this,Di,a9).call(this,t),this.onloadstart({source:t});const a=new Wp(this.onprogress);a.setNToLoad(t.length);const s=[];for(let k=0;k<wd.length;++k)s.push(new wd[k]);let g=t[0],C=null,L=!1;for(let k=0;k<s.length;++k)if(C=s[k],C.canLoadFile(g)){L=!0,C.setOptions({numberOfFiles:t.length,defaultCharacterSet:this.getDefaultCharacterSet()}),C.onprogress=a.getUndefinedMonoProgressHandler(1),C.onloaditem=this.onloaditem,C.onload=l(this,lv),C.onloadend=l(this,G0),C.onerror=this.onerror,C.onabort=this.onabort,ie(this,Di,s9).call(this,C);break}if(!L)throw new Error("No loader found for file: "+g.name);for(let k=0;k<t.length;++k){if(g=t[k],!C.canLoadFile(g))throw new Error("Input file of different type: "+g);const V=new FileReader;ie(this,Di,r9).call(this,V),V.onprogress=ie(this,Di,sS).call(this,a.getMonoProgressHandler(k,0),g),V.onload=ie(this,Di,u9).call(this,C,g,k);const z=ie(this,Di,sS).call(this,this.onerror,g);V.onerror=ee=>{l(this,G0).call(this),z(ee)};const Q=ie(this,Di,sS).call(this,this.onabort,g);V.onabort=ee=>{l(this,G0).call(this),Q(ee)},C.loadFileAs()===ss.Text?V.readAsText(g):C.loadFileAs()===ss.DataURL?V.readAsDataURL(g):C.loadFileAs()===ss.ArrayBuffer&&V.readAsArrayBuffer(g)}}abort(){for(let t=0;t<l(this,ru).length;++t)l(this,ru)[t].readyState===1&&l(this,ru)[t].abort();l(this,ou)&&l(this,ou).isLoading()&&l(this,ou).abort()}onloadstart(t){}onprogress(t){}onloaditem(t){}onload(t){}onloadend(t){}onerror(t){}onabort(t){}}au=new WeakMap,ru=new WeakMap,ou=new WeakMap,U0=new WeakMap,q0=new WeakMap,d1=new WeakMap,Di=new WeakSet,a9=function(t){X(this,au,t),X(this,U0,0),X(this,q0,0),ie(this,Di,o9).call(this),ie(this,Di,l9).call(this)},r9=function(t){l(this,ru).push(t)},o9=function(){X(this,ru,[])},s9=function(t){X(this,ou,t)},l9=function(){X(this,ou,null)},lv=new WeakMap,G0=new WeakMap,sS=function(t,a){return s=>{s.source=a,t(s)}},u9=function(t,a,s){return g=>{t.load(g.target.result,a,s)}};class P_{constructor(t){W(this,_n);W(this,Q0);W(this,Oa,{});X(this,Q0,t)}loadFiles(t,a){t[0].name.split(".").pop().toLowerCase()==="json"?ie(this,_n,h9).call(this,t[0],a):ie(this,_n,c9).call(this,t,a)}loadURLs(t,a,s){t[0].split(".").pop().toLowerCase()==="json"?ie(this,_n,f9).call(this,t[0],a,s):ie(this,_n,d9).call(this,t,a,s)}loadImageObject(t,a){const s=new Kp;ie(this,_n,sh).call(this,t,s,"image",a)}getLoadingDataIds(){return Object.keys(l(this,Oa))}abort(t){l(this,Oa)[t]!==void 0&&(l(this,Oa)[t].loader.abort(),delete l(this,Oa)[t])}onloadstart(t){}onprogress(t){}onload(t){}onloaditem(t){}onloadend(t){}onerror(t){}onabort(t){}}Q0=new WeakMap,Oa=new WeakMap,_n=new WeakSet,c9=function(t,a){const s=new J4;s.setDefaultCharacterSet(l(this,Q0)),ie(this,_n,sh).call(this,t,s,"image",a)},d9=function(t,a,s){const g=new N4;g.setDefaultCharacterSet(l(this,Q0)),ie(this,_n,sh).call(this,t,g,"image",a,s)},h9=function(t,a){const s=new J4;ie(this,_n,sh).call(this,[t],s,"state",a)},f9=function(t,a,s){const g=new N4;ie(this,_n,sh).call(this,[t],g,"state",a,s)},sh=function(t,a,s,g,C){const L={loadtype:s,dataid:g};a.onloadstart=k=>{l(this,Oa)[g]={loader:a,isFirstItem:!0},ie(this,_n,mu).call(this,this.onloadstart,L)(k)},a.onprogress=ie(this,_n,mu).call(this,this.onprogress,L),a.onloaditem=k=>{const V={loadtype:s,dataid:g};l(this,Oa)[g]!==void 0&&(V.isfirstitem=l(this,Oa)[g].isFirstItem),ie(this,_n,mu).call(this,this.onloaditem,V)(k),l(this,Oa)[g]!==void 0&&l(this,Oa)[g].isFirstItem&&(l(this,Oa)[g].isFirstItem=!1)},a.onload=ie(this,_n,mu).call(this,this.onload,L),a.onloadend=k=>{delete l(this,Oa)[g],ie(this,_n,mu).call(this,this.onloadend,L)(k)},a.onerror=ie(this,_n,mu).call(this,this.onerror,L),a.onabort=ie(this,_n,mu).call(this,this.onabort,L);try{a.load(t,C)}catch(k){return this.onerror({error:k,dataid:g}),void this.onloadend({dataid:g})}},mu=function(t,a){return function(s){const g=Object.keys(a);for(let C=0;C<g.length;++C){const L=g[C];s[L]=a[L]}t(s)}};function I_(f){return function(t){return Number(t).toPrecision(f)}}function e3(f){let t="";for(let a=0;a<f;++a)a!==0&&(t+=", "),t+="{v"+a+"}";return t}function Zp(f,t){let a=f;for(let s=0;s<t.length;++s)a=a.replace("{v"+s+"}",t[s]);return a}class t3{constructor(t,a,s){W(this,uv);W(this,su);W(this,z0);W(this,lu);W(this,Bs,[]);W(this,H0);W(this,Rc,[]);W(this,Ns);W(this,W0,new Ni);W(this,h1,t=>{t.dataid===l(this,z0)&&t.data!==void 0&&t.data.imageUid!==void 0&&l(this,Ns)!==t.data.imageUid&&(X(this,Ns,t.data.imageUid),l(this,Y0).call(this,t))});W(this,Y0,t=>{if(t.dataid!==l(this,z0))return;const a=l(this,Rc)[l(this,Ns)];if(a!==void 0){for(let s=0;s<a.length;++s){let g;if(a[s].tags!==void 0)t.type==="positionchange"&&(g=a[s].value);else if(a[s].event!==void 0&&a[s].event===t.type){const C=a[s].format;let L=t.value;if(a[s].precision!==void 0){let k=null;k=a[s].precision==="round"?Math.round:I_(a[s].precision),L=L.map(k)}g=Zp(C,L)}g!==void 0&&(a[s].value=g)}ie(this,uv,g9).call(this,{type:"valuechange",data:a})}else console.warn("No slice overlay data for: "+l(this,Ns))});X(this,su,t),X(this,z0,a),X(this,lu,s);const g=Object.keys(l(this,lu));for(let C=0;C<g.length;++C){const L=l(this,lu)[g[C]];for(let k=0;k<L.length;++k){const V=L[k].event;V!==void 0&&(l(this,Bs).includes(V)||l(this,Bs).push(V))}}this.addAppListeners()}reset(){X(this,Rc,[]),X(this,Ns,void 0)}addItemMeta(t){let a;if(t["00020010"]!==void 0)a=t["00080018"]!==void 0?t["00080018"].value[0]:t.length,l(this,Rc)[a]=function(s,g){const C=[];let L;const k=s["00080060"];if(k===void 0)return C;L=k.value[0];const V=g[L]||g["*"];if(!V)return C;for(let Q=0;Q<V.length;++Q){const ee=JSON.parse(JSON.stringify(V[Q])),oe=ee.tags;if(oe!==void 0&&oe.length!==0){const me=[];for(let De=0;De<oe.length;++De)s[oe[De]]!==void 0?me.push(s[oe[De]].value):me.push("");ee.format!==void 0&&ee.format!==null||(ee.format=e3(me.length)),ee.value=Zp(ee.format,me).trim()}C.push(ee)}const z=s["00200020"];if(z!==void 0&&z.value.length===2){const Q=z.value[0],ee=z.value[1];C.push({pos:"cr",value:Q,format:"{v0}"}),C.push({pos:"cl",value:mp(Q),format:"{v0}"}),C.push({pos:"bc",value:ee,format:"{v0}"}),C.push({pos:"tc",value:mp(ee),format:"{v0}"})}return C}(t,l(this,lu));else{const s=Object.keys(t);for(let g=0;g<s.length;++g){const C=t[s[g]];if(s[g]==="imageUid"){a=C.value;break}}l(this,Rc)[a]=function(g,C){const L=[],k=C.DOM;if(!k)return L;const V=Object.keys(g);for(let z=0;z<k.length;++z){const Q=JSON.parse(JSON.stringify(k[z])),ee=Q.tags;if(ee!==void 0&&ee.length!==0){const oe=[];for(let me=0;me<ee.length;++me)for(let De=0;De<V.length;++De)ee[me]===V[De]&&oe.push(g[V[De]].value);Q.format!==void 0&&Q.format!==null||(Q.format=e3(oe.length)),Q.value=Zp(Q.format,oe).trim()}L.push(Q)}return L}(t,l(this,lu))}X(this,Ns,a)}isListening(){return l(this,H0)}addAppListeners(){l(this,su).addEventListener("positionchange",l(this,h1));for(let t=0;t<l(this,Bs).length;++t)l(this,su).addEventListener(l(this,Bs)[t],l(this,Y0));X(this,H0,!0)}removeAppListeners(){l(this,su).removeEventListener("positionchange",l(this,h1));for(let t=0;t<l(this,Bs).length;++t)l(this,su).removeEventListener(l(this,Bs)[t],l(this,Y0));X(this,H0,!1)}addEventListener(t,a){l(this,W0).add(t,a)}removeEventListener(t,a){l(this,W0).remove(t,a)}}su=new WeakMap,z0=new WeakMap,lu=new WeakMap,Bs=new WeakMap,H0=new WeakMap,Rc=new WeakMap,Ns=new WeakMap,W0=new WeakMap,h1=new WeakMap,Y0=new WeakMap,uv=new WeakSet,g9=function(t){l(this,W0).fireEvent(t)};class n3{constructor(t){Te(this,"divId");Te(this,"orientation");Te(this,"colourMap");Te(this,"opacity");Te(this,"wlPresetName");Te(this,"windowCenter");Te(this,"windowWidth");this.divId=t}}class A_{constructor(t){Te(this,"options");this.options=t}}class __{constructor(t){Te(this,"dataViewConfigs");Te(this,"tools");Te(this,"binders");Te(this,"viewOnFirstLoadItem");Te(this,"defaultCharacterSet");Te(this,"overlayConfig");Te(this,"rootDocument");this.dataViewConfigs=t}}class L_{constructor(){W(this,xi);W(this,Wt,null);W(this,Ot,null);W(this,$i,null);W(this,ji,null);W(this,ht,null);W(this,Gn,null);W(this,cv,new ym);W(this,Uo,{});W(this,$0,new Ni);Te(this,"addToUndoStack",t=>{l(this,Gn)!==null&&l(this,Gn).add(t)});Te(this,"removeFromUndoStack",t=>{let a=!1;return l(this,Gn)!==null&&(a=l(this,Gn).remove(t)),a});Te(this,"loadFiles",t=>{const a=l(this,Ot).getNextDataId();t.length!==0?l(this,ji).loadFiles(t,a):p.warn("Ignoring empty input file list.")});Te(this,"loadURLs",(t,a)=>{const s=l(this,Ot).getNextDataId();t.length!==0?l(this,ji).loadURLs(t,s,a):p.warn("Ignoring empty input url list.")});Te(this,"loadFromUri",(t,a)=>{const s=function(C){const L=M4(C);return Object.keys(L).length===0?null:L.query}(t),g=()=>{this.removeEventListener("loadend",g),this.loadURLs([s.state])};s&&s.input!==void 0&&(s.state!==void 0&&this.addEventListener("loadend",g),function(C,L,k){C.type&&C.type==="manifest"?function(V,z){let Q="";V.input[0]==="/"&&(Q=window.location.protocol+"//"+window.location.host),Q+=V.input;const ee=new XMLHttpRequest;ee.open("GET",decodeURIComponent(Q),!0),ee.responseType="document",ee.onload=function(oe){z(function(me,De){const Oe=[],ke=me.getElementsByTagName("wado_query")[0].getAttribute("wadoURL")+"?requestType=WADO&contentType=application/dicom&",We=me.getElementsByTagName("Patient");We.length>1&&p.warn("More than one patient, loading first one.");const Ee=We[0].getElementsByTagName("Study");Ee.length>1&&p.warn("More than one study, loading first one.");const Ne=Ee[0].getAttribute("StudyInstanceUID"),Ue=Ee[0].getElementsByTagName("Series");Ue.length>1&&p.warn("More than one series, loading first one.");const Re=Ue[0].getAttribute("SeriesInstanceUID"),Ze=Ue[0].getElementsByTagName("Instance");let Je=Ze.length;De<Je&&(Je=De);for(let tt=0;tt<Je;++tt){const st=ke+"&studyUID="+Ne+"&seriesUID="+Re+"&objectUID="+Ze[tt].getAttribute("SOPInstanceUID");Oe.push(st)}return Oe}(oe.target.responseXML,V.nslices))},ee.onerror=function(oe){p.warn("RequestError while receiving manifest: "+oe.target.status)},ee.send(null)}(C,L):L(function(V,z){const Q=[];let ee="key";z&&(ee=z);const oe=decodeURIComponent(V),me=M4(oe);if(Object.keys(me).length===0)Q.push(oe);else{const De=Object.keys(me.query);let Oe=null;for(let ke=0;ke<De.length;++ke)if(me.query[De[ke]]instanceof Array){Oe=De[ke];break}if(Oe){const ke=me.query[Oe];let We=me.base;We!==""&&Oe!=="file"&&(We+="?");let Ee,Ne=!1;for(let Ue=0;Ue<De.length;++Ue)De[Ue]!==Oe&&(Ne&&(We+="&"),We+=De[Ue]+"="+me.query[De[Ue]],Ne=!0);for(let Ue=0;Ue<ke.length;++Ue)Ee=We,Ne&&(Ee+="&"),ee==="key"&&(Ee+=Oe+"="),Ee+=ke[Ue],Q.push(Ee)}else Q.push(oe)}return Q}(C.input,C.dwvReplaceMode),k)}(s,this.loadURLs,a))});Te(this,"loadImageObject",t=>{const a=l(this,Ot).getNextDataId();l(this,ji).loadImageObject(t,a)});Te(this,"onResize",()=>{this.fitToContainer()});Te(this,"onKeydown",t=>{l(this,kt).call(this,t)});Te(this,"defaultOnKeydown",t=>{if(t.ctrlKey){if(t.shiftKey){const a=l(this,ht).getActiveLayerGroup(),s=a.getActiveViewLayer().getViewController();t.key==="ArrowLeft"?s.moreThanOne(3)&&s.decrementIndex(3):t.key==="ArrowUp"?a.canScroll()&&s.incrementScrollIndex():t.key==="ArrowRight"?a.moreThanOne(3)&&s.incrementIndex(3):t.key==="ArrowDown"&&a.canScroll()&&s.decrementScrollIndex()}else if(t.key==="y")l(this,Gn).redo();else if(t.key==="z")l(this,Gn).undo();else if(t.key===" ")for(let a=0;a<l(this,ht).getNumberOfLayerGroups();++a)l(this,ht).getLayerGroup(a).setShowCrosshair(!l(this,ht).getLayerGroup(a).getShowCrosshair())}});W(this,kt,t=>{l(this,$0).fireEvent(t)});W(this,dv,t=>{l(this,Wt).overlayConfig!==void 0&&(l(this,Uo)[t.dataid]=new t3(this,t.dataid,l(this,Wt).overlayConfig)),t.type="loadstart",l(this,kt).call(this,t)});W(this,hv,t=>{t.type="loadprogress",l(this,kt).call(this,t)});W(this,fv,t=>{t.data===void 0&&p.error("Missing loaditem event data."),t.loadtype===void 0&&p.error("Missing loaditem event load type.");const a=t.isfirstitem;let s=null;t.loadtype==="image"?(a?l(this,Ot).add(t.dataid,t.data):l(this,Ot).update(t.dataid,t.data),s=t.data.meta):t.loadtype==="state"&&(this.applyJsonState(t.data,t.dataid),s="state"),l(this,kt).call(this,{type:"loaditem",data:s,source:t.source,loadtype:t.loadtype,dataid:t.dataid,isfirstitem:t.isfirstitem,warn:t.warn}),l(this,Uo)!==void 0&&l(this,Uo)[t.dataid]!==void 0&&l(this,Uo)[t.dataid].addItemMeta(s),t.loadtype==="image"&&this.getViewConfigs(t.dataid).length!==0&&a&&l(this,Wt).viewOnFirstLoadItem&&this.render(t.dataid)});W(this,gv,t=>{t.type="load",l(this,kt).call(this,t)});W(this,mv,t=>{t.type="loadend",l(this,kt).call(this,t)});W(this,vv,t=>{t.type===void 0&&(t.type="error"),l(this,kt).call(this,t)});W(this,Sv,t=>{t.type===void 0&&(t.type="abort"),l(this,kt).call(this,t)})}getData(t){return l(this,Ot).get(t)}getImage(t){let a;return this.getData(t)!==void 0&&(a=this.getData(t).image),a}setImage(t,a){l(this,Ot).setImage(t,a)}addData(t){const a=l(this,Ot).getNextDataId();return l(this,Ot).add(a,t),a}getMetaData(t){let a;return l(this,Ot).get(t)!==void 0&&(a=l(this,Ot).get(t).meta),a}getDataIds(){return l(this,Ot).getDataIds()}getDataIdsFromSopUids(t){return l(this,Ot).getDataIdsFromSopUids(t)}canScroll(){return l(this,ht).getActiveLayerGroup().getActiveViewLayer().getViewController().canScroll()}canWindowLevel(){return l(this,ht).getActiveLayerGroup().getActiveViewLayer().getViewController().canWindowLevel()}getAddedScale(){return l(this,ht).getActiveLayerGroup().getAddedScale()}getBaseScale(){return l(this,ht).getActiveLayerGroup().getBaseScale()}getOffset(){return l(this,ht).getActiveLayerGroup().getOffset()}getToolboxController(){return l(this,$i)}getActiveLayerGroup(){return l(this,ht).getActiveLayerGroup()}setActiveLayerGroup(t){l(this,ht).setActiveLayerGroup(t)}getViewLayersByDataId(t){return l(this,ht).getViewLayersByDataId(t)}getViewLayers(t){return l(this,ht).getViewLayers(t)}getDrawLayersByDataId(t){return l(this,ht).getDrawLayersByDataId(t)}getDrawLayers(t){return l(this,ht).getDrawLayers(t)}getLayerGroupByDivId(t){return l(this,ht).getLayerGroupByDivId(t)}getNumberOfLayerGroups(){return l(this,ht).getNumberOfLayerGroups()}getStyle(){return l(this,cv)}init(t){if(X(this,Wt,t),l(this,Wt).viewOnFirstLoadItem===void 0&&(l(this,Wt).viewOnFirstLoadItem=!0),l(this,Wt).dataViewConfigs===void 0&&(l(this,Wt).dataViewConfigs={}),l(this,Wt).rootDocument===void 0&&(l(this,Wt).rootDocument=document),X(this,Gn,new V4),l(this,Gn).addEventListener("undoadd",l(this,kt)),l(this,Gn).addEventListener("undo",l(this,kt)),l(this,Gn).addEventListener("redo",l(this,kt)),l(this,Wt).tools!==void 0){const a={},s=Object.keys(l(this,Wt).tools);for(let g=0;g<s.length;++g){const C=s[g];let L=a_[C];if(L===void 0&&(L=A4[C]),L!==void 0){if(a[C]=new L(this),a[C].addEventListener!==void 0){const V=a[C].getEventNames();for(let z=0;z<V.length;++z)a[C].addEventListener(V[z],l(this,kt))}const k=l(this,Wt).tools[C];if(k.options!==void 0&&k.options.length!==0){let V,z="raw";if(a[C].getOptionsType!==void 0&&(z=a[C].getOptionsType()),z==="instance"||z==="factory"){V={};for(let Q=0;Q<k.options.length;++Q){const ee=k.options[Q];let oe=ee;z==="factory"&&(oe+="Factory");const me=C.charAt(0).toLowerCase()+C.slice(1);let De,Oe=Mh[me];Oe!==void 0&&(De=Oe[oe]),De===void 0&&(Oe=zp[me],Oe!==void 0&&(De=Oe[oe])),De!==void 0?V[ee]=De:p.warn("Could not find option class for: "+ee)}}else V=k.options;a[C].setOptions(V)}}else p.warn("Could not initialise unknown tool: "+C)}X(this,$i,new B4(a))}X(this,ji,new P_(l(this,Wt).defaultCharacterSet)),l(this,ji).onloadstart=l(this,dv),l(this,ji).onprogress=l(this,hv),l(this,ji).onloaditem=l(this,fv),l(this,ji).onload=l(this,gv),l(this,ji).onloadend=l(this,mv),l(this,ji).onerror=l(this,vv),l(this,ji).onabort=l(this,Sv),X(this,Ot,new w_),l(this,Ot).addEventListener("dataadd",l(this,kt)),l(this,Ot).addEventListener("dataremove",l(this,kt)),l(this,Ot).addEventListener("dataimageset",l(this,kt)),l(this,Ot).addEventListener("dataupdate",l(this,kt)),l(this,Ot).addEventListener("imagecontentchange",l(this,kt)),l(this,Ot).addEventListener("imagegeometrychange",l(this,kt)),l(this,Ot).addEventListener("annotationadd",l(this,kt)),l(this,Ot).addEventListener("annotationupdate",l(this,kt)),l(this,Ot).addEventListener("annotationremove",l(this,kt)),l(this,Ot).addEventListener("annotationgroupeditablechange",l(this,kt)),X(this,ht,new r_),l(this,Wt).binders!==void 0&&l(this,ht).setBinders(l(this,Wt).binders)}reset(){l(this,ht).empty(),X(this,Uo,{}),l(this,Gn)&&(X(this,Gn,new V4),l(this,Gn).addEventListener("undoadd",l(this,kt)),l(this,Gn).addEventListener("undo",l(this,kt)),l(this,Gn).addEventListener("redo",l(this,kt)))}resetLayout(){l(this,ht).reset(),l(this,ht).draw()}addEventListener(t,a){l(this,$0).add(t,a)}removeEventListener(t,a){l(this,$0).remove(t,a)}abortAllLoads(){const t=l(this,ji).getLoadingDataIds();for(const a of t)this.abortLoad(a)}abortLoad(t){l(this,ji).abort(t),l(this,Ot).remove(t),l(this,ht).removeLayersByDataId(t)}fitToContainer(){l(this,ht).fitToContainer()}initWLDisplay(){l(this,ht).getActiveLayerGroup().getActiveViewLayer().getViewController().initialise()}setImageSmoothing(t){l(this,ht).setImageSmoothing(t),l(this,ht).draw()}getViewConfigs(t,a){if(l(this,Wt).dataViewConfigs===null||l(this,Wt).dataViewConfigs===void 0)throw new Error("No available data view configuration");let s=[];return l(this,Wt).dataViewConfigs[t]!==void 0?s=l(this,Wt).dataViewConfigs[t]:a||l(this,Wt).dataViewConfigs["*"]===void 0||(s=l(this,Wt).dataViewConfigs["*"]),s}getViewConfig(t,a,s){return this.getViewConfigs(t,s).find(function(g){return g.divId===a})}getDataViewConfigs(){return l(this,Wt).dataViewConfigs}setDataViewConfigs(t){l(this,ht).empty(),l(this,Wt).dataViewConfigs=t,ie(this,xi,Xb).call(this,t)}addDataViewConfig(t,a){const s=l(this,Wt).dataViewConfigs;if(s[t]===void 0&&(s[t]=[]),s[t].findIndex(function(g){return g.divId===a.divId})!==-1)throw new Error("Duplicate view config for data "+t+" and div "+a.divId);l(this,Wt).dataViewConfigs[t].push(a),l(this,ht).getLayerGroupByDivId(a.divId)===void 0&&ie(this,xi,Kb).call(this,a),l(this,Ot).get(t)!==void 0&&this.render(t,[a])}removeDataViewConfig(t,a){const s=l(this,Wt).dataViewConfigs;if(s[t]===void 0)return;const g=s[t].findIndex(function(C){return C.divId===a});if(g!==-1&&(s[t].splice(g,1),s[t].length===0&&delete s[t],l(this,Ot).get(t)!==void 0)){const C=l(this,ht).getLayerGroupByDivId(a);if(C!==void 0){const L=C.getViewLayersByDataId(t);L.length===1&&C.removeLayer(L[0]);const k=C.getDrawLayersByDataId(t);if(k.length===1&&C.removeLayer(k[0]),L.length===0&&k.length===0)throw new Error("Expected one layer, got none");C.getNumberOfLayers()===0&&l(this,ht).removeLayerGroup(C)}}}updateDataViewConfig(t,a,s){const g=l(this,Wt).dataViewConfigs;if(g[t]===void 0)throw new Error("No config for dataId: "+t);const C=g[t].findIndex(function(V){return V.divId===a});if(C===-1)throw new Error("No config for dataId: "+t+" and divId: "+a);const L=g[t][C];for(const V in s)L[V]=s[V];const k=l(this,ht).getLayerGroupByDivId(L.divId);if(k!==void 0){const V=k.getViewLayersByDataId(t);V.length===1&&k.removeLayer(V[0]);const z=k.getDrawLayersByDataId(t);if(z.length===1&&k.removeLayer(z[0]),V.length===0&&z.length===0)throw new Error("Expected one layer, got none")}l(this,Ot).get(t)!==void 0&&this.render(t,[L])}setLayerGroupsBinders(t){const a=[];for(let s=0;s<t.length;++s)E4[t[s]]!==void 0&&a.push(new E4[t[s]]);l(this,ht).setBinders(a)}render(t,a){if(t==null)throw new Error("Cannot render without data id");const s=this.getData(t).image!==void 0,g=this.getData(t).annotationGroup!==void 0;if(l(this,ht).getNumberOfLayerGroups()===0&&ie(this,xi,Xb).call(this,l(this,Wt).dataViewConfigs),a===void 0&&(a=this.getViewConfigs(t)),a.length!==0)for(let C=0;C<a.length;++C){const L=a[C],k=l(this,ht).getLayerGroupByDivId(L.divId);if(!k)throw new Error("No layer group for "+L.divId);l(this,Ot).get(t)!==void 0&&(s&&k.getViewLayersByDataId(t).length===0?ie(this,xi,v9).call(this,t,L):g&&k.getDrawLayersByDataId(t).length===0&&this.addDrawLayer(t,L)),k.draw()}else p.info("Not rendering data: "+t+" (no data view config)")}zoom(t,a,s){const g=l(this,ht).getActiveLayerGroup(),C=g.getActiveViewLayer().getViewController().getCurrentScrollPosition(),L=new ce(a,s,C);g.addScale(t,L),g.draw()}translate(t,a){const s=l(this,ht).getActiveLayerGroup();s.addTranslation({x:t,y:a,z:0}),s.draw()}setOpacity(t){const a=l(this,ht).getActiveLayerGroup().getActiveViewLayer();a.setOpacity(t),a.draw()}setDrawings(t,a,s){const g=l(this,ht).getActiveLayerGroup().getActiveViewLayer(),C=g.getDataId(),L=g.getViewController(),k=function(z,Q){const ee=[],oe=Ye().Node.create(z).getChildren(T4);for(let me=0,De=oe.length;me<De;++me){const Oe=oe[me].getChildren();for(let ke=0,We=Oe.length;ke<We;++ke){const Ee=new Mu,Ne=Oe[0];Ee.id=Ne.id();const Ue=Ne.getChildren(fl)[0];if(Ee.colour=Ue.stroke(),Ne.name()==="line-group"){const Re=Ue.points();Ee.mathShape=new K(Re[0],Re[1]),Ee.referencePoints=[new K(Re[2],Re[3])]}else if(Ne.name()==="ruler-group"){const Re=Ue.points();Ee.mathShape=new sn(new K(Re[0],Re[1]),new K(Re[2],Re[3]))}else if(Ne.name()==="rectangle-group")Ee.mathShape=new gl(new K(Ue.x(),Ue.y()),new K(Ue.x()+Ue.width(),Ue.y()+Ue.height()));else if(Ne.name()==="roi-group"){const Re=Ue.points(),Ze=[];for(let Je=0;Je<Re.length;Je+=2)Ze.push(new K(Re[Je],Re[Je+1]));Ee.mathShape=new Sr(Ze)}else if(Ne.name()==="freeHand-group"){p.warn("Converting freehand into ROI shape");const Re=Ue.points(),Ze=[];for(let Je=0;Je<Re.length;Je+=2)Ze.push(new K(Re[Je],Re[Je+1]));Ee.mathShape=new Sr(Ze)}else if(Ne.name()==="protractor-group"){const Re=Ue.points();Ee.mathShape=new ml([new K(Re[0],Re[1]),new K(Re[2],Re[3]),new K(Re[4],Re[5])])}else if(Ne.name()==="ellipse-group"){const Re=Ue.absolutePosition();Ee.mathShape=new vl(new K(Re.x,Re.y),Ue.radiusX(),Ue.radiusY())}else if(Ne.name()==="circle-group"){const Re=Ue.absolutePosition();Ee.mathShape=new Sl(new K(Re.x,Re.y),Ue.radius())}if(Q){const Re=Q[Ne.id()];Ee.textExpr=Re.meta.textExpr,Ee.quantification=Re.meta.quantification}ee.push(Ee)}}return ee}(t,a),V=this.createAnnotationData(C);for(const z of k)z.setViewController(L),V.annotationGroup.add(z);l(this,Ot).add(s,V),this.render(s)}applyJsonState(t,a){const s=new o_(a);s.apply(this,s.fromJSON(t))}resetDisplay(){this.resetLayout(),this.initWLDisplay()}resetZoom(){this.resetLayout()}setColourMap(t){l(this,ht).getActiveLayerGroup().getActiveViewLayer().getViewController().setColourMap(t)}setWindowLevelPreset(t){l(this,ht).getActiveLayerGroup().getActiveViewLayer().getViewController().setWindowLevelPreset(t)}setTool(t){for(let a=0;a<l(this,ht).getNumberOfLayerGroups();++a){const s=l(this,ht).getLayerGroup(a);let g;g=t!=="Draw"&&t!=="Livewire"&&t!=="Floodfill"||s.getActiveDrawLayer()===void 0?s.getActiveViewLayer():s.getActiveDrawLayer(),g!==void 0&&l(this,$i).bindLayerGroup(s,g)}l(this,$i).setSelectedTool(t)}setToolFeatures(t){l(this,$i).setToolFeatures(t)}undo(){l(this,Gn).undo()}redo(){l(this,Gn).redo()}getStackSize(){return l(this,Gn).getStackSize()}getCurrentStackIndex(){return l(this,Gn).getCurrentStackIndex()}getOverlayData(t){let a;return l(this,Uo)!==void 0&&(a=l(this,Uo)[t]),a}toggleOverlayListeners(t){const a=this.getOverlayData(t);a!==void 0&&(a.isListening()?a.removeAppListeners():a.addAppListeners())}createAnnotationData(t){const a=this.getData(t).image.getMeta(),s=new Xp({});return s.annotationGroup=new pm,s.annotationGroup.setMetaValue("Modality","SR"),s.annotationGroup.setMetaValue("PatientID",a.PatientID),s.annotationGroup.setMetaValue("StudyInstanceUID",a.StudyInstanceUID),s.annotationGroup.setMetaValue("ReferencedSeriesSequence",{value:[{SeriesInstanceUID:a.SeriesInstanceUID}]}),s}addAndRenderAnnotationData(t,a,s){const g=this.addData(t),C=this.getViewConfigs(s).find(k=>k.divId===a);if(C===void 0)throw new Error("No reference data view config for draw");const L=new n3(a);L.orientation=C.orientation,this.addDataViewConfig(g,L),this.render(g)}addDrawLayer(t,a){const s=l(this,ht).getLayerGroupByDivId(a.divId);if(!s)throw new Error("Cannot initialise layer with missing group, id: "+a.divId);const g=l(this,Ot).get(t);if(!g)throw new Error("Cannot initialise layer with missing data, id: "+t);const C=g.annotationGroup.getMetaValue("ReferencedSeriesSequence").value[0].SeriesInstanceUID,L=s.searchViewLayers({SeriesInstanceUID:C});if(L.length===0)return void console.warn("No loaded data that matches the measurement reference series UID");const k=L[0],V=k.getDataId();l(this,ht).unbindLayerGroups();const z=k.getViewController();g.annotationGroup.setViewController(z);const Q=l(this,Ot).get(V);if(!Q)throw new Error("Cannot initialise layer without reference data, id: "+V);const ee=Q.image.getGeometry(),oe=z5(ee.getOrientation(),U5(a.orientation)),me=ee.getSize(oe).get2D(),De=ee.getSpacing(oe).get2D(),Oe=s.addDrawLayer();Oe.initialise(me,De,k.getId());const ke=new Mp(ee,oe);Oe.setPlaneHelper(ke);const We=[z.getCurrentIndex().getValues(),z.getCurrentPosition().getValues()];s.updateLayersToPositionChange({value:We,srclayerid:Oe.getId()}),l(this,ht).fitToContainer(),Oe.setOffset(s.getOffset());const Ee=ie(this,xi,Zb).call(this,ee.getOrientation(),a.orientation);ie(this,xi,Jb).call(this,Ee,Oe),Oe.initScale(s.getScale(),k.getAbsoluteZoomOffset()),Oe.setAnnotationGroup(g.annotationGroup,t,this.addToUndoStack),Oe.setCurrentPosition(z.getCurrentPosition(),z.getCurrentIndex()),l(this,ht).bindLayerGroups(),l(this,$i)&&l(this,$i).bindLayerGroup(s,Oe),l(this,kt).call(this,{type:"drawlayeradd",layerid:Oe.getId(),layergroupid:s.getDivId(),dataid:t})}}Wt=new WeakMap,Ot=new WeakMap,$i=new WeakMap,ji=new WeakMap,ht=new WeakMap,Gn=new WeakMap,cv=new WeakMap,Uo=new WeakMap,$0=new WeakMap,xi=new WeakSet,Xb=function(t){const a=Object.keys(t),s=[];for(let g=0;g<a.length;++g){const C=t[a[g]];for(let L=0;L<C.length;++L){const k=C[L];s.includes(k.divId)||(ie(this,xi,Kb).call(this,k),s.push(k.divId))}}},Kb=function(t){const a=l(this,Wt).rootDocument.getElementById(t.divId),s=l(this,ht).addLayerGroup(a);ie(this,xi,m9).call(this,s)},kt=new WeakMap,dv=new WeakMap,hv=new WeakMap,fv=new WeakMap,gv=new WeakMap,mv=new WeakMap,vv=new WeakMap,Sv=new WeakMap,m9=function(t){t.addEventListener("zoomchange",l(this,kt)),t.addEventListener("offsetchange",l(this,kt)),t.addEventListener("renderstart",l(this,kt)),t.addEventListener("renderend",l(this,kt));for(let a=0;a<pd.length;++a)t.addEventListener(pd[a],l(this,kt));l(this,$i)&&l(this,$i).hasTool("Draw")&&(t.addEventListener("drawcreate",l(this,kt)),t.addEventListener("drawdelete",l(this,kt))),t.addEventListener("wlchange",a=>{const s=Dm(a.srclayerid).groupDivId,g=this.getViewConfig(a.dataid,s,!0);g!==void 0&&(g.windowCenter=void 0,g.windowWidth=void 0,g.wlPresetName=void 0,a.value.length===3&&(g.windowCenter=a.value[0],g.windowWidth=a.value[1],g.wlPresetName=a.value[2]))}),t.addEventListener("opacitychange",a=>{const s=Dm(a.srclayerid).groupDivId,g=this.getViewConfig(a.dataid,s,!0);g!==void 0&&(g.opacity=a.value[0])}),t.addEventListener("colourmapchange",a=>{const s=Dm(a.srclayerid).groupDivId,g=this.getViewConfig(a.dataid,s,!0);g!==void 0&&(g.colourMap=a.value[0])})},v9=function(t,a){const s=l(this,Ot).get(t);if(!s)throw new Error("Cannot initialise layer with missing data, id: "+t);const g=l(this,ht).getLayerGroupByDivId(a.divId);if(!g)throw new Error("Cannot initialise layer with missing group, id: "+a.divId);const C=s.image.getGeometry();l(this,ht).unbindLayerGroups();const L=new y4().create(s.meta,s.image),k=z5(C.getOrientation(),U5(a.orientation));L.setOrientation(k),s.image.getMeta().Modality==="SEG"&&L.setAlphaFunction(function(ke){return ke[0]===0&&ke[1]===0&&ke[2]===0?0:255});const V=g.getNumberOfViewLayers()===0;let z=1;a.opacity!==void 0?z=a.opacity:V||(z=.5);const Q=g.addViewLayer();Q.setView(L,t);const ee=C.getSize(k).get2D(),oe=C.getSpacing(k).get2D();Q.initialise(ee,oe,z);const me=Q.getViewController();if(a.wlPresetName!==void 0)me.setWindowLevelPreset(a.wlPresetName);else if(a.windowCenter!==void 0&&a.windowWidth!==void 0){const ke=new b(a.windowCenter,a.windowWidth);me.setWindowLevel(ke)}a.colourMap!==void 0?me.setColourMap(a.colourMap):V||(s.image.getMeta().Modality==="PT"?me.setColourMap("hot"):me.setColourMap("rainbow")),l(this,Ot).addEventListener("dataimageset",Q.onimageset);const De=[me.getCurrentIndex().getValues(),me.getCurrentPosition().getValues()];g.updateLayersToPositionChange({value:De,srclayerid:Q.getId()}),l(this,ht).fitToContainer(),Q.setOffset(g.getOffset());const Oe=ie(this,xi,Zb).call(this,C.getOrientation(),a.orientation);if(ie(this,xi,Jb).call(this,Oe,Q),V)Q.setScale(g.getScale());else{const ke=g.getBaseViewLayer();Q.initScale(g.getScale(),ke.getAbsoluteZoomOffset())}l(this,ht).bindLayerGroups(),l(this,$i)&&l(this,$i).bindLayerGroup(g,Q),l(this,kt).call(this,{type:"viewlayeradd",layerid:Q.getId(),layergroupid:g.getDivId(),dataid:t}),V&&l(this,$i)&&l(this,$i).init()},Zb=function(t,a){const s=q5(t.asOneAndZeros());if(s===void 0)throw new Error("Unsupported undefined orientation code");const g=a===void 0,C=!g&&a===bo.Axial,L=!g&&a===bo.Coronal,k=!g&&a===bo.Sagittal,V={x:!1,y:!1},z={x:!1,y:!1,z:!1};return s==="LPS"?(L||k)&&(z.z=!0,V.y=!0):s==="LAI"?g||C?V.y=!0:L?z.z=!0:k&&(z.z=!0,V.x=!0):s==="RPI"?g||C?V.x=!0:L?(z.z=!0,V.x=!0):k&&(z.z=!0):s==="RAS"?(V.x=!0,V.y=!0,(L||k)&&(z.z=!0)):s==="LSA"?(V.y=!0,g||L?z.z=!0:C?z.y=!0:k&&(V.x=!0,z.y=!0,z.z=!0)):s==="RSP"?g||L?(V.x=!0,V.y=!0,z.x=!0,z.z=!0):C?(V.x=!0,z.x=!0):k&&(V.y=!0,z.z=!0):s==="RIA"?(V.x=!0,g||L?z.x=!0:C?(V.y=!0,z.x=!0,z.y=!0):k&&(z.y=!0)):s==="PSL"?(z.z=!0,(g||k||L)&&(V.y=!0)):s==="PIR"?(z.z=!0,(C||L)&&(V.x=!0)):s==="ASR"?(V.x=!0,V.y=!0,(g||k||L)&&(z.z=!0)):s==="AIL"?g||k?(V.x=!0,z.z=!0):C?V.y=!0:L&&(z.z=!0):p.warn("Unsupported orientation code: "+s+", display could be incorrect"),{scale:z,offset:V}},Jb=function(t,a){t.offset.x&&a.addFlipOffsetX(),t.offset.y&&a.addFlipOffsetY(),t.scale.x&&a.flipScaleX(),t.scale.y&&a.flipScaleY(),t.scale.z&&a.flipScaleZ()};class Jp{constructor(t){W(this,uu);W(this,f1);W(this,qo);X(this,f1,t);const a=t.getMeta();a.custom===void 0&&(a.custom={}),a.custom.segments===void 0&&(a.custom.segments=[]),X(this,qo,a.custom.segments)}hasSegment(t){return ie(this,uu,lh).call(this,t)!==-1}getNumberOfSegments(){return l(this,qo).length}maskHasSegments(t){const a=[],s=[];for(let C=0;C<t.length;++C){const L=this.getSegment(t[C]);L!==void 0?L.displayValue!==void 0?a.push(L.displayValue):a.push(L.displayRGBValue):(p.warn("Unknown segment in maskHasSegments: "+t[C]),s.push(C))}const g=l(this,f1).hasValues(a);for(let C=0;C<s.length;++C)g.splice(s[C],0,!1);return g}getSegment(t){let a;const s=ie(this,uu,lh).call(this,t);return s!==-1&&(a=l(this,qo)[s]),a}addSegment(t){ie(this,uu,lh).call(this,t.number)===-1?l(this,qo).push(t):p.warn("Not adding segment, it is allready in the segments list: "+t.number)}removeSegment(t){const a=ie(this,uu,lh).call(this,t);a!==-1?l(this,qo).splice(a,1):p.warn("Cannot remove segment, it is not in the segments list: "+t)}updateSegment(t){const a=ie(this,uu,lh).call(this,t.number);a!==-1?l(this,qo)[a]=t:p.warn("Cannot update segment, it is not in the segments list: "+t.number)}}f1=new WeakMap,qo=new WeakMap,uu=new WeakSet,lh=function(t){return l(this,qo).findIndex(function(a){return a.number===t})};class O_{constructor(t,a,s){W(this,lo);W(this,or);W(this,g1);W(this,uo);X(this,lo,t),X(this,or,a),X(this,g1,s!==void 0&&s),a.displayRGBValue!==void 0?X(this,uo,t.getOffsets(a.displayRGBValue)):X(this,uo,t.getOffsets(a.displayValue))}getName(){return"Delete-segment"}isValid(){return l(this,lo).getMeta().custom.segments.some(t=>t.number===l(this,or).number)}execute(){l(this,uo).length!==0&&(l(this,or).displayRGBValue!==void 0?l(this,lo).setAtOffsets(l(this,uo),F):l(this,lo).setAtOffsets(l(this,uo),0)),new Jp(l(this,lo)).removeSegment(l(this,or).number),l(this,g1)||this.onExecute({type:"masksegmentdelete",segmentnumber:l(this,or).number})}undo(){l(this,uo).length!==0&&(l(this,or).displayRGBValue!==void 0?l(this,lo).setAtOffsets(l(this,uo),l(this,or).displayRGBValue):l(this,lo).setAtOffsets(l(this,uo),l(this,or).displayValue)),new Jp(l(this,lo)).addSegment(l(this,or)),this.onUndo({type:"masksegmentredraw",segmentnumber:l(this,or).number})}onExecute(t){}onUndo(t){}}lo=new WeakMap,or=new WeakMap,g1=new WeakMap,uo=new WeakMap;class k_{constructor(t,a,s,g){W(this,j0);W(this,Go);W(this,Us);W(this,co);W(this,m1);W(this,Ec);X(this,j0,t),X(this,Go,a),X(this,Us,s),X(this,m1,g!==void 0&&g),a.displayRGBValue!==void 0?X(this,co,a.displayRGBValue):X(this,co,a.displayValue),X(this,Ec,t.getOffsets(l(this,co)))}getName(){return"Change-segment-colour"}isValid(){return l(this,Ec).length!==0}execute(){l(this,j0).setAtOffsets(l(this,Ec),l(this,Us)),typeof l(this,Us)=="number"?l(this,Go).displayValue=l(this,Us):l(this,Go).displayRGBValue=l(this,Us),l(this,m1)||this.onExecute({type:"changemasksegmentcolour",segmentnumber:l(this,Go).number,value:[l(this,Us)]})}undo(){l(this,j0).setAtOffsets(l(this,Ec),l(this,co)),typeof l(this,co)=="number"?l(this,Go).displayValue=l(this,co):l(this,Go).displayRGBValue=l(this,co),this.onUndo({type:"changemasksegmentcolour",segmentnumber:l(this,Go).number,value:[l(this,co)]})}onExecute(t){}onUndo(t){}}j0=new WeakMap,Go=new WeakMap,Us=new WeakMap,co=new WeakMap,m1=new WeakMap,Ec=new WeakMap;class R_{constructor(){W(this,v1);W(this,Fc,[]);W(this,Mc)}isHidden(t){return ie(this,v1,eC).call(this,t)!==-1}addToHidden(t){this.isHidden(t.number)?p.warn("Not hidding segment, it is allready in the hidden list: "+t.number):(l(this,Fc).push(t),X(this,Mc,t.displayValue!==void 0))}removeFromHidden(t){const a=ie(this,v1,eC).call(this,t);a!==-1?l(this,Fc).splice(a,1):p.warn("Cannot remove segment, it is not in the hidden list: "+t)}getAlphaFunc(){const t=[];l(this,Mc)?t[0]=0:t[0]={r:0,g:0,b:0};for(const s of l(this,Fc))l(this,Mc)?t.push(s.displayValue):t.push(s.displayRGBValue);let a;return a=l(this,Mc)?function(s){for(let g=0;g<t.length;++g)if(s===t[g])return 0;return 255}:function(s){for(let g=0;g<t.length;++g)if(s[0]===t[g].r&&s[1]===t[g].g&&s[2]===t[g].b)return 0;return 255},a}}Fc=new WeakMap,Mc=new WeakMap,v1=new WeakSet,eC=function(t){return l(this,Fc).findIndex(function(a){return a.number===t})};class E_{constructor(){Te(this,"x");Te(this,"y")}}class F_{constructor(){Te(this,"x");Te(this,"y");Te(this,"z")}}return h}()})}(Bv)),Bv.exports}var Ea=nq();const S9=(e,n)=>{const i=e.__vccOpts||e;for(const[r,o]of n)i[r]=o;return i},Lv=e=>e?e.toString().toLowerCase():"",iq=(e,n)=>n?e.filter(i=>Lv(i.name).includes(Lv(n))||Lv(i.value).includes(Lv(n))):e,D6=(e,n)=>{let i;return aq(e)?i=p9(e,n,""):i=rq(e),Object.keys(e).reduce(i,[])},aq=e=>typeof e["00020010"]<"u",rq=e=>function(n,i){return n.push({name:i,value:e[i].value}),n},p9=(e,n,i)=>(r,o)=>{const u=Ea.getTagFromKey(o);let c=u.getNameFromDictionary();typeof c>"u"&&(c="x"+u.getKey());const d=c,h=e[o];let m=h.value;if(typeof m.slice>"u"&&typeof m[n]<"u"&&(m=m[n]),d==="InstanceNumber"&&(m=n),h.vr==="SQ"){r.push({name:(i?i+" ":"")+d,value:""});for(let v=0;v<m.length;++v){const p=m[v],S=Object.keys(p).reduce(p9(p,n,i+"["+v+"]"),[]);r=r.concat(S)}}else h.vr[0]==="O"&&m.length>10&&(m=m.slice(0,10).toString()+"... (len:"+m.length+")"),r.push({name:(i?i+" ":"")+d,value:m.toString()});return r},oq={props:{tagsData:{type:Object,default(e){return{}}}},setup(e){return{count:Qe(0)}},data:()=>({search:"",searched:[],sliderMin:void 0,sliderMax:void 0,instanceNumber:0,instanceNumbers:[]}),created(){const e=this.tagsData["00200013"];if(typeof e<"u"){let i=e.value;typeof i=="string"&&(i=[i]),this.instanceNumbers=i.map(Number),this.instanceNumbers.sort((r,o)=>r-o),this.sliderMin=0,this.sliderMax=this.instanceNumbers.length-1,this.instanceNumber=this.instanceNumbers[this.sliderMin]}const n=D6(this.tagsData,this.instanceNumber);this.searched=n},methods:{searchOnTable(){const e=D6(this.tagsData,this.instanceNumber);this.searched=iq(e,this.search)},onSliderChange(e){this.instanceNumber=this.instanceNumbers[e],this.searchOnTable()}}},sq={class:"instancenumber",title:"Instance number"};function lq(e,n,i,r,o,u){const c=Fa("v-text-field"),d=Fa("v-col"),h=Fa("v-slider"),m=Fa("v-row"),v=Fa("v-container"),p=Fa("v-data-table"),b=Fa("v-card");return Dg(),bC(b,{title:"DICOM Tags",class:"px-2",flat:""},{default:fo(()=>[Z(v,null,{default:fo(()=>[Z(m,{"no-gutters":""},{default:fo(()=>[Z(d,null,{default:fo(()=>[Z(c,{modelValue:e.search,"onUpdate:modelValue":n[0]||(n[0]=S=>e.search=S),label:"Search",width:"90%",clearable:"","hide-details":"","single-line":""},null,8,["modelValue"])]),_:1}),Z(d,null,{default:fo(()=>[Z(h,{value:"0",step:"1",max:e.sliderMax,min:e.sliderMin,title:"Instance number",width:"90%","hide-details":"","onUpdate:modelValue":u.onSliderChange},{append:fo(()=>[te("div",sq,mo(e.instanceNumber),1)]),_:1},8,["max","min","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1}),Z(p,{items:e.searched,search:e.search,"disable-pagination":"","items-per-page":"-1","hide-default-footer":""},null,8,["items","search"])]),_:1})}const uq=S9(oq,[["render",lq],["__scopeId","data-v-c587b63b"]]);Ea.decoderScripts.jpeg2000="/assets/dwv/decoders/pdfjs/decode-jpeg2000.js";Ea.decoderScripts["jpeg-lossless"]="/assets/dwv/decoders/rii-mango/decode-jpegloss.js";Ea.decoderScripts["jpeg-baseline"]="/assets/dwv/decoders/pdfjs/decode-jpegbaseline.js";Ea.decoderScripts.rle="/assets/dwv/decoders/dwv/decode-rle.js";const cq={components:{TagsTable:uq},setup(){return{count:Qe(0)}},data(){let e={versions:{dwv:Ea.getDwvVersion(),vue:Bx},tools:{Scroll:new Ea.ToolConfig,ZoomAndPan:new Ea.ToolConfig,WindowLevel:new Ea.ToolConfig,Draw:new Ea.ToolConfig(["Ruler"])},selectedTool:"Select Tool",selectedToolIndex:void 0,loadProgress:0,dataLoaded:!1,metaData:void 0,orientation:void 0,showDicomTags:!1,dropboxDivId:"dropBox",dropboxClassName:"dropBox",borderClassName:"dropBoxBorder",hoverClassName:"hover"};return e.toolNames=Object.keys(e.tools),RS(this)&&(e.dwvApp=dt(this).dwvApp),e},mounted(){this.dwvApp=new Ea.App;const n={"*":[new Ea.ViewConfig("layerGroup0")]},i=new Ea.AppOptions(n);i.tools=this.tools,this.dwvApp.init(i);let r=null,o=null,u=null,c=null;this.dwvApp.addEventListener("loadstart",()=>{this.dataLoaded=!1,r=0,o=0,u=0,c=!0,this.showDropbox(!1)}),this.dwvApp.addEventListener("loadprogress",d=>{this.loadProgress=d.loaded}),this.dwvApp.addEventListener("renderend",()=>{if(c){c=!1;let d="ZoomAndPan";this.dwvApp.canScroll()&&(d="Scroll"),this.onChangeTool(d)}}),this.dwvApp.addEventListener("load",d=>{this.metaData=this.dwvApp.getMetaData(d.dataid),this.dataLoaded=!0}),this.dwvApp.addEventListener("loadend",()=>{o&&(this.loadProgress=0,alert("Received errors during load. Check log for details."),r||this.showDropbox(!0)),u&&(this.loadProgress=0,alert("Load was aborted."),this.showDropbox(!0))}),this.dwvApp.addEventListener("loaditem",()=>{++r}),this.dwvApp.addEventListener("loaderror",()=>{++o}),this.dwvApp.addEventListener("loadabort",()=>{++u}),this.dwvApp.addEventListener("keydown",d=>{this.dwvApp.defaultOnKeydown(d)}),window.addEventListener("resize",this.dwvApp.onResize),this.setupDropbox(),this.dwvApp.loadFromUri(window.location.href)},methods:{getToolIcon(e){var n;return e==="Scroll"?n="menu":e==="ZoomAndPan"?n="search":e==="WindowLevel"?n="contrast":e==="Draw"&&(n="straighten"),n},onChangeTool(e){this.selectedTool=e,this.selectedToolIndex=this.toolNames.findIndex(n=>n===e);for(const n of this.toolNames)this.activateTool(n,!1);this.activateTool(e,!0),this.dwvApp.setTool(e),e==="Draw"&&this.onChangeShape(this.tools.Draw.options[0])},canRunTool(e){let n;return e==="Scroll"?n=this.dwvApp.canScroll():e==="WindowLevel"?n=this.dwvApp.canWindowLevel():n=!0,n},activateTool(e,n){n?document.getElementById(e).classList.add("active"):document.getElementById(e).classList.remove("active")},toggleOrientation(){typeof this.orientation<"u"?this.orientation==="axial"?this.orientation="coronal":this.orientation==="coronal"?this.orientation="sagittal":this.orientation==="sagittal"&&(this.orientation="axial"):this.orientation="coronal";const e=new Ea.ViewConfig("layerGroup0");e.orientation=this.orientation;const n={"*":[e]};this.dwvApp.setDataViewConfigs(n);const i=this.dwvApp.getDataIds();for(const r of i)this.dwvApp.render(r)},onChangeShape(e){this.dwvApp&&this.selectedTool==="Draw"&&this.dwvApp.setToolFeatures({shapeName:e})},onReset(){this.dwvApp.resetDisplay()},setupDropbox(){this.showDropbox(!0)},defaultHandleDragEvent(e){e.stopPropagation(),e.preventDefault()},onBoxDragOver(e){this.defaultHandleDragEvent(e);const n=document.getElementById(this.dropboxDivId);n&&n.className.indexOf(this.hoverClassName)===-1&&(n.className+=" "+this.hoverClassName)},onBoxDragLeave(e){this.defaultHandleDragEvent(e);const n=document.getElementById(this.dropboxDivId);n&&n.className.indexOf(this.hoverClassName)!==-1&&(n.className=n.className.replace(" "+this.hoverClassName,""))},onDrop(e){this.defaultHandleDragEvent(e),this.dwvApp.loadFiles(e.dataTransfer.files)},onInputFile(e){e.target&&e.target.files&&this.dwvApp.loadFiles(e.target.files)},showDropbox(e){const n=document.getElementById(this.dropboxDivId);if(!n)return;const i=document.getElementById("layerGroup0");if(e){if(n.className=this.dropboxClassName+" "+this.borderClassName,n.innerHTML===""){const r=document.createElement("p");r.appendChild(document.createTextNode("Drag and drop data here or "));const o=document.createElement("input");o.onchange=this.onInputFile,o.type="file",o.multiple=!0,o.id="input-file",o.style.display="none";const u=document.createElement("label");u.htmlFor="input-file";const c=document.createElement("a");c.appendChild(document.createTextNode("click here")),c.id="input-file-link",u.appendChild(c),r.appendChild(o),r.appendChild(u),n.appendChild(r)}n.setAttribute("style","display:initial"),i&&(i.removeEventListener("dragover",this.defaultHandleDragEvent),i.removeEventListener("dragleave",this.defaultHandleDragEvent),i.removeEventListener("drop",this.onDrop)),n.addEventListener("dragover",this.onBoxDragOver),n.addEventListener("dragleave",this.onBoxDragLeave),n.addEventListener("drop",this.onDrop)}else n.className=this.dropboxClassName,n.innerHTML="",n.setAttribute("style","display:none"),n.removeEventListener("dragover",this.onBoxDragOver),n.removeEventListener("dragleave",this.onBoxDragLeave),n.removeEventListener("drop",this.onDrop),i&&(i.addEventListener("dragover",this.defaultHandleDragEvent),i.addEventListener("dragleave",this.defaultHandleDragEvent),i.addEventListener("drop",this.onDrop))}}},dq={id:"dwv"},hq={class:"legend"};function fq(e,n,i,r,o,u){const c=Fa("v-progress-linear"),d=Fa("v-btn"),h=Fa("v-btn-toggle"),m=Fa("TagsTable"),v=Fa("v-dialog"),p=Fa("v-container");return Dg(),W3("div",dq,[Z(c,{"model-value":e.loadProgress,color:"primary"},null,8,["model-value"]),Z(p,null,{default:fo(()=>[Z(h,{modelValue:e.selectedToolIndex,"onUpdate:modelValue":n[0]||(n[0]=b=>e.selectedToolIndex=b),mandatory:"",color:"primary",divided:""},{default:fo(()=>[(Dg(!0),W3(nt,null,GL(e.toolNames,b=>(Dg(),bC(d,{id:b,key:b,title:b,disabled:!e.dataLoaded||!u.canRunTool(b),icon:u.getToolIcon(b),onClick:S=>u.onChangeTool(b)},null,8,["id","title","disabled","icon","onClick"]))),128))]),_:1},8,["modelValue"]),Z(d,{class:"rounded-lg",title:"Reset",disabled:!e.dataLoaded,icon:"refresh",onClick:n[1]||(n[1]=b=>u.onReset())},null,8,["disabled"]),Z(d,{class:"rounded-lg",title:"Toggle Orientation",disabled:!e.dataLoaded,icon:"cameraswitch",onClick:n[2]||(n[2]=b=>u.toggleOrientation())},null,8,["disabled"]),Z(v,{"max-width":"800px",scrollable:""},{activator:fo(({props:b})=>[Z(d,Be({class:"rounded-lg",title:"Tags",disabled:!e.dataLoaded,icon:"library_books"},b,{onClick:n[3]||(n[3]=S=>e.showDicomTags=!0)}),null,16,["disabled"])]),default:fo(()=>[Z(m,{"tags-data":e.metaData},null,8,["tags-data"])]),_:1})]),_:1}),n[7]||(n[7]=te("div",{id:"layerGroup0",class:"layerGroup"},[te("div",{id:"dropBox"})],-1)),te("div",hq,[te("p",null,[n[4]||(n[4]=Wr(" Powered by ")),n[5]||(n[5]=te("a",{href:"https://github.com/ivmartel/dwv",title:"dwv on github"},"dwv",-1)),Wr(" "+mo(e.versions.dwv)+" and ",1),n[6]||(n[6]=te("a",{href:"https://github.com/vuejs/vue",title:"vue on github"},"Vue.js",-1)),Wr(" "+mo(e.versions.vue),1)])])])}const gq=S9(cq,[["render",fq],["__scopeId","data-v-eb897b62"]]),mq={__name:"App",setup(e){return(n,i)=>(Dg(),bC(gq))}},vq=k8({components:qN,directives:JN,icons:{defaultSet:"md",aliases:eU,sets:{md:tU}}});rO(mq).use(vq).mount("#app");
